/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is not neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./demo/apps/dot-app3.ts":
/*!*******************************!*\
  !*** ./demo/apps/dot-app3.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"DotApp3\": () => /* binding */ DotApp3\n/* harmony export */ });\n/* harmony import */ var _src_lib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../src/lib */ \"./src/lib.ts\");\n// dot-app3.ts\r\n//\r\n// author : Jos Feenstra\r\n// purpose : test with Renderers, Domains & Vectors\r\n\r\nclass DotApp3 extends _src_lib__WEBPACK_IMPORTED_MODULE_0__.App {\r\n    constructor(gl) {\r\n        super(gl);\r\n        this.dots = [];\r\n        this.dirs = [];\r\n        let canvas = gl.canvas;\r\n        let n = 1;\r\n        this.bounds = _src_lib__WEBPACK_IMPORTED_MODULE_0__.Domain3.fromBounds(-n, n, -n, n, -n, n);\r\n        this.whiteDotRend = new _src_lib__WEBPACK_IMPORTED_MODULE_0__.DotRenderer3(gl, 10, [1, 1, 1, 1], false);\r\n        this.redDotRend = new _src_lib__WEBPACK_IMPORTED_MODULE_0__.DotRenderer3(gl, 10, [1, 0, 0, 1], false);\r\n        this.camera = new _src_lib__WEBPACK_IMPORTED_MODULE_0__.Camera(canvas);\r\n    }\r\n    start() {\r\n        this.spawnSome(100, 0.001);\r\n    }\r\n    spawnSome(count, normrange) {\r\n        const normSpace = _src_lib__WEBPACK_IMPORTED_MODULE_0__.Domain3.fromBounds(-normrange, normrange, -normrange, normrange, -normrange, normrange);\r\n        for (let i = 0; i < count; i++) {\r\n            this.dots.push(this.bounds.elevate(_src_lib__WEBPACK_IMPORTED_MODULE_0__.Vector3.fromRandom()));\r\n            this.dirs.push(normSpace.elevate(_src_lib__WEBPACK_IMPORTED_MODULE_0__.Vector3.fromRandom()));\r\n        }\r\n    }\r\n    update(state) {\r\n        // move the camera with the mouse\r\n        this.camera.update(state);\r\n        if (state.mouseLeftPressed) {\r\n            this.spawnSome(100, 0.001);\r\n        }\r\n        // update the position of all dots\r\n        for (let i = 0; i < this.dots.length; i++) {\r\n            // this gives us a pointer apparantly\r\n            let dot = this.dots[i];\r\n            let dir = this.dirs[i];\r\n            // bounce of the edges\r\n            if (!this.bounds.x.includes(dot.x))\r\n                dir.x = -dir.x;\r\n            if (!this.bounds.y.includes(dot.y))\r\n                dir.y = -dir.y;\r\n            if (!this.bounds.z.includes(dot.z))\r\n                dir.z = -dir.z;\r\n            // update position\r\n            dot.add(dir);\r\n        }\r\n    }\r\n    draw(gl) {\r\n        // get to-screen matrix\r\n        const canvas = gl.canvas;\r\n        let matrix = this.camera.totalMatrix;\r\n        // render the corners of the box with the red renderer,\r\n        // and the dots themselves with the white renderer\r\n        this.redDotRend.setAndRender(gl, matrix, this.bounds.corners(_src_lib__WEBPACK_IMPORTED_MODULE_0__.Matrix4.newIdentity()));\r\n        this.whiteDotRend.setAndRender(gl, matrix, this.dots);\r\n    }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9nZW9uLWVuZ2luZS8uL2RlbW8vYXBwcy9kb3QtYXBwMy50cz8wNzYyIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUEsY0FBYztBQUNkLEVBQUU7QUFDRix3QkFBd0I7QUFDeEIsbURBQW1EO0FBRThDO0FBRTFGLE1BQU0sT0FBUSxTQUFRLHlDQUFHO0lBUzVCLFlBQVksRUFBeUI7UUFDakMsS0FBSyxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBVGQsU0FBSSxHQUFjLEVBQUUsQ0FBQztRQUNyQixTQUFJLEdBQWMsRUFBRSxDQUFDO1FBVWpCLElBQUksTUFBTSxHQUFHLEVBQUUsQ0FBQyxNQUEyQixDQUFDO1FBQzVDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUNWLElBQUksQ0FBQyxNQUFNLEdBQUcsd0RBQWtCLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztRQUN0RCxJQUFJLENBQUMsWUFBWSxHQUFHLElBQUksa0RBQVksQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsS0FBSyxDQUFDLENBQUM7UUFDbEUsSUFBSSxDQUFDLFVBQVUsR0FBRyxJQUFJLGtEQUFZLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLEtBQUssQ0FBQyxDQUFDO1FBQ2hFLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSw0Q0FBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDO0lBQ3JDLENBQUM7SUFFRCxLQUFLO1FBQ0QsSUFBSSxDQUFDLFNBQVMsQ0FBQyxHQUFHLEVBQUUsS0FBSyxDQUFDLENBQUM7SUFDL0IsQ0FBQztJQUVELFNBQVMsQ0FBQyxLQUFhLEVBQUUsU0FBaUI7UUFDdEMsTUFBTSxTQUFTLEdBQUcsd0RBQWtCLENBQUMsQ0FBQyxTQUFTLEVBQUUsU0FBUyxFQUFFLENBQUMsU0FBUyxFQUFFLFNBQVMsRUFBRSxDQUFDLFNBQVMsRUFBRSxTQUFTLENBQUMsQ0FBQztRQUUxRyxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsS0FBSyxFQUFFLENBQUMsRUFBRSxFQUFFO1lBQzVCLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLHdEQUFrQixFQUFFLENBQUMsQ0FBQyxDQUFDO1lBQzFELElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxPQUFPLENBQUMsd0RBQWtCLEVBQUUsQ0FBQyxDQUFDLENBQUM7U0FDM0Q7SUFDTCxDQUFDO0lBRUQsTUFBTSxDQUFDLEtBQWlCO1FBQ3BCLGlDQUFpQztRQUNqQyxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUUxQixJQUFJLEtBQUssQ0FBQyxnQkFBZ0IsRUFBRTtZQUN4QixJQUFJLENBQUMsU0FBUyxDQUFDLEdBQUcsRUFBRSxLQUFLLENBQUMsQ0FBQztTQUM5QjtRQUVELGtDQUFrQztRQUNsQyxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7WUFDdkMscUNBQXFDO1lBQ3JDLElBQUksR0FBRyxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDdkIsSUFBSSxHQUFHLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUV2QixzQkFBc0I7WUFDdEIsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO2dCQUFFLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1lBQ25ELElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztnQkFBRSxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztZQUNuRCxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7Z0JBQUUsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7WUFFbkQsa0JBQWtCO1lBQ2xCLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUM7U0FDaEI7SUFDTCxDQUFDO0lBRUQsSUFBSSxDQUFDLEVBQXlCO1FBQzFCLHVCQUF1QjtRQUN2QixNQUFNLE1BQU0sR0FBRyxFQUFFLENBQUMsTUFBMkIsQ0FBQztRQUM5QyxJQUFJLE1BQU0sR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLFdBQVcsQ0FBQztRQUVyQyx1REFBdUQ7UUFDdkQsa0RBQWtEO1FBQ2xELElBQUksQ0FBQyxVQUFVLENBQUMsWUFBWSxDQUFDLEVBQUUsRUFBRSxNQUFNLEVBQUUsSUFBSSxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMseURBQW1CLEVBQUUsQ0FBQyxDQUFDLENBQUM7UUFDckYsSUFBSSxDQUFDLFlBQVksQ0FBQyxZQUFZLENBQUMsRUFBRSxFQUFFLE1BQU0sRUFBRSxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDMUQsQ0FBQztDQUNKIiwiZmlsZSI6Ii4vZGVtby9hcHBzL2RvdC1hcHAzLnRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gZG90LWFwcDMudHNcbi8vXG4vLyBhdXRob3IgOiBKb3MgRmVlbnN0cmFcbi8vIHB1cnBvc2UgOiB0ZXN0IHdpdGggUmVuZGVyZXJzLCBEb21haW5zICYgVmVjdG9yc1xuXG5pbXBvcnQgeyBEb21haW4zLCBEb3RSZW5kZXJlcjMsIENhbWVyYSwgVmVjdG9yMywgSW5wdXRTdGF0ZSwgTWF0cml4NCwgQXBwIH0gZnJvbSBcIi4uLy4uL3NyYy9saWJcIjtcblxuZXhwb3J0IGNsYXNzIERvdEFwcDMgZXh0ZW5kcyBBcHAge1xuICAgIGRvdHM6IFZlY3RvcjNbXSA9IFtdO1xuICAgIGRpcnM6IFZlY3RvcjNbXSA9IFtdO1xuXG4gICAgYm91bmRzOiBEb21haW4zO1xuICAgIHdoaXRlRG90UmVuZDogRG90UmVuZGVyZXIzO1xuICAgIHJlZERvdFJlbmQ6IERvdFJlbmRlcmVyMztcbiAgICBjYW1lcmE6IENhbWVyYTtcblxuICAgIGNvbnN0cnVjdG9yKGdsOiBXZWJHTFJlbmRlcmluZ0NvbnRleHQpIHtcbiAgICAgICAgc3VwZXIoZ2wpO1xuXG4gICAgICAgIGxldCBjYW52YXMgPSBnbC5jYW52YXMgYXMgSFRNTENhbnZhc0VsZW1lbnQ7XG4gICAgICAgIGxldCBuID0gMTtcbiAgICAgICAgdGhpcy5ib3VuZHMgPSBEb21haW4zLmZyb21Cb3VuZHMoLW4sIG4sIC1uLCBuLCAtbiwgbik7XG4gICAgICAgIHRoaXMud2hpdGVEb3RSZW5kID0gbmV3IERvdFJlbmRlcmVyMyhnbCwgMTAsIFsxLCAxLCAxLCAxXSwgZmFsc2UpO1xuICAgICAgICB0aGlzLnJlZERvdFJlbmQgPSBuZXcgRG90UmVuZGVyZXIzKGdsLCAxMCwgWzEsIDAsIDAsIDFdLCBmYWxzZSk7XG4gICAgICAgIHRoaXMuY2FtZXJhID0gbmV3IENhbWVyYShjYW52YXMpO1xuICAgIH1cblxuICAgIHN0YXJ0KCkge1xuICAgICAgICB0aGlzLnNwYXduU29tZSgxMDAsIDAuMDAxKTtcbiAgICB9XG5cbiAgICBzcGF3blNvbWUoY291bnQ6IG51bWJlciwgbm9ybXJhbmdlOiBudW1iZXIpIHtcbiAgICAgICAgY29uc3Qgbm9ybVNwYWNlID0gRG9tYWluMy5mcm9tQm91bmRzKC1ub3JtcmFuZ2UsIG5vcm1yYW5nZSwgLW5vcm1yYW5nZSwgbm9ybXJhbmdlLCAtbm9ybXJhbmdlLCBub3JtcmFuZ2UpO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY291bnQ7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5kb3RzLnB1c2godGhpcy5ib3VuZHMuZWxldmF0ZShWZWN0b3IzLmZyb21SYW5kb20oKSkpO1xuICAgICAgICAgICAgdGhpcy5kaXJzLnB1c2gobm9ybVNwYWNlLmVsZXZhdGUoVmVjdG9yMy5mcm9tUmFuZG9tKCkpKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHVwZGF0ZShzdGF0ZTogSW5wdXRTdGF0ZSkge1xuICAgICAgICAvLyBtb3ZlIHRoZSBjYW1lcmEgd2l0aCB0aGUgbW91c2VcbiAgICAgICAgdGhpcy5jYW1lcmEudXBkYXRlKHN0YXRlKTtcblxuICAgICAgICBpZiAoc3RhdGUubW91c2VMZWZ0UHJlc3NlZCkge1xuICAgICAgICAgICAgdGhpcy5zcGF3blNvbWUoMTAwLCAwLjAwMSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB1cGRhdGUgdGhlIHBvc2l0aW9uIG9mIGFsbCBkb3RzXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5kb3RzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAvLyB0aGlzIGdpdmVzIHVzIGEgcG9pbnRlciBhcHBhcmFudGx5XG4gICAgICAgICAgICBsZXQgZG90ID0gdGhpcy5kb3RzW2ldO1xuICAgICAgICAgICAgbGV0IGRpciA9IHRoaXMuZGlyc1tpXTtcblxuICAgICAgICAgICAgLy8gYm91bmNlIG9mIHRoZSBlZGdlc1xuICAgICAgICAgICAgaWYgKCF0aGlzLmJvdW5kcy54LmluY2x1ZGVzKGRvdC54KSkgZGlyLnggPSAtZGlyLng7XG4gICAgICAgICAgICBpZiAoIXRoaXMuYm91bmRzLnkuaW5jbHVkZXMoZG90LnkpKSBkaXIueSA9IC1kaXIueTtcbiAgICAgICAgICAgIGlmICghdGhpcy5ib3VuZHMuei5pbmNsdWRlcyhkb3QueikpIGRpci56ID0gLWRpci56O1xuXG4gICAgICAgICAgICAvLyB1cGRhdGUgcG9zaXRpb25cbiAgICAgICAgICAgIGRvdC5hZGQoZGlyKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGRyYXcoZ2w6IFdlYkdMUmVuZGVyaW5nQ29udGV4dCkge1xuICAgICAgICAvLyBnZXQgdG8tc2NyZWVuIG1hdHJpeFxuICAgICAgICBjb25zdCBjYW52YXMgPSBnbC5jYW52YXMgYXMgSFRNTENhbnZhc0VsZW1lbnQ7XG4gICAgICAgIGxldCBtYXRyaXggPSB0aGlzLmNhbWVyYS50b3RhbE1hdHJpeDtcblxuICAgICAgICAvLyByZW5kZXIgdGhlIGNvcm5lcnMgb2YgdGhlIGJveCB3aXRoIHRoZSByZWQgcmVuZGVyZXIsXG4gICAgICAgIC8vIGFuZCB0aGUgZG90cyB0aGVtc2VsdmVzIHdpdGggdGhlIHdoaXRlIHJlbmRlcmVyXG4gICAgICAgIHRoaXMucmVkRG90UmVuZC5zZXRBbmRSZW5kZXIoZ2wsIG1hdHJpeCwgdGhpcy5ib3VuZHMuY29ybmVycyhNYXRyaXg0Lm5ld0lkZW50aXR5KCkpKTtcbiAgICAgICAgdGhpcy53aGl0ZURvdFJlbmQuc2V0QW5kUmVuZGVyKGdsLCBtYXRyaXgsIHRoaXMuZG90cyk7XG4gICAgfVxufVxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./demo/apps/dot-app3.ts\n");

/***/ }),

/***/ "./demo/apps/geometry-app.ts":
/*!***********************************!*\
  !*** ./demo/apps/geometry-app.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"GeometryApp\": () => /* binding */ GeometryApp\n/* harmony export */ });\n/* harmony import */ var _src_lib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../src/lib */ \"./src/lib.ts\");\n// name:    geometry-app.ts\r\n// author:  Jos Feenstra\r\n// purpose: a 3d voxel environment to toy around in. Uses several features of geon\r\n\r\nclass GeometryApp extends _src_lib__WEBPACK_IMPORTED_MODULE_0__.App {\r\n    constructor(gl) {\r\n        // setup render env\r\n        super(gl);\r\n        // geo data\r\n        this.plane = _src_lib__WEBPACK_IMPORTED_MODULE_0__.Plane.WorldXY();\r\n        this.dots = [];\r\n        this.geo = [];\r\n        this.mapGeo = [];\r\n        // logic data\r\n        this.size = 50;\r\n        this.cellSize = 1;\r\n        this.pov = new _src_lib__WEBPACK_IMPORTED_MODULE_0__.Parameter(\"pov\", 80, 10, 100, 1);\r\n        this.camera = new _src_lib__WEBPACK_IMPORTED_MODULE_0__.Camera(gl.canvas, 10, true);\r\n        this.dotRenderer = new _src_lib__WEBPACK_IMPORTED_MODULE_0__.DotRenderer3(gl, 4, [1, 0, 0, 1], false);\r\n        this.whiteLineRenderer = new _src_lib__WEBPACK_IMPORTED_MODULE_0__.LineRenderer(gl, [1, 1, 1, 1]);\r\n        this.greyLineRenderer = new _src_lib__WEBPACK_IMPORTED_MODULE_0__.LineRenderer(gl, [0.2, 0, 1, 0.5]);\r\n        this.redLineRenderer = new _src_lib__WEBPACK_IMPORTED_MODULE_0__.LineRenderer(gl, [0.8, 0, 0, 1]);\r\n        this.meshRenderer = new _src_lib__WEBPACK_IMPORTED_MODULE_0__.ShadedMeshRenderer(gl);\r\n        this.transMeshRenderer = new _src_lib__WEBPACK_IMPORTED_MODULE_0__.MeshDebugRenderer(gl, [1, 1, 1, 0.25], [1, 1, 1, 0.25]);\r\n    }\r\n    // called after init\r\n    start() {\r\n        this.map = new _src_lib__WEBPACK_IMPORTED_MODULE_0__.IntCube(this.size, this.size, this.size);\r\n        this.map.fill(0);\r\n        // add random blocks in the world\r\n        this.map.map((value, index) => {\r\n            if (Math.random() > 0.99) {\r\n                return 1;\r\n            }\r\n            else {\r\n                return value;\r\n            }\r\n        });\r\n        // let perlin = new Perlin();\r\n        // this.map.map((value, i) => {\r\n        //     let c = this.map.getCoords(i);\r\n        //     let scale = 0.05;\r\n        //     let noise = perlin.noise(c.x * scale, c.y * scale, c.z * scale);\r\n        //     if (i < 10) {\r\n        //         console.log(c);\r\n        //         console.log(noise);\r\n        //     }\r\n        //     if (noise > 0.60) {\r\n        //         return 1;\r\n        //     } else {\r\n        //         return value;\r\n        //     }\r\n        // })\r\n        // console.log(\"done setting\")\r\n        // after change, buffer\r\n        this.bufferMap();\r\n        // console.log(\"done\")\r\n        this.gridLarge = _src_lib__WEBPACK_IMPORTED_MODULE_0__.LineArray.fromGrid(this.plane, this.size, this.cellSize);\r\n        this.gridSmall = _src_lib__WEBPACK_IMPORTED_MODULE_0__.LineArray.fromGrid(this.plane, this.size * 10 - 1, this.cellSize / 10);\r\n        // this.whiteLineRenderer.set(this.gl, this.gridLarge, DrawSpeed.StaticDraw);\r\n        // this.greyLineRenderer.set(this.gl, this.gridSmall, DrawSpeed.StaticDraw);\r\n    }\r\n    ui(ui) {\r\n        ui.addParameter(this.pov);\r\n    }\r\n    update(state) {\r\n        // move the camera with the mouse\r\n        this.camera.update(state);\r\n        this.updateCursor(state);\r\n    }\r\n    draw(gl) {\r\n        // get to-screen matrix\r\n        const canvas = gl.canvas;\r\n        let matrix = this.camera.totalMatrix;\r\n        // render the grid\r\n        // this.greyLineRenderer.render(gl, matrix);\r\n        // this.whiteLineRenderer.render(gl, matrix);\r\n        // this.redLineRenderer.setAndRender(gl, matrix, this.cursorVisual!);\r\n        // render the map\r\n        // TODO create MeshArray\r\n        this.meshRenderer.render(gl, this.camera);\r\n        // render other things\r\n        for (let geo of this.geo) {\r\n            this.transMeshRenderer.set(gl, geo, _src_lib__WEBPACK_IMPORTED_MODULE_0__.DrawSpeed.DynamicDraw);\r\n            this.transMeshRenderer.render(gl, this.camera);\r\n        }\r\n    }\r\n    addPreviewCube(point) {\r\n        let cubeCenter = this.mapToWorld(point);\r\n        let cube = this.createCube(cubeCenter);\r\n        this.geo.push(_src_lib__WEBPACK_IMPORTED_MODULE_0__.Mesh.fromCube(cube).toRenderable());\r\n    }\r\n    flushPreviewCubes() {\r\n        this.geo = [];\r\n    }\r\n    updateCursor(state) {\r\n        // render mouse to world line\r\n        let mouseRay = this.camera.getMouseWorldRay(state.canvas.width, state.canvas.height);\r\n        // snap to world\r\n        // let cursor = mouseRay.at(mouseRay.xPlane(this.plane));\r\n        // let mapCursor = this.worldToMap(cursor);\r\n        // let coord = this.mapToWorld(mapCursor);\r\n        // place circle at cursor\r\n        // let plane = this.plane.clone();\r\n        // plane.matrix = plane.matrix.multiply(Matrix4.newTranslation(cursor.x, cursor.y, cursor.z));\r\n        // this.cursorVisual = LineArray.fromCircle(new Circle3(plane, 0.1));\r\n        // figure out which cube we are pointing to\r\n        this.flushPreviewCubes();\r\n        let [cubeID, cubeIDprevious] = this.voxelRaycast(mouseRay, 40);\r\n        if (cubeID == -1) {\r\n            // nothing else to do\r\n            return;\r\n        }\r\n        let cubeCursor = this.map.getCoords(cubeIDprevious);\r\n        this.addPreviewCube(cubeCursor);\r\n        // render cube at this position\r\n        // this.geo.push(Mesh.fromCube(cube));\r\n        // click\r\n        if (state.mouseLeftPressed) {\r\n            console.log(\"click\");\r\n            if (state.IsKeyDown(\" \")) {\r\n                if (this.map.data[cubeID] == 0)\r\n                    return;\r\n                this.map.data[cubeID] = 0;\r\n                this.bufferMap();\r\n            }\r\n            else if (this.map.data[cubeIDprevious] != 1) {\r\n                this.map.data[cubeIDprevious] = 1;\r\n                this.bufferMap();\r\n            }\r\n        }\r\n    }\r\n    // return the ID of the\r\n    // A Fast Voxel Traversal Algorithm for Ray Tracing\r\n    // Amanatides, Woo\r\n    // Dept. of Computer Science\r\n    voxelRaycast(ray, range) {\r\n        let startPoint = this.worldToMap(ray.origin);\r\n        let voxelCenter = this.mapToWorld(startPoint);\r\n        // integers\r\n        let x = startPoint.x;\r\n        let y = startPoint.y;\r\n        let z = startPoint.z;\r\n        let xprev = x;\r\n        let yprev = y;\r\n        let zprev = z;\r\n        let stepX = ray.normal.x > 0 ? 1 : -1;\r\n        let stepY = ray.normal.y > 0 ? 1 : -1;\r\n        let stepZ = ray.normal.z > 0 ? 1 : -1;\r\n        // floats\r\n        let voxelsize = this.cellSize;\r\n        let deltax = voxelsize / Math.abs(ray.normal.x);\r\n        let deltay = voxelsize / Math.abs(ray.normal.y);\r\n        let deltaz = voxelsize / Math.abs(ray.normal.z);\r\n        // intit tx, ty, and tz, at their first intersection with corresponding plane\r\n        voxelCenter.add(new _src_lib__WEBPACK_IMPORTED_MODULE_0__.Vector3((voxelsize / 2) * stepX, (voxelsize / 2) * stepY, (voxelsize / 2) * stepZ));\r\n        let move = _src_lib__WEBPACK_IMPORTED_MODULE_0__.Matrix4.newTranslation(voxelCenter.x, voxelCenter.y, voxelCenter.z);\r\n        let xy = _src_lib__WEBPACK_IMPORTED_MODULE_0__.Plane.WorldXY();\r\n        xy._matrix.multiply(move);\r\n        let yz = _src_lib__WEBPACK_IMPORTED_MODULE_0__.Plane.WorldYZ();\r\n        yz._matrix.multiply(move);\r\n        let xz = _src_lib__WEBPACK_IMPORTED_MODULE_0__.Plane.WorldXZ();\r\n        xz._matrix.multiply(move);\r\n        let tx = ray.xPlane(yz);\r\n        let ty = ray.xPlane(xz);\r\n        let tz = ray.xPlane(xy);\r\n        if (tx < 0 || ty < 0 || tz < 0) {\r\n            console.log(\"something critical went wrong!\");\r\n            return [-1, -1];\r\n        }\r\n        // debug ray\r\n        // let lineSets: LineArray[] = [ray.toLine(100), LineArray.fromPlane(xy), LineArray.fromPlane(yz), LineArray.fromPlane(xz)];\r\n        // this.whiteLineRenderer.set(this.gl, LineArray.fromJoin(lineSets), DrawSpeed.StaticDraw);\r\n        // console.log(\"voxel raycast initialized with:\");\r\n        // console.log(\"deltas: \", deltax, deltay, deltaz);\r\n        // console.log(\"t's: \", tx, ty, tz);\r\n        // start iterating\r\n        // console.log(\"cast away!\");\r\n        // this.addPreviewCube(new Vector3(x,y,z));\r\n        // console.log(x,y,z);\r\n        for (let i = 0; i < range; i++) {\r\n            // this.addPreviewCube(new Vector3(xprev,yprev,zprev));\r\n            // if hit, return previous\r\n            let value = this.map.tryGet(x, y, z);\r\n            if (value == 1) {\r\n                // console.log(\"found a cube after \" + i + \"steps...\");\r\n                // this.addPreviewCube(new Vector3(xprev,yprev,zprev));\r\n                return [this.map.getIndex(x, y, z), this.map.getIndex(xprev, yprev, zprev)];\r\n            }\r\n            else {\r\n                xprev = x;\r\n                yprev = y;\r\n                zprev = z;\r\n            }\r\n            // to the next cube!\r\n            if (tx < ty && tx < tz) {\r\n                // x\r\n                tx += deltax;\r\n                x += stepX;\r\n            }\r\n            else if (ty < tz) {\r\n                // y\r\n                ty += deltay;\r\n                y += stepY;\r\n            }\r\n            else {\r\n                // z\r\n                tz += deltaz;\r\n                z += stepZ;\r\n            }\r\n        }\r\n        return [-1, -1];\r\n    }\r\n    // flush this.meshRenderer\r\n    // turn this.map into this.mapGeo\r\n    bufferMap() {\r\n        let mapGeo = [];\r\n        this.map.iter((entry, index) => {\r\n            if (entry == 1) {\r\n                let mapCoord = this.map.getCoords(index);\r\n                let coord = this.mapToWorld(mapCoord);\r\n                let cube = this.createCube(coord);\r\n                mapGeo.push(_src_lib__WEBPACK_IMPORTED_MODULE_0__.Mesh.fromCube(cube));\r\n            }\r\n        });\r\n        let m = _src_lib__WEBPACK_IMPORTED_MODULE_0__.Mesh.fromJoin(mapGeo).toRenderable();\r\n        m.calculateFaceNormals();\r\n        this.meshRenderer.set(this.gl, m);\r\n    }\r\n    worldToMap(coord) {\r\n        let halfsize = this.size / 2 + this.cellSize / 2;\r\n        return coord.added(new _src_lib__WEBPACK_IMPORTED_MODULE_0__.Vector3(halfsize, halfsize, halfsize)).floored();\r\n    }\r\n    mapToWorld(point) {\r\n        let halfsize = this.size / 2;\r\n        return point.added(new _src_lib__WEBPACK_IMPORTED_MODULE_0__.Vector3(-halfsize, -halfsize, -halfsize));\r\n    }\r\n    createCube(center) {\r\n        let hs = this.cellSize / 2;\r\n        let move = _src_lib__WEBPACK_IMPORTED_MODULE_0__.Matrix4.newTranslation(center.x, center.y, center.z);\r\n        let cube = new _src_lib__WEBPACK_IMPORTED_MODULE_0__.Cube(_src_lib__WEBPACK_IMPORTED_MODULE_0__.Plane.WorldXY().transform(move), _src_lib__WEBPACK_IMPORTED_MODULE_0__.Domain3.fromBounds(-hs, hs, -hs, hs, -hs, hs));\r\n        return cube;\r\n    }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9nZW9uLWVuZ2luZS8uL2RlbW8vYXBwcy9nZW9tZXRyeS1hcHAudHM/ZGRhNyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7OztBQUFBLDJCQUEyQjtBQUMzQix3QkFBd0I7QUFDeEIsa0ZBQWtGO0FBdUIzRDtBQUVoQixNQUFNLFdBQVksU0FBUSx5Q0FBRztJQTBCaEMsWUFBWSxFQUF5QjtRQUNqQyxtQkFBbUI7UUFDbkIsS0FBSyxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBbEJkLFdBQVc7UUFDWCxVQUFLLEdBQVUsbURBQWEsRUFBRSxDQUFDO1FBRy9CLFNBQUksR0FBYyxFQUFFLENBQUM7UUFDckIsUUFBRyxHQUFpQixFQUFFLENBQUM7UUFDdkIsV0FBTSxHQUFpQixFQUFFLENBQUM7UUFHMUIsYUFBYTtRQUNiLFNBQUksR0FBRyxFQUFFLENBQUM7UUFDVixhQUFRLEdBQUcsQ0FBQyxDQUFDO1FBR2IsUUFBRyxHQUFHLElBQUksK0NBQVMsQ0FBQyxLQUFLLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUM7UUFLdkMsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLDRDQUFNLENBQUMsRUFBRSxDQUFDLE1BQTRCLEVBQUUsRUFBRSxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQ3BFLElBQUksQ0FBQyxXQUFXLEdBQUcsSUFBSSxrREFBWSxDQUFDLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxLQUFLLENBQUMsQ0FBQztRQUNoRSxJQUFJLENBQUMsaUJBQWlCLEdBQUcsSUFBSSxrREFBWSxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDNUQsSUFBSSxDQUFDLGdCQUFnQixHQUFHLElBQUksa0RBQVksQ0FBQyxFQUFFLEVBQUUsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQy9ELElBQUksQ0FBQyxlQUFlLEdBQUcsSUFBSSxrREFBWSxDQUFDLEVBQUUsRUFBRSxDQUFDLEdBQUcsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDNUQsSUFBSSxDQUFDLFlBQVksR0FBRyxJQUFJLHdEQUFrQixDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQy9DLElBQUksQ0FBQyxpQkFBaUIsR0FBRyxJQUFJLHVEQUFpQixDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUMsQ0FBQztJQUN6RixDQUFDO0lBRUQsb0JBQW9CO0lBQ3BCLEtBQUs7UUFDRCxJQUFJLENBQUMsR0FBRyxHQUFHLElBQUksNkNBQU8sQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ3hELElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBRWpCLGlDQUFpQztRQUNqQyxJQUFJLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEtBQUssRUFBRSxLQUFLLEVBQUUsRUFBRTtZQUMxQixJQUFJLElBQUksQ0FBQyxNQUFNLEVBQUUsR0FBRyxJQUFJLEVBQUU7Z0JBQ3RCLE9BQU8sQ0FBQyxDQUFDO2FBQ1o7aUJBQU07Z0JBQ0gsT0FBTyxLQUFLLENBQUM7YUFDaEI7UUFDTCxDQUFDLENBQUMsQ0FBQztRQUVILDZCQUE2QjtRQUM3QiwrQkFBK0I7UUFFL0IscUNBQXFDO1FBRXJDLHdCQUF3QjtRQUN4Qix1RUFBdUU7UUFFdkUsb0JBQW9CO1FBQ3BCLDBCQUEwQjtRQUMxQiw4QkFBOEI7UUFDOUIsUUFBUTtRQUVSLDBCQUEwQjtRQUMxQixvQkFBb0I7UUFDcEIsZUFBZTtRQUNmLHdCQUF3QjtRQUN4QixRQUFRO1FBQ1IsS0FBSztRQUVMLDhCQUE4QjtRQUU5Qix1QkFBdUI7UUFDdkIsSUFBSSxDQUFDLFNBQVMsRUFBRSxDQUFDO1FBRWpCLHNCQUFzQjtRQUV0QixJQUFJLENBQUMsU0FBUyxHQUFHLHdEQUFrQixDQUFDLElBQUksQ0FBQyxLQUFLLEVBQUUsSUFBSSxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUM7UUFDMUUsSUFBSSxDQUFDLFNBQVMsR0FBRyx3REFBa0IsQ0FBQyxJQUFJLENBQUMsS0FBSyxFQUFFLElBQUksQ0FBQyxJQUFJLEdBQUcsRUFBRSxHQUFHLENBQUMsRUFBRSxJQUFJLENBQUMsUUFBUSxHQUFHLEVBQUUsQ0FBQyxDQUFDO1FBRXhGLDZFQUE2RTtRQUM3RSw0RUFBNEU7SUFDaEYsQ0FBQztJQUVELEVBQUUsQ0FBQyxFQUFNO1FBQ0wsRUFBRSxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDOUIsQ0FBQztJQUVELE1BQU0sQ0FBQyxLQUFpQjtRQUNwQixpQ0FBaUM7UUFDakMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUM7UUFFMUIsSUFBSSxDQUFDLFlBQVksQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUM3QixDQUFDO0lBRUQsSUFBSSxDQUFDLEVBQXlCO1FBQzFCLHVCQUF1QjtRQUN2QixNQUFNLE1BQU0sR0FBRyxFQUFFLENBQUMsTUFBMkIsQ0FBQztRQUM5QyxJQUFJLE1BQU0sR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLFdBQVcsQ0FBQztRQUVyQyxrQkFBa0I7UUFDbEIsNENBQTRDO1FBQzVDLDZDQUE2QztRQUU3QyxxRUFBcUU7UUFFckUsaUJBQWlCO1FBQ2pCLHdCQUF3QjtRQUN4QixJQUFJLENBQUMsWUFBWSxDQUFDLE1BQU0sQ0FBQyxFQUFFLEVBQUUsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBRTFDLHNCQUFzQjtRQUN0QixLQUFLLElBQUksR0FBRyxJQUFJLElBQUksQ0FBQyxHQUFHLEVBQUU7WUFDdEIsSUFBSSxDQUFDLGlCQUFpQixDQUFDLEdBQUcsQ0FBQyxFQUFFLEVBQUUsR0FBRyxFQUFFLDJEQUFxQixDQUFDLENBQUM7WUFDM0QsSUFBSSxDQUFDLGlCQUFpQixDQUFDLE1BQU0sQ0FBQyxFQUFFLEVBQUUsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1NBQ2xEO0lBQ0wsQ0FBQztJQUVELGNBQWMsQ0FBQyxLQUFjO1FBQ3pCLElBQUksVUFBVSxHQUFHLElBQUksQ0FBQyxVQUFVLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDeEMsSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQyxVQUFVLENBQUMsQ0FBQztRQUN2QyxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxtREFBYSxDQUFDLElBQUksQ0FBQyxDQUFDLFlBQVksRUFBRSxDQUFDLENBQUM7SUFDdEQsQ0FBQztJQUVELGlCQUFpQjtRQUNiLElBQUksQ0FBQyxHQUFHLEdBQUcsRUFBRSxDQUFDO0lBQ2xCLENBQUM7SUFFRCxZQUFZLENBQUMsS0FBaUI7UUFDMUIsNkJBQTZCO1FBQzdCLElBQUksUUFBUSxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsZ0JBQWdCLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxLQUFLLEVBQUUsS0FBSyxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUVyRixnQkFBZ0I7UUFDaEIseURBQXlEO1FBQ3pELDJDQUEyQztRQUMzQywwQ0FBMEM7UUFFMUMseUJBQXlCO1FBQ3pCLGtDQUFrQztRQUNsQyw4RkFBOEY7UUFDOUYscUVBQXFFO1FBRXJFLDJDQUEyQztRQUMzQyxJQUFJLENBQUMsaUJBQWlCLEVBQUUsQ0FBQztRQUN6QixJQUFJLENBQUMsTUFBTSxFQUFFLGNBQWMsQ0FBQyxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUMsUUFBUSxFQUFFLEVBQUUsQ0FBQyxDQUFDO1FBQy9ELElBQUksTUFBTSxJQUFJLENBQUMsQ0FBQyxFQUFFO1lBQ2QscUJBQXFCO1lBQ3JCLE9BQU87U0FDVjtRQUVELElBQUksVUFBVSxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsU0FBUyxDQUFDLGNBQWMsQ0FBQyxDQUFDO1FBQ3BELElBQUksQ0FBQyxjQUFjLENBQUMsVUFBVSxDQUFDLENBQUM7UUFFaEMsK0JBQStCO1FBRS9CLHNDQUFzQztRQUV0QyxRQUFRO1FBQ1IsSUFBSSxLQUFLLENBQUMsZ0JBQWdCLEVBQUU7WUFDeEIsT0FBTyxDQUFDLEdBQUcsQ0FBQyxPQUFPLENBQUMsQ0FBQztZQUNyQixJQUFJLEtBQUssQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLEVBQUU7Z0JBQ3RCLElBQUksSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQztvQkFBRSxPQUFPO2dCQUN2QyxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUM7Z0JBQzFCLElBQUksQ0FBQyxTQUFTLEVBQUUsQ0FBQzthQUNwQjtpQkFBTSxJQUFJLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsRUFBRTtnQkFDM0MsSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsY0FBYyxDQUFDLEdBQUcsQ0FBQyxDQUFDO2dCQUNsQyxJQUFJLENBQUMsU0FBUyxFQUFFLENBQUM7YUFDcEI7U0FDSjtJQUNMLENBQUM7SUFFRCx1QkFBdUI7SUFDdkIsbURBQW1EO0lBQ25ELGtCQUFrQjtJQUNsQiw0QkFBNEI7SUFDNUIsWUFBWSxDQUFDLEdBQVEsRUFBRSxLQUFhO1FBQ2hDLElBQUksVUFBVSxHQUFHLElBQUksQ0FBQyxVQUFVLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQzdDLElBQUksV0FBVyxHQUFHLElBQUksQ0FBQyxVQUFVLENBQUMsVUFBVSxDQUFDLENBQUM7UUFFOUMsV0FBVztRQUNYLElBQUksQ0FBQyxHQUFHLFVBQVUsQ0FBQyxDQUFDLENBQUM7UUFDckIsSUFBSSxDQUFDLEdBQUcsVUFBVSxDQUFDLENBQUMsQ0FBQztRQUNyQixJQUFJLENBQUMsR0FBRyxVQUFVLENBQUMsQ0FBQyxDQUFDO1FBRXJCLElBQUksS0FBSyxHQUFHLENBQUMsQ0FBQztRQUNkLElBQUksS0FBSyxHQUFHLENBQUMsQ0FBQztRQUNkLElBQUksS0FBSyxHQUFHLENBQUMsQ0FBQztRQUVkLElBQUksS0FBSyxHQUFHLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUN0QyxJQUFJLEtBQUssR0FBRyxHQUFHLENBQUMsTUFBTSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDdEMsSUFBSSxLQUFLLEdBQUcsR0FBRyxDQUFDLE1BQU0sQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBRXRDLFNBQVM7UUFDVCxJQUFJLFNBQVMsR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDO1FBQzlCLElBQUksTUFBTSxHQUFHLFNBQVMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDaEQsSUFBSSxNQUFNLEdBQUcsU0FBUyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNoRCxJQUFJLE1BQU0sR0FBRyxTQUFTLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBRWhELDZFQUE2RTtRQUM3RSxXQUFXLENBQUMsR0FBRyxDQUFDLElBQUksNkNBQU8sQ0FBQyxDQUFDLFNBQVMsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLEVBQUUsQ0FBQyxTQUFTLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxFQUFFLENBQUMsU0FBUyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssQ0FBQyxDQUFDLENBQUM7UUFFeEcsSUFBSSxJQUFJLEdBQUcsNERBQXNCLENBQUMsV0FBVyxDQUFDLENBQUMsRUFBRSxXQUFXLENBQUMsQ0FBQyxFQUFFLFdBQVcsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUMvRSxJQUFJLEVBQUUsR0FBRyxtREFBYSxFQUFFLENBQUM7UUFDekIsRUFBRSxDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDMUIsSUFBSSxFQUFFLEdBQUcsbURBQWEsRUFBRSxDQUFDO1FBQ3pCLEVBQUUsQ0FBQyxPQUFPLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQzFCLElBQUksRUFBRSxHQUFHLG1EQUFhLEVBQUUsQ0FBQztRQUN6QixFQUFFLENBQUMsT0FBTyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUUxQixJQUFJLEVBQUUsR0FBRyxHQUFHLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQ3hCLElBQUksRUFBRSxHQUFHLEdBQUcsQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDeEIsSUFBSSxFQUFFLEdBQUcsR0FBRyxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUV4QixJQUFJLEVBQUUsR0FBRyxDQUFDLElBQUksRUFBRSxHQUFHLENBQUMsSUFBSSxFQUFFLEdBQUcsQ0FBQyxFQUFFO1lBQzVCLE9BQU8sQ0FBQyxHQUFHLENBQUMsZ0NBQWdDLENBQUMsQ0FBQztZQUM5QyxPQUFPLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQztTQUNuQjtRQUVELFlBQVk7UUFDWiw0SEFBNEg7UUFDNUgsMkZBQTJGO1FBRTNGLGtEQUFrRDtRQUNsRCxtREFBbUQ7UUFDbkQsb0NBQW9DO1FBRXBDLGtCQUFrQjtRQUNsQiw2QkFBNkI7UUFDN0IsMkNBQTJDO1FBQzNDLHNCQUFzQjtRQUN0QixLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsS0FBSyxFQUFFLENBQUMsRUFBRSxFQUFFO1lBQzVCLHVEQUF1RDtZQUV2RCwwQkFBMEI7WUFDMUIsSUFBSSxLQUFLLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztZQUNyQyxJQUFJLEtBQUssSUFBSSxDQUFDLEVBQUU7Z0JBQ1osdURBQXVEO2dCQUN2RCx1REFBdUQ7Z0JBQ3ZELE9BQU8sQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLEtBQUssRUFBRSxLQUFLLEVBQUUsS0FBSyxDQUFDLENBQUMsQ0FBQzthQUMvRTtpQkFBTTtnQkFDSCxLQUFLLEdBQUcsQ0FBQyxDQUFDO2dCQUNWLEtBQUssR0FBRyxDQUFDLENBQUM7Z0JBQ1YsS0FBSyxHQUFHLENBQUMsQ0FBQzthQUNiO1lBRUQsb0JBQW9CO1lBQ3BCLElBQUksRUFBRSxHQUFHLEVBQUUsSUFBSSxFQUFFLEdBQUcsRUFBRSxFQUFFO2dCQUNwQixJQUFJO2dCQUNKLEVBQUUsSUFBSSxNQUFNLENBQUM7Z0JBQ2IsQ0FBQyxJQUFJLEtBQUssQ0FBQzthQUNkO2lCQUFNLElBQUksRUFBRSxHQUFHLEVBQUUsRUFBRTtnQkFDaEIsSUFBSTtnQkFDSixFQUFFLElBQUksTUFBTSxDQUFDO2dCQUNiLENBQUMsSUFBSSxLQUFLLENBQUM7YUFDZDtpQkFBTTtnQkFDSCxJQUFJO2dCQUNKLEVBQUUsSUFBSSxNQUFNLENBQUM7Z0JBQ2IsQ0FBQyxJQUFJLEtBQUssQ0FBQzthQUNkO1NBQ0o7UUFDRCxPQUFPLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUNwQixDQUFDO0lBRUQsMEJBQTBCO0lBQzFCLGlDQUFpQztJQUNqQyxTQUFTO1FBQ0wsSUFBSSxNQUFNLEdBQVcsRUFBRSxDQUFDO1FBQ3hCLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUMsS0FBSyxFQUFFLEtBQUssRUFBRSxFQUFFO1lBQzNCLElBQUksS0FBSyxJQUFJLENBQUMsRUFBRTtnQkFDWixJQUFJLFFBQVEsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsQ0FBQztnQkFDekMsSUFBSSxLQUFLLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQyxRQUFRLENBQUMsQ0FBQztnQkFDdEMsSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQyxLQUFLLENBQUMsQ0FBQztnQkFDbEMsTUFBTSxDQUFDLElBQUksQ0FBQyxtREFBYSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7YUFDcEM7UUFDTCxDQUFDLENBQUMsQ0FBQztRQUVILElBQUksQ0FBQyxHQUFHLG1EQUFhLENBQUMsTUFBTSxDQUFDLENBQUMsWUFBWSxFQUFFLENBQUM7UUFDN0MsQ0FBQyxDQUFDLG9CQUFvQixFQUFFLENBQUM7UUFDekIsSUFBSSxDQUFDLFlBQVksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUN0QyxDQUFDO0lBRUQsVUFBVSxDQUFDLEtBQWM7UUFDckIsSUFBSSxRQUFRLEdBQUcsSUFBSSxDQUFDLElBQUksR0FBRyxDQUFDLEdBQUcsSUFBSSxDQUFDLFFBQVEsR0FBRyxDQUFDLENBQUM7UUFDakQsT0FBTyxLQUFLLENBQUMsS0FBSyxDQUFDLElBQUksNkNBQU8sQ0FBQyxRQUFRLEVBQUUsUUFBUSxFQUFFLFFBQVEsQ0FBQyxDQUFDLENBQUMsT0FBTyxFQUFFLENBQUM7SUFDNUUsQ0FBQztJQUVELFVBQVUsQ0FBQyxLQUFjO1FBQ3JCLElBQUksUUFBUSxHQUFHLElBQUksQ0FBQyxJQUFJLEdBQUcsQ0FBQyxDQUFDO1FBQzdCLE9BQU8sS0FBSyxDQUFDLEtBQUssQ0FBQyxJQUFJLDZDQUFPLENBQUMsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDO0lBQ3JFLENBQUM7SUFFRCxVQUFVLENBQUMsTUFBZTtRQUN0QixJQUFJLEVBQUUsR0FBRyxJQUFJLENBQUMsUUFBUSxHQUFHLENBQUMsQ0FBQztRQUMzQixJQUFJLElBQUksR0FBRyw0REFBc0IsQ0FBQyxNQUFNLENBQUMsQ0FBQyxFQUFFLE1BQU0sQ0FBQyxDQUFDLEVBQUUsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ2hFLElBQUksSUFBSSxHQUFHLElBQUksMENBQUksQ0FBQyxtREFBYSxFQUFFLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxFQUFFLHdEQUFrQixDQUFDLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQztRQUNwRyxPQUFPLElBQUksQ0FBQztJQUNoQixDQUFDO0NBQ0oiLCJmaWxlIjoiLi9kZW1vL2FwcHMvZ2VvbWV0cnktYXBwLnRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gbmFtZTogICAgZ2VvbWV0cnktYXBwLnRzXG4vLyBhdXRob3I6ICBKb3MgRmVlbnN0cmFcbi8vIHB1cnBvc2U6IGEgM2Qgdm94ZWwgZW52aXJvbm1lbnQgdG8gdG95IGFyb3VuZCBpbi4gVXNlcyBzZXZlcmFsIGZlYXR1cmVzIG9mIGdlb25cblxuaW1wb3J0IHtcbiAgICBBcHAsXG4gICAgQ2FtZXJhLFxuICAgIEN1YmUsXG4gICAgRG9tYWluMyxcbiAgICBEb3RSZW5kZXJlcjMsXG4gICAgRHJhd1NwZWVkLFxuICAgIElucHV0U3RhdGUsXG4gICAgSW50Q3ViZSxcbiAgICBMaW5lQXJyYXksXG4gICAgTGluZVJlbmRlcmVyLFxuICAgIE1hdHJpeDQsXG4gICAgTWVzaCxcbiAgICBNZXNoRGVidWdSZW5kZXJlcixcbiAgICBQYXJhbWV0ZXIsXG4gICAgUGxhbmUsXG4gICAgUmF5LFxuICAgIFJlbmRlcmFibGUsXG4gICAgU2hhZGVkTWVzaFJlbmRlcmVyLFxuICAgIFVJLFxuICAgIFZlY3RvcjMsXG59IGZyb20gXCIuLi8uLi9zcmMvbGliXCI7XG5cbmV4cG9ydCBjbGFzcyBHZW9tZXRyeUFwcCBleHRlbmRzIEFwcCB7XG4gICAgLy8gcmVuZGVyaW5mb1xuICAgIGRvdFJlbmRlcmVyOiBEb3RSZW5kZXJlcjM7XG4gICAgd2hpdGVMaW5lUmVuZGVyZXI6IExpbmVSZW5kZXJlcjtcbiAgICBncmV5TGluZVJlbmRlcmVyOiBMaW5lUmVuZGVyZXI7XG4gICAgcmVkTGluZVJlbmRlcmVyOiBMaW5lUmVuZGVyZXI7XG4gICAgbWVzaFJlbmRlcmVyOiBTaGFkZWRNZXNoUmVuZGVyZXI7XG4gICAgdHJhbnNNZXNoUmVuZGVyZXI6IE1lc2hEZWJ1Z1JlbmRlcmVyO1xuICAgIGNhbWVyYTogQ2FtZXJhO1xuXG4gICAgLy8gZ2VvIGRhdGFcbiAgICBwbGFuZTogUGxhbmUgPSBQbGFuZS5Xb3JsZFhZKCk7XG4gICAgZ3JpZExhcmdlITogTGluZUFycmF5O1xuICAgIGdyaWRTbWFsbCE6IExpbmVBcnJheTtcbiAgICBkb3RzOiBWZWN0b3IzW10gPSBbXTtcbiAgICBnZW86IFJlbmRlcmFibGVbXSA9IFtdO1xuICAgIG1hcEdlbzogUmVuZGVyYWJsZVtdID0gW107XG4gICAgY3Vyc29yVmlzdWFsPzogTGluZUFycmF5O1xuXG4gICAgLy8gbG9naWMgZGF0YVxuICAgIHNpemUgPSA1MDtcbiAgICBjZWxsU2l6ZSA9IDE7XG4gICAgbWFwITogSW50Q3ViZTtcblxuICAgIHBvdiA9IG5ldyBQYXJhbWV0ZXIoXCJwb3ZcIiwgODAsIDEwLCAxMDAsIDEpO1xuXG4gICAgY29uc3RydWN0b3IoZ2w6IFdlYkdMUmVuZGVyaW5nQ29udGV4dCkge1xuICAgICAgICAvLyBzZXR1cCByZW5kZXIgZW52XG4gICAgICAgIHN1cGVyKGdsKTtcbiAgICAgICAgdGhpcy5jYW1lcmEgPSBuZXcgQ2FtZXJhKGdsLmNhbnZhcyEgYXMgSFRNTENhbnZhc0VsZW1lbnQsIDEwLCB0cnVlKTtcbiAgICAgICAgdGhpcy5kb3RSZW5kZXJlciA9IG5ldyBEb3RSZW5kZXJlcjMoZ2wsIDQsIFsxLCAwLCAwLCAxXSwgZmFsc2UpO1xuICAgICAgICB0aGlzLndoaXRlTGluZVJlbmRlcmVyID0gbmV3IExpbmVSZW5kZXJlcihnbCwgWzEsIDEsIDEsIDFdKTtcbiAgICAgICAgdGhpcy5ncmV5TGluZVJlbmRlcmVyID0gbmV3IExpbmVSZW5kZXJlcihnbCwgWzAuMiwgMCwgMSwgMC41XSk7XG4gICAgICAgIHRoaXMucmVkTGluZVJlbmRlcmVyID0gbmV3IExpbmVSZW5kZXJlcihnbCwgWzAuOCwgMCwgMCwgMV0pO1xuICAgICAgICB0aGlzLm1lc2hSZW5kZXJlciA9IG5ldyBTaGFkZWRNZXNoUmVuZGVyZXIoZ2wpO1xuICAgICAgICB0aGlzLnRyYW5zTWVzaFJlbmRlcmVyID0gbmV3IE1lc2hEZWJ1Z1JlbmRlcmVyKGdsLCBbMSwgMSwgMSwgMC4yNV0sIFsxLCAxLCAxLCAwLjI1XSk7XG4gICAgfVxuXG4gICAgLy8gY2FsbGVkIGFmdGVyIGluaXRcbiAgICBzdGFydCgpIHtcbiAgICAgICAgdGhpcy5tYXAgPSBuZXcgSW50Q3ViZSh0aGlzLnNpemUsIHRoaXMuc2l6ZSwgdGhpcy5zaXplKTtcbiAgICAgICAgdGhpcy5tYXAuZmlsbCgwKTtcblxuICAgICAgICAvLyBhZGQgcmFuZG9tIGJsb2NrcyBpbiB0aGUgd29ybGRcbiAgICAgICAgdGhpcy5tYXAubWFwKCh2YWx1ZSwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgIGlmIChNYXRoLnJhbmRvbSgpID4gMC45OSkge1xuICAgICAgICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIGxldCBwZXJsaW4gPSBuZXcgUGVybGluKCk7XG4gICAgICAgIC8vIHRoaXMubWFwLm1hcCgodmFsdWUsIGkpID0+IHtcblxuICAgICAgICAvLyAgICAgbGV0IGMgPSB0aGlzLm1hcC5nZXRDb29yZHMoaSk7XG5cbiAgICAgICAgLy8gICAgIGxldCBzY2FsZSA9IDAuMDU7XG4gICAgICAgIC8vICAgICBsZXQgbm9pc2UgPSBwZXJsaW4ubm9pc2UoYy54ICogc2NhbGUsIGMueSAqIHNjYWxlLCBjLnogKiBzY2FsZSk7XG5cbiAgICAgICAgLy8gICAgIGlmIChpIDwgMTApIHtcbiAgICAgICAgLy8gICAgICAgICBjb25zb2xlLmxvZyhjKTtcbiAgICAgICAgLy8gICAgICAgICBjb25zb2xlLmxvZyhub2lzZSk7XG4gICAgICAgIC8vICAgICB9XG5cbiAgICAgICAgLy8gICAgIGlmIChub2lzZSA+IDAuNjApIHtcbiAgICAgICAgLy8gICAgICAgICByZXR1cm4gMTtcbiAgICAgICAgLy8gICAgIH0gZWxzZSB7XG4gICAgICAgIC8vICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICAvLyAgICAgfVxuICAgICAgICAvLyB9KVxuXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKFwiZG9uZSBzZXR0aW5nXCIpXG5cbiAgICAgICAgLy8gYWZ0ZXIgY2hhbmdlLCBidWZmZXJcbiAgICAgICAgdGhpcy5idWZmZXJNYXAoKTtcblxuICAgICAgICAvLyBjb25zb2xlLmxvZyhcImRvbmVcIilcblxuICAgICAgICB0aGlzLmdyaWRMYXJnZSA9IExpbmVBcnJheS5mcm9tR3JpZCh0aGlzLnBsYW5lLCB0aGlzLnNpemUsIHRoaXMuY2VsbFNpemUpO1xuICAgICAgICB0aGlzLmdyaWRTbWFsbCA9IExpbmVBcnJheS5mcm9tR3JpZCh0aGlzLnBsYW5lLCB0aGlzLnNpemUgKiAxMCAtIDEsIHRoaXMuY2VsbFNpemUgLyAxMCk7XG5cbiAgICAgICAgLy8gdGhpcy53aGl0ZUxpbmVSZW5kZXJlci5zZXQodGhpcy5nbCwgdGhpcy5ncmlkTGFyZ2UsIERyYXdTcGVlZC5TdGF0aWNEcmF3KTtcbiAgICAgICAgLy8gdGhpcy5ncmV5TGluZVJlbmRlcmVyLnNldCh0aGlzLmdsLCB0aGlzLmdyaWRTbWFsbCwgRHJhd1NwZWVkLlN0YXRpY0RyYXcpO1xuICAgIH1cblxuICAgIHVpKHVpOiBVSSkge1xuICAgICAgICB1aS5hZGRQYXJhbWV0ZXIodGhpcy5wb3YpO1xuICAgIH1cblxuICAgIHVwZGF0ZShzdGF0ZTogSW5wdXRTdGF0ZSkge1xuICAgICAgICAvLyBtb3ZlIHRoZSBjYW1lcmEgd2l0aCB0aGUgbW91c2VcbiAgICAgICAgdGhpcy5jYW1lcmEudXBkYXRlKHN0YXRlKTtcblxuICAgICAgICB0aGlzLnVwZGF0ZUN1cnNvcihzdGF0ZSk7XG4gICAgfVxuXG4gICAgZHJhdyhnbDogV2ViR0xSZW5kZXJpbmdDb250ZXh0KSB7XG4gICAgICAgIC8vIGdldCB0by1zY3JlZW4gbWF0cml4XG4gICAgICAgIGNvbnN0IGNhbnZhcyA9IGdsLmNhbnZhcyBhcyBIVE1MQ2FudmFzRWxlbWVudDtcbiAgICAgICAgbGV0IG1hdHJpeCA9IHRoaXMuY2FtZXJhLnRvdGFsTWF0cml4O1xuXG4gICAgICAgIC8vIHJlbmRlciB0aGUgZ3JpZFxuICAgICAgICAvLyB0aGlzLmdyZXlMaW5lUmVuZGVyZXIucmVuZGVyKGdsLCBtYXRyaXgpO1xuICAgICAgICAvLyB0aGlzLndoaXRlTGluZVJlbmRlcmVyLnJlbmRlcihnbCwgbWF0cml4KTtcblxuICAgICAgICAvLyB0aGlzLnJlZExpbmVSZW5kZXJlci5zZXRBbmRSZW5kZXIoZ2wsIG1hdHJpeCwgdGhpcy5jdXJzb3JWaXN1YWwhKTtcblxuICAgICAgICAvLyByZW5kZXIgdGhlIG1hcFxuICAgICAgICAvLyBUT0RPIGNyZWF0ZSBNZXNoQXJyYXlcbiAgICAgICAgdGhpcy5tZXNoUmVuZGVyZXIucmVuZGVyKGdsLCB0aGlzLmNhbWVyYSk7XG5cbiAgICAgICAgLy8gcmVuZGVyIG90aGVyIHRoaW5nc1xuICAgICAgICBmb3IgKGxldCBnZW8gb2YgdGhpcy5nZW8pIHtcbiAgICAgICAgICAgIHRoaXMudHJhbnNNZXNoUmVuZGVyZXIuc2V0KGdsLCBnZW8sIERyYXdTcGVlZC5EeW5hbWljRHJhdyk7XG4gICAgICAgICAgICB0aGlzLnRyYW5zTWVzaFJlbmRlcmVyLnJlbmRlcihnbCwgdGhpcy5jYW1lcmEpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgYWRkUHJldmlld0N1YmUocG9pbnQ6IFZlY3RvcjMpIHtcbiAgICAgICAgbGV0IGN1YmVDZW50ZXIgPSB0aGlzLm1hcFRvV29ybGQocG9pbnQpO1xuICAgICAgICBsZXQgY3ViZSA9IHRoaXMuY3JlYXRlQ3ViZShjdWJlQ2VudGVyKTtcbiAgICAgICAgdGhpcy5nZW8ucHVzaChNZXNoLmZyb21DdWJlKGN1YmUpLnRvUmVuZGVyYWJsZSgpKTtcbiAgICB9XG5cbiAgICBmbHVzaFByZXZpZXdDdWJlcygpIHtcbiAgICAgICAgdGhpcy5nZW8gPSBbXTtcbiAgICB9XG5cbiAgICB1cGRhdGVDdXJzb3Ioc3RhdGU6IElucHV0U3RhdGUpIHtcbiAgICAgICAgLy8gcmVuZGVyIG1vdXNlIHRvIHdvcmxkIGxpbmVcbiAgICAgICAgbGV0IG1vdXNlUmF5ID0gdGhpcy5jYW1lcmEuZ2V0TW91c2VXb3JsZFJheShzdGF0ZS5jYW52YXMud2lkdGgsIHN0YXRlLmNhbnZhcy5oZWlnaHQpO1xuXG4gICAgICAgIC8vIHNuYXAgdG8gd29ybGRcbiAgICAgICAgLy8gbGV0IGN1cnNvciA9IG1vdXNlUmF5LmF0KG1vdXNlUmF5LnhQbGFuZSh0aGlzLnBsYW5lKSk7XG4gICAgICAgIC8vIGxldCBtYXBDdXJzb3IgPSB0aGlzLndvcmxkVG9NYXAoY3Vyc29yKTtcbiAgICAgICAgLy8gbGV0IGNvb3JkID0gdGhpcy5tYXBUb1dvcmxkKG1hcEN1cnNvcik7XG5cbiAgICAgICAgLy8gcGxhY2UgY2lyY2xlIGF0IGN1cnNvclxuICAgICAgICAvLyBsZXQgcGxhbmUgPSB0aGlzLnBsYW5lLmNsb25lKCk7XG4gICAgICAgIC8vIHBsYW5lLm1hdHJpeCA9IHBsYW5lLm1hdHJpeC5tdWx0aXBseShNYXRyaXg0Lm5ld1RyYW5zbGF0aW9uKGN1cnNvci54LCBjdXJzb3IueSwgY3Vyc29yLnopKTtcbiAgICAgICAgLy8gdGhpcy5jdXJzb3JWaXN1YWwgPSBMaW5lQXJyYXkuZnJvbUNpcmNsZShuZXcgQ2lyY2xlMyhwbGFuZSwgMC4xKSk7XG5cbiAgICAgICAgLy8gZmlndXJlIG91dCB3aGljaCBjdWJlIHdlIGFyZSBwb2ludGluZyB0b1xuICAgICAgICB0aGlzLmZsdXNoUHJldmlld0N1YmVzKCk7XG4gICAgICAgIGxldCBbY3ViZUlELCBjdWJlSURwcmV2aW91c10gPSB0aGlzLnZveGVsUmF5Y2FzdChtb3VzZVJheSwgNDApO1xuICAgICAgICBpZiAoY3ViZUlEID09IC0xKSB7XG4gICAgICAgICAgICAvLyBub3RoaW5nIGVsc2UgdG8gZG9cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBjdWJlQ3Vyc29yID0gdGhpcy5tYXAuZ2V0Q29vcmRzKGN1YmVJRHByZXZpb3VzKTtcbiAgICAgICAgdGhpcy5hZGRQcmV2aWV3Q3ViZShjdWJlQ3Vyc29yKTtcblxuICAgICAgICAvLyByZW5kZXIgY3ViZSBhdCB0aGlzIHBvc2l0aW9uXG5cbiAgICAgICAgLy8gdGhpcy5nZW8ucHVzaChNZXNoLmZyb21DdWJlKGN1YmUpKTtcblxuICAgICAgICAvLyBjbGlja1xuICAgICAgICBpZiAoc3RhdGUubW91c2VMZWZ0UHJlc3NlZCkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJjbGlja1wiKTtcbiAgICAgICAgICAgIGlmIChzdGF0ZS5Jc0tleURvd24oXCIgXCIpKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMubWFwLmRhdGFbY3ViZUlEXSA9PSAwKSByZXR1cm47XG4gICAgICAgICAgICAgICAgdGhpcy5tYXAuZGF0YVtjdWJlSURdID0gMDtcbiAgICAgICAgICAgICAgICB0aGlzLmJ1ZmZlck1hcCgpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLm1hcC5kYXRhW2N1YmVJRHByZXZpb3VzXSAhPSAxKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5tYXAuZGF0YVtjdWJlSURwcmV2aW91c10gPSAxO1xuICAgICAgICAgICAgICAgIHRoaXMuYnVmZmVyTWFwKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyByZXR1cm4gdGhlIElEIG9mIHRoZVxuICAgIC8vIEEgRmFzdCBWb3hlbCBUcmF2ZXJzYWwgQWxnb3JpdGhtIGZvciBSYXkgVHJhY2luZ1xuICAgIC8vIEFtYW5hdGlkZXMsIFdvb1xuICAgIC8vIERlcHQuIG9mIENvbXB1dGVyIFNjaWVuY2VcbiAgICB2b3hlbFJheWNhc3QocmF5OiBSYXksIHJhbmdlOiBudW1iZXIpOiBbbnVtYmVyLCBudW1iZXJdIHtcbiAgICAgICAgbGV0IHN0YXJ0UG9pbnQgPSB0aGlzLndvcmxkVG9NYXAocmF5Lm9yaWdpbik7XG4gICAgICAgIGxldCB2b3hlbENlbnRlciA9IHRoaXMubWFwVG9Xb3JsZChzdGFydFBvaW50KTtcblxuICAgICAgICAvLyBpbnRlZ2Vyc1xuICAgICAgICBsZXQgeCA9IHN0YXJ0UG9pbnQueDtcbiAgICAgICAgbGV0IHkgPSBzdGFydFBvaW50Lnk7XG4gICAgICAgIGxldCB6ID0gc3RhcnRQb2ludC56O1xuXG4gICAgICAgIGxldCB4cHJldiA9IHg7XG4gICAgICAgIGxldCB5cHJldiA9IHk7XG4gICAgICAgIGxldCB6cHJldiA9IHo7XG5cbiAgICAgICAgbGV0IHN0ZXBYID0gcmF5Lm5vcm1hbC54ID4gMCA/IDEgOiAtMTtcbiAgICAgICAgbGV0IHN0ZXBZID0gcmF5Lm5vcm1hbC55ID4gMCA/IDEgOiAtMTtcbiAgICAgICAgbGV0IHN0ZXBaID0gcmF5Lm5vcm1hbC56ID4gMCA/IDEgOiAtMTtcblxuICAgICAgICAvLyBmbG9hdHNcbiAgICAgICAgbGV0IHZveGVsc2l6ZSA9IHRoaXMuY2VsbFNpemU7XG4gICAgICAgIGxldCBkZWx0YXggPSB2b3hlbHNpemUgLyBNYXRoLmFicyhyYXkubm9ybWFsLngpO1xuICAgICAgICBsZXQgZGVsdGF5ID0gdm94ZWxzaXplIC8gTWF0aC5hYnMocmF5Lm5vcm1hbC55KTtcbiAgICAgICAgbGV0IGRlbHRheiA9IHZveGVsc2l6ZSAvIE1hdGguYWJzKHJheS5ub3JtYWwueik7XG5cbiAgICAgICAgLy8gaW50aXQgdHgsIHR5LCBhbmQgdHosIGF0IHRoZWlyIGZpcnN0IGludGVyc2VjdGlvbiB3aXRoIGNvcnJlc3BvbmRpbmcgcGxhbmVcbiAgICAgICAgdm94ZWxDZW50ZXIuYWRkKG5ldyBWZWN0b3IzKCh2b3hlbHNpemUgLyAyKSAqIHN0ZXBYLCAodm94ZWxzaXplIC8gMikgKiBzdGVwWSwgKHZveGVsc2l6ZSAvIDIpICogc3RlcFopKTtcblxuICAgICAgICBsZXQgbW92ZSA9IE1hdHJpeDQubmV3VHJhbnNsYXRpb24odm94ZWxDZW50ZXIueCwgdm94ZWxDZW50ZXIueSwgdm94ZWxDZW50ZXIueik7XG4gICAgICAgIGxldCB4eSA9IFBsYW5lLldvcmxkWFkoKTtcbiAgICAgICAgeHkuX21hdHJpeC5tdWx0aXBseShtb3ZlKTtcbiAgICAgICAgbGV0IHl6ID0gUGxhbmUuV29ybGRZWigpO1xuICAgICAgICB5ei5fbWF0cml4Lm11bHRpcGx5KG1vdmUpO1xuICAgICAgICBsZXQgeHogPSBQbGFuZS5Xb3JsZFhaKCk7XG4gICAgICAgIHh6Ll9tYXRyaXgubXVsdGlwbHkobW92ZSk7XG5cbiAgICAgICAgbGV0IHR4ID0gcmF5LnhQbGFuZSh5eik7XG4gICAgICAgIGxldCB0eSA9IHJheS54UGxhbmUoeHopO1xuICAgICAgICBsZXQgdHogPSByYXkueFBsYW5lKHh5KTtcblxuICAgICAgICBpZiAodHggPCAwIHx8IHR5IDwgMCB8fCB0eiA8IDApIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwic29tZXRoaW5nIGNyaXRpY2FsIHdlbnQgd3JvbmchXCIpO1xuICAgICAgICAgICAgcmV0dXJuIFstMSwgLTFdO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gZGVidWcgcmF5XG4gICAgICAgIC8vIGxldCBsaW5lU2V0czogTGluZUFycmF5W10gPSBbcmF5LnRvTGluZSgxMDApLCBMaW5lQXJyYXkuZnJvbVBsYW5lKHh5KSwgTGluZUFycmF5LmZyb21QbGFuZSh5eiksIExpbmVBcnJheS5mcm9tUGxhbmUoeHopXTtcbiAgICAgICAgLy8gdGhpcy53aGl0ZUxpbmVSZW5kZXJlci5zZXQodGhpcy5nbCwgTGluZUFycmF5LmZyb21Kb2luKGxpbmVTZXRzKSwgRHJhd1NwZWVkLlN0YXRpY0RyYXcpO1xuXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKFwidm94ZWwgcmF5Y2FzdCBpbml0aWFsaXplZCB3aXRoOlwiKTtcbiAgICAgICAgLy8gY29uc29sZS5sb2coXCJkZWx0YXM6IFwiLCBkZWx0YXgsIGRlbHRheSwgZGVsdGF6KTtcbiAgICAgICAgLy8gY29uc29sZS5sb2coXCJ0J3M6IFwiLCB0eCwgdHksIHR6KTtcblxuICAgICAgICAvLyBzdGFydCBpdGVyYXRpbmdcbiAgICAgICAgLy8gY29uc29sZS5sb2coXCJjYXN0IGF3YXkhXCIpO1xuICAgICAgICAvLyB0aGlzLmFkZFByZXZpZXdDdWJlKG5ldyBWZWN0b3IzKHgseSx6KSk7XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKHgseSx6KTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCByYW5nZTsgaSsrKSB7XG4gICAgICAgICAgICAvLyB0aGlzLmFkZFByZXZpZXdDdWJlKG5ldyBWZWN0b3IzKHhwcmV2LHlwcmV2LHpwcmV2KSk7XG5cbiAgICAgICAgICAgIC8vIGlmIGhpdCwgcmV0dXJuIHByZXZpb3VzXG4gICAgICAgICAgICBsZXQgdmFsdWUgPSB0aGlzLm1hcC50cnlHZXQoeCwgeSwgeik7XG4gICAgICAgICAgICBpZiAodmFsdWUgPT0gMSkge1xuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFwiZm91bmQgYSBjdWJlIGFmdGVyIFwiICsgaSArIFwic3RlcHMuLi5cIik7XG4gICAgICAgICAgICAgICAgLy8gdGhpcy5hZGRQcmV2aWV3Q3ViZShuZXcgVmVjdG9yMyh4cHJldix5cHJldix6cHJldikpO1xuICAgICAgICAgICAgICAgIHJldHVybiBbdGhpcy5tYXAuZ2V0SW5kZXgoeCwgeSwgeiksIHRoaXMubWFwLmdldEluZGV4KHhwcmV2LCB5cHJldiwgenByZXYpXTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgeHByZXYgPSB4O1xuICAgICAgICAgICAgICAgIHlwcmV2ID0geTtcbiAgICAgICAgICAgICAgICB6cHJldiA9IHo7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIHRvIHRoZSBuZXh0IGN1YmUhXG4gICAgICAgICAgICBpZiAodHggPCB0eSAmJiB0eCA8IHR6KSB7XG4gICAgICAgICAgICAgICAgLy8geFxuICAgICAgICAgICAgICAgIHR4ICs9IGRlbHRheDtcbiAgICAgICAgICAgICAgICB4ICs9IHN0ZXBYO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0eSA8IHR6KSB7XG4gICAgICAgICAgICAgICAgLy8geVxuICAgICAgICAgICAgICAgIHR5ICs9IGRlbHRheTtcbiAgICAgICAgICAgICAgICB5ICs9IHN0ZXBZO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyB6XG4gICAgICAgICAgICAgICAgdHogKz0gZGVsdGF6O1xuICAgICAgICAgICAgICAgIHogKz0gc3RlcFo7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFstMSwgLTFdO1xuICAgIH1cblxuICAgIC8vIGZsdXNoIHRoaXMubWVzaFJlbmRlcmVyXG4gICAgLy8gdHVybiB0aGlzLm1hcCBpbnRvIHRoaXMubWFwR2VvXG4gICAgYnVmZmVyTWFwKCkge1xuICAgICAgICBsZXQgbWFwR2VvOiBNZXNoW10gPSBbXTtcbiAgICAgICAgdGhpcy5tYXAuaXRlcigoZW50cnksIGluZGV4KSA9PiB7XG4gICAgICAgICAgICBpZiAoZW50cnkgPT0gMSkge1xuICAgICAgICAgICAgICAgIGxldCBtYXBDb29yZCA9IHRoaXMubWFwLmdldENvb3JkcyhpbmRleCk7XG4gICAgICAgICAgICAgICAgbGV0IGNvb3JkID0gdGhpcy5tYXBUb1dvcmxkKG1hcENvb3JkKTtcbiAgICAgICAgICAgICAgICBsZXQgY3ViZSA9IHRoaXMuY3JlYXRlQ3ViZShjb29yZCk7XG4gICAgICAgICAgICAgICAgbWFwR2VvLnB1c2goTWVzaC5mcm9tQ3ViZShjdWJlKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGxldCBtID0gTWVzaC5mcm9tSm9pbihtYXBHZW8pLnRvUmVuZGVyYWJsZSgpO1xuICAgICAgICBtLmNhbGN1bGF0ZUZhY2VOb3JtYWxzKCk7XG4gICAgICAgIHRoaXMubWVzaFJlbmRlcmVyLnNldCh0aGlzLmdsLCBtKTtcbiAgICB9XG5cbiAgICB3b3JsZFRvTWFwKGNvb3JkOiBWZWN0b3IzKTogVmVjdG9yMyB7XG4gICAgICAgIGxldCBoYWxmc2l6ZSA9IHRoaXMuc2l6ZSAvIDIgKyB0aGlzLmNlbGxTaXplIC8gMjtcbiAgICAgICAgcmV0dXJuIGNvb3JkLmFkZGVkKG5ldyBWZWN0b3IzKGhhbGZzaXplLCBoYWxmc2l6ZSwgaGFsZnNpemUpKS5mbG9vcmVkKCk7XG4gICAgfVxuXG4gICAgbWFwVG9Xb3JsZChwb2ludDogVmVjdG9yMyk6IFZlY3RvcjMge1xuICAgICAgICBsZXQgaGFsZnNpemUgPSB0aGlzLnNpemUgLyAyO1xuICAgICAgICByZXR1cm4gcG9pbnQuYWRkZWQobmV3IFZlY3RvcjMoLWhhbGZzaXplLCAtaGFsZnNpemUsIC1oYWxmc2l6ZSkpO1xuICAgIH1cblxuICAgIGNyZWF0ZUN1YmUoY2VudGVyOiBWZWN0b3IzKSB7XG4gICAgICAgIGxldCBocyA9IHRoaXMuY2VsbFNpemUgLyAyO1xuICAgICAgICBsZXQgbW92ZSA9IE1hdHJpeDQubmV3VHJhbnNsYXRpb24oY2VudGVyLngsIGNlbnRlci55LCBjZW50ZXIueik7XG4gICAgICAgIGxldCBjdWJlID0gbmV3IEN1YmUoUGxhbmUuV29ybGRYWSgpLnRyYW5zZm9ybShtb3ZlKSwgRG9tYWluMy5mcm9tQm91bmRzKC1ocywgaHMsIC1ocywgaHMsIC1ocywgaHMpKTtcbiAgICAgICAgcmV0dXJuIGN1YmU7XG4gICAgfVxufVxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./demo/apps/geometry-app.ts\n");

/***/ }),

/***/ "./demo/apps/icosahedron-app.ts":
/*!**************************************!*\
  !*** ./demo/apps/icosahedron-app.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"IcosahedronApp\": () => /* binding */ IcosahedronApp,\n/* harmony export */   \"graphToMultiMesh\": () => /* binding */ graphToMultiMesh\n/* harmony export */ });\n/* harmony import */ var _src_lib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../src/lib */ \"./src/lib.ts\");\n// name:    obj-loader-app.ts\r\n// author:  Jos Feenstra\r\n// purpose: test statistic functionalties\r\n\r\nclass IcosahedronApp extends _src_lib__WEBPACK_IMPORTED_MODULE_0__.App {\r\n    constructor(gl) {\r\n        super(gl);\r\n        this.radius = 0.1; // radius!: Parameter;\r\n        this.detail = 6; // detail!: Parameter;\r\n        let canvas = gl.canvas;\r\n        this.camera = new _src_lib__WEBPACK_IMPORTED_MODULE_0__.Camera(canvas, 8, true);\r\n        this.meshRend = new _src_lib__WEBPACK_IMPORTED_MODULE_0__.ShadedMeshRenderer(gl);\r\n        this.normalRend = new _src_lib__WEBPACK_IMPORTED_MODULE_0__.NormalRenderer(gl);\r\n    }\r\n    getIcosahedron() {\r\n        let graph = _src_lib__WEBPACK_IMPORTED_MODULE_0__.Mesh.newIcosahedron(1).toGraph();\r\n        // let graph = Mesh.newCylinder(Vector3.new(0,0,-1), Vector3.new(0,0,1), 1, 4).toGraph();\r\n        // let graph = Mesh.newSphere(Vector3.new(0,0,0), 1, 5, 10).toGraph().toMesh().toGraph();\r\n        // graph.print();\r\n        return graph;\r\n    }\r\n    getDemoShape() {\r\n        let graph = _src_lib__WEBPACK_IMPORTED_MODULE_0__.Graph.new();\r\n        function addVert(v) {\r\n            graph.addVert(v, v);\r\n        }\r\n        addVert(new _src_lib__WEBPACK_IMPORTED_MODULE_0__.Vector3(-1, 0, -1)); // 0\r\n        addVert(new _src_lib__WEBPACK_IMPORTED_MODULE_0__.Vector3(0, 1, -1)); // 1\r\n        addVert(new _src_lib__WEBPACK_IMPORTED_MODULE_0__.Vector3(1, 0, -1)); // 2\r\n        addVert(new _src_lib__WEBPACK_IMPORTED_MODULE_0__.Vector3(0, -1, -1)); // 3\r\n        addVert(new _src_lib__WEBPACK_IMPORTED_MODULE_0__.Vector3(0, 0, 1)); // 4\r\n        addVert(new _src_lib__WEBPACK_IMPORTED_MODULE_0__.Vector3(-1, 1, 0)); // 5 (should be inserted between 0 and 1)\r\n        graph.addEdge(4, 0);\r\n        graph.addEdge(4, 1);\r\n        graph.addEdge(4, 2);\r\n        graph.addEdge(4, 3);\r\n        // graph.addEdge(4,5);\r\n        graph.addEdge(0, 1);\r\n        graph.addEdge(1, 2);\r\n        graph.addEdge(2, 3);\r\n        graph.addEdge(3, 0);\r\n        graph.addEdge(1, 3);\r\n        graph.print();\r\n        return graph;\r\n    }\r\n    demo() {\r\n        let graph = new _src_lib__WEBPACK_IMPORTED_MODULE_0__.Graph();\r\n        let normal = new _src_lib__WEBPACK_IMPORTED_MODULE_0__.Vector3(0, 0, 1);\r\n        graph.addVert(new _src_lib__WEBPACK_IMPORTED_MODULE_0__.Vector3(0, 0, 0), normal); // 0\r\n        graph.addVert(new _src_lib__WEBPACK_IMPORTED_MODULE_0__.Vector3(1, 0, 0), normal); // 1\r\n        graph.addVert(new _src_lib__WEBPACK_IMPORTED_MODULE_0__.Vector3(0, 1, 0), normal); //\r\n        graph.addVert(new _src_lib__WEBPACK_IMPORTED_MODULE_0__.Vector3(-1, 0, 0), normal); //\r\n        graph.addVert(new _src_lib__WEBPACK_IMPORTED_MODULE_0__.Vector3(0, -1, 0), normal); //\r\n        graph.addEdge(0, 1);\r\n        graph.addEdge(0, 2);\r\n        graph.addEdge(0, 3);\r\n        graph.addEdge(0, 4);\r\n        graph.addEdge(1, 2);\r\n        return graph;\r\n    }\r\n    ui(ui) {\r\n        this.rotate = new _src_lib__WEBPACK_IMPORTED_MODULE_0__.Parameter(\"rotate\", 1, 0, 1, 1);\r\n        this.inner = new _src_lib__WEBPACK_IMPORTED_MODULE_0__.Parameter(\"inner\", 1, 0, 1, 1);\r\n        // this.radius = new Parameter(\"radius\", 0.1, 0, 0.5, 0.01)\r\n        // this.detail = new Parameter(\"detail\", 6, 3, 20, 1)\r\n        let reset = () => {\r\n            // this.rotate.set(0);\r\n            this.start();\r\n        };\r\n        ui.addBooleanParameter(this.rotate);\r\n        ui.addBooleanParameter(this.inner, reset);\r\n        // ui.addParameter(this.radius, reset);\r\n        // ui.addParameter(this.detail, reset);\r\n        // ui.addButton(() => {this.start()})\r\n    }\r\n    start() {\r\n        this.graph = this.getIcosahedron();\r\n        this.mesh = graphToMultiMesh(this.graph, this.radius, this.detail, this.inner.get() == 1);\r\n        this.meshRend.set(this.gl, this.mesh);\r\n        // this.normalRend.set(this.graph.toRenderable(), DrawSpeed.DynamicDraw);\r\n        // console.log(\"all loops: \", this.graph.allLoops());\r\n    }\r\n    update(state) {\r\n        this.camera.update(state);\r\n        if (!state.mouseRightDown && this.rotate.get() == 1) {\r\n            let alpha = 0.0002 * state.tick;\r\n            let rot = _src_lib__WEBPACK_IMPORTED_MODULE_0__.Matrix4.newXRotation(alpha).multiply(_src_lib__WEBPACK_IMPORTED_MODULE_0__.Matrix4.newYRotation(alpha));\r\n            this.mesh.transform(rot);\r\n            this.meshRend.set(this.gl, this.mesh, _src_lib__WEBPACK_IMPORTED_MODULE_0__.DrawSpeed.DynamicDraw);\r\n        }\r\n    }\r\n    draw(gl) {\r\n        this.camera.updateMatrices(gl.canvas);\r\n        this.meshRend.render(gl, this.camera);\r\n        // this.normalRend.render(gl, this.camera);\r\n    }\r\n}\r\nfunction graphToMultiMesh(graph, radius, detail, inner, balls = true) {\r\n    let meshes = [];\r\n    if (balls) {\r\n        graph.allVertPositions().forEach((v) => {\r\n            meshes.push(_src_lib__WEBPACK_IMPORTED_MODULE_0__.Mesh.newSphere(v, radius * 2, detail, detail * 2));\r\n        });\r\n    }\r\n    let edges = graph.allEdgeVerts();\r\n    for (let i = 0; i < edges.length; i += 2) {\r\n        let from = graph.getVertexPos(edges[i]);\r\n        let to = graph.getVertexPos(edges[i + 1]);\r\n        let mesh = _src_lib__WEBPACK_IMPORTED_MODULE_0__.Mesh.newCylinder(from, to, radius, detail);\r\n        meshes.push(mesh);\r\n    }\r\n    if (inner) {\r\n        meshes.push(_src_lib__WEBPACK_IMPORTED_MODULE_0__.Mesh.fromGraph(graph));\r\n    }\r\n    let rmesh = _src_lib__WEBPACK_IMPORTED_MODULE_0__.Mesh.fromJoin(meshes).toRenderable();\r\n    rmesh.calculateFaceNormals();\r\n    return rmesh;\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9nZW9uLWVuZ2luZS8uL2RlbW8vYXBwcy9pY29zYWhlZHJvbi1hcHAudHM/NGU0NyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSw2QkFBNkI7QUFDN0Isd0JBQXdCO0FBQ3hCLHlDQUF5QztBQWdCbEI7QUFFaEIsTUFBTSxjQUFlLFNBQVEseUNBQUc7SUFhbkMsWUFBWSxFQUF5QjtRQUNqQyxLQUFLLENBQUMsRUFBRSxDQUFDLENBQUM7UUFQZCxXQUFNLEdBQUcsR0FBRyxDQUFDLENBQUMsc0JBQXNCO1FBQ3BDLFdBQU0sR0FBRyxDQUFDLENBQUMsQ0FBQyxzQkFBc0I7UUFPOUIsSUFBSSxNQUFNLEdBQUcsRUFBRSxDQUFDLE1BQTJCLENBQUM7UUFDNUMsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLDRDQUFNLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQztRQUMxQyxJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksd0RBQWtCLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDM0MsSUFBSSxDQUFDLFVBQVUsR0FBRyxJQUFJLG9EQUFjLENBQUMsRUFBRSxDQUFDLENBQUM7SUFDN0MsQ0FBQztJQUVELGNBQWM7UUFDVixJQUFJLEtBQUssR0FBRyx5REFBbUIsQ0FBQyxDQUFDLENBQUMsQ0FBQyxPQUFPLEVBQUUsQ0FBQztRQUM3Qyx5RkFBeUY7UUFDekYseUZBQXlGO1FBQ3pGLGlCQUFpQjtRQUNqQixPQUFPLEtBQUssQ0FBQztJQUNqQixDQUFDO0lBRUQsWUFBWTtRQUNSLElBQUksS0FBSyxHQUFHLCtDQUFTLEVBQUUsQ0FBQztRQUV4QixTQUFTLE9BQU8sQ0FBQyxDQUFVO1lBQ3ZCLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO1FBQ3hCLENBQUM7UUFFRCxPQUFPLENBQUMsSUFBSSw2Q0FBTyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJO1FBQ3JDLE9BQU8sQ0FBQyxJQUFJLDZDQUFPLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJO1FBQ3BDLE9BQU8sQ0FBQyxJQUFJLDZDQUFPLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJO1FBQ3BDLE9BQU8sQ0FBQyxJQUFJLDZDQUFPLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUk7UUFDckMsT0FBTyxDQUFDLElBQUksNkNBQU8sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJO1FBRW5DLE9BQU8sQ0FBQyxJQUFJLDZDQUFPLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyx5Q0FBeUM7UUFFekUsS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7UUFDcEIsS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7UUFDcEIsS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7UUFDcEIsS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7UUFDcEIsc0JBQXNCO1FBRXRCLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO1FBQ3BCLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO1FBQ3BCLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO1FBQ3BCLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO1FBQ3BCLEtBQUssQ0FBQyxPQUFP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QWMsQ0FBQyxDQUFDLEVBQUUsTUFBTSxHQUFHLENBQUMsRUFBRSxNQUFNLEVBQUUsTUFBTSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDbkUsQ0FBQyxDQUFDLENBQUM7S0FDTjtJQUVELElBQUksS0FBSyxHQUFHLEtBQUssQ0FBQyxZQUFZLEVBQUUsQ0FBQztJQUNqQyxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsS0FBSyxDQUFDLE1BQU0sRUFBRSxDQUFDLElBQUksQ0FBQyxFQUFFO1FBQ3RDLElBQUksSUFBSSxHQUFHLEtBQUssQ0FBQyxZQUFZLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDeEMsSUFBSSxFQUFFLEdBQUcsS0FBSyxDQUFDLFlBQVksQ0FBQyxLQUFLLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDMUMsSUFBSSxJQUFJLEdBQUcsc0RBQWdCLENBQUMsSUFBSSxFQUFFLEVBQUUsRUFBRSxNQUFNLEVBQUUsTUFBTSxDQUFDLENBQUM7UUFDdEQsTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztLQUNyQjtJQUVELElBQUksS0FBSyxFQUFFO1FBQ1AsTUFBTSxDQUFDLElBQUksQ0FBQyxvREFBYyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7S0FDdEM7SUFFRCxJQUFJLEtBQUssR0FBRyxtREFBYSxDQUFDLE1BQU0sQ0FBQyxDQUFDLFlBQVksRUFBRSxDQUFDO0lBQ2pELEtBQUssQ0FBQyxvQkFBb0IsRUFBRSxDQUFDO0lBQzdCLE9BQU8sS0FBSyxDQUFDO0FBQ2pCLENBQUMiLCJmaWxlIjoiLi9kZW1vL2FwcHMvaWNvc2FoZWRyb24tYXBwLnRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gbmFtZTogICAgb2JqLWxvYWRlci1hcHAudHNcbi8vIGF1dGhvcjogIEpvcyBGZWVuc3RyYVxuLy8gcHVycG9zZTogdGVzdCBzdGF0aXN0aWMgZnVuY3Rpb25hbHRpZXNcblxuaW1wb3J0IHtcbiAgICBBcHAsXG4gICAgQ2FtZXJhLFxuICAgIFNoYWRlZE1lc2hSZW5kZXJlcixcbiAgICBQYXJhbWV0ZXIsXG4gICAgR3JhcGgsXG4gICAgUmVuZGVyYWJsZSxcbiAgICBWZWN0b3IzLFxuICAgIFVJLFxuICAgIElucHV0U3RhdGUsXG4gICAgTWF0cml4NCxcbiAgICBEcmF3U3BlZWQsXG4gICAgTWVzaCxcbiAgICBOb3JtYWxSZW5kZXJlcixcbn0gZnJvbSBcIi4uLy4uL3NyYy9saWJcIjtcblxuZXhwb3J0IGNsYXNzIEljb3NhaGVkcm9uQXBwIGV4dGVuZHMgQXBwIHtcbiAgICBjYW1lcmE6IENhbWVyYTtcbiAgICBtZXNoUmVuZDogU2hhZGVkTWVzaFJlbmRlcmVyO1xuICAgIG5vcm1hbFJlbmQ6IE5vcm1hbFJlbmRlcmVyO1xuXG4gICAgcm90YXRlITogUGFyYW1ldGVyO1xuICAgIGlubmVyITogUGFyYW1ldGVyO1xuICAgIHJhZGl1cyA9IDAuMTsgLy8gcmFkaXVzITogUGFyYW1ldGVyO1xuICAgIGRldGFpbCA9IDY7IC8vIGRldGFpbCE6IFBhcmFtZXRlcjtcblxuICAgIGdyYXBoITogR3JhcGg7XG4gICAgbWVzaCE6IFJlbmRlcmFibGU7XG5cbiAgICBjb25zdHJ1Y3RvcihnbDogV2ViR0xSZW5kZXJpbmdDb250ZXh0KSB7XG4gICAgICAgIHN1cGVyKGdsKTtcbiAgICAgICAgbGV0IGNhbnZhcyA9IGdsLmNhbnZhcyBhcyBIVE1MQ2FudmFzRWxlbWVudDtcbiAgICAgICAgdGhpcy5jYW1lcmEgPSBuZXcgQ2FtZXJhKGNhbnZhcywgOCwgdHJ1ZSk7XG4gICAgICAgIHRoaXMubWVzaFJlbmQgPSBuZXcgU2hhZGVkTWVzaFJlbmRlcmVyKGdsKTtcbiAgICAgICAgdGhpcy5ub3JtYWxSZW5kID0gbmV3IE5vcm1hbFJlbmRlcmVyKGdsKTtcbiAgICB9XG5cbiAgICBnZXRJY29zYWhlZHJvbigpOiBHcmFwaCB7XG4gICAgICAgIGxldCBncmFwaCA9IE1lc2gubmV3SWNvc2FoZWRyb24oMSkudG9HcmFwaCgpO1xuICAgICAgICAvLyBsZXQgZ3JhcGggPSBNZXNoLm5ld0N5bGluZGVyKFZlY3RvcjMubmV3KDAsMCwtMSksIFZlY3RvcjMubmV3KDAsMCwxKSwgMSwgNCkudG9HcmFwaCgpO1xuICAgICAgICAvLyBsZXQgZ3JhcGggPSBNZXNoLm5ld1NwaGVyZShWZWN0b3IzLm5ldygwLDAsMCksIDEsIDUsIDEwKS50b0dyYXBoKCkudG9NZXNoKCkudG9HcmFwaCgpO1xuICAgICAgICAvLyBncmFwaC5wcmludCgpO1xuICAgICAgICByZXR1cm4gZ3JhcGg7XG4gICAgfVxuXG4gICAgZ2V0RGVtb1NoYXBlKCk6IEdyYXBoIHtcbiAgICAgICAgbGV0IGdyYXBoID0gR3JhcGgubmV3KCk7XG5cbiAgICAgICAgZnVuY3Rpb24gYWRkVmVydCh2OiBWZWN0b3IzKSB7XG4gICAgICAgICAgICBncmFwaC5hZGRWZXJ0KHYsIHYpO1xuICAgICAgICB9XG5cbiAgICAgICAgYWRkVmVydChuZXcgVmVjdG9yMygtMSwgMCwgLTEpKTsgLy8gMFxuICAgICAgICBhZGRWZXJ0KG5ldyBWZWN0b3IzKDAsIDEsIC0xKSk7IC8vIDFcbiAgICAgICAgYWRkVmVydChuZXcgVmVjdG9yMygxLCAwLCAtMSkpOyAvLyAyXG4gICAgICAgIGFkZFZlcnQobmV3IFZlY3RvcjMoMCwgLTEsIC0xKSk7IC8vIDNcbiAgICAgICAgYWRkVmVydChuZXcgVmVjdG9yMygwLCAwLCAxKSk7IC8vIDRcblxuICAgICAgICBhZGRWZXJ0KG5ldyBWZWN0b3IzKC0xLCAxLCAwKSk7IC8vIDUgKHNob3VsZCBiZSBpbnNlcnRlZCBiZXR3ZWVuIDAgYW5kIDEpXG5cbiAgICAgICAgZ3JhcGguYWRkRWRnZSg0LCAwKTtcbiAgICAgICAgZ3JhcGguYWRkRWRnZSg0LCAxKTtcbiAgICAgICAgZ3JhcGguYWRkRWRnZSg0LCAyKTtcbiAgICAgICAgZ3JhcGguYWRkRWRnZSg0LCAzKTtcbiAgICAgICAgLy8gZ3JhcGguYWRkRWRnZSg0LDUpO1xuXG4gICAgICAgIGdyYXBoLmFkZEVkZ2UoMCwgMSk7XG4gICAgICAgIGdyYXBoLmFkZEVkZ2UoMSwgMik7XG4gICAgICAgIGdyYXBoLmFkZEVkZ2UoMiwgMyk7XG4gICAgICAgIGdyYXBoLmFkZEVkZ2UoMywgMCk7XG4gICAgICAgIGdyYXBoLmFkZEVkZ2UoMSwgMyk7XG5cbiAgICAgICAgZ3JhcGgucHJpbnQoKTtcblxuICAgICAgICByZXR1cm4gZ3JhcGg7XG4gICAgfVxuXG4gICAgZGVtbygpOiBHcmFwaCB7XG4gICAgICAgIGxldCBncmFwaCA9IG5ldyBHcmFwaCgpO1xuICAgICAgICBsZXQgbm9ybWFsID0gbmV3IFZlY3RvcjMoMCwgMCwgMSk7XG4gICAgICAgIGdyYXBoLmFkZFZlcnQobmV3IFZlY3RvcjMoMCwgMCwgMCksIG5vcm1hbCk7IC8vIDBcbiAgICAgICAgZ3JhcGguYWRkVmVydChuZXcgVmVjdG9yMygxLCAwLCAwKSwgbm9ybWFsKTsgLy8gMVxuICAgICAgICBncmFwaC5hZGRWZXJ0KG5ldyBWZWN0b3IzKDAsIDEsIDApLCBub3JtYWwpOyAvL1xuICAgICAgICBncmFwaC5hZGRWZXJ0KG5ldyBWZWN0b3IzKC0xLCAwLCAwKSwgbm9ybWFsKTsgLy9cbiAgICAgICAgZ3JhcGguYWRkVmVydChuZXcgVmVjdG9yMygwLCAtMSwgMCksIG5vcm1hbCk7IC8vXG5cbiAgICAgICAgZ3JhcGguYWRkRWRnZSgwLCAxKTtcbiAgICAgICAgZ3JhcGguYWRkRWRnZSgwLCAyKTtcbiAgICAgICAgZ3JhcGguYWRkRWRnZSgwLCAzKTtcbiAgICAgICAgZ3JhcGguYWRkRWRnZSgwLCA0KTtcbiAgICAgICAgZ3JhcGguYWRkRWRnZSgxLCAyKTtcblxuICAgICAgICByZXR1cm4gZ3JhcGg7XG4gICAgfVxuXG4gICAgdWkodWk6IFVJKSB7XG4gICAgICAgIHRoaXMucm90YXRlID0gbmV3IFBhcmFtZXRlcihcInJvdGF0ZVwiLCAxLCAwLCAxLCAxKTtcbiAgICAgICAgdGhpcy5pbm5lciA9IG5ldyBQYXJhbWV0ZXIoXCJpbm5lclwiLCAxLCAwLCAxLCAxKTtcblxuICAgICAgICAvLyB0aGlzLnJhZGl1cyA9IG5ldyBQYXJhbWV0ZXIoXCJyYWRpdXNcIiwgMC4xLCAwLCAwLjUsIDAuMDEpXG4gICAgICAgIC8vIHRoaXMuZGV0YWlsID0gbmV3IFBhcmFtZXRlcihcImRldGFpbFwiLCA2LCAzLCAyMCwgMSlcblxuICAgICAgICBsZXQgcmVzZXQgPSAoKSA9PiB7XG4gICAgICAgICAgICAvLyB0aGlzLnJvdGF0ZS5zZXQoMCk7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0KCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgdWkuYWRkQm9vbGVhblBhcmFtZXRlcih0aGlzLnJvdGF0ZSk7XG4gICAgICAgIHVpLmFkZEJvb2xlYW5QYXJhbWV0ZXIodGhpcy5pbm5lciwgcmVzZXQpO1xuICAgICAgICAvLyB1aS5hZGRQYXJhbWV0ZXIodGhpcy5yYWRpdXMsIHJlc2V0KTtcbiAgICAgICAgLy8gdWkuYWRkUGFyYW1ldGVyKHRoaXMuZGV0YWlsLCByZXNldCk7XG4gICAgICAgIC8vIHVpLmFkZEJ1dHRvbigoKSA9PiB7dGhpcy5zdGFydCgpfSlcbiAgICB9XG5cbiAgICBzdGFydCgpIHtcbiAgICAgICAgdGhpcy5ncmFwaCA9IHRoaXMuZ2V0SWNvc2FoZWRyb24oKTtcbiAgICAgICAgdGhpcy5tZXNoID0gZ3JhcGhUb011bHRpTWVzaCh0aGlzLmdyYXBoLCB0aGlzLnJhZGl1cywgdGhpcy5kZXRhaWwsIHRoaXMuaW5uZXIuZ2V0KCkgPT0gMSk7XG4gICAgICAgIHRoaXMubWVzaFJlbmQuc2V0KHRoaXMuZ2wsIHRoaXMubWVzaCk7XG4gICAgICAgIC8vIHRoaXMubm9ybWFsUmVuZC5zZXQodGhpcy5ncmFwaC50b1JlbmRlcmFibGUoKSwgRHJhd1NwZWVkLkR5bmFtaWNEcmF3KTtcblxuICAgICAgICAvLyBjb25zb2xlLmxvZyhcImFsbCBsb29wczogXCIsIHRoaXMuZ3JhcGguYWxsTG9vcHMoKSk7XG4gICAgfVxuXG4gICAgdXBkYXRlKHN0YXRlOiBJbnB1dFN0YXRlKSB7XG4gICAgICAgIHRoaXMuY2FtZXJhLnVwZGF0ZShzdGF0ZSk7XG5cbiAgICAgICAgaWYgKCFzdGF0ZS5tb3VzZVJpZ2h0RG93biAmJiB0aGlzLnJvdGF0ZS5nZXQoKSA9PSAxKSB7XG4gICAgICAgICAgICBsZXQgYWxwaGEgPSAwLjAwMDIgKiBzdGF0ZS50aWNrO1xuICAgICAgICAgICAgbGV0IHJvdCA9IE1hdHJpeDQubmV3WFJvdGF0aW9uKGFscGhhKS5tdWx0aXBseShNYXRyaXg0Lm5ld1lSb3RhdGlvbihhbHBoYSkpO1xuICAgICAgICAgICAgdGhpcy5tZXNoIS50cmFuc2Zvcm0ocm90KTtcblxuICAgICAgICAgICAgdGhpcy5tZXNoUmVuZC5zZXQodGhpcy5nbCwgdGhpcy5tZXNoLCBEcmF3U3BlZWQuRHluYW1pY0RyYXcpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZHJhdyhnbDogV2ViR0xSZW5kZXJpbmdDb250ZXh0KSB7XG4gICAgICAgIHRoaXMuY2FtZXJhLnVwZGF0ZU1hdHJpY2VzKGdsLmNhbnZhcyBhcyBIVE1MQ2FudmFzRWxlbWVudCk7XG4gICAgICAgIHRoaXMubWVzaFJlbmQucmVuZGVyKGdsLCB0aGlzLmNhbWVyYSk7XG4gICAgICAgIC8vIHRoaXMubm9ybWFsUmVuZC5yZW5kZXIoZ2wsIHRoaXMuY2FtZXJhKTtcbiAgICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBncmFwaFRvTXVsdGlNZXNoKFxuICAgIGdyYXBoOiBHcmFwaCxcbiAgICByYWRpdXM6IG51bWJlcixcbiAgICBkZXRhaWw6IG51bWJlcixcbiAgICBpbm5lcjogYm9vbGVhbixcbiAgICBiYWxscyA9IHRydWUsXG4pOiBSZW5kZXJhYmxlIHtcbiAgICBsZXQgbWVzaGVzOiBNZXNoW10gPSBbXTtcblxuICAgIGlmIChiYWxscykge1xuICAgICAgICBncmFwaC5hbGxWZXJ0UG9zaXRpb25zKCkuZm9yRWFjaCgodikgPT4ge1xuICAgICAgICAgICAgbWVzaGVzLnB1c2goTWVzaC5uZXdTcGhlcmUodiwgcmFkaXVzICogMiwgZGV0YWlsLCBkZXRhaWwgKiAyKSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGxldCBlZGdlcyA9IGdyYXBoLmFsbEVkZ2VWZXJ0cygpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZWRnZXMubGVuZ3RoOyBpICs9IDIpIHtcbiAgICAgICAgbGV0IGZyb20gPSBncmFwaC5nZXRWZXJ0ZXhQb3MoZWRnZXNbaV0pO1xuICAgICAgICBsZXQgdG8gPSBncmFwaC5nZXRWZXJ0ZXhQb3MoZWRnZXNbaSArIDFdKTtcbiAgICAgICAgbGV0IG1lc2ggPSBNZXNoLm5ld0N5bGluZGVyKGZyb20sIHRvLCByYWRpdXMsIGRldGFpbCk7XG4gICAgICAgIG1lc2hlcy5wdXNoKG1lc2gpO1xuICAgIH1cblxuICAgIGlmIChpbm5lcikge1xuICAgICAgICBtZXNoZXMucHVzaChNZXNoLmZyb21HcmFwaChncmFwaCkpO1xuICAgIH1cblxuICAgIGxldCBybWVzaCA9IE1lc2guZnJvbUpvaW4obWVzaGVzKS50b1JlbmRlcmFibGUoKTtcbiAgICBybWVzaC5jYWxjdWxhdGVGYWNlTm9ybWFscygpO1xuICAgIHJldHVybiBybWVzaDtcbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./demo/apps/icosahedron-app.ts\n");

/***/ }),

/***/ "./demo/apps/mesh-inspector-app.ts":
/*!*****************************************!*\
  !*** ./demo/apps/mesh-inspector-app.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"MeshInspectorApp\": () => /* binding */ MeshInspectorApp\n/* harmony export */ });\n/* harmony import */ var _src_lib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../src/lib */ \"./src/lib.ts\");\n// name:    shapes-app.ts\r\n// author:  Jos Feenstra\r\n// purpose: test creation of basic mesh shapes. Test UI\r\n\r\nclass MeshInspectorApp extends _src_lib__WEBPACK_IMPORTED_MODULE_0__.App {\r\n    constructor(gl) {\r\n        // setup render env\r\n        super(gl);\r\n        // geo data\r\n        this.plane = _src_lib__WEBPACK_IMPORTED_MODULE_0__.Plane.WorldXY();\r\n        this.geo = [];\r\n        // logic data\r\n        this.size = 10;\r\n        this.cellSize = 0.5;\r\n        this.distance = new _src_lib__WEBPACK_IMPORTED_MODULE_0__.Parameter(\"distance\", 3.0, 0, 4.0, 0.01);\r\n        this.radius = new _src_lib__WEBPACK_IMPORTED_MODULE_0__.Parameter(\"radius\", 1.0, 0, 4.0, 0.01);\r\n        this.detail = new _src_lib__WEBPACK_IMPORTED_MODULE_0__.Parameter(\"detail\", 5, 0, 100, 1);\r\n        this.renderNormals = new _src_lib__WEBPACK_IMPORTED_MODULE_0__.Parameter(\"render normals\", 1, 0, 1, 0); // boolean Param\r\n        this.shademethod = _src_lib__WEBPACK_IMPORTED_MODULE_0__.EnumParameter.new(\"render method\", 0, [\"debug\", \"shaded\"]);\r\n        let canvas = gl.canvas;\r\n        // TODO abstract this to scene\r\n        this.camera = new _src_lib__WEBPACK_IMPORTED_MODULE_0__.Camera(canvas);\r\n        this.camera.z_offset = -10;\r\n        this.camera.angleAlpha = 0.4;\r\n        this.camera.angleBeta = 0.5;\r\n        this.dotRenderer = new _src_lib__WEBPACK_IMPORTED_MODULE_0__.DotRenderer3(gl, 4, [0, 1, 0, 1]);\r\n        this.meshRenderer = new _src_lib__WEBPACK_IMPORTED_MODULE_0__.MeshDebugRenderer(gl, [0.6, 0, 0, 1], [1, 0, 0, 1]);\r\n        this.lineRenderer = new _src_lib__WEBPACK_IMPORTED_MODULE_0__.LineRenderer(gl, [0.3, 0.3, 0.3, 1]);\r\n        this.shadedMeshRenderer = new _src_lib__WEBPACK_IMPORTED_MODULE_0__.ShadedMeshRenderer(gl);\r\n    }\r\n    ui(ui) {\r\n        // TODO : think of a system that ties parameter & slider together fully\r\n        ui.addParameter(this.radius, (value) => {\r\n            this.start();\r\n        });\r\n        ui.addParameter(this.distance, (value) => {\r\n            this.start();\r\n        });\r\n        ui.addParameter(this.detail, (value) => {\r\n            this.start();\r\n        });\r\n        ui.addBooleanParameter(this.renderNormals, (b) => {\r\n            this.start();\r\n        });\r\n        // render methods\r\n        ui.addParameter(this.shademethod, (val) => {\r\n            this.start();\r\n        });\r\n    }\r\n    start() {\r\n        let grid = _src_lib__WEBPACK_IMPORTED_MODULE_0__.LineArray.fromGrid(this.plane.clone().moveTo(new _src_lib__WEBPACK_IMPORTED_MODULE_0__.Vector3(0, 0, -this.radius.get())), 100, 2);\r\n        let spherePerRing = this.detail.get() * 2;\r\n        let rad = this.radius.get();\r\n        let dis = this.distance.get();\r\n        let det = this.detail.get();\r\n        let mesh = _src_lib__WEBPACK_IMPORTED_MODULE_0__.Mesh.fromJoin([\r\n            _src_lib__WEBPACK_IMPORTED_MODULE_0__.Mesh.newSphere(new _src_lib__WEBPACK_IMPORTED_MODULE_0__.Vector3(dis, 0, 0), this.radius.get(), this.detail.get(), spherePerRing),\r\n            // PureMesh.fromCube(new Cube(this.plane, Domain3.fromRadius(this.radius.get()))),\r\n            _src_lib__WEBPACK_IMPORTED_MODULE_0__.Mesh.newCone(new _src_lib__WEBPACK_IMPORTED_MODULE_0__.Vector3(-dis, 0, -this.radius.get()), this.radius.get(), this.radius.get() * 2, spherePerRing),\r\n            _src_lib__WEBPACK_IMPORTED_MODULE_0__.Mesh.newCylinder(new _src_lib__WEBPACK_IMPORTED_MODULE_0__.Vector3(0, 0, -rad), new _src_lib__WEBPACK_IMPORTED_MODULE_0__.Vector3(0, 0, rad), rad, det),\r\n        ]);\r\n        let dmesh = mesh.toRenderable();\r\n        if (this.renderNormals.get() == 1) {\r\n            // dmesh.calculateFaceNormals();\r\n            dmesh.calculateVertexNormals();\r\n        }\r\n        // console.log(new Parameter(\"shadeMethod\",0,0,2,0.5).getNPermutations())\r\n        // let mesh = Mesh.fromCube(new Cube(this.plane, Domain3.fromRadius(1)));\r\n        // console.log(mesh.verts);\r\n        // console.log(mesh.links);\r\n        // TODO abstract this to scene\r\n        if (this.shademethod.get() == 0) {\r\n            this.meshRenderer.set(this.gl, dmesh);\r\n        }\r\n        else {\r\n            this.shadedMeshRenderer.set(this.gl, dmesh);\r\n        }\r\n        this.lineRenderer.set(this.gl, grid);\r\n        // this.dotRenderer.set(mesh.verts, DrawSpeed.StaticDraw);\r\n    }\r\n    update(state) {\r\n        // move the camera with the mouse\r\n        this.camera.update(state);\r\n    }\r\n    draw(gl) {\r\n        // TODO abstract this to 'scene'\r\n        let matrix = this.camera.totalMatrix;\r\n        this.dotRenderer.render(gl, matrix);\r\n        if (this.shademethod.get() == 0) {\r\n            this.meshRenderer.render(gl, this.camera);\r\n        }\r\n        else if (this.shademethod.get() == 1) {\r\n            this.shadedMeshRenderer.render(gl, this.camera);\r\n        }\r\n        this.lineRenderer.render(gl, matrix);\r\n    }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9nZW9uLWVuZ2luZS8uL2RlbW8vYXBwcy9tZXNoLWluc3BlY3Rvci1hcHAudHM/M2YzNyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7OztBQUFBLHlCQUF5QjtBQUN6Qix3QkFBd0I7QUFDeEIsdURBQXVEO0FBa0JoQztBQUVoQixNQUFNLGdCQUFpQixTQUFRLHlDQUFHO0lBdUJyQyxZQUFZLEVBQXlCO1FBQ2pDLG1CQUFtQjtRQUNuQixLQUFLLENBQUMsRUFBRSxDQUFDLENBQUM7UUFqQmQsV0FBVztRQUNYLFVBQUssR0FBVSxtREFBYSxFQUFFLENBQUM7UUFFL0IsUUFBRyxHQUFpQixFQUFFLENBQUM7UUFFdkIsYUFBYTtRQUNiLFNBQUksR0FBRyxFQUFFLENBQUM7UUFDVixhQUFRLEdBQUcsR0FBRyxDQUFDO1FBRWYsYUFBUSxHQUFHLElBQUksK0NBQVMsQ0FBQyxVQUFVLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDeEQsV0FBTSxHQUFHLElBQUksK0NBQVMsQ0FBQyxRQUFRLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDcEQsV0FBTSxHQUFHLElBQUksK0NBQVMsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUM7UUFDL0Msa0JBQWEsR0FBRyxJQUFJLCtDQUFTLENBQUMsZ0JBQWdCLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxnQkFBZ0I7UUFDN0UsZ0JBQVcsR0FBRyx1REFBaUIsQ0FBQyxlQUFlLEVBQUUsQ0FBQyxFQUFFLENBQUMsT0FBTyxFQUFFLFFBQVEsQ0FBQyxDQUFDLENBQUM7UUFLckUsSUFBSSxNQUFNLEdBQUcsRUFBRSxDQUFDLE1BQTJCLENBQUM7UUFFNUMsOEJBQThCO1FBQzlCLElBQUksQ0FBQyxN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RUQsSUFBSSxDQUFDLFlBQVksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLEVBQUUsRUFBRSxJQUFJLENBQUMsQ0FBQztRQUNyQywwREFBMEQ7SUFDOUQsQ0FBQztJQUVELE1BQU0sQ0FBQyxLQUFpQjtRQUNwQixpQ0FBaUM7UUFDakMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDOUIsQ0FBQztJQUVELElBQUksQ0FBQyxFQUF5QjtRQUMxQixnQ0FBZ0M7UUFDaEMsSUFBSSxNQUFNLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxXQUFXLENBQUM7UUFDckMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxNQUFNLENBQUMsRUFBRSxFQUFFLE1BQU0sQ0FBQyxDQUFDO1FBRXBDLElBQUksSUFBSSxDQUFDLFdBQVcsQ0FBQyxHQUFHLEVBQUUsSUFBSSxDQUFDLEVBQUU7WUFDN0IsSUFBSSxDQUFDLFlBQVksQ0FBQyxNQUFNLENBQUMsRUFBRSxFQUFFLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQztTQUM3QzthQUFNLElBQUksSUFBSSxDQUFDLFdBQVcsQ0FBQyxHQUFHLEVBQUUsSUFBSSxDQUFDLEVBQUU7WUFDcEMsSUFBSSxDQUFDLGtCQUFrQixDQUFDLE1BQU0sQ0FBQyxFQUFFLEVBQUUsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1NBQ25EO1FBRUQsSUFBSSxDQUFDLFlBQVksQ0FBQyxNQUFNLENBQUMsRUFBRSxFQUFFLE1BQU0sQ0FBQyxDQUFDO0lBQ3pDLENBQUM7Q0FDSiIsImZpbGUiOiIuL2RlbW8vYXBwcy9tZXNoLWluc3BlY3Rvci1hcHAudHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBuYW1lOiAgICBzaGFwZXMtYXBwLnRzXG4vLyBhdXRob3I6ICBKb3MgRmVlbnN0cmFcbi8vIHB1cnBvc2U6IHRlc3QgY3JlYXRpb24gb2YgYmFzaWMgbWVzaCBzaGFwZXMuIFRlc3QgVUlcblxuaW1wb3J0IHtcbiAgICBBcHAsXG4gICAgQ2FtZXJhLFxuICAgIERvdFJlbmRlcmVyMyxcbiAgICBMaW5lUmVuZGVyZXIsXG4gICAgTWVzaERlYnVnUmVuZGVyZXIsXG4gICAgU2hhZGVkTWVzaFJlbmRlcmVyLFxuICAgIFBsYW5lLFxuICAgIExpbmVBcnJheSxcbiAgICBSZW5kZXJhYmxlLFxuICAgIFBhcmFtZXRlcixcbiAgICBVSSxcbiAgICBWZWN0b3IzLFxuICAgIE1lc2gsXG4gICAgSW5wdXRTdGF0ZSxcbiAgICBFbnVtUGFyYW1ldGVyLFxufSBmcm9tIFwiLi4vLi4vc3JjL2xpYlwiO1xuXG5leHBvcnQgY2xhc3MgTWVzaEluc3BlY3RvckFwcCBleHRlbmRzIEFwcCB7XG4gICAgLy8gcmVuZGVyaW5mb1xuICAgIGNhbWVyYTogQ2FtZXJhO1xuICAgIGRvdFJlbmRlcmVyOiBEb3RSZW5kZXJlcjM7XG4gICAgbGluZVJlbmRlcmVyOiBMaW5lUmVuZGVyZXI7XG4gICAgbWVzaFJlbmRlcmVyOiBNZXNoRGVidWdSZW5kZXJlcjtcbiAgICBzaGFkZWRNZXNoUmVuZGVyZXI6IFNoYWRlZE1lc2hSZW5kZXJlcjtcblxuICAgIC8vIGdlbyBkYXRhXG4gICAgcGxhbmU6IFBsYW5lID0gUGxhbmUuV29ybGRYWSgpO1xuICAgIGdyaWQ/OiBMaW5lQXJyYXk7XG4gICAgZ2VvOiBSZW5kZXJhYmxlW10gPSBbXTtcblxuICAgIC8vIGxvZ2ljIGRhdGFcbiAgICBzaXplID0gMTA7XG4gICAgY2VsbFNpemUgPSAwLjU7XG5cbiAgICBkaXN0YW5jZSA9IG5ldyBQYXJhbWV0ZXIoXCJkaXN0YW5jZVwiLCAzLjAsIDAsIDQuMCwgMC4wMSk7XG4gICAgcmFkaXVzID0gbmV3IFBhcmFtZXRlcihcInJhZGl1c1wiLCAxLjAsIDAsIDQuMCwgMC4wMSk7XG4gICAgZGV0YWlsID0gbmV3IFBhcmFtZXRlcihcImRldGFpbFwiLCA1LCAwLCAxMDAsIDEpO1xuICAgIHJlbmRlck5vcm1hbHMgPSBuZXcgUGFyYW1ldGVyKFwicmVuZGVyIG5vcm1hbHNcIiwgMSwgMCwgMSwgMCk7IC8vIGJvb2xlYW4gUGFyYW1cbiAgICBzaGFkZW1ldGhvZCA9IEVudW1QYXJhbWV0ZXIubmV3KFwicmVuZGVyIG1ldGhvZFwiLCAwLCBbXCJkZWJ1Z1wiLCBcInNoYWRlZFwiXSk7XG5cbiAgICBjb25zdHJ1Y3RvcihnbDogV2ViR0xSZW5kZXJpbmdDb250ZXh0KSB7XG4gICAgICAgIC8vIHNldHVwIHJlbmRlciBlbnZcbiAgICAgICAgc3VwZXIoZ2wpO1xuICAgICAgICBsZXQgY2FudmFzID0gZ2wuY2FudmFzIGFzIEhUTUxDYW52YXNFbGVtZW50O1xuXG4gICAgICAgIC8vIFRPRE8gYWJzdHJhY3QgdGhpcyB0byBzY2VuZVxuICAgICAgICB0aGlzLmNhbWVyYSA9IG5ldyBDYW1lcmEoY2FudmFzKTtcbiAgICAgICAgdGhpcy5jYW1lcmEuel9vZmZzZXQgPSAtMTA7XG4gICAgICAgIHRoaXMuY2FtZXJhLmFuZ2xlQWxwaGEgPSAwLjQ7XG4gICAgICAgIHRoaXMuY2FtZXJhLmFuZ2xlQmV0YSA9IDAuNTtcblxuICAgICAgICB0aGlzLmRvdFJlbmRlcmVyID0gbmV3IERvdFJlbmRlcmVyMyhnbCwgNCwgWzAsIDEsIDAsIDFdKTtcbiAgICAgICAgdGhpcy5tZXNoUmVuZGVyZXIgPSBuZXcgTWVzaERlYnVnUmVuZGVyZXIoZ2wsIFswLjYsIDAsIDAsIDFdLCBbMSwgMCwgMCwgMV0pO1xuICAgICAgICB0aGlzLmxpbmVSZW5kZXJlciA9IG5ldyBMaW5lUmVuZGVyZXIoZ2wsIFswLjMsIDAuMywgMC4zLCAxXSk7XG4gICAgICAgIHRoaXMuc2hhZGVkTWVzaFJlbmRlcmVyID0gbmV3IFNoYWRlZE1lc2hSZW5kZXJlcihnbCk7XG4gICAgfVxuXG4gICAgdWkodWk6IFVJKSB7XG4gICAgICAgIC8vIFRPRE8gOiB0aGluayBvZiBhIHN5c3RlbSB0aGF0IHRpZXMgcGFyYW1ldGVyICYgc2xpZGVyIHRvZ2V0aGVyIGZ1bGx5XG5cbiAgICAgICAgdWkuYWRkUGFyYW1ldGVyKHRoaXMucmFkaXVzLCAodmFsdWUpID0+IHtcbiAgICAgICAgICAgIHRoaXMuc3RhcnQoKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdWkuYWRkUGFyYW1ldGVyKHRoaXMuZGlzdGFuY2UsICh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgdGhpcy5zdGFydCgpO1xuICAgICAgICB9KTtcblxuICAgICAgICB1aS5hZGRQYXJhbWV0ZXIodGhpcy5kZXRhaWwsICh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgdGhpcy5zdGFydCgpO1xuICAgICAgICB9KTtcblxuICAgICAgICB1aS5hZGRCb29sZWFuUGFyYW1ldGVyKHRoaXMucmVuZGVyTm9ybWFscywgKGIpID0+IHtcbiAgICAgICAgICAgIHRoaXMuc3RhcnQoKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gcmVuZGVyIG1ldGhvZHNcbiAgICAgICAgdWkuYWRkUGFyYW1ldGVyKHRoaXMuc2hhZGVtZXRob2QsICh2YWwpID0+IHtcbiAgICAgICAgICAgIHRoaXMuc3RhcnQoKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgc3RhcnQoKSB7XG4gICAgICAgIGxldCBncmlkID0gTGluZUFycmF5LmZyb21HcmlkKFxuICAgICAgICAgICAgdGhpcy5wbGFuZS5jbG9uZSgpLm1vdmVUbyhuZXcgVmVjdG9yMygwLCAwLCAtdGhpcy5yYWRpdXMuZ2V0KCkpKSxcbiAgICAgICAgICAgIDEwMCxcbiAgICAgICAgICAgIDIsXG4gICAgICAgICk7XG4gICAgICAgIGxldCBzcGhlcmVQZXJSaW5nID0gdGhpcy5kZXRhaWwuZ2V0KCkgKiAyO1xuXG4gICAgICAgIGxldCByYWQgPSB0aGlzLnJhZGl1cy5nZXQoKTtcbiAgICAgICAgbGV0IGRpcyA9IHRoaXMuZGlzdGFuY2UuZ2V0KCk7XG4gICAgICAgIGxldCBkZXQgPSB0aGlzLmRldGFpbC5nZXQoKTtcblxuICAgICAgICBsZXQgbWVzaCA9IE1lc2guZnJvbUpvaW4oW1xuICAgICAgICAgICAgTWVzaC5uZXdTcGhlcmUoXG4gICAgICAgICAgICAgICAgbmV3IFZlY3RvcjMoZGlzLCAwLCAwKSxcbiAgICAgICAgICAgICAgICB0aGlzLnJhZGl1cy5nZXQoKSxcbiAgICAgICAgICAgICAgICB0aGlzLmRldGFpbC5nZXQoKSxcbiAgICAgICAgICAgICAgICBzcGhlcmVQZXJSaW5nLFxuICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIC8vIFB1cmVNZXNoLmZyb21DdWJlKG5ldyBDdWJlKHRoaXMucGxhbmUsIERvbWFpbjMuZnJvbVJhZGl1cyh0aGlzLnJhZGl1cy5nZXQoKSkpKSxcbiAgICAgICAgICAgIE1lc2gubmV3Q29uZShcbiAgICAgICAgICAgICAgICBuZXcgVmVjdG9yMygtZGlzLCAwLCAtdGhpcy5yYWRpdXMuZ2V0KCkpLFxuICAgICAgICAgICAgICAgIHRoaXMucmFkaXVzLmdldCgpLFxuICAgICAgICAgICAgICAgIHRoaXMucmFkaXVzLmdldCgpICogMixcbiAgICAgICAgICAgICAgICBzcGhlcmVQZXJSaW5nLFxuICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIE1lc2gubmV3Q3lsaW5kZXIobmV3IFZlY3RvcjMoMCwgMCwgLXJhZCksIG5ldyBWZWN0b3IzKDAsIDAsIHJhZCksIHJhZCwgZGV0KSxcbiAgICAgICAgXSk7XG4gICAgICAgIGxldCBkbWVzaCA9IG1lc2gudG9SZW5kZXJhYmxlKCk7XG5cbiAgICAgICAgaWYgKHRoaXMucmVuZGVyTm9ybWFscy5nZXQoKSA9PSAxKSB7XG4gICAgICAgICAgICAvLyBkbWVzaC5jYWxjdWxhdGVGYWNlTm9ybWFscygpO1xuICAgICAgICAgICAgZG1lc2guY2FsY3VsYXRlVmVydGV4Tm9ybWFscygpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gY29uc29sZS5sb2cobmV3IFBhcmFtZXRlcihcInNoYWRlTWV0aG9kXCIsMCwwLDIsMC41KS5nZXROUGVybXV0YXRpb25zKCkpXG5cbiAgICAgICAgLy8gbGV0IG1lc2ggPSBNZXNoLmZyb21DdWJlKG5ldyBDdWJlKHRoaXMucGxhbmUsIERvbWFpbjMuZnJvbVJhZGl1cygxKSkpO1xuXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKG1lc2gudmVydHMpO1xuICAgICAgICAvLyBjb25zb2xlLmxvZyhtZXNoLmxpbmtzKTtcblxuICAgICAgICAvLyBUT0RPIGFic3RyYWN0IHRoaXMgdG8gc2NlbmVcbiAgICAgICAgaWYgKHRoaXMuc2hhZGVtZXRob2QuZ2V0KCkgPT0gMCkge1xuICAgICAgICAgICAgdGhpcy5tZXNoUmVuZGVyZXIuc2V0KHRoaXMuZ2wsIGRtZXNoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuc2hhZGVkTWVzaFJlbmRlcmVyLnNldCh0aGlzLmdsLCBkbWVzaCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmxpbmVSZW5kZXJlci5zZXQodGhpcy5nbCwgZ3JpZCk7XG4gICAgICAgIC8vIHRoaXMuZG90UmVuZGVyZXIuc2V0KG1lc2gudmVydHMsIERyYXdTcGVlZC5TdGF0aWNEcmF3KTtcbiAgICB9XG5cbiAgICB1cGRhdGUoc3RhdGU6IElucHV0U3RhdGUpIHtcbiAgICAgICAgLy8gbW92ZSB0aGUgY2FtZXJhIHdpdGggdGhlIG1vdXNlXG4gICAgICAgIHRoaXMuY2FtZXJhLnVwZGF0ZShzdGF0ZSk7XG4gICAgfVxuXG4gICAgZHJhdyhnbDogV2ViR0xSZW5kZXJpbmdDb250ZXh0KSB7XG4gICAgICAgIC8vIFRPRE8gYWJzdHJhY3QgdGhpcyB0byAnc2NlbmUnXG4gICAgICAgIGxldCBtYXRyaXggPSB0aGlzLmNhbWVyYS50b3RhbE1hdHJpeDtcbiAgICAgICAgdGhpcy5kb3RSZW5kZXJlci5yZW5kZXIoZ2wsIG1hdHJpeCk7XG5cbiAgICAgICAgaWYgKHRoaXMuc2hhZGVtZXRob2QuZ2V0KCkgPT0gMCkge1xuICAgICAgICAgICAgdGhpcy5tZXNoUmVuZGVyZXIucmVuZGVyKGdsLCB0aGlzLmNhbWVyYSk7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5zaGFkZW1ldGhvZC5nZXQoKSA9PSAxKSB7XG4gICAgICAgICAgICB0aGlzLnNoYWRlZE1lc2hSZW5kZXJlci5yZW5kZXIoZ2wsIHRoaXMuY2FtZXJhKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMubGluZVJlbmRlcmVyLnJlbmRlcihnbCwgbWF0cml4KTtcbiAgICB9XG59XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./demo/apps/mesh-inspector-app.ts\n");

/***/ }),

/***/ "./demo/apps/obj-loader-app.ts":
/*!*************************************!*\
  !*** ./demo/apps/obj-loader-app.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ObjLoaderApp\": () => /* binding */ ObjLoaderApp\n/* harmony export */ });\n/* harmony import */ var _src_lib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../src/lib */ \"./src/lib.ts\");\n// name:    obj-loader-app.ts\r\n// author:  Jos Feenstra\r\n// purpose: drag an obj to the canvas, and view it on the web\r\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\n\r\nclass ObjLoaderApp extends _src_lib__WEBPACK_IMPORTED_MODULE_0__.App {\r\n    constructor(gl) {\r\n        super(gl);\r\n        let canvas = gl.canvas;\r\n        this.dotRenderer = new _src_lib__WEBPACK_IMPORTED_MODULE_0__.DotRenderer3(gl, 4, [0, 0, 1, 1], false);\r\n        this.lineRenderer = new _src_lib__WEBPACK_IMPORTED_MODULE_0__.LineRenderer(gl, [0, 0, 1, 0.5]);\r\n        this.meshRenderer = new _src_lib__WEBPACK_IMPORTED_MODULE_0__.SimpleMeshRenderer(gl, [0, 0, 1, 0.25]);\r\n        this.camera = new _src_lib__WEBPACK_IMPORTED_MODULE_0__.Camera(canvas);\r\n        (0,_src_lib__WEBPACK_IMPORTED_MODULE_0__.addDropFileEventListeners)(canvas, processFiles.bind(this));\r\n    }\r\n    start() {\r\n        // nothing\r\n    }\r\n    update(state) {\r\n        // move the camera with the mouse\r\n        this.camera.update(state);\r\n    }\r\n    draw(gl) {\r\n        // get to-screen matrix\r\n        const canvas = gl.canvas;\r\n        let matrix = this.camera.totalMatrix;\r\n        if (this.obj == undefined)\r\n            this.dotRenderer.setAndRender(gl, matrix, _src_lib__WEBPACK_IMPORTED_MODULE_0__.Vector3Array.fromList([new _src_lib__WEBPACK_IMPORTED_MODULE_0__.Vector3(0, 0, 0), new _src_lib__WEBPACK_IMPORTED_MODULE_0__.Vector3(1, 1, 1)]));\r\n        else {\r\n            this.dotRenderer.setAndRender(gl, matrix, this.obj.mesh.verts);\r\n            // this.meshRenderer.render(gl, matrix);\r\n            this.lineRenderer.render(gl, matrix);\r\n        }\r\n    }\r\n}\r\nfunction processFiles(files) {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        // assume its 1 file, the obj file.\r\n        let file = files[0];\r\n        // see if we can build an correct obj from the files\r\n        let objtext = yield (0,_src_lib__WEBPACK_IMPORTED_MODULE_0__.loadTextFromFile)(file);\r\n        this.obj = (0,_src_lib__WEBPACK_IMPORTED_MODULE_0__.meshFromObj)(objtext);\r\n        this.renderable = _src_lib__WEBPACK_IMPORTED_MODULE_0__.LineArray.fromMesh(this.obj);\r\n        // scale down if too big.\r\n        // NOTE: this could also be done using matrices. Figure that out!\r\n        console.log(\"scaling...\");\r\n        let mesh = this.obj.mesh;\r\n        let bounds = _src_lib__WEBPACK_IMPORTED_MODULE_0__.Domain3.fromInclude(this.obj.mesh.verts);\r\n        let factor = 1 / bounds.size().largestValue();\r\n        // TODO : one line these types of operations?\r\n        // they will be quite common i think...\r\n        let count = this.obj.mesh.verts.count();\r\n        for (let i = 0; i < count; i++) {\r\n            let vec = this.obj.mesh.verts.getVector(i);\r\n            vec.scale(factor);\r\n            this.obj.mesh.verts.setVector(i, vec);\r\n        }\r\n        // let objBounds = Domain3.fromInclude(this.obj.verts);\r\n        // console.log(objBounds);\r\n        // let factor = 100;\r\n        // let smaller = Domain3.fromRadii(\r\n        //     objBounds.x.size() / factor,\r\n        //     objBounds.y.size() / factor,\r\n        //     objBounds.z.size() / factor,\r\n        // );\r\n        // this.obj.verts = objBounds.remapAll(this.obj.verts, smaller);\r\n        console.log(\"done!\");\r\n        // put the data into the render buffers.\r\n        // this.meshRenderer.set(this.gl, this.obj.verts, this.obj.faces);\r\n        this.lineRenderer.set(this.gl, this.renderable, _src_lib__WEBPACK_IMPORTED_MODULE_0__.DrawSpeed.StaticDraw);\r\n    });\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9nZW9uLWVuZ2luZS8uL2RlbW8vYXBwcy9vYmotbG9hZGVyLWFwcC50cz80YjRlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUEsNkJBQTZCO0FBQzdCLHdCQUF3QjtBQUN4Qiw2REFBNkQ7Ozs7Ozs7Ozs7QUFrQnRDO0FBRWhCLE1BQU0sWUFBYSxTQUFRLHlDQUFHO0lBU2pDLFlBQVksRUFBeUI7UUFDakMsS0FBSyxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQ1YsSUFBSSxNQUFNLEdBQUcsRUFBRSxDQUFDLE1BQTJCLENBQUM7UUFDNUMsSUFBSSxDQUFDLFdBQVcsR0FBRyxJQUFJLGtEQUFZLENBQUMsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLEtBQUssQ0FBQyxDQUFDO1FBQ2hFLElBQUksQ0FBQyxZQUFZLEdBQUcsSUFBSSxrREFBWSxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDekQsSUFBSSxDQUFDLFlBQVksR0FBRyxJQUFJLHdEQUFrQixDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDLENBQUM7UUFDaEUsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLDRDQUFNLENBQUMsTUFBTSxDQUFDLENBQUM7UUFFakMsbUVBQXlCLENBQUMsTUFBTSxFQUFFLFlBQVksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQztJQUMvRCxDQUFDO0lBRUQsS0FBSztRQUNELFVBQVU7SUFDZCxDQUFDO0lBRUQsTUFBTSxDQUFDLEtBQWlCO1FBQ3BCLGlDQUFpQztRQUNqQyxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUM5QixDQUFDO0lBRUQsSUFBSSxDQUFD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ZXNDb250ZW50IjpbIi8vIG5hbWU6ICAgIG9iai1sb2FkZXItYXBwLnRzXG4vLyBhdXRob3I6ICBKb3MgRmVlbnN0cmFcbi8vIHB1cnBvc2U6IGRyYWcgYW4gb2JqIHRvIHRoZSBjYW52YXMsIGFuZCB2aWV3IGl0IG9uIHRoZSB3ZWJcblxuaW1wb3J0IHtcbiAgICBBcHAsXG4gICAgRG90UmVuZGVyZXIzLFxuICAgIExpbmVSZW5kZXJlcixcbiAgICBTaW1wbGVNZXNoUmVuZGVyZXIsXG4gICAgQ2FtZXJhLFxuICAgIFJlbmRlcmFibGUsXG4gICAgTGluZUFycmF5LFxuICAgIGFkZERyb3BGaWxlRXZlbnRMaXN0ZW5lcnMsXG4gICAgSW5wdXRTdGF0ZSxcbiAgICBWZWN0b3IzQXJyYXksXG4gICAgVmVjdG9yMyxcbiAgICBsb2FkVGV4dEZyb21GaWxlLFxuICAgIG1lc2hGcm9tT2JqLFxuICAgIERvbWFpbjMsXG4gICAgRHJhd1NwZWVkLFxufSBmcm9tIFwiLi4vLi4vc3JjL2xpYlwiO1xuXG5leHBvcnQgY2xhc3MgT2JqTG9hZGVyQXBwIGV4dGVuZHMgQXBwIHtcbiAgICBkb3RSZW5kZXJlcjogRG90UmVuZGVyZXIzO1xuICAgIGxpbmVSZW5kZXJlcjogTGluZVJlbmRlcmVyO1xuICAgIG1lc2hSZW5kZXJlcjogU2ltcGxlTWVzaFJlbmRlcmVyO1xuICAgIGNhbWVyYTogQ2FtZXJhO1xuXG4gICAgb2JqPzogUmVuZGVyYWJsZTtcbiAgICByZW5kZXJhYmxlPzogTGluZUFycmF5O1xuXG4gICAgY29uc3RydWN0b3IoZ2w6IFdlYkdMUmVuZGVyaW5nQ29udGV4dCkge1xuICAgICAgICBzdXBlcihnbCk7XG4gICAgICAgIGxldCBjYW52YXMgPSBnbC5jYW52YXMgYXMgSFRNTENhbnZhc0VsZW1lbnQ7XG4gICAgICAgIHRoaXMuZG90UmVuZGVyZXIgPSBuZXcgRG90UmVuZGVyZXIzKGdsLCA0LCBbMCwgMCwgMSwgMV0sIGZhbHNlKTtcbiAgICAgICAgdGhpcy5saW5lUmVuZGVyZXIgPSBuZXcgTGluZVJlbmRlcmVyKGdsLCBbMCwgMCwgMSwgMC41XSk7XG4gICAgICAgIHRoaXMubWVzaFJlbmRlcmVyID0gbmV3IFNpbXBsZU1lc2hSZW5kZXJlcihnbCwgWzAsIDAsIDEsIDAuMjVdKTtcbiAgICAgICAgdGhpcy5jYW1lcmEgPSBuZXcgQ2FtZXJhKGNhbnZhcyk7XG5cbiAgICAgICAgYWRkRHJvcEZpbGVFdmVudExpc3RlbmVycyhjYW52YXMsIHByb2Nlc3NGaWxlcy5iaW5kKHRoaXMpKTtcbiAgICB9XG5cbiAgICBzdGFydCgpIHtcbiAgICAgICAgLy8gbm90aGluZ1xuICAgIH1cblxuICAgIHVwZGF0ZShzdGF0ZTogSW5wdXRTdGF0ZSkge1xuICAgICAgICAvLyBtb3ZlIHRoZSBjYW1lcmEgd2l0aCB0aGUgbW91c2VcbiAgICAgICAgdGhpcy5jYW1lcmEudXBkYXRlKHN0YXRlKTtcbiAgICB9XG5cbiAgICBkcmF3KGdsOiBXZWJHTFJlbmRlcmluZ0NvbnRleHQpIHtcbiAgICAgICAgLy8gZ2V0IHRvLXNjcmVlbiBtYXRyaXhcbiAgICAgICAgY29uc3QgY2FudmFzID0gZ2wuY2FudmFzIGFzIEhUTUxDYW52YXNFbGVtZW50O1xuICAgICAgICBsZXQgbWF0cml4ID0gdGhpcy5jYW1lcmEudG90YWxNYXRyaXg7XG5cbiAgICAgICAgaWYgKHRoaXMub2JqID09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHRoaXMuZG90UmVuZGVyZXIuc2V0QW5kUmVuZGVyKFxuICAgICAgICAgICAgICAgIGdsLFxuICAgICAgICAgICAgICAgIG1hdHJpeCxcbiAgICAgICAgICAgICAgICBWZWN0b3IzQXJyYXkuZnJvbUxpc3QoW25ldyBWZWN0b3IzKDAsIDAsIDApLCBuZXcgVmVjdG9yMygxLCAxLCAxKV0pLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmRvdFJlbmRlcmVyLnNldEFuZFJlbmRlcihnbCwgbWF0cml4LCB0aGlzLm9iaiEubWVzaC52ZXJ0cyk7XG4gICAgICAgICAgICAvLyB0aGlzLm1lc2hSZW5kZXJlci5yZW5kZXIoZ2wsIG1hdHJpeCk7XG4gICAgICAgICAgICB0aGlzLmxpbmVSZW5kZXJlci5yZW5kZXIoZ2wsIG1hdHJpeCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmFzeW5jIGZ1bmN0aW9uIHByb2Nlc3NGaWxlcyh0aGlzOiBPYmpMb2FkZXJBcHAsIGZpbGVzOiBGaWxlTGlzdCkge1xuICAgIC8vIGFzc3VtZSBpdHMgMSBmaWxlLCB0aGUgb2JqIGZpbGUuXG4gICAgbGV0IGZpbGUgPSBmaWxlc1swXTtcblxuICAgIC8vIHNlZSBpZiB3ZSBjYW4gYnVpbGQgYW4gY29ycmVjdCBvYmogZnJvbSB0aGUgZmlsZXNcbiAgICBsZXQgb2JqdGV4dCA9IGF3YWl0IGxvYWRUZXh0RnJvbUZpbGUoZmlsZSk7XG4gICAgdGhpcy5vYmogPSBtZXNoRnJvbU9iaihvYmp0ZXh0KTtcbiAgICB0aGlzLnJlbmRlcmFibGUgPSBMaW5lQXJyYXkuZnJvbU1lc2godGhpcy5vYmopO1xuXG4gICAgLy8gc2NhbGUgZG93biBpZiB0b28gYmlnLlxuICAgIC8vIE5PVEU6IHRoaXMgY291bGQgYWxzbyBiZSBkb25lIHVzaW5nIG1hdHJpY2VzLiBGaWd1cmUgdGhhdCBvdXQhXG4gICAgY29uc29sZS5sb2coXCJzY2FsaW5nLi4uXCIpO1xuXG4gICAgbGV0IG1lc2ggPSB0aGlzLm9iai5tZXNoO1xuICAgIGxldCBib3VuZHMgPSBEb21haW4zLmZyb21JbmNsdWRlKHRoaXMub2JqLm1lc2gudmVydHMpO1xuICAgIGxldCBmYWN0b3IgPSAxIC8gYm91bmRzLnNpemUoKS5sYXJnZXN0VmFsdWUoKTtcblxuICAgIC8vIFRPRE8gOiBvbmUgbGluZSB0aGVzZSB0eXBlcyBvZiBvcGVyYXRpb25zP1xuICAgIC8vIHRoZXkgd2lsbCBiZSBxdWl0ZSBjb21tb24gaSB0aGluay4uLlxuICAgIGxldCBjb3VudCA9IHRoaXMub2JqLm1lc2gudmVydHMuY291bnQoKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvdW50OyBpKyspIHtcbiAgICAgICAgbGV0IHZlYyA9IHRoaXMub2JqLm1lc2gudmVydHMuZ2V0VmVjdG9yKGkpO1xuICAgICAgICB2ZWMuc2NhbGUoZmFjdG9yKTtcbiAgICAgICAgdGhpcy5vYmoubWVzaC52ZXJ0cy5zZXRWZWN0b3IoaSwgdmVjKTtcbiAgICB9XG5cbiAgICAvLyBsZXQgb2JqQm91bmRzID0gRG9tYWluMy5mcm9tSW5jbHVkZSh0aGlzLm9iai52ZXJ0cyk7XG4gICAgLy8gY29uc29sZS5sb2cob2JqQm91bmRzKTtcblxuICAgIC8vIGxldCBmYWN0b3IgPSAxMDA7XG4gICAgLy8gbGV0IHNtYWxsZXIgPSBEb21haW4zLmZyb21SYWRpaShcbiAgICAvLyAgICAgb2JqQm91bmRzLnguc2l6ZSgpIC8gZmFjdG9yLFxuICAgIC8vICAgICBvYmpCb3VuZHMueS5zaXplKCkgLyBmYWN0b3IsXG4gICAgLy8gICAgIG9iakJvdW5kcy56LnNpemUoKSAvIGZhY3RvcixcbiAgICAvLyApO1xuICAgIC8vIHRoaXMub2JqLnZlcnRzID0gb2JqQm91bmRzLnJlbWFwQWxsKHRoaXMub2JqLnZlcnRzLCBzbWFsbGVyKTtcbiAgICBjb25zb2xlLmxvZyhcImRvbmUhXCIpO1xuXG4gICAgLy8gcHV0IHRoZSBkYXRhIGludG8gdGhlIHJlbmRlciBidWZmZXJzLlxuICAgIC8vIHRoaXMubWVzaFJlbmRlcmVyLnNldCh0aGlzLmdsLCB0aGlzLm9iai52ZXJ0cywgdGhpcy5vYmouZmFjZXMpO1xuICAgIHRoaXMubGluZVJlbmRlcmVyLnNldCh0aGlzLmdsLCB0aGlzLnJlbmRlcmFibGUsIERyYXdTcGVlZC5TdGF0aWNEcmF3KTtcbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./demo/apps/obj-loader-app.ts\n");

/***/ }),

/***/ "./demo/apps/stat-app.ts":
/*!*******************************!*\
  !*** ./demo/apps/stat-app.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"StatApp\": () => /* binding */ StatApp\n/* harmony export */ });\n/* harmony import */ var _src_lib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../src/lib */ \"./src/lib.ts\");\n\r\nclass StatApp extends _src_lib__WEBPACK_IMPORTED_MODULE_0__.App {\r\n    constructor(gl) {\r\n        super(gl);\r\n        this.dots = [];\r\n        let canvas = gl.canvas;\r\n        this.dotRenderer = new _src_lib__WEBPACK_IMPORTED_MODULE_0__.DotRenderer3(gl, 4, [0, 0, 1, 1], false);\r\n        this.lineRenderer = new _src_lib__WEBPACK_IMPORTED_MODULE_0__.LineRenderer(gl, [0, 0, 1, 0.5]);\r\n        this.meshRenderer = new _src_lib__WEBPACK_IMPORTED_MODULE_0__.SimpleMeshRenderer(gl, [0, 0, 1, 0.25]);\r\n        this.camera = new _src_lib__WEBPACK_IMPORTED_MODULE_0__.Camera(canvas);\r\n    }\r\n    start() {\r\n        // test things\r\n        let a = _src_lib__WEBPACK_IMPORTED_MODULE_0__.FloatMatrix.fromNative([\r\n            [22, 10, 2, 3, 7],\r\n            [14, 7, 10, 0, 8],\r\n            [-1, 13, -1, -11, 3],\r\n            [-3, -2, 13, -2, 4],\r\n            [9, 8, 1, -2, 4],\r\n            [9, 1, -7, 5, -1],\r\n            [2, -6, 6, 5, 1],\r\n            [4, 5, 0, -2, 2],\r\n        ]);\r\n        let data = _src_lib__WEBPACK_IMPORTED_MODULE_0__.Stat.svd(a);\r\n        console.log(data);\r\n        console.log(Math.sqrt(1248), 20, Math.sqrt(384), 0, 0);\r\n    }\r\n    update(state) {\r\n        // move the camera with the mouse\r\n        this.camera.update(state);\r\n    }\r\n    draw(gl) {\r\n        // get to-screen matrix\r\n        const canvas = gl.canvas;\r\n        let matrix = this.camera.totalMatrix;\r\n    }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9nZW9uLWVuZ2luZS8uL2RlbW8vYXBwcy9zdGF0LWFwcC50cz84M2E4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7O0FBWXVCO0FBRWhCLE1BQU0sT0FBUSxTQUFRLHlDQUFHO0lBVzVCLFlBQVksRUFBeUI7UUFDakMsS0FBSyxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBSmQsU0FBSSxHQUFjLEVBQUUsQ0FBQztRQU1qQixJQUFJLE1BQU0sR0FBRyxFQUFFLENBQUMsTUFBMkIsQ0FBQztRQUU1QyxJQUFJLENBQUMsV0FBVyxHQUFHLElBQUksa0RBQVksQ0FBQyxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsS0FBSyxDQUFDLENBQUM7UUFDaEUsSUFBSSxDQUFDLFlBQVksR0FBRyxJQUFJLGtEQUFZLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN6RCxJQUFJLENBQUMsWUFBWSxHQUFHLElBQUksd0RBQWtCLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUMsQ0FBQztRQUNoRSxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksNENBQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQztJQUNyQyxDQUFDO0lBRUQsS0FBSztRQUNELGNBQWM7UUFDZCxJQUFJLENBQUMsR0FBRyw0REFBc0IsQ0FBQztZQUMzQixDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUM7WUFDakIsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1lBQ2pCLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQztZQUNwQixDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUM7WUFDbkIsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUM7WUFDaEIsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztZQUNqQixDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQztZQUNoQixDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQztTQUNuQixDQUFDLENBQUM7UUFFSCxJQUFJLElBQUksR0FBRyw4Q0FBUSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ3ZCLE9BQU8sQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDbEIsT0FBTyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxFQUFFLEVBQUUsRUFBRSxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUMzRCxDQUFDO0lBRUQsTUFBTSxDQUFDLEtBQWlCO1FBQ3BCLGlDQUFpQztRQUNqQyxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUM5QixDQUFDO0lBRUQsSUFBSSxDQUFDLEVBQXlCO1FBQzFCLHVCQUF1QjtRQUN2QixNQUFNLE1BQU0sR0FBRyxFQUFFLENBQUMsTUFBMkIsQ0FBQztRQUM5QyxJQUFJLE1BQU0sR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLFdBQVcsQ0FBQztJQUN6QyxDQUFDO0NBQ0oiLCJmaWxlIjoiLi9kZW1vL2FwcHMvc3RhdC1hcHAudHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICAgIEFwcCxcbiAgICBEb3RSZW5kZXJlcjMsXG4gICAgTGluZVJlbmRlcmVyLFxuICAgIFNpbXBsZU1lc2hSZW5kZXJlcixcbiAgICBDYW1lcmEsXG4gICAgUmVuZGVyYWJsZSxcbiAgICBWZWN0b3IzLFxuICAgIExpbmVBcnJheSxcbiAgICBGbG9hdE1hdHJpeCxcbiAgICBTdGF0LFxuICAgIElucHV0U3RhdGUsXG59IGZyb20gXCIuLi8uLi9zcmMvbGliXCI7XG5cbmV4cG9ydCBjbGFzcyBTdGF0QXBwIGV4dGVuZHMgQXBwIHtcbiAgICBkb3RSZW5kZXJlcjogRG90UmVuZGVyZXIzO1xuICAgIGxpbmVSZW5kZXJlcjogTGluZVJlbmRlcmVyO1xuICAgIG1lc2hSZW5kZXJlcjogU2ltcGxlTWVzaFJlbmRlcmVyO1xuXG4gICAgY2FtZXJhOiBDYW1lcmE7XG5cbiAgICBvYmo/OiBSZW5kZXJhYmxlO1xuICAgIGRvdHM6IFZlY3RvcjNbXSA9IFtdO1xuICAgIHJlbmRlcmFibGU/OiBMaW5lQXJyYXk7XG5cbiAgICBjb25zdHJ1Y3RvcihnbDogV2ViR0xSZW5kZXJpbmdDb250ZXh0KSB7XG4gICAgICAgIHN1cGVyKGdsKTtcblxuICAgICAgICBsZXQgY2FudmFzID0gZ2wuY2FudmFzIGFzIEhUTUxDYW52YXNFbGVtZW50O1xuXG4gICAgICAgIHRoaXMuZG90UmVuZGVyZXIgPSBuZXcgRG90UmVuZGVyZXIzKGdsLCA0LCBbMCwgMCwgMSwgMV0sIGZhbHNlKTtcbiAgICAgICAgdGhpcy5saW5lUmVuZGVyZXIgPSBuZXcgTGluZVJlbmRlcmVyKGdsLCBbMCwgMCwgMSwgMC41XSk7XG4gICAgICAgIHRoaXMubWVzaFJlbmRlcmVyID0gbmV3IFNpbXBsZU1lc2hSZW5kZXJlcihnbCwgWzAsIDAsIDEsIDAuMjVdKTtcbiAgICAgICAgdGhpcy5jYW1lcmEgPSBuZXcgQ2FtZXJhKGNhbnZhcyk7XG4gICAgfVxuXG4gICAgc3RhcnQoKSB7XG4gICAgICAgIC8vIHRlc3QgdGhpbmdzXG4gICAgICAgIGxldCBhID0gRmxvYXRNYXRyaXguZnJvbU5hdGl2ZShbXG4gICAgICAgICAgICBbMjIsIDEwLCAyLCAzLCA3XSxcbiAgICAgICAgICAgIFsxNCwgNywgMTAsIDAsIDhdLFxuICAgICAgICAgICAgWy0xLCAxMywgLTEsIC0xMSwgM10sXG4gICAgICAgICAgICBbLTMsIC0yLCAxMywgLTIsIDRdLFxuICAgICAgICAgICAgWzksIDgsIDEsIC0yLCA0XSxcbiAgICAgICAgICAgIFs5LCAxLCAtNywgNSwgLTFdLFxuICAgICAgICAgICAgWzIsIC02LCA2LCA1LCAxXSxcbiAgICAgICAgICAgIFs0LCA1LCAwLCAtMiwgMl0sXG4gICAgICAgIF0pO1xuXG4gICAgICAgIGxldCBkYXRhID0gU3RhdC5zdmQoYSk7XG4gICAgICAgIGNvbnNvbGUubG9nKGRhdGEpO1xuICAgICAgICBjb25zb2xlLmxvZyhNYXRoLnNxcnQoMTI0OCksIDIwLCBNYXRoLnNxcnQoMzg0KSwgMCwgMCk7XG4gICAgfVxuXG4gICAgdXBkYXRlKHN0YXRlOiBJbnB1dFN0YXRlKSB7XG4gICAgICAgIC8vIG1vdmUgdGhlIGNhbWVyYSB3aXRoIHRoZSBtb3VzZVxuICAgICAgICB0aGlzLmNhbWVyYS51cGRhdGUoc3RhdGUpO1xuICAgIH1cblxuICAgIGRyYXcoZ2w6IFdlYkdMUmVuZGVyaW5nQ29udGV4dCkge1xuICAgICAgICAvLyBnZXQgdG8tc2NyZWVuIG1hdHJpeFxuICAgICAgICBjb25zdCBjYW52YXMgPSBnbC5jYW52YXMgYXMgSFRNTENhbnZhc0VsZW1lbnQ7XG4gICAgICAgIGxldCBtYXRyaXggPSB0aGlzLmNhbWVyYS50b3RhbE1hdHJpeDtcbiAgICB9XG59XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./demo/apps/stat-app.ts\n");

/***/ }),

/***/ "./demo/apps/subdivide-app.ts":
/*!************************************!*\
  !*** ./demo/apps/subdivide-app.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"StalbergApp\": () => /* binding */ StalbergApp\n/* harmony export */ });\n/* harmony import */ var _src_lib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../src/lib */ \"./src/lib.ts\");\n/* harmony import */ var _src_render_graph_debug_renderer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../src/render/graph-debug-renderer */ \"./src/render/graph-debug-renderer.ts\");\n/* harmony import */ var _src_system_stopwatch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../src/system/stopwatch */ \"./src/system/stopwatch.ts\");\n// TODO\r\n// - improve quadification: less triangles!\r\n// - improve squarification: speed & equal sizes\r\n\r\n\r\n\r\nclass StalbergApp extends _src_lib__WEBPACK_IMPORTED_MODULE_0__.App {\r\n    constructor(gl) {\r\n        super(gl);\r\n        this.description = \"Setup for trying out different partitions of a sphere.\" +\r\n            \"Based on Oskar Stalberg's irregular quad grid\";\r\n        this.radius = 0.1;\r\n        this.smoothlimit = 0;\r\n        let canvas = gl.canvas;\r\n        this.camera = new _src_lib__WEBPACK_IMPORTED_MODULE_0__.Camera(canvas, 1, true);\r\n        this.meshRend = new _src_lib__WEBPACK_IMPORTED_MODULE_0__.ShadedMeshRenderer(gl);\r\n        this.debugRend = new _src_lib__WEBPACK_IMPORTED_MODULE_0__.MeshDebugRenderer(gl, [0.5, 0, 0, 1], [1, 0, 0, 1], false);\r\n        this.graphRend = new _src_render_graph_debug_renderer__WEBPACK_IMPORTED_MODULE_1__.GraphDebugRenderer(gl, [0.5, 0, 0, 1], [1, 0, 0, 1]);\r\n    }\r\n    ui(ui) {\r\n        let reset = () => {\r\n            // this.rotate.set(0);\r\n            this.start();\r\n        };\r\n        this.rotate = new _src_lib__WEBPACK_IMPORTED_MODULE_0__.Parameter(\"rotate\", 0, 0, 1, 1);\r\n        this.randomEdges = new _src_lib__WEBPACK_IMPORTED_MODULE_0__.Parameter(\"randomEdges\", 1, 0, 1, 1);\r\n        this.smooth = new _src_lib__WEBPACK_IMPORTED_MODULE_0__.Parameter(\"smooth\", 0, 0, 1, 1);\r\n        this.subCount = new _src_lib__WEBPACK_IMPORTED_MODULE_0__.Parameter(\"sub count\", 2, 0, 4, 1);\r\n        this.quadSubCount = new _src_lib__WEBPACK_IMPORTED_MODULE_0__.Parameter(\"sub count quad\", 1, 0, 2, 1);\r\n        this.liftType = _src_lib__WEBPACK_IMPORTED_MODULE_0__.EnumParameter.new(\"lift type\", 1, [\"none\", \"sphere\", \"buggy\"]);\r\n        ui.addBooleanParameter(this.rotate);\r\n        ui.addBooleanParameter(this.randomEdges, reset);\r\n        ui.addBooleanParameter(this.smooth);\r\n        ui.addParameter(this.subCount, reset);\r\n        ui.addParameter(this.quadSubCount, reset);\r\n        ui.addParameter(this.liftType, reset);\r\n        ui.addButton(\"recalculate\", reset);\r\n    }\r\n    start() {\r\n        let liftType = this.liftType.get();\r\n        // 0 | setup\r\n        const mesh = _src_lib__WEBPACK_IMPORTED_MODULE_0__.Mesh.newIcosahedron(0.5);\r\n        let graph = mesh.toGraph();\r\n        let center = new _src_lib__WEBPACK_IMPORTED_MODULE_0__.Vector3(0, 0, 0);\r\n        this.smoothlimit = 0;\r\n        if (liftType == 2) {\r\n            this.radius = 1;\r\n        }\r\n        else {\r\n            this.radius = graph.getVertexPos(0).disTo(center);\r\n        }\r\n        // DEBUG: PERFORMANCE\r\n        console.log(\"lets start subdivisions!\");\r\n        let stopwatch = _src_system_stopwatch__WEBPACK_IMPORTED_MODULE_2__.Stopwatch.new();\r\n        // 1 | subdivide\r\n        for (let i = 0; i < this.subCount.get(); i++) {\r\n            graph.subdivide();\r\n            // lift to sphere after every subdivision\r\n            if (liftType > 0) {\r\n                let count = graph.getVertexCount();\r\n                for (let i = 0; i < count; i++) {\r\n                    let pos = graph.getVertexPos(i);\r\n                    let normal = pos;\r\n                    let dis = center.disTo(pos);\r\n                    let lift = this.radius - dis;\r\n                    if (liftType > 1) {\r\n                        pos.add(normal.scaled(lift));\r\n                    }\r\n                    else {\r\n                        pos.add(normal.normalized().scaled(lift));\r\n                    }\r\n                }\r\n                console.log(\"lift in \", stopwatch.time(), \"ms\");\r\n            }\r\n        }\r\n        // DEBUG: PERFORMANCE\r\n        console.log(\"subdivision in \", stopwatch.time(), \"ms\");\r\n        // 2 | remove random edges\r\n        if (this.randomEdges.get() == 1) {\r\n            quadification(graph);\r\n            // graph.print();\r\n            // 2 | remove random edges\r\n            // let edges = graph.all();\r\n            // let picks: number[] = [];\r\n            // let pickCount = 100;\r\n            // for (let i = 0 ; i < pickCount; i++) {\r\n            //     let p = randomInt(edges.length);\r\n            //     picks.push(edges[p]);\r\n            // }\r\n            // // // console.log(picks);\r\n            // for (let i = 0 ; i < edges.length; i++) {\r\n            //     if (Math.random() > 0.0) {\r\n            //         let ei = edges[i];\r\n            //         let loops = graph.getLoopsAdjacentToEdge(ei);\r\n            //         if (loops[0].length == 3 && loops[1].length == 3) {\r\n            //             graph.deleteEdgeFromIndex(edges[i]);\r\n            //         }\r\n            //     }\r\n            // }\r\n        }\r\n        console.log(\"edge removal in \", stopwatch.time(), \"ms\");\r\n        // 3 | subdivide quad\r\n        for (let i = 0; i < this.quadSubCount.get(); i++) {\r\n            graph.subdivideQuad();\r\n        }\r\n        // DEBUG: PERFORMANCE\r\n        console.log(\"quad subdivision in \", stopwatch.time(), \"ms\");\r\n        // lift to sphere after every subdivision\r\n        if (liftType > 0) {\r\n            let count = graph.getVertexCount();\r\n            for (let i = 0; i < count; i++) {\r\n                let pos = graph.getVertexPos(i);\r\n                let normal = graph.getVertexNormal(i);\r\n                let dis = center.disTo(pos);\r\n                let lift = this.radius - dis;\r\n                if (liftType > 1) {\r\n                    pos.add(normal.scaled(lift));\r\n                }\r\n                else {\r\n                    pos.add(normal.normalized().scaled(lift));\r\n                }\r\n            }\r\n            console.log(\"lift in \", stopwatch.time(), \"ms\");\r\n        }\r\n        // 4 | quad relaxation\r\n        this.graph = graph;\r\n        // this.rend = this.graph.toRenderable();\r\n        // this.rend = graphToMultiMesh(this.graph, 0.02, 3, false, true);\r\n        // this.rend.calculateVertexNormals();\r\n        // console.log(\"num triangles = \", this.rend.mesh.links.count());\r\n        // console.log(\"to renderable in \", stopwatch.time(), \"ms\");\r\n        // this.graph.print();\r\n        // let loops = graph.allVertLoopsAsInts();\r\n        // console.log(\"allVertLoops in \", stopwatch.time(), \"ms\");\r\n        //console.log(loops);\r\n        // 5 | convert\r\n        if (liftType == 1) {\r\n            let somesphere = _src_lib__WEBPACK_IMPORTED_MODULE_0__.Mesh.newSphere(_src_lib__WEBPACK_IMPORTED_MODULE_0__.Vector3.zero(), this.radius * 0.99, 6, 10).toRenderable();\r\n            somesphere.calculateVertexNormals();\r\n            this.meshRend.set(this.gl, somesphere, _src_lib__WEBPACK_IMPORTED_MODULE_0__.DrawSpeed.StaticDraw);\r\n        }\r\n        else if (liftType == 0) {\r\n            let something = mesh.toRenderable();\r\n            something.transform(_src_lib__WEBPACK_IMPORTED_MODULE_0__.Matrix4.newScaler(0.99, 0.99, 0.99));\r\n            something.calculateFaceNormals();\r\n            this.meshRend.set(this.gl, something, _src_lib__WEBPACK_IMPORTED_MODULE_0__.DrawSpeed.StaticDraw);\r\n        }\r\n        this.graphRend.set(this.graph, _src_lib__WEBPACK_IMPORTED_MODULE_0__.DrawSpeed.DynamicDraw);\r\n        this.average = _averageEdgeLength(this.graph);\r\n        // console.log(\"edges: \", this.graph.allEdges());\r\n        // console.log(\"loops: \", this.graph.allVertLoops());\r\n    }\r\n    update(state) {\r\n        this.camera.update(state);\r\n        if (!state.mouseRightDown && this.rotate.get() == 1) {\r\n            // rotate\r\n            let alpha = 0.0001 * state.tick;\r\n            let rot = _src_lib__WEBPACK_IMPORTED_MODULE_0__.Matrix4.newXRotation(alpha).multiply(_src_lib__WEBPACK_IMPORTED_MODULE_0__.Matrix4.newYRotation(alpha));\r\n            this.graph.transform(rot);\r\n        }\r\n        // sucessive over relaxation\r\n        if (this.smooth.get() == 1) {\r\n            if (this.smoothlimit < 1000) {\r\n                // squarification smoother\r\n                this.cca = squarification(this.graph, this.cca);\r\n                // this.cca = this.squarification(this.graph);\r\n                // console.log(this.cca);\r\n                _laPlacian(this.graph);\r\n                // project back to sphere\r\n                this.graph.verts.forEach((v) => {\r\n                    let normal = v.pos;\r\n                    let lift = this.radius - v.pos.length();\r\n                    v.pos.add(normal.normalized().scaled(lift));\r\n                });\r\n                this.smoothlimit += 1;\r\n            }\r\n        }\r\n        else {\r\n            this.smoothlimit = 0;\r\n        }\r\n        this.graphRend.set(this.graph, _src_lib__WEBPACK_IMPORTED_MODULE_0__.DrawSpeed.DynamicDraw);\r\n    }\r\n    draw(gl) {\r\n        this.camera.updateMatrices(gl.canvas);\r\n        this.meshRend.render(gl, this.camera);\r\n        this.graphRend.render(gl, this.camera);\r\n    }\r\n}\r\nfunction _averageEdgeLength(graph) {\r\n    let count = 0;\r\n    let sum = 0;\r\n    graph.forEveryEdgeVerts((a, b) => {\r\n        sum += a.disTo(b);\r\n        count += 1;\r\n    });\r\n    let average = sum / count;\r\n    return average;\r\n}\r\nfunction _edgeSmooth(graph, average, scale) {\r\n    graph.forEveryEdgeVerts((a, b) => {\r\n        let distance = a.disTo(b);\r\n        let diff = average - distance;\r\n        let vector = b.subbed(a);\r\n        a.add(vector.scaled(-diff * scale));\r\n        b.add(vector.scaled(diff * scale));\r\n    });\r\n}\r\nfunction _laPlacian(graph) {\r\n    let count = graph.getVertexCount();\r\n    let news = [];\r\n    // get center of nbs\r\n    for (let vi = 0; vi < count; vi++) {\r\n        let v = graph.getVert(vi);\r\n        if (v.dead)\r\n            continue;\r\n        let sum = _src_lib__WEBPACK_IMPORTED_MODULE_0__.Vector3.zero();\r\n        let nbs = graph.getVertNeighbors(vi);\r\n        for (let nb of nbs) {\r\n            sum.add(graph.getVertexPos(nb));\r\n        }\r\n        sum.scale(1 / nbs.length);\r\n        news.push(sum);\r\n    }\r\n    // set\r\n    for (let vi = 0; vi < count; vi++) {\r\n        graph.getVertexPos(vi).copy(news[vi]);\r\n    }\r\n}\r\nfunction squarification(graph, centerCornerAverage) {\r\n    // make the quad graph as 'square' as possible\r\n    // prepare\r\n    let faces = graph.allVertLoopsAsInts();\r\n    let count = faces.length;\r\n    let centers = new Array(count);\r\n    let movers = new Array(graph.verts.length);\r\n    let counters = new Array(graph.verts.length);\r\n    for (let i = 0; i < movers.length; i++) {\r\n        movers[i] = _src_lib__WEBPACK_IMPORTED_MODULE_0__.Vector3.new(0, 0, 0);\r\n        counters[i] = 0;\r\n    }\r\n    let cca = 0;\r\n    // iterate per face\r\n    for (let i = 0; i < count; i++) {\r\n        // get face, center and corners\r\n        let center = centers[i];\r\n        let face = faces[i];\r\n        let faceCount = face.length;\r\n        if (face.length == 0) {\r\n            throw \"HELP, WE ARE NOT DEALING WITH QUADS HERE!\";\r\n        }\r\n        center = _src_lib__WEBPACK_IMPORTED_MODULE_0__.Vector3.new(0, 0, 0);\r\n        let corners = new Array(faceCount);\r\n        for (let j = 0; j < faceCount; j++) {\r\n            let vi = face[j];\r\n            corners[j] = graph.getVertexPos(vi);\r\n            center.add(corners[j]);\r\n        }\r\n        center.scale(1 / faceCount);\r\n        // now that we have center, calculate cca\r\n        let local_cca = 0;\r\n        for (let j = 0; j < faceCount; j++) {\r\n            local_cca = center.disTo(corners[j]);\r\n        }\r\n        local_cca /= faceCount;\r\n        cca += local_cca;\r\n        // but use the given one if present\r\n        let scaler;\r\n        let cca_diff;\r\n        if (centerCornerAverage) {\r\n            scaler = centerCornerAverage;\r\n            cca_diff = centerCornerAverage - local_cca;\r\n        }\r\n        else {\r\n            scaler = local_cca;\r\n            cca_diff = 0;\r\n        }\r\n        // rotate all corners into the same space, and get the average of that\r\n        // TODO SAVE TIME BY DOING THIS:\r\n        // new Vector2(v.dot(ihat), v.dot(jhat)).angle()\r\n        let plane = _src_lib__WEBPACK_IMPORTED_MODULE_0__.Plane.from3pt(center, corners[0], corners[1]);\r\n        let normedCorners = new Array(face.length);\r\n        let normedCenter = _src_lib__WEBPACK_IMPORTED_MODULE_0__.Vector3.new(0, 0, 0);\r\n        let delta = 2 / faceCount;\r\n        for (let j = 0; j < faceCount; j++) {\r\n            normedCorners[j] = plane.rotateVector(corners[j], j * Math.PI * delta);\r\n            normedCenter.add(normedCorners[j]);\r\n        }\r\n        // scale this averaged to the center corner average\r\n        normedCenter.scale(1 / 4);\r\n        let normal = normedCenter.subbed(center).normalize();\r\n        let perfectCorner = center.added(normal.scaled(local_cca));\r\n        // increate gunfactor if square is very small (awww)\r\n        let gunfactor = 1;\r\n        let equalizer = 200;\r\n        gunfactor += Math.max(-1 * cca_diff * equalizer, 0);\r\n        // console.log(gunfactor);\r\n        // rotate this average back, and add it to the movers of every vertex\r\n        for (let j = 0; j < faceCount; j++) {\r\n            let vi = face[j];\r\n            let v = plane.rotateVector(perfectCorner, j * Math.PI * delta);\r\n            movers[vi].add(v.scaled(gunfactor));\r\n            counters[vi] += 1;\r\n        }\r\n    }\r\n    // now, move the graph\r\n    for (let i = 0; i < movers.length; i++) {\r\n        let mover = movers[i];\r\n        let counter = counters[i];\r\n        if (counter < 1) {\r\n            continue;\r\n        }\r\n        let v = graph.getVertexPos(i);\r\n        v.add(mover.scale(1 / counter));\r\n    }\r\n    // return the center corner average, to be used in the next cycle\r\n    cca /= count;\r\n    return cca;\r\n}\r\nfunction quadification(graph) {\r\n    // edge deletion heuristic:\r\n    // remove edges between two triangles to create a quad.\r\n    // keep removing edges until no triangle neighbors another triangle.\r\n    // prepare\r\n    let count = graph.edges.length;\r\n    let edgeIds = new Array(count);\r\n    let visited = new Array(count);\r\n    graph.edges.forEach((e, i) => {\r\n        edgeIds[i] = i;\r\n        visited[i] = false;\r\n    });\r\n    // shuffle\r\n    let shuffler = (a, b) => {\r\n        return 0.5 - Math.random();\r\n    };\r\n    edgeIds.sort(shuffler);\r\n    // per edge\r\n    for (let i = 0; i < count; i++) {\r\n        let ei = edgeIds[i];\r\n        let e = graph.edges[ei];\r\n        if (e.dead || visited[ei]) {\r\n            continue;\r\n        }\r\n        let loops = graph.getLoopsAdjacentToEdge(ei);\r\n        // only delete edges between triangles\r\n        if (loops[0].length > 3 || loops[1].length > 3) {\r\n            continue;\r\n        }\r\n        // the edges of this new quad should not be touched!\r\n        for (let loop of loops) {\r\n            for (let edgeIndex of loop) {\r\n                visited[edgeIndex] = true;\r\n            }\r\n        }\r\n        // now remove this edge itself\r\n        graph.deleteEdgeByIndex(ei);\r\n    }\r\n}\r\nfunction randomInt(max) {\r\n    return Math.floor(Math.random() * max);\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9nZW9uLWVuZ2luZS8uL2RlbW8vYXBwcy9zdWJkaXZpZGUtYXBwLnRzP2VjMTkiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBLE9BQU87QUFDUCwyQ0FBMkM7QUFDM0MsZ0RBQWdEO0FBc0J6QjtBQUVvRDtBQUNwQjtBQUdoRCxNQUFNLFdBQVksU0FBUSx5Q0FBRztJQTBCaEMsWUFBWSxFQUF5QjtRQUNqQyxLQUFLLENBQUMsRUFBRSxDQUFDLENBQUM7UUExQmQsZ0JBQVcsR0FDUCx3REFBd0Q7WUFDeEQsK0NBQStDLENBQUM7UUFjcEQsV0FBTSxHQUFHLEdBQUcsQ0FBQztRQU1iLGdCQUFXLEdBQUcsQ0FBQyxDQUFDO1FBS1osSUFBSSxNQUFNLEdBQUcsRUFBRSxDQUFDLE1BQTJCLENBQUM7UUFDNUMsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLDRDQUFNLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQztRQUMxQyxJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksd0RBQWtCLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDM0MsSUFBSSxDQUFDLFNBQVMsR0FBRyxJQUFJLHVEQUFpQixDQUFDLEVBQUUsRUFBRSxDQUFDLEdBQUcsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsS0FBSyxDQUFDLENBQUM7UUFDaEYsSUFBSSxDQUFDLFNBQVMsR0FBRyxJQUFJLGdGQUFrQixDQUFDLEVBQUUsRUFBRSxDQUFDLEdBQUcsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUM5RSxDQUFDO0lBRUQsRUFBRSxDQUFDLEVBQU07UUFDTCxJQUFJLEtBQUssR0FBRyxHQUFHLEVBQUU7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QUM1QixJQUFJLEVBQUUsR0FBRyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDcEIsSUFBSSxDQUFDLEdBQUcsS0FBSyxDQUFDLEtBQUssQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUN4QixJQUFJLENBQUMsQ0FBQyxJQUFJLElBQUksT0FBTyxDQUFDLEVBQUUsQ0FBQyxFQUFFO1lBQ3ZCLFNBQVM7U0FDWjtRQUVELElBQUksS0FBSyxHQUFHLEtBQUssQ0FBQyxzQkFBc0IsQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUU3QyxzQ0FBc0M7UUFFdEMsSUFBSSxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsTUFBTSxHQUFHLENBQUMsSUFBSSxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsTUFBTSxHQUFHLENBQUMsRUFBRTtZQUM1QyxTQUFTO1NBQ1o7UUFFRCxvREFBb0Q7UUFDcEQsS0FBSyxJQUFJLElBQUksSUFBSSxLQUFLLEVBQUU7WUFDcEIsS0FBSyxJQUFJLFNBQVMsSUFBSSxJQUFJLEVBQUU7Z0JBQ3hCLE9BQU8sQ0FBQyxTQUFTLENBQUMsR0FBRyxJQUFJLENBQUM7YUFDN0I7U0FDSjtRQUVELDhCQUE4QjtRQUM5QixLQUFLLENBQUMsaUJBQWlCLENBQUMsRUFBRSxDQUFDLENBQUM7S0FDL0I7QUFDTCxDQUFDO0FBRUQsU0FBUyxTQUFTLENBQUMsR0FBVztJQUMxQixPQUFPLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBRSxHQUFHLEdBQUcsQ0FBQyxDQUFDO0FBQzNDLENBQUMiLCJmaWxlIjoiLi9kZW1vL2FwcHMvc3ViZGl2aWRlLWFwcC50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIFRPRE9cbi8vIC0gaW1wcm92ZSBxdWFkaWZpY2F0aW9uOiBsZXNzIHRyaWFuZ2xlcyFcbi8vIC0gaW1wcm92ZSBzcXVhcmlmaWNhdGlvbjogc3BlZWQgJiBlcXVhbCBzaXplc1xuXG5pbXBvcnQge1xuICAgIEFwcCxcbiAgICBDYW1lcmEsXG4gICAgU2hhZGVkTWVzaFJlbmRlcmVyLFxuICAgIFBhcmFtZXRlcixcbiAgICBHcmFwaCxcbiAgICBSZW5kZXJhYmxlLFxuICAgIFZlY3RvcjMsXG4gICAgVUksXG4gICAgSW5wdXRTdGF0ZSxcbiAgICBNYXRyaXg0LFxuICAgIERyYXdTcGVlZCxcbiAgICBNZXNoLFxuICAgIEN1YmUsXG4gICAgUGxhbmUsXG4gICAgRG9tYWluMyxcbiAgICBNZXNoRGVidWdSZW5kZXJlcixcbiAgICBWZXJ0SW5kZXgsXG4gICAgRWRnZUluZGV4LFxuICAgIEVudW1QYXJhbWV0ZXIsXG59IGZyb20gXCIuLi8uLi9zcmMvbGliXCI7XG5cbmltcG9ydCB7IEdyYXBoRGVidWdSZW5kZXJlciB9IGZyb20gXCIuLi8uLi9zcmMvcmVuZGVyL2dyYXBoLWRlYnVnLXJlbmRlcmVyXCI7XG5pbXBvcnQgeyBTdG9wd2F0Y2ggfSBmcm9tIFwiLi4vLi4vc3JjL3N5c3RlbS9zdG9wd2F0Y2hcIjtcbmltcG9ydCB7IGdyYXBoVG9NdWx0aU1lc2ggfSBmcm9tIFwiLi9pY29zYWhlZHJvbi1hcHBcIjtcblxuZXhwb3J0IGNsYXNzIFN0YWxiZXJnQXBwIGV4dGVuZHMgQXBwIHtcbiAgICBkZXNjcmlwdGlvbiA9XG4gICAgICAgIFwiU2V0dXAgZm9yIHRyeWluZyBvdXQgZGlmZmVyZW50IHBhcnRpdGlvbnMgb2YgYSBzcGhlcmUuXCIgK1xuICAgICAgICBcIkJhc2VkIG9uIE9za2FyIFN0YWxiZXJnJ3MgaXJyZWd1bGFyIHF1YWQgZ3JpZFwiO1xuXG4gICAgY2FtZXJhOiBDYW1lcmE7XG4gICAgbWVzaFJlbmQ6IFNoYWRlZE1lc2hSZW5kZXJlcjtcbiAgICBkZWJ1Z1JlbmQ6IE1lc2hEZWJ1Z1JlbmRlcmVyO1xuICAgIGdyYXBoUmVuZDogR3JhcGhEZWJ1Z1JlbmRlcmVyO1xuXG4gICAgcm90YXRlITogUGFyYW1ldGVyO1xuICAgIGlubmVyITogUGFyYW1ldGVyO1xuICAgIHN1YkNvdW50ITogUGFyYW1ldGVyO1xuICAgIHF1YWRTdWJDb3VudCE6IFBhcmFtZXRlcjtcbiAgICBsaWZ0VHlwZSE6IEVudW1QYXJhbWV0ZXI7XG4gICAgcmFuZG9tRWRnZXMhOiBQYXJhbWV0ZXI7XG5cbiAgICByYWRpdXMgPSAwLjE7XG5cbiAgICBncmFwaCE6IEdyYXBoO1xuICAgIHJlbmQhOiBSZW5kZXJhYmxlO1xuICAgIGF2ZXJhZ2UhOiBudW1iZXI7XG4gICAgc21vb3RoITogUGFyYW1ldGVyO1xuICAgIHNtb290aGxpbWl0ID0gMDtcbiAgICBjY2E/OiBudW1iZXI7XG5cbiAgICBjb25zdHJ1Y3RvcihnbDogV2ViR0xSZW5kZXJpbmdDb250ZXh0KSB7XG4gICAgICAgIHN1cGVyKGdsKTtcbiAgICAgICAgbGV0IGNhbnZhcyA9IGdsLmNhbnZhcyBhcyBIVE1MQ2FudmFzRWxlbWVudDtcbiAgICAgICAgdGhpcy5jYW1lcmEgPSBuZXcgQ2FtZXJhKGNhbnZhcywgMSwgdHJ1ZSk7XG4gICAgICAgIHRoaXMubWVzaFJlbmQgPSBuZXcgU2hhZGVkTWVzaFJlbmRlcmVyKGdsKTtcbiAgICAgICAgdGhpcy5kZWJ1Z1JlbmQgPSBuZXcgTWVzaERlYnVnUmVuZGVyZXIoZ2wsIFswLjUsIDAsIDAsIDFdLCBbMSwgMCwgMCwgMV0sIGZhbHNlKTtcbiAgICAgICAgdGhpcy5ncmFwaFJlbmQgPSBuZXcgR3JhcGhEZWJ1Z1JlbmRlcmVyKGdsLCBbMC41LCAwLCAwLCAxXSwgWzEsIDAsIDAsIDFdKTtcbiAgICB9XG5cbiAgICB1aSh1aTogVUkpIHtcbiAgICAgICAgbGV0IHJlc2V0ID0gKCkgPT4ge1xuICAgICAgICAgICAgLy8gdGhpcy5yb3RhdGUuc2V0KDApO1xuICAgICAgICAgICAgdGhpcy5zdGFydCgpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHRoaXMucm90YXRlID0gbmV3IFBhcmFtZXRlcihcInJvdGF0ZVwiLCAwLCAwLCAxLCAxKTtcbiAgICAgICAgdGhpcy5yYW5kb21FZGdlcyA9IG5ldyBQYXJhbWV0ZXIoXCJyYW5kb21FZGdlc1wiLCAxLCAwLCAxLCAxKTtcbiAgICAgICAgdGhpcy5zbW9vdGggPSBuZXcgUGFyYW1ldGVyKFwic21vb3RoXCIsIDAsIDAsIDEsIDEpO1xuICAgICAgICB0aGlzLnN1YkNvdW50ID0gbmV3IFBhcmFtZXRlcihcInN1YiBjb3VudFwiLCAyLCAwLCA0LCAxKTtcbiAgICAgICAgdGhpcy5xdWFkU3ViQ291bnQgPSBuZXcgUGFyYW1ldGVyKFwic3ViIGNvdW50IHF1YWRcIiwgMSwgMCwgMiwgMSk7XG4gICAgICAgIHRoaXMubGlmdFR5cGUgPSBFbnVtUGFyYW1ldGVyLm5ldyhcImxpZnQgdHlwZVwiLCAxLCBbXCJub25lXCIsIFwic3BoZXJlXCIsIFwiYnVnZ3lcIl0pO1xuXG4gICAgICAgIHVpLmFkZEJvb2xlYW5QYXJhbWV0ZXIodGhpcy5yb3RhdGUpO1xuICAgICAgICB1aS5hZGRCb29sZWFuUGFyYW1ldGVyKHRoaXMucmFuZG9tRWRnZXMsIHJlc2V0KTtcbiAgICAgICAgdWkuYWRkQm9vbGVhblBhcmFtZXRlcih0aGlzLnNtb290aCk7XG4gICAgICAgIHVpLmFkZFBhcmFtZXRlcih0aGlzLnN1YkNvdW50LCByZXNldCk7XG4gICAgICAgIHVpLmFkZFBhcmFtZXRlcih0aGlzLnF1YWRTdWJDb3VudCwgcmVzZXQpO1xuICAgICAgICB1aS5hZGRQYXJhbWV0ZXIodGhpcy5saWZ0VHlwZSwgcmVzZXQpO1xuICAgICAgICB1aS5hZGRCdXR0b24oXCJyZWNhbGN1bGF0ZVwiLCByZXNldCk7XG4gICAgfVxuXG4gICAgc3RhcnQoKSB7XG4gICAgICAgIGxldCBsaWZ0VHlwZSA9IHRoaXMubGlmdFR5cGUuZ2V0KCk7XG5cbiAgICAgICAgLy8gMCB8IHNldHVwXG4gICAgICAgIGNvbnN0IG1lc2ggPSBNZXNoLm5ld0ljb3NhaGVkcm9uKDAuNSk7XG4gICAgICAgIGxldCBncmFwaCA9IG1lc2gudG9HcmFwaCgpO1xuICAgICAgICBsZXQgY2VudGVyID0gbmV3IFZlY3RvcjMoMCwgMCwgMCk7XG4gICAgICAgIHRoaXMuc21vb3RobGltaXQgPSAwO1xuXG4gICAgICAgIGlmIChsaWZ0VHlwZSA9PSAyKSB7XG4gICAgICAgICAgICB0aGlzLnJhZGl1cyA9IDE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnJhZGl1cyA9IGdyYXBoLmdldFZlcnRleFBvcygwKS5kaXNUbyhjZW50ZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gREVCVUc6IFBFUkZPUk1BTkNFXG4gICAgICAgIGNvbnNvbGUubG9nKFwibGV0cyBzdGFydCBzdWJkaXZpc2lvbnMhXCIpO1xuICAgICAgICBsZXQgc3RvcHdhdGNoID0gU3RvcHdhdGNoLm5ldygpO1xuXG4gICAgICAgIC8vIDEgfCBzdWJkaXZpZGVcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnN1YkNvdW50LmdldCgpOyBpKyspIHtcbiAgICAgICAgICAgIGdyYXBoLnN1YmRpdmlkZSgpO1xuXG4gICAgICAgICAgICAvLyBsaWZ0IHRvIHNwaGVyZSBhZnRlciBldmVyeSBzdWJkaXZpc2lvblxuICAgICAgICAgICAgaWYgKGxpZnRUeXBlID4gMCkge1xuICAgICAgICAgICAgICAgIGxldCBjb3VudCA9IGdyYXBoLmdldFZlcnRleENvdW50KCk7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb3VudDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBwb3MgPSBncmFwaC5nZXRWZXJ0ZXhQb3MoaSk7XG4gICAgICAgICAgICAgICAgICAgIGxldCBub3JtYWwgPSBwb3M7XG5cbiAgICAgICAgICAgICAgICAgICAgbGV0IGRpcyA9IGNlbnRlci5kaXNUbyhwb3MpO1xuICAgICAgICAgICAgICAgICAgICBsZXQgbGlmdCA9IHRoaXMucmFkaXVzIC0gZGlzO1xuICAgICAgICAgICAgICAgICAgICBpZiAobGlmdFR5cGUgPiAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwb3MuYWRkKG5vcm1hbC5zY2FsZWQobGlmdCkpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcG9zLmFkZChub3JtYWwubm9ybWFsaXplZCgpLnNjYWxlZChsaWZ0KSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJsaWZ0IGluIFwiLCBzdG9wd2F0Y2gudGltZSgpLCBcIm1zXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gREVCVUc6IFBFUkZPUk1BTkNFXG4gICAgICAgIGNvbnNvbGUubG9nKFwic3ViZGl2aXNpb24gaW4gXCIsIHN0b3B3YXRjaC50aW1lKCksIFwibXNcIik7XG5cbiAgICAgICAgLy8gMiB8IHJlbW92ZSByYW5kb20gZWRnZXNcbiAgICAgICAgaWYgKHRoaXMucmFuZG9tRWRnZXMuZ2V0KCkgPT0gMSkge1xuICAgICAgICAgICAgcXVhZGlmaWNhdGlvbihncmFwaCk7XG5cbiAgICAgICAgICAgIC8vIGdyYXBoLnByaW50KCk7XG4gICAgICAgICAgICAvLyAyIHwgcmVtb3ZlIHJhbmRvbSBlZGdlc1xuICAgICAgICAgICAgLy8gbGV0IGVkZ2VzID0gZ3JhcGguYWxsKCk7XG4gICAgICAgICAgICAvLyBsZXQgcGlja3M6IG51bWJlcltdID0gW107XG4gICAgICAgICAgICAvLyBsZXQgcGlja0NvdW50ID0gMTAwO1xuICAgICAgICAgICAgLy8gZm9yIChsZXQgaSA9IDAgOyBpIDwgcGlja0NvdW50OyBpKyspIHtcblxuICAgICAgICAgICAgLy8gICAgIGxldCBwID0gcmFuZG9tSW50KGVkZ2VzLmxlbmd0aCk7XG4gICAgICAgICAgICAvLyAgICAgcGlja3MucHVzaChlZGdlc1twXSk7XG4gICAgICAgICAgICAvLyB9XG5cbiAgICAgICAgICAgIC8vIC8vIC8vIGNvbnNvbGUubG9nKHBpY2tzKTtcblxuICAgICAgICAgICAgLy8gZm9yIChsZXQgaSA9IDAgOyBpIDwgZWRnZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIC8vICAgICBpZiAoTWF0aC5yYW5kb20oKSA+IDAuMCkge1xuICAgICAgICAgICAgLy8gICAgICAgICBsZXQgZWkgPSBlZGdlc1tpXTtcbiAgICAgICAgICAgIC8vICAgICAgICAgbGV0IGxvb3BzID0gZ3JhcGguZ2V0TG9vcHNBZGphY2VudFRvRWRnZShlaSk7XG4gICAgICAgICAgICAvLyAgICAgICAgIGlmIChsb29wc1swXS5sZW5ndGggPT0gMyAmJiBsb29wc1sxXS5sZW5ndGggPT0gMykge1xuICAgICAgICAgICAgLy8gICAgICAgICAgICAgZ3JhcGguZGVsZXRlRWRnZUZyb21JbmRleChlZGdlc1tpXSk7XG4gICAgICAgICAgICAvLyAgICAgICAgIH1cbiAgICAgICAgICAgIC8vICAgICB9XG4gICAgICAgICAgICAvLyB9XG4gICAgICAgIH1cblxuICAgICAgICBjb25zb2xlLmxvZyhcImVkZ2UgcmVtb3ZhbCBpbiBcIiwgc3RvcHdhdGNoLnRpbWUoKSwgXCJtc1wiKTtcblxuICAgICAgICAvLyAzIHwgc3ViZGl2aWRlIHF1YWRcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnF1YWRTdWJDb3VudC5nZXQoKTsgaSsrKSB7XG4gICAgICAgICAgICBncmFwaC5zdWJkaXZpZGVRdWFkKCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBERUJVRzogUEVSRk9STUFOQ0VcbiAgICAgICAgY29uc29sZS5sb2coXCJxdWFkIHN1YmRpdmlzaW9uIGluIFwiLCBzdG9wd2F0Y2gudGltZSgpLCBcIm1zXCIpO1xuXG4gICAgICAgIC8vIGxpZnQgdG8gc3BoZXJlIGFmdGVyIGV2ZXJ5IHN1YmRpdmlzaW9uXG4gICAgICAgIGlmIChsaWZ0VHlwZSA+IDApIHtcbiAgICAgICAgICAgIGxldCBjb3VudCA9IGdyYXBoLmdldFZlcnRleENvdW50KCk7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvdW50OyBpKyspIHtcbiAgICAgICAgICAgICAgICBsZXQgcG9zID0gZ3JhcGguZ2V0VmVydGV4UG9zKGkpO1xuICAgICAgICAgICAgICAgIGxldCBub3JtYWwgPSBncmFwaC5nZXRWZXJ0ZXhOb3JtYWwoaSk7XG5cbiAgICAgICAgICAgICAgICBsZXQgZGlzID0gY2VudGVyLmRpc1RvKHBvcyk7XG4gICAgICAgICAgICAgICAgbGV0IGxpZnQgPSB0aGlzLnJhZGl1cyAtIGRpcztcbiAgICAgICAgICAgICAgICBpZiAobGlmdFR5cGUgPiAxKSB7XG4gICAgICAgICAgICAgICAgICAgIHBvcy5hZGQobm9ybWFsLnNjYWxlZChsaWZ0KSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcG9zLmFkZChub3JtYWwubm9ybWFsaXplZCgpLnNjYWxlZChsaWZ0KSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJsaWZ0IGluIFwiLCBzdG9wd2F0Y2gudGltZSgpLCBcIm1zXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gNCB8IHF1YWQgcmVsYXhhdGlvblxuICAgICAgICB0aGlzLmdyYXBoID0gZ3JhcGg7XG5cbiAgICAgICAgLy8gdGhpcy5yZW5kID0gdGhpcy5ncmFwaC50b1JlbmRlcmFibGUoKTtcbiAgICAgICAgLy8gdGhpcy5yZW5kID0gZ3JhcGhUb011bHRpTWVzaCh0aGlzLmdyYXBoLCAwLjAyLCAzLCBmYWxzZSwgdHJ1ZSk7XG4gICAgICAgIC8vIHRoaXMucmVuZC5jYWxjdWxhdGVWZXJ0ZXhOb3JtYWxzKCk7XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKFwibnVtIHRyaWFuZ2xlcyA9IFwiLCB0aGlzLnJlbmQubWVzaC5saW5rcy5jb3VudCgpKTtcbiAgICAgICAgLy8gY29uc29sZS5sb2coXCJ0byByZW5kZXJhYmxlIGluIFwiLCBzdG9wd2F0Y2gudGltZSgpLCBcIm1zXCIpO1xuXG4gICAgICAgIC8vIHRoaXMuZ3JhcGgucHJpbnQoKTtcbiAgICAgICAgLy8gbGV0IGxvb3BzID0gZ3JhcGguYWxsVmVydExvb3BzQXNJbnRzKCk7XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKFwiYWxsVmVydExvb3BzIGluIFwiLCBzdG9wd2F0Y2gudGltZSgpLCBcIm1zXCIpO1xuICAgICAgICAvL2NvbnNvbGUubG9nKGxvb3BzKTtcblxuICAgICAgICAvLyA1IHwgY29udmVydFxuXG4gICAgICAgIGlmIChsaWZ0VHlwZSA9PSAxKSB7XG4gICAgICAgICAgICBsZXQgc29tZXNwaGVyZSA9IE1lc2gubmV3U3BoZXJlKFxuICAgICAgICAgICAgICAgIFZlY3RvcjMuemVybygpLFxuICAgICAgICAgICAgICAgIHRoaXMucmFkaXVzICogMC45OSxcbiAgICAgICAgICAgICAgICA2LFxuICAgICAgICAgICAgICAgIDEwLFxuICAgICAgICAgICAgKS50b1JlbmRlcmFibGUoKTtcbiAgICAgICAgICAgIHNvbWVzcGhlcmUuY2FsY3VsYXRlVmVydGV4Tm9ybWFscygpO1xuICAgICAgICAgICAgdGhpcy5tZXNoUmVuZC5zZXQodGhpcy5nbCwgc29tZXNwaGVyZSwgRHJhd1NwZWVkLlN0YXRpY0RyYXcpO1xuICAgICAgICB9IGVsc2UgaWYgKGxpZnRUeXBlID09IDApIHtcbiAgICAgICAgICAgIGxldCBzb21ldGhpbmcgPSBtZXNoLnRvUmVuZGVyYWJsZSgpO1xuICAgICAgICAgICAgc29tZXRoaW5nLnRyYW5zZm9ybShNYXRyaXg0Lm5ld1NjYWxlcigwLjk5LCAwLjk5LCAwLjk5KSk7XG4gICAgICAgICAgICBzb21ldGhpbmcuY2FsY3VsYXRlRmFjZU5vcm1hbHMoKTtcbiAgICAgICAgICAgIHRoaXMubWVzaFJlbmQuc2V0KHRoaXMuZ2wsIHNvbWV0aGluZywgRHJhd1NwZWVkLlN0YXRpY0RyYXcpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5ncmFwaFJlbmQuc2V0KHRoaXMuZ3JhcGgsIERyYXdTcGVlZC5EeW5hbWljRHJhdyk7XG4gICAgICAgIHRoaXMuYXZlcmFnZSA9IF9hdmVyYWdlRWRnZUxlbmd0aCh0aGlzLmdyYXBoKTtcbiAgICAgICAgLy8gY29uc29sZS5sb2coXCJlZGdlczogXCIsIHRoaXMuZ3JhcGguYWxsRWRnZXMoKSk7XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKFwibG9vcHM6IFwiLCB0aGlzLmdyYXBoLmFsbFZlcnRMb29wcygpKTtcbiAgICB9XG5cbiAgICB1cGRhdGUoc3RhdGU6IElucHV0U3RhdGUpIHtcbiAgICAgICAgdGhpcy5jYW1lcmEudXBkYXRlKHN0YXRlKTtcblxuICAgICAgICBpZiAoIXN0YXRlLm1vdXNlUmlnaHREb3duICYmIHRoaXMucm90YXRlLmdldCgpID09IDEpIHtcbiAgICAgICAgICAgIC8vIHJvdGF0ZVxuICAgICAgICAgICAgbGV0IGFscGhhID0gMC4wMDAxICogc3RhdGUudGljaztcbiAgICAgICAgICAgIGxldCByb3QgPSBNYXRyaXg0Lm5ld1hSb3RhdGlvbihhbHBoYSkubXVsdGlwbHkoTWF0cml4NC5uZXdZUm90YXRpb24oYWxwaGEpKTtcbiAgICAgICAgICAgIHRoaXMuZ3JhcGgudHJhbnNmb3JtKHJvdCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBzdWNlc3NpdmUgb3ZlciByZWxheGF0aW9uXG4gICAgICAgIGlmICh0aGlzLnNtb290aC5nZXQoKSA9PSAxKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5zbW9vdGhsaW1pdCA8IDEwMDApIHtcbiAgICAgICAgICAgICAgICAvLyBzcXVhcmlmaWNhdGlvbiBzbW9vdGhlclxuXG4gICAgICAgICAgICAgICAgdGhpcy5jY2EgPSBzcXVhcmlmaWNhdGlvbih0aGlzLmdyYXBoLCB0aGlzLmNjYSk7XG4gICAgICAgICAgICAgICAgLy8gdGhpcy5jY2EgPSB0aGlzLnNxdWFyaWZpY2F0aW9uKHRoaXMuZ3JhcGgpO1xuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMuY2NhKTtcbiAgICAgICAgICAgICAgICBfbGFQbGFjaWFuKHRoaXMuZ3JhcGgpO1xuXG4gICAgICAgICAgICAgICAgLy8gcHJvamVjdCBiYWNrIHRvIHNwaGVyZVxuICAgICAgICAgICAgICAgIHRoaXMuZ3JhcGgudmVydHMuZm9yRWFjaCgodikgPT4ge1xuICAgICAgICAgICAgICAgICAgICBsZXQgbm9ybWFsID0gdi5wb3M7XG4gICAgICAgICAgICAgICAgICAgIGxldCBsaWZ0ID0gdGhpcy5yYWRpdXMgLSB2LnBvcy5sZW5ndGgoKTtcbiAgICAgICAgICAgICAgICAgICAgdi5wb3MuYWRkKG5vcm1hbC5ub3JtYWxpemVkKCkuc2NhbGVkKGxpZnQpKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLnNtb290aGxpbWl0ICs9IDE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnNtb290aGxpbWl0ID0gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZ3JhcGhSZW5kLnNldCh0aGlzLmdyYXBoLCBEcmF3U3BlZWQuRHluYW1pY0RyYXcpO1xuICAgIH1cblxuICAgIGRyYXcoZ2w6IFdlYkdMUmVuZGVyaW5nQ29udGV4dCkge1xuICAgICAgICB0aGlzLmNhbWVyYS51cGRhdGVNYXRyaWNlcyhnbC5jYW52YXMgYXMgSFRNTENhbnZhc0VsZW1lbnQpO1xuICAgICAgICB0aGlzLm1lc2hSZW5kLnJlbmRlcihnbCwgdGhpcy5jYW1lcmEpO1xuICAgICAgICB0aGlzLmdyYXBoUmVuZC5yZW5kZXIoZ2wsIHRoaXMuY2FtZXJhKTtcbiAgICB9XG5cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLVxufVxuXG5mdW5jdGlvbiBfYXZlcmFnZUVkZ2VMZW5ndGgoZ3JhcGg6IEdyYXBoKTogbnVtYmVyIHtcbiAgICBsZXQgY291bnQgPSAwO1xuICAgIGxldCBzdW0gPSAwO1xuICAgIGdyYXBoLmZvckV2ZXJ5RWRnZVZlcnRzKChhLCBiKSA9PiB7XG4gICAgICAgIHN1bSArPSBhLmRpc1RvKGIpO1xuICAgICAgICBjb3VudCArPSAxO1xuICAgIH0pO1xuXG4gICAgbGV0IGF2ZXJhZ2UgPSBzdW0gLyBjb3VudDtcbiAgICByZXR1cm4gYXZlcmFnZTtcbn1cblxuZnVuY3Rpb24gX2VkZ2VTbW9vdGgoZ3JhcGg6IEdyYXBoLCBhdmVyYWdlOiBudW1iZXIsIHNjYWxlOiBudW1iZXIpIHtcbiAgICBncmFwaC5mb3JFdmVyeUVkZ2VWZXJ0cygoYSwgYikgPT4ge1xuICAgICAgICBsZXQgZGlzdGFuY2UgPSBhLmRpc1RvKGIpO1xuICAgICAgICBsZXQgZGlmZiA9IGF2ZXJhZ2UgLSBkaXN0YW5jZTtcbiAgICAgICAgbGV0IHZlY3RvciA9IGIuc3ViYmVkKGEpO1xuICAgICAgICBhLmFkZCh2ZWN0b3Iuc2NhbGVkKC1kaWZmICogc2NhbGUpKTtcbiAgICAgICAgYi5hZGQodmVjdG9yLnNjYWxlZChkaWZmICogc2NhbGUpKTtcbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gX2xhUGxhY2lhbihncmFwaDogR3JhcGgpIHtcbiAgICBsZXQgY291bnQgPSBncmFwaC5nZXRWZXJ0ZXhDb3VudCgpO1xuICAgIGxldCBuZXdzOiBWZWN0b3IzW10gPSBbXTtcblxuICAgIC8vIGdldCBjZW50ZXIgb2YgbmJzXG4gICAgZm9yIChsZXQgdmkgPSAwOyB2aSA8IGNvdW50OyB2aSsrKSB7XG4gICAgICAgIGxldCB2ID0gZ3JhcGguZ2V0VmVydCh2aSk7XG4gICAgICAgIGlmICh2LmRlYWQpIGNvbnRpbnVlO1xuXG4gICAgICAgIGxldCBzdW0gPSBWZWN0b3IzLnplcm8oKTtcbiAgICAgICAgbGV0IG5icyA9IGdyYXBoLmdldFZlcnROZWlnaGJvcnModmkpO1xuICAgICAgICBmb3IgKGxldCBuYiBvZiBuYnMpIHtcbiAgICAgICAgICAgIHN1bS5hZGQoZ3JhcGguZ2V0VmVydGV4UG9zKG5iKSk7XG4gICAgICAgIH1cbiAgICAgICAgc3VtLnNjYWxlKDEgLyBuYnMubGVuZ3RoKTtcbiAgICAgICAgbmV3cy5wdXNoKHN1bSk7XG4gICAgfVxuXG4gICAgLy8gc2V0XG4gICAgZm9yIChsZXQgdmkgPSAwOyB2aSA8IGNvdW50OyB2aSsrKSB7XG4gICAgICAgIGdyYXBoLmdldFZlcnRleFBvcyh2aSkuY29weShuZXdzW3ZpXSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBzcXVhcmlmaWNhdGlvbihncmFwaDogR3JhcGgsIGNlbnRlckNvcm5lckF2ZXJhZ2U/OiBudW1iZXIpIHtcbiAgICAvLyBtYWtlIHRoZSBxdWFkIGdyYXBoIGFzICdzcXVhcmUnIGFzIHBvc3NpYmxlXG5cbiAgICAvLyBwcmVwYXJlXG4gICAgbGV0IGZhY2VzID0gZ3JhcGguYWxsVmVydExvb3BzQXNJbnRzKCk7XG4gICAgbGV0IGNvdW50ID0gZmFjZXMubGVuZ3RoO1xuICAgIGxldCBjZW50ZXJzID0gbmV3IEFycmF5PFZlY3RvcjM+KGNvdW50KTtcbiAgICBsZXQgbW92ZXJzID0gbmV3IEFycmF5PFZlY3RvcjM+KGdyYXBoLnZlcnRzLmxlbmd0aCk7XG4gICAgbGV0IGNvdW50ZXJzID0gbmV3IEFycmF5PG51bWJlcj4oZ3JhcGgudmVydHMubGVuZ3RoKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1vdmVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICBtb3ZlcnNbaV0gPSBWZWN0b3IzLm5ldygwLCAwLCAwKTtcbiAgICAgICAgY291bnRlcnNbaV0gPSAwO1xuICAgIH1cbiAgICBsZXQgY2NhID0gMDtcblxuICAgIC8vIGl0ZXJhdGUgcGVyIGZhY2VcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvdW50OyBpKyspIHtcbiAgICAgICAgLy8gZ2V0IGZhY2UsIGNlbnRlciBhbmQgY29ybmVyc1xuICAgICAgICBsZXQgY2VudGVyID0gY2VudGVyc1tpXTtcbiAgICAgICAgbGV0IGZhY2UgPSBmYWNlc1tpXTtcbiAgICAgICAgbGV0IGZhY2VDb3VudCA9IGZhY2UubGVuZ3RoO1xuICAgICAgICBpZiAoZmFjZS5sZW5ndGggPT0gMCkge1xuICAgICAgICAgICAgdGhyb3cgXCJIRUxQLCBXRSBBUkUgTk9UIERFQUxJTkcgV0lUSCBRVUFEUyBIRVJFIVwiO1xuICAgICAgICB9XG4gICAgICAgIGNlbnRlciA9IFZlY3RvcjMubmV3KDAsIDAsIDApO1xuICAgICAgICBsZXQgY29ybmVycyA9IG5ldyBBcnJheTxWZWN0b3IzPihmYWNlQ291bnQpO1xuICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGZhY2VDb3VudDsgaisrKSB7XG4gICAgICAgICAgICBsZXQgdmkgPSBmYWNlW2pdO1xuICAgICAgICAgICAgY29ybmVyc1tqXSA9IGdyYXBoLmdldFZlcnRleFBvcyh2aSk7XG4gICAgICAgICAgICBjZW50ZXIuYWRkKGNvcm5lcnNbal0pO1xuICAgICAgICB9XG4gICAgICAgIGNlbnRlci5zY2FsZSgxIC8gZmFjZUNvdW50KTtcblxuICAgICAgICAvLyBub3cgdGhhdCB3ZSBoYXZlIGNlbnRlciwgY2FsY3VsYXRlIGNjYVxuICAgICAgICBsZXQgbG9jYWxfY2NhID0gMDtcbiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBmYWNlQ291bnQ7IGorKykge1xuICAgICAgICAgICAgbG9jYWxfY2NhID0gY2VudGVyLmRpc1RvKGNvcm5lcnNbal0pO1xuICAgICAgICB9XG4gICAgICAgIGxvY2FsX2NjYSAvPSBmYWNlQ291bnQ7XG4gICAgICAgIGNjYSArPSBsb2NhbF9jY2E7XG5cbiAgICAgICAgLy8gYnV0IHVzZSB0aGUgZ2l2ZW4gb25lIGlmIHByZXNlbnRcbiAgICAgICAgbGV0IHNjYWxlcjtcbiAgICAgICAgbGV0IGNjYV9kaWZmO1xuXG4gICAgICAgIGlmIChjZW50ZXJDb3JuZXJBdmVyYWdlKSB7XG4gICAgICAgICAgICBzY2FsZXIgPSBjZW50ZXJDb3JuZXJBdmVyYWdlO1xuICAgICAgICAgICAgY2NhX2RpZmYgPSBjZW50ZXJDb3JuZXJBdmVyYWdlIC0gbG9jYWxfY2NhO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2NhbGVyID0gbG9jYWxfY2NhO1xuICAgICAgICAgICAgY2NhX2RpZmYgPSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gcm90YXRlIGFsbCBjb3JuZXJzIGludG8gdGhlIHNhbWUgc3BhY2UsIGFuZCBnZXQgdGhlIGF2ZXJhZ2Ugb2YgdGhhdFxuICAgICAgICAvLyBUT0RPIFNBVkUgVElNRSBCWSBET0lORyBUSElTOlxuICAgICAgICAvLyBuZXcgVmVjdG9yMih2LmRvdChpaGF0KSwgdi5kb3QoamhhdCkpLmFuZ2xlKClcblxuICAgICAgICBsZXQgcGxhbmUgPSBQbGFuZS5mcm9tM3B0KGNlbnRlciwgY29ybmVyc1swXSwgY29ybmVyc1sxXSk7XG4gICAgICAgIGxldCBub3JtZWRDb3JuZXJzID0gbmV3IEFycmF5PFZlY3RvcjM+KGZhY2UubGVuZ3RoKTtcbiAgICAgICAgbGV0IG5vcm1lZENlbnRlciA9IFZlY3RvcjMubmV3KDAsIDAsIDApO1xuICAgICAgICBsZXQgZGVsdGEgPSAyIC8gZmFjZUNvdW50O1xuICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGZhY2VDb3VudDsgaisrKSB7XG4gICAgICAgICAgICBub3JtZWRDb3JuZXJzW2pdID0gcGxhbmUucm90YXRlVmVjdG9yKGNvcm5lcnNbal0sIGogKiBNYXRoLlBJICogZGVsdGEpO1xuICAgICAgICAgICAgbm9ybWVkQ2VudGVyLmFkZChub3JtZWRDb3JuZXJzW2pdKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHNjYWxlIHRoaXMgYXZlcmFnZWQgdG8gdGhlIGNlbnRlciBjb3JuZXIgYXZlcmFnZVxuICAgICAgICBub3JtZWRDZW50ZXIuc2NhbGUoMSAvIDQpO1xuICAgICAgICBsZXQgbm9ybWFsID0gbm9ybWVkQ2VudGVyLnN1YmJlZChjZW50ZXIpLm5vcm1hbGl6ZSgpO1xuICAgICAgICBsZXQgcGVyZmVjdENvcm5lciA9IGNlbnRlci5hZGRlZChub3JtYWwuc2NhbGVkKGxvY2FsX2NjYSkpO1xuXG4gICAgICAgIC8vIGluY3JlYXRlIGd1bmZhY3RvciBpZiBzcXVhcmUgaXMgdmVyeSBzbWFsbCAoYXd3dylcbiAgICAgICAgbGV0IGd1bmZhY3RvciA9IDE7XG4gICAgICAgIGxldCBlcXVhbGl6ZXIgPSAyMDA7XG4gICAgICAgIGd1bmZhY3RvciArPSBNYXRoLm1heCgtMSAqIGNjYV9kaWZmICogZXF1YWxpemVyLCAwKTtcblxuICAgICAgICAvLyBjb25zb2xlLmxvZyhndW5mYWN0b3IpO1xuXG4gICAgICAgIC8vIHJvdGF0ZSB0aGlzIGF2ZXJhZ2UgYmFjaywgYW5kIGFkZCBpdCB0byB0aGUgbW92ZXJzIG9mIGV2ZXJ5IHZlcnRleFxuICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGZhY2VDb3VudDsgaisrKSB7XG4gICAgICAgICAgICBsZXQgdmkgPSBmYWNlW2pdO1xuICAgICAgICAgICAgbGV0IHYgPSBwbGFuZS5yb3RhdGVWZWN0b3IocGVyZmVjdENvcm5lciwgaiAqIE1hdGguUEkgKiBkZWx0YSk7XG4gICAgICAgICAgICBtb3ZlcnNbdmldLmFkZCh2LnNjYWxlZChndW5mYWN0b3IpKTtcbiAgICAgICAgICAgIGNvdW50ZXJzW3ZpXSArPSAxO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gbm93LCBtb3ZlIHRoZSBncmFwaFxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbW92ZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGxldCBtb3ZlciA9IG1vdmVyc1tpXTtcbiAgICAgICAgbGV0IGNvdW50ZXIgPSBjb3VudGVyc1tpXTtcbiAgICAgICAgaWYgKGNvdW50ZXIgPCAxKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgdiA9IGdyYXBoLmdldFZlcnRleFBvcyhpKTtcbiAgICAgICAgdi5hZGQobW92ZXIuc2NhbGUoMSAvIGNvdW50ZXIpKTtcbiAgICB9XG5cbiAgICAvLyByZXR1cm4gdGhlIGNlbnRlciBjb3JuZXIgYXZlcmFnZSwgdG8gYmUgdXNlZCBpbiB0aGUgbmV4dCBjeWNsZVxuICAgIGNjYSAvPSBjb3VudDtcbiAgICByZXR1cm4gY2NhO1xufVxuXG5mdW5jdGlvbiBxdWFkaWZpY2F0aW9uKGdyYXBoOiBHcmFwaCkge1xuICAgIC8vIGVkZ2UgZGVsZXRpb24gaGV1cmlzdGljOlxuICAgIC8vIHJlbW92ZSBlZGdlcyBiZXR3ZWVuIHR3byB0cmlhbmdsZXMgdG8gY3JlYXRlIGEgcXVhZC5cbiAgICAvLyBrZWVwIHJlbW92aW5nIGVkZ2VzIHVudGlsIG5vIHRyaWFuZ2xlIG5laWdoYm9ycyBhbm90aGVyIHRyaWFuZ2xlLlxuXG4gICAgLy8gcHJlcGFyZVxuICAgIGxldCBjb3VudCA9IGdyYXBoLmVkZ2VzLmxlbmd0aDtcbiAgICBsZXQgZWRnZUlkcyA9IG5ldyBBcnJheTxFZGdlSW5kZXg+KGNvdW50KTtcbiAgICBsZXQgdmlzaXRlZCA9IG5ldyBBcnJheTxib29sZWFuPihjb3VudCk7XG5cbiAgICBncmFwaC5lZGdlcy5mb3JFYWNoKChlLCBpKSA9PiB7XG4gICAgICAgIGVkZ2VJZHNbaV0gPSBpO1xuICAgICAgICB2aXNpdGVkW2ldID0gZmFsc2U7XG4gICAgfSk7XG5cbiAgICAvLyBzaHVmZmxlXG4gICAgbGV0IHNodWZmbGVyID0gKGE6IGFueSwgYjogYW55KSA9PiB7XG4gICAgICAgIHJldHVybiAwLjUgLSBNYXRoLnJhbmRvbSgpO1xuICAgIH07XG4gICAgZWRnZUlkcy5zb3J0KHNodWZmbGVyKTtcblxuICAgIC8vIHBlciBlZGdlXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb3VudDsgaSsrKSB7XG4gICAgICAgIGxldCBlaSA9IGVkZ2VJZHNbaV07XG4gICAgICAgIGxldCBlID0gZ3JhcGguZWRnZXNbZWldO1xuICAgICAgICBpZiAoZS5kZWFkIHx8IHZpc2l0ZWRbZWldKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBsb29wcyA9IGdyYXBoLmdldExvb3BzQWRqYWNlbnRUb0VkZ2UoZWkpO1xuXG4gICAgICAgIC8vIG9ubHkgZGVsZXRlIGVkZ2VzIGJldHdlZW4gdHJpYW5nbGVzXG5cbiAgICAgICAgaWYgKGxvb3BzWzBdLmxlbmd0aCA+IDMgfHwgbG9vcHNbMV0ubGVuZ3RoID4gMykge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB0aGUgZWRnZXMgb2YgdGhpcyBuZXcgcXVhZCBzaG91bGQgbm90IGJlIHRvdWNoZWQhXG4gICAgICAgIGZvciAobGV0IGxvb3Agb2YgbG9vcHMpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGVkZ2VJbmRleCBvZiBsb29wKSB7XG4gICAgICAgICAgICAgICAgdmlzaXRlZFtlZGdlSW5kZXhdID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIG5vdyByZW1vdmUgdGhpcyBlZGdlIGl0c2VsZlxuICAgICAgICBncmFwaC5kZWxldGVFZGdlQnlJbmRleChlaSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiByYW5kb21JbnQobWF4OiBudW1iZXIpIHtcbiAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogbWF4KTtcbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./demo/apps/subdivide-app.ts\n");

/***/ }),

/***/ "./demo/index.ts":
/*!***********************!*\
  !*** ./demo/index.ts ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _src_lib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../src/lib */ \"./src/lib.ts\");\n/* harmony import */ var _apps_dot_app3__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./apps/dot-app3 */ \"./demo/apps/dot-app3.ts\");\n/* harmony import */ var _apps_geometry_app__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./apps/geometry-app */ \"./demo/apps/geometry-app.ts\");\n/* harmony import */ var _apps_icosahedron_app__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./apps/icosahedron-app */ \"./demo/apps/icosahedron-app.ts\");\n/* harmony import */ var _apps_mesh_inspector_app__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./apps/mesh-inspector-app */ \"./demo/apps/mesh-inspector-app.ts\");\n/* harmony import */ var _apps_obj_loader_app__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./apps/obj-loader-app */ \"./demo/apps/obj-loader-app.ts\");\n/* harmony import */ var _apps_stat_app__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./apps/stat-app */ \"./demo/apps/stat-app.ts\");\n/* harmony import */ var _apps_subdivide_app__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./apps/subdivide-app */ \"./demo/apps/subdivide-app.ts\");\n// Name:    index.ts\r\n// Author:  Jos Feenstra\r\n// Purpose: Entry point\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar core;\r\nfunction main() {\r\n    // get references of all items on the canvas\r\n    let canvas = document.getElementById(\"canvas\");\r\n    let video = document.getElementById(\"camera\");\r\n    let ui = document.getElementById(\"interface\");\r\n    let cameraOn = document.getElementById(\"camera-on\");\r\n    let cameraStop = document.getElementById(\"camera-off\");\r\n    let buttonPredict = document.getElementById(\"predict\");\r\n    // init core\r\n    let gl = _src_lib__WEBPACK_IMPORTED_MODULE_0__.Renderer.initWebglContext(canvas);\r\n    core = new _src_lib__WEBPACK_IMPORTED_MODULE_0__.Core(canvas, gl, ui);\r\n    // init swap app\r\n    let appCollection = [\r\n        _apps_subdivide_app__WEBPACK_IMPORTED_MODULE_7__.StalbergApp,\r\n        // RequestApp,\r\n        _apps_geometry_app__WEBPACK_IMPORTED_MODULE_2__.GeometryApp,\r\n        _apps_mesh_inspector_app__WEBPACK_IMPORTED_MODULE_4__.MeshInspectorApp,\r\n        _apps_icosahedron_app__WEBPACK_IMPORTED_MODULE_3__.IcosahedronApp,\r\n        _apps_obj_loader_app__WEBPACK_IMPORTED_MODULE_5__.ObjLoaderApp,\r\n        _apps_dot_app3__WEBPACK_IMPORTED_MODULE_1__.DotApp3,\r\n        _apps_stat_app__WEBPACK_IMPORTED_MODULE_6__.StatApp,\r\n    ];\r\n    let swapApp = new _src_lib__WEBPACK_IMPORTED_MODULE_0__.SwapApp(gl, core, appCollection);\r\n    core.addApp(swapApp);\r\n    swapApp.swap(0);\r\n    // a specific app dealing with webcams & other things\r\n    // addWebcamAppWhenReady(core, canvas, video);\r\n    // infinite loop\r\n    function loop() {\r\n        if (core.STOP) {\r\n            // TODO : notify the User that we have stopped running...\r\n            return;\r\n        }\r\n        core.update();\r\n        core.draw();\r\n        requestAnimationFrame(loop);\r\n    }\r\n    requestAnimationFrame(loop);\r\n}\r\nwindow.addEventListener(\"load\", function () {\r\n    main();\r\n}, false);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9nZW9uLWVuZ2luZS8uL2RlbW8vaW5kZXgudHM/ZTQ0YyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQSxvQkFBb0I7QUFDcEIsd0JBQXdCO0FBQ3hCLHVCQUF1QjtBQUU4QjtBQUVYO0FBQ1E7QUFDTTtBQUNLO0FBQ1I7QUFDWDtBQUNTO0FBRW5ELElBQUksSUFBVSxDQUFDO0FBRWYsU0FBUyxJQUFJO0lBQ1QsNENBQTRDO0lBQzVDLElBQUksTUFBTSxHQUFHLFFBQVEsQ0FBQyxjQUFjLENBQUMsUUFBUSxDQUF1QixDQUFDO0lBQ3JFLElBQUksS0FBSyxHQUFHLFFBQVEsQ0FBQyxjQUFjLENBQUMsUUFBUSxDQUFzQixDQUFDO0lBQ25FLElBQUksRUFBRSxHQUFHLFFBQVEsQ0FBQyxjQUFjLENBQUMsV0FBVyxDQUFtQixDQUFDO0lBQ2hFLElBQUksUUFBUSxHQUFHLFFBQVEsQ0FBQyxjQUFjLENBQUMsV0FBVyxDQUF1QixDQUFDO0lBQzFFLElBQUksVUFBVSxHQUFHLFFBQVEsQ0FBQyxjQUFjLENBQUMsWUFBWSxDQUF1QixDQUFDO0lBQzdFLElBQUksYUFBYSxHQUFHLFFBQVEsQ0FBQyxjQUFjLENBQUMsU0FBUyxDQUF1QixDQUFDO0lBRTdFLFlBQVk7SUFDWixJQUFJLEVBQUUsR0FBRywrREFBeUIsQ0FBQyxNQUFNLENBQUMsQ0FBQztJQUMzQyxJQUFJLEdBQUcsSUFBSSwwQ0FBSSxDQUFDLE1BQU0sRUFBRSxFQUFFLEVBQUUsRUFBRSxDQUFDLENBQUM7SUFFaEMsZ0JBQWdCO0lBQ2hCLElBQUksYUFBYSxHQUFHO1FBQ2hCLDREQUFXO1FBQ1gsY0FBYztRQUNkLDJEQUFXO1FBQ1gsc0VBQWdCO1FBQ2hCLGlFQUFjO1FBQ2QsOERBQVk7UUFDWixtREFBTztRQUNQLG1EQUFPO0tBQ1YsQ0FBQztJQUVGLElBQUksT0FBTyxHQUFHLElBQUksNkNBQU8sQ0FBQyxFQUFFLEVBQUUsSUFBSSxFQUFFLGFBQWEsQ0FBQyxDQUFDO0lBQ25ELElBQUksQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLENBQUM7SUFDckIsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUVoQixxREFBcUQ7SUFDckQsOENBQThDO0lBRTlDLGdCQUFnQjtJQUNoQixTQUFTLElBQUk7UUFDVCxJQUFJLElBQUksQ0FBQyxJQUFJLEVBQUU7WUFDWCx5REFBeUQ7WUFDekQsT0FBTztTQUNWO1FBQ0QsSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDO1FBQ2QsSUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO1FBQ1oscUJBQXFCLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDaEMsQ0FBQztJQUNELHFCQUFxQixDQUFDLElBQUksQ0FBQyxDQUFDO0FBQ2hDLENBQUM7QUFDRCxNQUFNLENBQUMsZ0JBQWdCLENBQ25CLE1BQU0sRUFDTjtJQUNJLElBQUksRUFBRSxDQUFDO0FBQ1gsQ0FBQyxFQUNELEtBQUssQ0FDUixDQUFDIiwiZmlsZSI6Ii4vZGVtby9pbmRleC50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIE5hbWU6ICAgIGluZGV4LnRzXG4vLyBBdXRob3I6ICBKb3MgRmVlbnN0cmFcbi8vIFB1cnBvc2U6IEVudHJ5IHBvaW50XG5cbmltcG9ydCB7IENvcmUsIFJlbmRlcmVyLCBTd2FwQXBwIH0gZnJvbSBcIi4uL3NyYy9saWJcIjtcblxuaW1wb3J0IHsgRG90QXBwMyB9IGZyb20gXCIuL2FwcHMvZG90LWFwcDNcIjtcbmltcG9ydCB7IEdlb21ldHJ5QXBwIH0gZnJvbSBcIi4vYXBwcy9nZW9tZXRyeS1hcHBcIjtcbmltcG9ydCB7IEljb3NhaGVkcm9uQXBwIH0gZnJvbSBcIi4vYXBwcy9pY29zYWhlZHJvbi1hcHBcIjtcbmltcG9ydCB7IE1lc2hJbnNwZWN0b3JBcHAgfSBmcm9tIFwiLi9hcHBzL21lc2gtaW5zcGVjdG9yLWFwcFwiO1xuaW1wb3J0IHsgT2JqTG9hZGVyQXBwIH0gZnJvbSBcIi4vYXBwcy9vYmotbG9hZGVyLWFwcFwiO1xuaW1wb3J0IHsgU3RhdEFwcCB9IGZyb20gXCIuL2FwcHMvc3RhdC1hcHBcIjtcbmltcG9ydCB7IFN0YWxiZXJnQXBwIH0gZnJvbSBcIi4vYXBwcy9zdWJkaXZpZGUtYXBwXCI7XG5cbnZhciBjb3JlOiBDb3JlO1xuXG5mdW5jdGlvbiBtYWluKCkge1xuICAgIC8vIGdldCByZWZlcmVuY2VzIG9mIGFsbCBpdGVtcyBvbiB0aGUgY2FudmFzXG4gICAgbGV0IGNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2FudmFzXCIpISBhcyBIVE1MQ2FudmFzRWxlbWVudDtcbiAgICBsZXQgdmlkZW8gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNhbWVyYVwiKSEgYXMgSFRNTFZpZGVvRWxlbWVudDtcbiAgICBsZXQgdWkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImludGVyZmFjZVwiKSBhcyBIVE1MRGl2RWxlbWVudDtcbiAgICBsZXQgY2FtZXJhT24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNhbWVyYS1vblwiKSEgYXMgSFRNTEJ1dHRvbkVsZW1lbnQ7XG4gICAgbGV0IGNhbWVyYVN0b3AgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNhbWVyYS1vZmZcIikhIGFzIEhUTUxCdXR0b25FbGVtZW50O1xuICAgIGxldCBidXR0b25QcmVkaWN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwcmVkaWN0XCIpISBhcyBIVE1MQnV0dG9uRWxlbWVudDtcblxuICAgIC8vIGluaXQgY29yZVxuICAgIGxldCBnbCA9IFJlbmRlcmVyLmluaXRXZWJnbENvbnRleHQoY2FudmFzKTtcbiAgICBjb3JlID0gbmV3IENvcmUoY2FudmFzLCBnbCwgdWkpO1xuXG4gICAgLy8gaW5pdCBzd2FwIGFwcFxuICAgIGxldCBhcHBDb2xsZWN0aW9uID0gW1xuICAgICAgICBTdGFsYmVyZ0FwcCxcbiAgICAgICAgLy8gUmVxdWVzdEFwcCxcbiAgICAgICAgR2VvbWV0cnlBcHAsXG4gICAgICAgIE1lc2hJbnNwZWN0b3JBcHAsXG4gICAgICAgIEljb3NhaGVkcm9uQXBwLFxuICAgICAgICBPYmpMb2FkZXJBcHAsXG4gICAgICAgIERvdEFwcDMsXG4gICAgICAgIFN0YXRBcHAsXG4gICAgXTtcblxuICAgIGxldCBzd2FwQXBwID0gbmV3IFN3YXBBcHAoZ2wsIGNvcmUsIGFwcENvbGxlY3Rpb24pO1xuICAgIGNvcmUuYWRkQXBwKHN3YXBBcHApO1xuICAgIHN3YXBBcHAuc3dhcCgwKTtcblxuICAgIC8vIGEgc3BlY2lmaWMgYXBwIGRlYWxpbmcgd2l0aCB3ZWJjYW1zICYgb3RoZXIgdGhpbmdzXG4gICAgLy8gYWRkV2ViY2FtQXBwV2hlblJlYWR5KGNvcmUsIGNhbnZhcywgdmlkZW8pO1xuXG4gICAgLy8gaW5maW5pdGUgbG9vcFxuICAgIGZ1bmN0aW9uIGxvb3AoKSB7XG4gICAgICAgIGlmIChjb3JlLlNUT1ApIHtcbiAgICAgICAgICAgIC8vIFRPRE8gOiBub3RpZnkgdGhlIFVzZXIgdGhhdCB3ZSBoYXZlIHN0b3BwZWQgcnVubmluZy4uLlxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvcmUudXBkYXRlKCk7XG4gICAgICAgIGNvcmUuZHJhdygpO1xuICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUobG9vcCk7XG4gICAgfVxuICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShsb29wKTtcbn1cbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKFxuICAgIFwibG9hZFwiLFxuICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgbWFpbigpO1xuICAgIH0sXG4gICAgZmFsc2UsXG4pO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./demo/index.ts\n");

/***/ }),

/***/ "./src/algorithms/marching-cubes.ts":
/*!******************************************!*\
  !*** ./src/algorithms/marching-cubes.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _mesh_mesh__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../mesh/mesh */ \"./src/mesh/mesh.ts\");\n/* harmony import */ var _math_vector__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../math/vector */ \"./src/math/vector.ts\");\n// name:    marching-cubes.ts\r\n// author:  Jos Feenstra\r\n// purpose: a marching cubes implementation useful for converting scalar discrete fields to contours\r\n\r\n\r\n// based upon:\r\n// http://paulbourke.net/geometry/polygonise/\r\n// Polygonising a scalar field\r\n// Also known as: \"3D Contouring\", \"Marching Cubes\", \"Surface Reconstruction\"\r\n// Written by Paul Bourke\r\n// May 1994\r\n//\r\n//\r\n// The cube model used:\r\n//\r\n//     (4) ------ 4 ------ (5)\r\n//     /|                  /|\r\n//    7 |                 5 |\r\n//   /  |                /  |\r\n// (7) ------ 6 ------ (6)  |\r\n//  |   8               |   9\r\n//  |   |               |   |\r\n//  |   |               |   |\r\n//  |  (0) ------ 0 ------ (1)\r\n//  11 /               10  /\r\n//  | 3                 | 1\r\n//  |/                  |/\r\n// (3) ------ 2 ------ (2)\r\n/*\r\n    Given a grid cell and an isolevel, calculate the triangular\r\n    facets required to represent the isosurface through the cell.\r\n    Return the number of triangular facets, the array \"triangles\"\r\n    will be loaded up with the vertices at most 5 triangular facets.\r\n     0 will be returned if the grid cell is either totally above\r\n    of totally below the isolevel.\r\n */\r\n// typedef struct {\r\n//     XYZ p[3];\r\n//  } TRIANGLE;\r\n//  typedef struct {\r\n//     XYZ p[8];\r\n//     double val[8];\r\n//  } GRIDCELL;\r\nclass Gridcell {\r\n    constructor() {\r\n        this.points = []; // 8\r\n        this.corner = []; // 8\r\n    }\r\n}\r\nclass Triangle {\r\n    constructor() {\r\n        this.xyz = []; // 3\r\n    }\r\n}\r\nconst edgeTable = [\r\n    0x0,\r\n    0x109,\r\n    0x203,\r\n    0x30a,\r\n    0x406,\r\n    0x50f,\r\n    0x605,\r\n    0x70c,\r\n    0x80c,\r\n    0x905,\r\n    0xa0f,\r\n    0xb06,\r\n    0xc0a,\r\n    0xd03,\r\n    0xe09,\r\n    0xf00,\r\n    0x190,\r\n    0x99,\r\n    0x393,\r\n    0x29a,\r\n    0x596,\r\n    0x49f,\r\n    0x795,\r\n    0x69c,\r\n    0x99c,\r\n    0x895,\r\n    0xb9f,\r\n    0xa96,\r\n    0xd9a,\r\n    0xc93,\r\n    0xf99,\r\n    0xe90,\r\n    0x230,\r\n    0x339,\r\n    0x33,\r\n    0x13a,\r\n    0x636,\r\n    0x73f,\r\n    0x435,\r\n    0x53c,\r\n    0xa3c,\r\n    0xb35,\r\n    0x83f,\r\n    0x936,\r\n    0xe3a,\r\n    0xf33,\r\n    0xc39,\r\n    0xd30,\r\n    0x3a0,\r\n    0x2a9,\r\n    0x1a3,\r\n    0xaa,\r\n    0x7a6,\r\n    0x6af,\r\n    0x5a5,\r\n    0x4ac,\r\n    0xbac,\r\n    0xaa5,\r\n    0x9af,\r\n    0x8a6,\r\n    0xfaa,\r\n    0xea3,\r\n    0xda9,\r\n    0xca0,\r\n    0x460,\r\n    0x569,\r\n    0x663,\r\n    0x76a,\r\n    0x66,\r\n    0x16f,\r\n    0x265,\r\n    0x36c,\r\n    0xc6c,\r\n    0xd65,\r\n    0xe6f,\r\n    0xf66,\r\n    0x86a,\r\n    0x963,\r\n    0xa69,\r\n    0xb60,\r\n    0x5f0,\r\n    0x4f9,\r\n    0x7f3,\r\n    0x6fa,\r\n    0x1f6,\r\n    0xff,\r\n    0x3f5,\r\n    0x2fc,\r\n    0xdfc,\r\n    0xcf5,\r\n    0xfff,\r\n    0xef6,\r\n    0x9fa,\r\n    0x8f3,\r\n    0xbf9,\r\n    0xaf0,\r\n    0x650,\r\n    0x759,\r\n    0x453,\r\n    0x55a,\r\n    0x256,\r\n    0x35f,\r\n    0x55,\r\n    0x15c,\r\n    0xe5c,\r\n    0xf55,\r\n    0xc5f,\r\n    0xd56,\r\n    0xa5a,\r\n    0xb53,\r\n    0x859,\r\n    0x950,\r\n    0x7c0,\r\n    0x6c9,\r\n    0x5c3,\r\n    0x4ca,\r\n    0x3c6,\r\n    0x2cf,\r\n    0x1c5,\r\n    0xcc,\r\n    0xfcc,\r\n    0xec5,\r\n    0xdcf,\r\n    0xcc6,\r\n    0xbca,\r\n    0xac3,\r\n    0x9c9,\r\n    0x8c0,\r\n    0x8c0,\r\n    0x9c9,\r\n    0xac3,\r\n    0xbca,\r\n    0xcc6,\r\n    0xdcf,\r\n    0xec5,\r\n    0xfcc,\r\n    0xcc,\r\n    0x1c5,\r\n    0x2cf,\r\n    0x3c6,\r\n    0x4ca,\r\n    0x5c3,\r\n    0x6c9,\r\n    0x7c0,\r\n    0x950,\r\n    0x859,\r\n    0xb53,\r\n    0xa5a,\r\n    0xd56,\r\n    0xc5f,\r\n    0xf55,\r\n    0xe5c,\r\n    0x15c,\r\n    0x55,\r\n    0x35f,\r\n    0x256,\r\n    0x55a,\r\n    0x453,\r\n    0x759,\r\n    0x650,\r\n    0xaf0,\r\n    0xbf9,\r\n    0x8f3,\r\n    0x9fa,\r\n    0xef6,\r\n    0xfff,\r\n    0xcf5,\r\n    0xdfc,\r\n    0x2fc,\r\n    0x3f5,\r\n    0xff,\r\n    0x1f6,\r\n    0x6fa,\r\n    0x7f3,\r\n    0x4f9,\r\n    0x5f0,\r\n    0xb60,\r\n    0xa69,\r\n    0x963,\r\n    0x86a,\r\n    0xf66,\r\n    0xe6f,\r\n    0xd65,\r\n    0xc6c,\r\n    0x36c,\r\n    0x265,\r\n    0x16f,\r\n    0x66,\r\n    0x76a,\r\n    0x663,\r\n    0x569,\r\n    0x460,\r\n    0xca0,\r\n    0xda9,\r\n    0xea3,\r\n    0xfaa,\r\n    0x8a6,\r\n    0x9af,\r\n    0xaa5,\r\n    0xbac,\r\n    0x4ac,\r\n    0x5a5,\r\n    0x6af,\r\n    0x7a6,\r\n    0xaa,\r\n    0x1a3,\r\n    0x2a9,\r\n    0x3a0,\r\n    0xd30,\r\n    0xc39,\r\n    0xf33,\r\n    0xe3a,\r\n    0x936,\r\n    0x83f,\r\n    0xb35,\r\n    0xa3c,\r\n    0x53c,\r\n    0x435,\r\n    0x73f,\r\n    0x636,\r\n    0x13a,\r\n    0x33,\r\n    0x339,\r\n    0x230,\r\n    0xe90,\r\n    0xf99,\r\n    0xc93,\r\n    0xd9a,\r\n    0xa96,\r\n    0xb9f,\r\n    0x895,\r\n    0x99c,\r\n    0x69c,\r\n    0x795,\r\n    0x49f,\r\n    0x596,\r\n    0x29a,\r\n    0x393,\r\n    0x99,\r\n    0x190,\r\n    0xf00,\r\n    0xe09,\r\n    0xd03,\r\n    0xc0a,\r\n    0xb06,\r\n    0xa0f,\r\n    0x905,\r\n    0x80c,\r\n    0x70c,\r\n    0x605,\r\n    0x50f,\r\n    0x406,\r\n    0x30a,\r\n    0x203,\r\n    0x109,\r\n    0x0,\r\n];\r\nconst triTable = [\r\n    [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],\r\n    [0, 8, 3, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],\r\n    [0, 1, 9, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],\r\n    [1, 8, 3, 9, 8, 1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],\r\n    [1, 2, 10, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],\r\n    [0, 8, 3, 1, 2, 10, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],\r\n    [9, 2, 10, 0, 2, 9, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],\r\n    [2, 8, 3, 2, 10, 8, 10, 9, 8, -1, -1, -1, -1, -1, -1, -1],\r\n    [3, 11, 2, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],\r\n    [0, 11, 2, 8, 11, 0, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],\r\n    [1, 9, 0, 2, 3, 11, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],\r\n    [1, 11, 2, 1, 9, 11, 9, 8, 11, -1, -1, -1, -1, -1, -1, -1],\r\n    [3, 10, 1, 11, 10, 3, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],\r\n    [0, 10, 1, 0, 8, 10, 8, 11, 10, -1, -1, -1, -1, -1, -1, -1],\r\n    [3, 9, 0, 3, 11, 9, 11, 10, 9, -1, -1, -1, -1, -1, -1, -1],\r\n    [9, 8, 10, 10, 8, 11, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],\r\n    [4, 7, 8, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],\r\n    [4, 3, 0, 7, 3, 4, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],\r\n    [0, 1, 9, 8, 4, 7, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],\r\n    [4, 1, 9, 4, 7, 1, 7, 3, 1, -1, -1, -1, -1, -1, -1, -1],\r\n    [1, 2, 10, 8, 4, 7, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],\r\n    [3, 4, 7, 3, 0, 4, 1, 2, 10, -1, -1, -1, -1, -1, -1, -1],\r\n    [9, 2, 10, 9, 0, 2, 8, 4, 7, -1, -1, -1, -1, -1, -1, -1],\r\n    [2, 10, 9, 2, 9, 7, 2, 7, 3, 7, 9, 4, -1, -1, -1, -1],\r\n    [8, 4, 7, 3, 11, 2, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],\r\n    [11, 4, 7, 11, 2, 4, 2, 0, 4, -1, -1, -1, -1, -1, -1, -1],\r\n    [9, 0, 1, 8, 4, 7, 2, 3, 11, -1, -1, -1, -1, -1, -1, -1],\r\n    [4, 7, 11, 9, 4, 11, 9, 11, 2, 9, 2, 1, -1, -1, -1, -1],\r\n    [3, 10, 1, 3, 11, 10, 7, 8, 4, -1, -1, -1, -1, -1, -1, -1],\r\n    [1, 11, 10, 1, 4, 11, 1, 0, 4, 7, 11, 4, -1, -1, -1, -1],\r\n    [4, 7, 8, 9, 0, 11, 9, 11, 10, 11, 0, 3, -1, -1, -1, -1],\r\n    [4, 7, 11, 4, 11, 9, 9, 11, 10, -1, -1, -1, -1, -1, -1, -1],\r\n    [9, 5, 4, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],\r\n    [9, 5, 4, 0, 8, 3, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],\r\n    [0, 5, 4, 1, 5, 0, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],\r\n    [8, 5, 4, 8, 3, 5, 3, 1, 5, -1, -1, -1, -1, -1, -1, -1],\r\n    [1, 2, 10, 9, 5, 4, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],\r\n    [3, 0, 8, 1, 2, 10, 4, 9, 5, -1, -1, -1, -1, -1, -1, -1],\r\n    [5, 2, 10, 5, 4, 2, 4, 0, 2, -1, -1, -1, -1, -1, -1, -1],\r\n    [2, 10, 5, 3, 2, 5, 3, 5, 4, 3, 4, 8, -1, -1, -1, -1],\r\n    [9, 5, 4, 2, 3, 11, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],\r\n    [0, 11, 2, 0, 8, 11, 4, 9, 5, -1, -1, -1, -1, -1, -1, -1],\r\n    [0, 5, 4, 0, 1, 5, 2, 3, 11, -1, -1, -1, -1, -1, -1, -1],\r\n    [2, 1, 5, 2, 5, 8, 2, 8, 11, 4, 8, 5, -1, -1, -1, -1],\r\n    [10, 3, 11, 10, 1, 3, 9, 5, 4, -1, -1, -1, -1, -1, -1, -1],\r\n    [4, 9, 5, 0, 8, 1, 8, 10, 1, 8, 11, 10, -1, -1, -1, -1],\r\n    [5, 4, 0, 5, 0, 11, 5, 11, 10, 11, 0, 3, -1, -1, -1, -1],\r\n    [5, 4, 8, 5, 8, 10, 10, 8, 11, -1, -1, -1, -1, -1, -1, -1],\r\n    [9, 7, 8, 5, 7, 9, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],\r\n    [9, 3, 0, 9, 5, 3, 5, 7, 3, -1, -1, -1, -1, -1, -1, -1],\r\n    [0, 7, 8, 0, 1, 7, 1, 5, 7, -1, -1, -1, -1, -1, -1, -1],\r\n    [1, 5, 3, 3, 5, 7, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],\r\n    [9, 7, 8, 9, 5, 7, 10, 1, 2, -1, -1, -1, -1, -1, -1, -1],\r\n    [10, 1, 2, 9, 5, 0, 5, 3, 0, 5, 7, 3, -1, -1, -1, -1],\r\n    [8, 0, 2, 8, 2, 5, 8, 5, 7, 10, 5, 2, -1, -1, -1, -1],\r\n    [2, 10, 5, 2, 5, 3, 3, 5, 7, -1, -1, -1, -1, -1, -1, -1],\r\n    [7, 9, 5, 7, 8, 9, 3, 11, 2, -1, -1, -1, -1, -1, -1, -1],\r\n    [9, 5, 7, 9, 7, 2, 9, 2, 0, 2, 7, 11, -1, -1, -1, -1],\r\n    [2, 3, 11, 0, 1, 8, 1, 7, 8, 1, 5, 7, -1, -1, -1, -1],\r\n    [11, 2, 1, 11, 1, 7, 7, 1, 5, -1, -1, -1, -1, -1, -1, -1],\r\n    [9, 5, 8, 8, 5, 7, 10, 1, 3, 10, 3, 11, -1, -1, -1, -1],\r\n    [5, 7, 0, 5, 0, 9, 7, 11, 0, 1, 0, 10, 11, 10, 0, -1],\r\n    [11, 10, 0, 11, 0, 3, 10, 5, 0, 8, 0, 7, 5, 7, 0, -1],\r\n    [11, 10, 5, 7, 11, 5, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],\r\n    [10, 6, 5, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],\r\n    [0, 8, 3, 5, 10, 6, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],\r\n    [9, 0, 1, 5, 10, 6, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],\r\n    [1, 8, 3, 1, 9, 8, 5, 10, 6, -1, -1, -1, -1, -1, -1, -1],\r\n    [1, 6, 5, 2, 6, 1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],\r\n    [1, 6, 5, 1, 2, 6, 3, 0, 8, -1, -1, -1, -1, -1, -1, -1],\r\n    [9, 6, 5, 9, 0, 6, 0, 2, 6, -1, -1, -1, -1, -1, -1, -1],\r\n    [5, 9, 8, 5, 8, 2, 5, 2, 6, 3, 2, 8, -1, -1, -1, -1],\r\n    [2, 3, 11, 10, 6, 5, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],\r\n    [11, 0, 8, 11, 2, 0, 10, 6, 5, -1, -1, -1, -1, -1, -1, -1],\r\n    [0, 1, 9, 2, 3, 11, 5, 10, 6, -1, -1, -1, -1, -1, -1, -1],\r\n    [5, 10, 6, 1, 9, 2, 9, 11, 2, 9, 8, 11, -1, -1, -1, -1],\r\n    [6, 3, 11, 6, 5, 3, 5, 1, 3, -1, -1, -1, -1, -1, -1, -1],\r\n    [0, 8, 11, 0, 11, 5, 0, 5, 1, 5, 11, 6, -1, -1, -1, -1],\r\n    [3, 11, 6, 0, 3, 6, 0, 6, 5, 0, 5, 9, -1, -1, -1, -1],\r\n    [6, 5, 9, 6, 9, 11, 11, 9, 8, -1, -1, -1, -1, -1, -1, -1],\r\n    [5, 10, 6, 4, 7, 8, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],\r\n    [4, 3, 0, 4, 7, 3, 6, 5, 10, -1, -1, -1, -1, -1, -1, -1],\r\n    [1, 9, 0, 5, 10, 6, 8, 4, 7, -1, -1, -1, -1, -1, -1, -1],\r\n    [10, 6, 5, 1, 9, 7, 1, 7, 3, 7, 9, 4, -1, -1, -1, -1],\r\n    [6, 1, 2, 6, 5, 1, 4, 7, 8, -1, -1, -1, -1, -1, -1, -1],\r\n    [1, 2, 5, 5, 2, 6, 3, 0, 4, 3, 4, 7, -1, -1, -1, -1],\r\n    [8, 4, 7, 9, 0, 5, 0, 6, 5, 0, 2, 6, -1, -1, -1, -1],\r\n    [7, 3, 9, 7, 9, 4, 3, 2, 9, 5, 9, 6, 2, 6, 9, -1],\r\n    [3, 11, 2, 7, 8, 4, 10, 6, 5, -1, -1, -1, -1, -1, -1, -1],\r\n    [5, 10, 6, 4, 7, 2, 4, 2, 0, 2, 7, 11, -1, -1, -1, -1],\r\n    [0, 1, 9, 4, 7, 8, 2, 3, 11, 5, 10, 6, -1, -1, -1, -1],\r\n    [9, 2, 1, 9, 11, 2, 9, 4, 11, 7, 11, 4, 5, 10, 6, -1],\r\n    [8, 4, 7, 3, 11, 5, 3, 5, 1, 5, 11, 6, -1, -1, -1, -1],\r\n    [5, 1, 11, 5, 11, 6, 1, 0, 11, 7, 11, 4, 0, 4, 11, -1],\r\n    [0, 5, 9, 0, 6, 5, 0, 3, 6, 11, 6, 3, 8, 4, 7, -1],\r\n    [6, 5, 9, 6, 9, 11, 4, 7, 9, 7, 11, 9, -1, -1, -1, -1],\r\n    [10, 4, 9, 6, 4, 10, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],\r\n    [4, 10, 6, 4, 9, 10, 0, 8, 3, -1, -1, -1, -1, -1, -1, -1],\r\n    [10, 0, 1, 10, 6, 0, 6, 4, 0, -1, -1, -1, -1, -1, -1, -1],\r\n    [8, 3, 1, 8, 1, 6, 8, 6, 4, 6, 1, 10, -1, -1, -1, -1],\r\n    [1, 4, 9, 1, 2, 4, 2, 6, 4, -1, -1, -1, -1, -1, -1, -1],\r\n    [3, 0, 8, 1, 2, 9, 2, 4, 9, 2, 6, 4, -1, -1, -1, -1],\r\n    [0, 2, 4, 4, 2, 6, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],\r\n    [8, 3, 2, 8, 2, 4, 4, 2, 6, -1, -1, -1, -1, -1, -1, -1],\r\n    [10, 4, 9, 10, 6, 4, 11, 2, 3, -1, -1, -1, -1, -1, -1, -1],\r\n    [0, 8, 2, 2, 8, 11, 4, 9, 10, 4, 10, 6, -1, -1, -1, -1],\r\n    [3, 11, 2, 0, 1, 6, 0, 6, 4, 6, 1, 10, -1, -1, -1, -1],\r\n    [6, 4, 1, 6, 1, 10, 4, 8, 1, 2, 1, 11, 8, 11, 1, -1],\r\n    [9, 6, 4, 9, 3, 6, 9, 1, 3, 11, 6, 3, -1, -1, -1, -1],\r\n    [8, 11, 1, 8, 1, 0, 11, 6, 1, 9, 1, 4, 6, 4, 1, -1],\r\n    [3, 11, 6, 3, 6, 0, 0, 6, 4, -1, -1, -1, -1, -1, -1, -1],\r\n    [6, 4, 8, 11, 6, 8, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],\r\n    [7, 10, 6, 7, 8, 10, 8, 9, 10, -1, -1, -1, -1, -1, -1, -1],\r\n    [0, 7, 3, 0, 10, 7, 0, 9, 10, 6, 7, 10, -1, -1, -1, -1],\r\n    [10, 6, 7, 1, 10, 7, 1, 7, 8, 1, 8, 0, -1, -1, -1, -1],\r\n    [10, 6, 7, 10, 7, 1, 1, 7, 3, -1, -1, -1, -1, -1, -1, -1],\r\n    [1, 2, 6, 1, 6, 8, 1, 8, 9, 8, 6, 7, -1, -1, -1, -1],\r\n    [2, 6, 9, 2, 9, 1, 6, 7, 9, 0, 9, 3, 7, 3, 9, -1],\r\n    [7, 8, 0, 7, 0, 6, 6, 0, 2, -1, -1, -1, -1, -1, -1, -1],\r\n    [7, 3, 2, 6, 7, 2, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],\r\n    [2, 3, 11, 10, 6, 8, 10, 8, 9, 8, 6, 7, -1, -1, -1, -1],\r\n    [2, 0, 7, 2, 7, 11, 0, 9, 7, 6, 7, 10, 9, 10, 7, -1],\r\n    [1, 8, 0, 1, 7, 8, 1, 10, 7, 6, 7, 10, 2, 3, 11, -1],\r\n    [11, 2, 1, 11, 1, 7, 10, 6, 1, 6, 7, 1, -1, -1, -1, -1],\r\n    [8, 9, 6, 8, 6, 7, 9, 1, 6, 11, 6, 3, 1, 3, 6, -1],\r\n    [0, 9, 1, 11, 6, 7, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],\r\n    [7, 8, 0, 7, 0, 6, 3, 11, 0, 11, 6, 0, -1, -1, -1, -1],\r\n    [7, 11, 6, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],\r\n    [7, 6, 11, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],\r\n    [3, 0, 8, 11, 7, 6, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],\r\n    [0, 1, 9, 11, 7, 6, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],\r\n    [8, 1, 9, 8, 3, 1, 11, 7, 6, -1, -1, -1, -1, -1, -1, -1],\r\n    [10, 1, 2, 6, 11, 7, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],\r\n    [1, 2, 10, 3, 0, 8, 6, 11, 7, -1, -1, -1, -1, -1, -1, -1],\r\n    [2, 9, 0, 2, 10, 9, 6, 11, 7, -1, -1, -1, -1, -1, -1, -1],\r\n    [6, 11, 7, 2, 10, 3, 10, 8, 3, 10, 9, 8, -1, -1, -1, -1],\r\n    [7, 2, 3, 6, 2, 7, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],\r\n    [7, 0, 8, 7, 6, 0, 6, 2, 0, -1, -1, -1, -1, -1, -1, -1],\r\n    [2, 7, 6, 2, 3, 7, 0, 1, 9, -1, -1, -1, -1, -1, -1, -1],\r\n    [1, 6, 2, 1, 8, 6, 1, 9, 8, 8, 7, 6, -1, -1, -1, -1],\r\n    [10, 7, 6, 10, 1, 7, 1, 3, 7, -1, -1, -1, -1, -1, -1, -1],\r\n    [10, 7, 6, 1, 7, 10, 1, 8, 7, 1, 0, 8, -1, -1, -1, -1],\r\n    [0, 3, 7, 0, 7, 10, 0, 10, 9, 6, 10, 7, -1, -1, -1, -1],\r\n    [7, 6, 10, 7, 10, 8, 8, 10, 9, -1, -1, -1, -1, -1, -1, -1],\r\n    [6, 8, 4, 11, 8, 6, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],\r\n    [3, 6, 11, 3, 0, 6, 0, 4, 6, -1, -1, -1, -1, -1, -1, -1],\r\n    [8, 6, 11, 8, 4, 6, 9, 0, 1, -1, -1, -1, -1, -1, -1, -1],\r\n    [9, 4, 6, 9, 6, 3, 9, 3, 1, 11, 3, 6, -1, -1, -1, -1],\r\n    [6, 8, 4, 6, 11, 8, 2, 10, 1, -1, -1, -1, -1, -1, -1, -1],\r\n    [1, 2, 10, 3, 0, 11, 0, 6, 11, 0, 4, 6, -1, -1, -1, -1],\r\n    [4, 11, 8, 4, 6, 11, 0, 2, 9, 2, 10, 9, -1, -1, -1, -1],\r\n    [10, 9, 3, 10, 3, 2, 9, 4, 3, 11, 3, 6, 4, 6, 3, -1],\r\n    [8, 2, 3, 8, 4, 2, 4, 6, 2, -1, -1, -1, -1, -1, -1, -1],\r\n    [0, 4, 2, 4, 6, 2, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],\r\n    [1, 9, 0, 2, 3, 4, 2, 4, 6, 4, 3, 8, -1, -1, -1, -1],\r\n    [1, 9, 4, 1, 4, 2, 2, 4, 6, -1, -1, -1, -1, -1, -1, -1],\r\n    [8, 1, 3, 8, 6, 1, 8, 4, 6, 6, 10, 1, -1, -1, -1, -1],\r\n    [10, 1, 0, 10, 0, 6, 6, 0, 4, -1, -1, -1, -1, -1, -1, -1],\r\n    [4, 6, 3, 4, 3, 8, 6, 10, 3, 0, 3, 9, 10, 9, 3, -1],\r\n    [10, 9, 4, 6, 10, 4, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],\r\n    [4, 9, 5, 7, 6, 11, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],\r\n    [0, 8, 3, 4, 9, 5, 11, 7, 6, -1, -1, -1, -1, -1, -1, -1],\r\n    [5, 0, 1, 5, 4, 0, 7, 6, 11, -1, -1, -1, -1, -1, -1, -1],\r\n    [11, 7, 6, 8, 3, 4, 3, 5, 4, 3, 1, 5, -1, -1, -1, -1],\r\n    [9, 5, 4, 10, 1, 2, 7, 6, 11, -1, -1, -1, -1, -1, -1, -1],\r\n    [6, 11, 7, 1, 2, 10, 0, 8, 3, 4, 9, 5, -1, -1, -1, -1],\r\n    [7, 6, 11, 5, 4, 10, 4, 2, 10, 4, 0, 2, -1, -1, -1, -1],\r\n    [3, 4, 8, 3, 5, 4, 3, 2, 5, 10, 5, 2, 11, 7, 6, -1],\r\n    [7, 2, 3, 7, 6, 2, 5, 4, 9, -1, -1, -1, -1, -1, -1, -1],\r\n    [9, 5, 4, 0, 8, 6, 0, 6, 2, 6, 8, 7, -1, -1, -1, -1],\r\n    [3, 6, 2, 3, 7, 6, 1, 5, 0, 5, 4, 0, -1, -1, -1, -1],\r\n    [6, 2, 8, 6, 8, 7, 2, 1, 8, 4, 8, 5, 1, 5, 8, -1],\r\n    [9, 5, 4, 10, 1, 6, 1, 7, 6, 1, 3, 7, -1, -1, -1, -1],\r\n    [1, 6, 10, 1, 7, 6, 1, 0, 7, 8, 7, 0, 9, 5, 4, -1],\r\n    [4, 0, 10, 4, 10, 5, 0, 3, 10, 6, 10, 7, 3, 7, 10, -1],\r\n    [7, 6, 10, 7, 10, 8, 5, 4, 10, 4, 8, 10, -1, -1, -1, -1],\r\n    [6, 9, 5, 6, 11, 9, 11, 8, 9, -1, -1, -1, -1, -1, -1, -1],\r\n    [3, 6, 11, 0, 6, 3, 0, 5, 6, 0, 9, 5, -1, -1, -1, -1],\r\n    [0, 11, 8, 0, 5, 11, 0, 1, 5, 5, 6, 11, -1, -1, -1, -1],\r\n    [6, 11, 3, 6, 3, 5, 5, 3, 1, -1, -1, -1, -1, -1, -1, -1],\r\n    [1, 2, 10, 9, 5, 11, 9, 11, 8, 11, 5, 6, -1, -1, -1, -1],\r\n    [0, 11, 3, 0, 6, 11, 0, 9, 6, 5, 6, 9, 1, 2, 10, -1],\r\n    [11, 8, 5, 11, 5, 6, 8, 0, 5, 10, 5, 2, 0, 2, 5, -1],\r\n    [6, 11, 3, 6, 3, 5, 2, 10, 3, 10, 5, 3, -1, -1, -1, -1],\r\n    [5, 8, 9, 5, 2, 8, 5, 6, 2, 3, 8, 2, -1, -1, -1, -1],\r\n    [9, 5, 6, 9, 6, 0, 0, 6, 2, -1, -1, -1, -1, -1, -1, -1],\r\n    [1, 5, 8, 1, 8, 0, 5, 6, 8, 3, 8, 2, 6, 2, 8, -1],\r\n    [1, 5, 6, 2, 1, 6, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],\r\n    [1, 3, 6, 1, 6, 10, 3, 8, 6, 5, 6, 9, 8, 9, 6, -1],\r\n    [10, 1, 0, 10, 0, 6, 9, 5, 0, 5, 6, 0, -1, -1, -1, -1],\r\n    [0, 3, 8, 5, 6, 10, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],\r\n    [10, 5, 6, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],\r\n    [11, 5, 10, 7, 5, 11, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],\r\n    [11, 5, 10, 11, 7, 5, 8, 3, 0, -1, -1, -1, -1, -1, -1, -1],\r\n    [5, 11, 7, 5, 10, 11, 1, 9, 0, -1, -1, -1, -1, -1, -1, -1],\r\n    [10, 7, 5, 10, 11, 7, 9, 8, 1, 8, 3, 1, -1, -1, -1, -1],\r\n    [11, 1, 2, 11, 7, 1, 7, 5, 1, -1, -1, -1, -1, -1, -1, -1],\r\n    [0, 8, 3, 1, 2, 7, 1, 7, 5, 7, 2, 11, -1, -1, -1, -1],\r\n    [9, 7, 5, 9, 2, 7, 9, 0, 2, 2, 11, 7, -1, -1, -1, -1],\r\n    [7, 5, 2, 7, 2, 11, 5, 9, 2, 3, 2, 8, 9, 8, 2, -1],\r\n    [2, 5, 10, 2, 3, 5, 3, 7, 5, -1, -1, -1, -1, -1, -1, -1],\r\n    [8, 2, 0, 8, 5, 2, 8, 7, 5, 10, 2, 5, -1, -1, -1, -1],\r\n    [9, 0, 1, 5, 10, 3, 5, 3, 7, 3, 10, 2, -1, -1, -1, -1],\r\n    [9, 8, 2, 9, 2, 1, 8, 7, 2, 10, 2, 5, 7, 5, 2, -1],\r\n    [1, 3, 5, 3, 7, 5, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],\r\n    [0, 8, 7, 0, 7, 1, 1, 7, 5, -1, -1, -1, -1, -1, -1, -1],\r\n    [9, 0, 3, 9, 3, 5, 5, 3, 7, -1, -1, -1, -1, -1, -1, -1],\r\n    [9, 8, 7, 5, 9, 7, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],\r\n    [5, 8, 4, 5, 10, 8, 10, 11, 8, -1, -1, -1, -1, -1, -1, -1],\r\n    [5, 0, 4, 5, 11, 0, 5, 10, 11, 11, 3, 0, -1, -1, -1, -1],\r\n    [0, 1, 9, 8, 4, 10, 8, 10, 11, 10, 4, 5, -1, -1, -1, -1],\r\n    [10, 11, 4, 10, 4, 5, 11, 3, 4, 9, 4, 1, 3, 1, 4, -1],\r\n    [2, 5, 1, 2, 8, 5, 2, 11, 8, 4, 5, 8, -1, -1, -1, -1],\r\n    [0, 4, 11, 0, 11, 3, 4, 5, 11, 2, 11, 1, 5, 1, 11, -1],\r\n    [0, 2, 5, 0, 5, 9, 2, 11, 5, 4, 5, 8, 11, 8, 5, -1],\r\n    [9, 4, 5, 2, 11, 3, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],\r\n    [2, 5, 10, 3, 5, 2, 3, 4, 5, 3, 8, 4, -1, -1, -1, -1],\r\n    [5, 10, 2, 5, 2, 4, 4, 2, 0, -1, -1, -1, -1, -1, -1, -1],\r\n    [3, 10, 2, 3, 5, 10, 3, 8, 5, 4, 5, 8, 0, 1, 9, -1],\r\n    [5, 10, 2, 5, 2, 4, 1, 9, 2, 9, 4, 2, -1, -1, -1, -1],\r\n    [8, 4, 5, 8, 5, 3, 3, 5, 1, -1, -1, -1, -1, -1, -1, -1],\r\n    [0, 4, 5, 1, 0, 5, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],\r\n    [8, 4, 5, 8, 5, 3, 9, 0, 5, 0, 3, 5, -1, -1, -1, -1],\r\n    [9, 4, 5, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],\r\n    [4, 11, 7, 4, 9, 11, 9, 10, 11, -1, -1, -1, -1, -1, -1, -1],\r\n    [0, 8, 3, 4, 9, 7, 9, 11, 7, 9, 10, 11, -1, -1, -1, -1],\r\n    [1, 10, 11, 1, 11, 4, 1, 4, 0, 7, 4, 11, -1, -1, -1, -1],\r\n    [3, 1, 4, 3, 4, 8, 1, 10, 4, 7, 4, 11, 10, 11, 4, -1],\r\n    [4, 11, 7, 9, 11, 4, 9, 2, 11, 9, 1, 2, -1, -1, -1, -1],\r\n    [9, 7, 4, 9, 11, 7, 9, 1, 11, 2, 11, 1, 0, 8, 3, -1],\r\n    [11, 7, 4, 11, 4, 2, 2, 4, 0, -1, -1, -1, -1, -1, -1, -1],\r\n    [11, 7, 4, 11, 4, 2, 8, 3, 4, 3, 2, 4, -1, -1, -1, -1],\r\n    [2, 9, 10, 2, 7, 9, 2, 3, 7, 7, 4, 9, -1, -1, -1, -1],\r\n    [9, 10, 7, 9, 7, 4, 10, 2, 7, 8, 7, 0, 2, 0, 7, -1],\r\n    [3, 7, 10, 3, 10, 2, 7, 4, 10, 1, 10, 0, 4, 0, 10, -1],\r\n    [1, 10, 2, 8, 7, 4, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],\r\n    [4, 9, 1, 4, 1, 7, 7, 1, 3, -1, -1, -1, -1, -1, -1, -1],\r\n    [4, 9, 1, 4, 1, 7, 0, 8, 1, 8, 7, 1, -1, -1, -1, -1],\r\n    [4, 0, 3, 7, 4, 3, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],\r\n    [4, 8, 7, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],\r\n    [9, 10, 8, 10, 11, 8, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],\r\n    [3, 0, 9, 3, 9, 11, 11, 9, 10, -1, -1, -1, -1, -1, -1, -1],\r\n    [0, 1, 10, 0, 10, 8, 8, 10, 11, -1, -1, -1, -1, -1, -1, -1],\r\n    [3, 1, 10, 11, 3, 10, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],\r\n    [1, 2, 11, 1, 11, 9, 9, 11, 8, -1, -1, -1, -1, -1, -1, -1],\r\n    [3, 0, 9, 3, 9, 11, 1, 2, 9, 2, 11, 9, -1, -1, -1, -1],\r\n    [0, 2, 11, 8, 0, 11, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],\r\n    [3, 2, 11, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],\r\n    [2, 3, 8, 2, 8, 10, 10, 8, 9, -1, -1, -1, -1, -1, -1, -1],\r\n    [9, 10, 2, 0, 9, 2, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],\r\n    [2, 3, 8, 2, 8, 10, 0, 1, 8, 1, 10, 8, -1, -1, -1, -1],\r\n    [1, 10, 2, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],\r\n    [1, 3, 8, 9, 1, 8, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],\r\n    [0, 9, 1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],\r\n    [0, 3, 8, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],\r\n    [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1],\r\n];\r\nfunction polygonise(corners, values, level) {\r\n    let triangles = null;\r\n    // get the marching cube index based on corners\r\n    let cubeindex = 0;\r\n    if (values[0] < level)\r\n        cubeindex |= 1;\r\n    if (values[1] < level)\r\n        cubeindex |= 2;\r\n    if (values[2] < level)\r\n        cubeindex |= 4;\r\n    if (values[3] < level)\r\n        cubeindex |= 8;\r\n    if (values[4] < level)\r\n        cubeindex |= 16;\r\n    if (values[5] < level)\r\n        cubeindex |= 32;\r\n    if (values[6] < level)\r\n        cubeindex |= 64;\r\n    if (values[7] < level)\r\n        cubeindex |= 128;\r\n    /* Cube is entirely in/out of the surface */\r\n    let vertlist = []; // 12\r\n    if (edgeTable[cubeindex] == 0)\r\n        return _mesh_mesh__WEBPACK_IMPORTED_MODULE_0__.Mesh.zero();\r\n    /* Find the vertices where the surface intersects the cube */\r\n    if (edgeTable[cubeindex] & 1)\r\n        vertlist[0] = lerp(level, corners[0], corners[1], values[0], values[1]);\r\n    if (edgeTable[cubeindex] & 2)\r\n        vertlist[1] = lerp(level, corners[1], corners[2], values[1], values[2]);\r\n    if (edgeTable[cubeindex] & 4)\r\n        vertlist[2] = lerp(level, corners[2], corners[3], values[2], values[3]);\r\n    if (edgeTable[cubeindex] & 8)\r\n        vertlist[3] = lerp(level, corners[3], corners[0], values[3], values[0]);\r\n    if (edgeTable[cubeindex] & 16)\r\n        vertlist[4] = lerp(level, corners[4], corners[5], values[4], values[5]);\r\n    if (edgeTable[cubeindex] & 32)\r\n        vertlist[5] = lerp(level, corners[5], corners[6], values[5], values[6]);\r\n    if (edgeTable[cubeindex] & 64)\r\n        vertlist[6] = lerp(level, corners[6], corners[7], values[6], values[7]);\r\n    if (edgeTable[cubeindex] & 128)\r\n        vertlist[7] = lerp(level, corners[7], corners[4], values[7], values[4]);\r\n    if (edgeTable[cubeindex] & 256)\r\n        vertlist[8] = lerp(level, corners[0], corners[4], values[0], values[4]);\r\n    if (edgeTable[cubeindex] & 512)\r\n        vertlist[9] = lerp(level, corners[1], corners[5], values[1], values[5]);\r\n    if (edgeTable[cubeindex] & 1024)\r\n        vertlist[10] = lerp(level, corners[2], corners[6], values[2], values[6]);\r\n    if (edgeTable[cubeindex] & 2048)\r\n        vertlist[11] = lerp(level, corners[3], corners[7], values[3], values[7]);\r\n    // create triangles\r\n    // ntriang = 0;\r\n    // for (let i = 0; triTable[cubeindex][i]!=-1; i+=3) {\r\n    //     triangles[ntriang].p[0] = vertlist[triTable[cubeindex][i  ]];\r\n    //     triangles[ntriang].p[1] = vertlist[triTable[cubeindex][i+1]];\r\n    //     triangles[ntriang].p[2] = vertlist[triTable[cubeindex][i+2]];\r\n    //     ntriang++;\r\n    // }\r\n    // return(ntriang);\r\n    return _mesh_mesh__WEBPACK_IMPORTED_MODULE_0__.Mesh.zero();\r\n}\r\n/*\r\n    Linearly interpolate the position where an isosurface cuts\r\n    an edge between two vertices, each with their own scalar value\r\n */\r\nfunction lerp(level, p1, p2, valp1, valp2) {\r\n    return _math_vector__WEBPACK_IMPORTED_MODULE_1__.Vector3.fromLerpWeights(p1, p2, valp1, valp2, level);\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9nZW9uLWVuZ2luZS8uL3NyYy9hbGdvcml0aG1zL21hcmNoaW5nLWN1YmVzLnRzP2E5OGYiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBQUEsNkJBQTZCO0FBQzdCLHdCQUF3QjtBQUN4QixvR0FBb0c7QUFFaEU7QUFDYztBQUVsRCxjQUFjO0FBQ2QsNkNBQTZDO0FBQzdDLDhCQUE4QjtBQUM5Qiw2RUFBNkU7QUFDN0UseUJBQXlCO0FBQ3pCLFdBQVc7QUFFWCxFQUFFO0FBQ0YsRUFBRTtBQUNGLHVCQUF1QjtBQUN2QixFQUFFO0FBQ0YsOEJBQThCO0FBQzlCLDZCQUE2QjtBQUM3Qiw2QkFBNkI7QUFDN0IsNkJBQTZCO0FBQzdCLDZCQUE2QjtBQUM3Qiw2QkFBNkI7QUFDN0IsNkJBQTZCO0FBQzdCLDZCQUE2QjtBQUM3Qiw4QkFBOEI7QUFDOUIsNEJBQTRCO0FBQzVCLDJCQUEyQjtBQUMzQiwwQkFBMEI7QUFDMUIsMEJBQTBCO0FBRTFCOzs7Ozs7O0dBT0c7QUFFSCxtQkFBbUI7QUFDbkIsZ0JBQWdCO0FBQ2hCLGVBQWU7QUFFZixvQkFBb0I7QUFDcEIsZ0JBQWdCO0FBQ2hCLHFCQUFxQjtBQUNyQixlQUFlO0FBRWYsTUFBTSxRQUFRO0lBQWQ7UUFDSSxXQUFNLEdBQWMsRUFBRSxDQUFDLENBQUMsSUFBSTtRQUM1QixXQUFNLEdBQWEsRUFBRSxDQUFDLENBQUMsSUFBSTtJQUMvQixDQUFDO0NBQUE7QUFFRCxNQUFNLFFBQVE7SUFBZDtRQUNJLFFBQUcsR0FBYyxFQUFFLENBQUMsQ0FBQyxJQUFJO0lBQzdCLENBQUM7Q0FBQTtBQUVELE1BQU0sU0FBUyxHQUFHO0lBQ2QsR0FBRztJQUNILEtBQUs7SUFDTCxLQUFLO0lBQ0wsS0FBSztJQUNMLEtBQUs7SUFDTCxLQUFLO0lBQ0wsS0FBSztJQUNMLEtBQUs7SUFDTCxLQUFLO0lBQ0wsS0FBSztJQUNMLEtBQUs7SUFDTCxLQUFLO0lBQ0wsS0FBSztJQUNMLEtBQUs7SUFDTCxLQUFLO0lBQ0wsS0FBSztJQUNMLEtBQUs7SUFDTCxJQUFJO0lBQ0osS0FBSztJQUNMLEtBQUs7SUFDTCxLQUFLO0lBQ0wsS0FBSztJQUNMLEtBQUs7SUFDTCxLQUFLO0lBQ0wsS0FBSztJQUNMLEtBQUs7SUFDTCxLQUFLO0lBQ0wsS0FBSztJQUNMLEtBQUs7SUFDTCxLQUFLO0lBQ0wsS0FBSztJQUNMLEtBQUs7SUFDTCxLQUFLO0lBQ0wsS0FBSztJQUNMLElBQUk7SUFDSixLQUFLO0lBQ0wsS0FBSztJQUNMLEtBQUs7SUFDTCxLQUFLO0lBQ0wsS0FBSztJQUNMLEtBQUs7SUFDTCxLQUFLO0lBQ0wsS0FBSztJQUNMLEtBQUs7SUFDTCxLQUFLO0lBQ0wsS0FBSztJQUNMLEtBQUs7SUFDTCxLQUFLO0lBQ0wsS0FBSztJQUNMLEtBQUs7SUFDTCxLQUFLO0lBQ0wsSUFBSTtJQUNKLEtBQUs7SUFDTCxLQUFLO0lBQ0wsS0FBSztJQUNMLEtBQUs7SUFDTCxLQUFLO0lBQ0wsS0FBSztJQUNMLEtBQUs7SUFDTCxLQUFLO0lBQ0wsS0FBSztJQUNMLEtBQUs7SUFDTCxLQUFLO0lBQ0wsS0FBSztJQUNMLEtBQUs7SUFDTCxLQUFLO0lBQ0wsS0FBSztJQUNMLEtBQUs7SUFDTCxJQUFJO0lBQ0osS0FBSztJQUNMLEtBQUs7SUFDTCxLQUFLO0lBQ0wsS0FBSztJQUNMLEtBQUs7SUFDTCxLQUFLO0lBQ0wsS0FBSztJQUNMLEtBQUs7SUFDTCxLQUFLO0lBQ0wsS0FBSztJQUNMLEtBQUs7SUFDTCxLQUFLO0lBQ0wsS0FBSztJQUNMLEtBQUs7SUFDTCxLQUFLO0lBQ0wsS0FBSztJQUNMLElBQUk7SUFDSixLQUFLO0lBQ0wsS0FBSztJQUNMLEtBQUs7SUFDTCxLQUFLO0lBQ0wsS0FBSztJQUNMLEtBQUs7SUFDTCxLQUFLO0lBQ0wsS0FBSztJQUNMLEtBQUs7SUFDTCxLQUFLO0lBQ0wsS0FBSztJQUNMLEtBQUs7SUFDTCxLQUFLO0lBQ0wsS0FBSztJQUNMLEtBQUs7SUFDTCxLQUFLO0lBQ0wsSUFBSTtJQUNKLEtBQUs7SUFDTCxLQUFLO0lBQ0wsS0FBSztJQUNMLEtBQUs7SUFDTCxLQUFLO0lBQ0wsS0FBSztJQUNMLEtBQUs7SUFDTCxLQUFLO0lBQ0wsS0FBSztJQUNMLEtBQUs7SUFDTCxLQUFLO0lBQ0wsS0FBSztJQUNMLEtBQUs7SUFDTCxLQUFLO0lBQ0wsS0FBSztJQUNMLEtBQUs7SUFDTCxJQUFJO0lBQ0osS0FBSztJQUNMLEtBQUs7SUFDTCxLQUFLO0lBQ0wsS0FBSztJQUNMLEtBQUs7SUFDTCxLQUFLO0lBQ0wsS0FBSztJQUNMLEtBQUs7SUFDTCxLQUFLO0lBQ0wsS0FBSztJQUNMLEtBQUs7SUFDTCxLQUFLO0lBQ0wsS0FBSztJQUNMLEtBQUs7SUFDTCxLQUFLO0lBQ0wsS0FBSztJQUNMLElBQUk7SUFDSixLQUFLO0lBQ0wsS0FBSztJQUNMLEtBQUs7SUFDTCxLQUFLO0lBQ0wsS0FBSztJQUNMLEtBQUs7SUFDTCxLQUFLO0lBQ0wsS0FBSztJQUNMLEtBQUs7SUFDTCxLQUFLO0lBQ0wsS0FBSztJQUNMLEtBQUs7SUFDTCxLQUFLO0lBQ0wsS0FBSztJQUNMLEtBQUs7SUFDTCxLQUFLO0lBQ0wsSUFBSTtJQUNKLEtBQUs7SUFDTCxLQUFLO0lBQ0wsS0FBSztJQUNMLEtBQUs7SUFDTCxLQUFLO0lBQ0wsS0FBSztJQUNMLEtBQUs7SUFDTCxLQUFLO0lBQ0wsS0FBSztJQUNMLEtBQUs7SUFDTCxLQUFLO0lBQ0wsS0FBSztJQUNMLEtBQUs7SUFDTCxLQUFLO0lBQ0wsS0FBSztJQUNMLEtBQUs7SUFDTCxJQUFJO0lBQ0osS0FBSztJQUNMLEtBQUs7SUFDTCxLQUFLO0lBQ0wsS0FBSztJQUNMLEtBQUs7SUFDTCxLQUFLO0lBQ0wsS0FBSztJQUNMLEtBQUs7SUFDTCxLQUFLO0lBQ0wsS0FBSztJQUNMLEtBQUs7SUFDTCxLQUFLO0lBQ0wsS0FBSztJQUNMLEtBQUs7SUFDTCxLQUFLO0lBQ0wsS0FBSztJQUNMLElBQUk7SUFDSixLQUFLO0lBQ0wsS0FBSztJQUNMLEtBQUs7SUFDTCxLQUFLO0lBQ0wsS0FBSztJQUNMLEtBQUs7SUFDTCxLQUFLO0lBQ0wsS0FBSztJQUNMLEtBQUs7SUFDTCxLQUFLO0lBQ0wsS0FBSztJQUNMLEtBQUs7SUFDTCxLQUFLO0lBQ0wsS0FBSztJQUNMLEtBQUs7SUFDTCxLQUFLO0lBQ0wsSUFBSTtJQUNKLEtBQUs7SUFDTCxLQUFLO0lBQ0wsS0FBSztJQUNMLEtBQUs7SUFDTCxLQUFLO0lBQ0wsS0FBSztJQUNMLEtBQUs7SUFDTCxLQUFLO0lBQ0wsS0FBSztJQUNMLEtBQUs7SUFDTCxLQUFLO0lBQ0wsS0FBSztJQUNMLEtBQUs7SUFDTCxLQUFLO0lBQ0wsS0FBSztJQUNMLEtBQUs7SUFDTCxJQUFJO0lBQ0osS0FBSztJQUNMLEtBQUs7SUFDTCxLQUFLO0lBQ0wsS0FBSztJQUNMLEtBQUs7SUFDTCxLQUFLO0lBQ0wsS0FBSztJQUNMLEtBQUs7SUFDTCxLQUFLO0lBQ0wsS0FBSztJQUNMLEtBQUs7SUFDTCxLQUFLO0lBQ0wsS0FBSztJQUNMLEtBQUs7SUFDTCxLQUFLO0lBQ0wsS0FBSztJQUNMLElBQUk7SUFDSixLQUFLO0lBQ0wsS0FBSztJQUNMLEtBQUs7SUFDTCxLQUFLO0lBQ0wsS0FBSztJQUNMLEtBQUs7SUFDTCxLQUFLO0lBQ0wsS0FBSztJQUNMLEtBQUs7SUFDTCxLQUFLO0lBQ0wsS0FBSztJQUNMLEtBQUs7SUFDTCxLQUFLO0lBQ0wsS0FBSztJQUNMLEtBQUs7SUFDTCxLQUFLO0lBQ0wsR0FBRztDQUNOLENBQUM7QUFFRixNQUFNLFFBQVEsR0FBRztJQUNiLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDaEUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUM3RCxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQzdELENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDMUQsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUM5RCxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQzNELENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDM0QsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUN6RCxDQUFDLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQzlELENBQUMsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDNUQsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUMzRCxDQUFDLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQzFELENBQUMsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDN0QsQ0FBQyxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUMzRCxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQzFELENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDN0QsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUM3RCxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQzFELENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDMUQsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUN2RCxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQzNELENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDeEQsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUN4RCxDQUFDLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQ3JELENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDM0QsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUN6RCxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQ3hELENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDdkQsQ0FBQyxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUMxRCxDQUFDLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQ3hELENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDeEQsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUMzRCxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQzdELENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDMUQsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUMxRCxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQ3ZELENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDM0QsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUN4RCxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQ3hELENBQUMsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDckQsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUMzRCxDQUFDLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQ3pELENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDeEQsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUNyRCxDQUFDLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQzFELENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDdkQsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUN4RCxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQzFELENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDMUQsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUN2RCxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQ3ZELENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDMUQsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUN4RCxDQUFDLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQ3JELENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDckQsQ0FBQyxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUN4RCxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQ3hELENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDckQsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUNyRCxDQUFDLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQ3pELENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDdkQsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUNyRCxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQ3JELENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDN0QsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUM5RCxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQzNELENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDM0QsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUN4RCxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQzFELENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDdkQsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUN2RCxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQ3BELENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDNUQsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUMxRCxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQ3pELENBQUMsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDdkQsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUN4RCxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQ3ZELENBQUMsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDckQsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUN6RCxDQUFDLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQzNELENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDeEQsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUN4RCxDQUFDLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQ3JELENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDdkQsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUNwRCxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQ3BELENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDakQsQ0FBQyxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUN6RCxDQUFDLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQ3RELENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDdEQsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUNyRCxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQ3RELENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDdEQsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUNsRCxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQ3RELENBQUMsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDNUQsQ0FBQyxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUN6RCxDQUFDLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQ3pELENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDckQsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUN2RCxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQ3BELENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDMUQsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUN2RCxDQUFDLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQzFELENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDdkQsQ0FBQyxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUN0RCxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQ3BELENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDckQsQ0FBQyxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUNuRCxDQUFDLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQ3hELENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDM0QsQ0FBQyxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUMxRCxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQ3ZELENBQUMsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDdEQsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUN6RCxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQ3BELENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDakQsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUN2RCxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQzFELENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDdkQsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUNwRCxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQ3BELENBQUMsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDdkQsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUNsRCxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQzNELENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDdEQsQ0FBQyxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUM5RCxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQzlELENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDM0QsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUMzRCxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQ3hELENBQUMsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDNUQsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUN6RCxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQ3pELENBQUMsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDeEQsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUMxRCxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQ3ZELENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDdkQsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUNwRCxDQUFDLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQ3pELENBQUMsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDdEQsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUN2RCxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQzFELENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDM0QsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUN4RCxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQ3hELENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDckQsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUN6RCxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQ3ZELENBQUMsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDdkQsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUNwRCxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQ3ZELENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDMUQsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUNwRCxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQ3ZELENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDckQsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUN6RCxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQ25ELENBQUMsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDNUQsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUMzRCxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQ3hELENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDeEQsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUNyRCxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQ3pELENBQUMsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDdEQsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUN2RCxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQ25ELENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDdkQsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUNwRCxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQ3BELENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDakQsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUNyRCxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQ2xELENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDdEQsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUN4RCxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQ3pELENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDckQsQ0FBQyxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUN2RCxDQUFDLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQ3hELENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDeEQsQ0FBQyxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUNwRCxDQUFDLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQ3BELENBQUMsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDdkQsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUNwRCxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQ3ZELENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDakQsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUMxRCxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQ2xELENBQUMsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDdEQsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUMzRCxDQUFDLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQzlELENBQUMsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDN0QsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUMxRCxDQUFDLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQzFELENBQUMsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDdkQsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUN6RCxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQ3JELENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDckQsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUNsRCxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQ3hELENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDckQsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUN0RCxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQ2xELENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDMUQsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUN2RCxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQ3ZELENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDMUQsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUMxRCxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQ3hELENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDeEQsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUNyRCxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQ3JELENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDdEQsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUNuRCxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQzNELENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDckQsQ0FBQyxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUN4RCxDQUFDLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQ25ELENBQUMsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDckQsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUN2RCxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQzFELENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDcEQsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUM3RCxDQUFDLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQzNELENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDdkQsQ0FBQyxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUN4RCxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQ3JELENBQUMsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDdkQsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUNwRCxDQUFDLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQ3pELENBQUMsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDdEQsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUNyRCxDQUFDLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQ25ELENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDdEQsQ0FBQyxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUMzRCxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQ3ZELENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDcEQsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUMxRCxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQzdELENBQUMsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDN0QsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUMxRCxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQzNELENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDN0QsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUMxRCxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQ3RELENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDNUQsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUM5RCxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQ3pELENBQUMsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDM0QsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUN0RCxDQUFDLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQzlELENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDMUQsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUM3RCxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FB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UyxDQUFDLEdBQUcsQ0FBQztRQUFFLFFBQVEsQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsS0FBSyxFQUFFLE9BQU8sQ0FBQyxDQUFDLENBQUMsRUFBRSxPQUFPLENBQUMsQ0FBQyxDQUFDLEVBQUUsTUFBTSxDQUFDLENBQUMsQ0FBQyxFQUFFLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ3RHLElBQUksU0FBUyxDQUFDLFNBQVMsQ0FBQyxHQUFHLEVBQUU7UUFBRSxRQUFRLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLEtBQUssRUFBRSxPQUFPLENBQUMsQ0FBQyxDQUFDLEVBQUUsT0FBTyxDQUFDLENBQUMsQ0FBQyxFQUFFLE1BQU0sQ0FBQyxDQUFDLENBQUMsRUFBRSxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUN2RyxJQUFJLFNBQVMsQ0FBQyxTQUFTLENBQUMsR0FBRyxFQUFFO1FBQUUsUUFBUSxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxLQUFLLEVBQUUsT0FBTyxDQUFDLENBQUMsQ0FBQyxFQUFFLE9BQU8sQ0FBQyxDQUFDLENBQUMsRUFBRSxNQUFNLENBQUMsQ0FBQyxDQUFDLEVBQUUsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDdkcsSUFBSSxTQUFTLENBQUMsU0FBUyxDQUFDLEdBQUcsRUFBRTtRQUFFLFFBQVEsQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsS0FBSyxFQUFFLE9BQU8sQ0FBQyxDQUFDLENBQUMsRUFBRSxPQUFPLENBQUMsQ0FBQyxDQUFDLEVBQUUsTUFBTSxDQUFDLENBQUMsQ0FBQyxFQUFFLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ3ZHLElBQUksU0FBUyxDQUFDLFNBQVMsQ0FBQyxHQUFHLEdBQUc7UUFBRSxRQUFRLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLEtBQUssRUFBRSxPQUFPLENBQUMsQ0FBQyxDQUFDLEVBQUUsT0FBTyxDQUFDLENBQUMsQ0FBQyxFQUFFLE1BQU0sQ0FBQyxDQUFDLENBQUMsRUFBRSxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUN4RyxJQUFJLFNBQVMsQ0FBQyxTQUFTLENBQUMsR0FBRyxHQUFHO1FBQUUsUUFBUSxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxLQUFLLEVBQUUsT0FBTyxDQUFDLENBQUMsQ0FBQyxFQUFFLE9BQU8sQ0FBQyxDQUFDLENBQUMsRUFBRSxNQUFNLENBQUMsQ0FBQyxDQUFDLEVBQUUsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDeEcsSUFBSSxTQUFTLENBQUMsU0FBUyxDQUFDLEdBQUcsR0FBRztRQUFFLFFBQVEsQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsS0FBSyxFQUFFLE9BQU8sQ0FBQyxDQUFDLENBQUMsRUFBRSxPQUFPLENBQUMsQ0FBQyxDQUFDLEVBQUUsTUFBTSxDQUFDLENBQUMsQ0FBQyxFQUFFLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ3hHLElBQUksU0FBUyxDQUFDLFNBQVMsQ0FBQyxHQUFHLElBQUk7UUFBRSxRQUFRLENBQUMsRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLEtBQUssRUFBRSxPQUFPLENBQUMsQ0FBQyxDQUFDLEVBQUUsT0FBTyxDQUFDLENBQUMsQ0FBQyxFQUFFLE1BQU0sQ0FBQyxDQUFDLENBQUMsRUFBRSxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUMxRyxJQUFJLFNBQVMsQ0FBQyxTQUFTLENBQUMsR0FBRyxJQUFJO1FBQUUsUUFBUSxDQUFDLEVBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQyxLQUFLLEVBQUUsT0FBTyxDQUFDLENBQUMsQ0FBQyxFQUFFLE9BQU8sQ0FBQyxDQUFDLENBQUMsRUFBRSxNQUFNLENBQUMsQ0FBQyxDQUFDLEVBQUUsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFFMUcsbUJBQW1CO0lBQ25CLGVBQWU7SUFDZixzREFBc0Q7SUFDdEQsb0VBQW9FO0lBQ3BFLG9FQUFvRTtJQUNwRSxvRUFBb0U7SUFDcEUsaUJBQWlCO0lBQ2pCLElBQUk7SUFFSixtQkFBbUI7SUFDbkIsT0FBTyxpREFBUyxFQUFFLENBQUM7QUFDdkIsQ0FBQztBQUVEOzs7R0FHRztBQUNILFNBQVMsSUFBSSxDQUFDLEtBQWEsRUFBRSxFQUFXLEVBQUUsRUFBVyxFQUFFLEtBQWEsRUFBRSxLQUFhO0lBQy9FLE9BQU8saUVBQXVCLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxLQUFLLEVBQUUsS0FBSyxFQUFFLEtBQUssQ0FBQyxDQUFDO0FBQ2hFLENBQUMiLCJmaWxlIjoiLi9zcmMvYWxnb3JpdGhtcy9tYXJjaGluZy1jdWJlcy50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIG5hbWU6ICAgIG1hcmNoaW5nLWN1YmVzLnRzXG4vLyBhdXRob3I6ICBKb3MgRmVlbnN0cmFcbi8vIHB1cnBvc2U6IGEgbWFyY2hpbmcgY3ViZXMgaW1wbGVtZW50YXRpb24gdXNlZnVsIGZvciBjb252ZXJ0aW5nIHNjYWxhciBkaXNjcmV0ZSBmaWVsZHMgdG8gY29udG91cnNcblxuaW1wb3J0IHsgTWVzaCB9IGZyb20gXCIuLi9tZXNoL21lc2hcIjtcbmltcG9ydCB7IFZlY3RvcjIsIFZlY3RvcjMgfSBmcm9tIFwiLi4vbWF0aC92ZWN0b3JcIjtcblxuLy8gYmFzZWQgdXBvbjpcbi8vIGh0dHA6Ly9wYXVsYm91cmtlLm5ldC9nZW9tZXRyeS9wb2x5Z29uaXNlL1xuLy8gUG9seWdvbmlzaW5nIGEgc2NhbGFyIGZpZWxkXG4vLyBBbHNvIGtub3duIGFzOiBcIjNEIENvbnRvdXJpbmdcIiwgXCJNYXJjaGluZyBDdWJlc1wiLCBcIlN1cmZhY2UgUmVjb25zdHJ1Y3Rpb25cIlxuLy8gV3JpdHRlbiBieSBQYXVsIEJvdXJrZVxuLy8gTWF5IDE5OTRcblxuLy9cbi8vXG4vLyBUaGUgY3ViZSBtb2RlbCB1c2VkOlxuLy9cbi8vICAgICAoNCkgLS0tLS0tIDQgLS0tLS0tICg1KVxuLy8gICAgIC98ICAgICAgICAgICAgICAgICAgL3xcbi8vICAgIDcgfCAgICAgICAgICAgICAgICAgNSB8XG4vLyAgIC8gIHwgICAgICAgICAgICAgICAgLyAgfFxuLy8gKDcpIC0tLS0tLSA2IC0tLS0tLSAoNikgIHxcbi8vICB8ICAgOCAgICAgICAgICAgICAgIHwgICA5XG4vLyAgfCAgIHwgICAgICAgICAgICAgICB8ICAgfFxuLy8gIHwgICB8ICAgICAgICAgICAgICAgfCAgIHxcbi8vICB8ICAoMCkgLS0tLS0tIDAgLS0tLS0tICgxKVxuLy8gIDExIC8gICAgICAgICAgICAgICAxMCAgL1xuLy8gIHwgMyAgICAgICAgICAgICAgICAgfCAxXG4vLyAgfC8gICAgICAgICAgICAgICAgICB8L1xuLy8gKDMpIC0tLS0tLSAyIC0tLS0tLSAoMilcblxuLypcbiAgICBHaXZlbiBhIGdyaWQgY2VsbCBhbmQgYW4gaXNvbGV2ZWwsIGNhbGN1bGF0ZSB0aGUgdHJpYW5ndWxhclxuICAgIGZhY2V0cyByZXF1aXJlZCB0byByZXByZXNlbnQgdGhlIGlzb3N1cmZhY2UgdGhyb3VnaCB0aGUgY2VsbC5cbiAgICBSZXR1cm4gdGhlIG51bWJlciBvZiB0cmlhbmd1bGFyIGZhY2V0cywgdGhlIGFycmF5IFwidHJpYW5nbGVzXCJcbiAgICB3aWxsIGJlIGxvYWRlZCB1cCB3aXRoIHRoZSB2ZXJ0aWNlcyBhdCBtb3N0IDUgdHJpYW5ndWxhciBmYWNldHMuXG4gICAgIDAgd2lsbCBiZSByZXR1cm5lZCBpZiB0aGUgZ3JpZCBjZWxsIGlzIGVpdGhlciB0b3RhbGx5IGFib3ZlXG4gICAgb2YgdG90YWxseSBiZWxvdyB0aGUgaXNvbGV2ZWwuXG4gKi9cblxuLy8gdHlwZWRlZiBzdHJ1Y3Qge1xuLy8gICAgIFhZWiBwWzNdO1xuLy8gIH0gVFJJQU5HTEU7XG5cbi8vICB0eXBlZGVmIHN0cnVjdCB7XG4vLyAgICAgWFlaIHBbOF07XG4vLyAgICAgZG91YmxlIHZhbFs4XTtcbi8vICB9IEdSSURDRUxMO1xuXG5jbGFzcyBHcmlkY2VsbCB7XG4gICAgcG9pbnRzOiBWZWN0b3IzW10gPSBbXTsgLy8gOFxuICAgIGNvcm5lcjogbnVtYmVyW10gPSBbXTsgLy8gOFxufVxuXG5jbGFzcyBUcmlhbmdsZSB7XG4gICAgeHl6OiBWZWN0b3IzW10gPSBbXTsgLy8gM1xufVxuXG5jb25zdCBlZGdlVGFibGUgPSBbXG4gICAgMHgwLFxuICAgIDB4MTA5LFxuICAgIDB4MjAzLFxuICAgIDB4MzBhLFxuICAgIDB4NDA2LFxuICAgIDB4NTBmLFxuICAgIDB4NjA1LFxuICAgIDB4NzBjLFxuICAgIDB4ODBjLFxuICAgIDB4OTA1LFxuICAgIDB4YTBmLFxuICAgIDB4YjA2LFxuICAgIDB4YzBhLFxuICAgIDB4ZDAzLFxuICAgIDB4ZTA5LFxuICAgIDB4ZjAwLFxuICAgIDB4MTkwLFxuICAgIDB4OTksXG4gICAgMHgzOTMsXG4gICAgMHgyOWEsXG4gICAgMHg1OTYsXG4gICAgMHg0OWYsXG4gICAgMHg3OTUsXG4gICAgMHg2OWMsXG4gICAgMHg5OWMsXG4gICAgMHg4OTUsXG4gICAgMHhiOWYsXG4gICAgMHhhOTYsXG4gICAgMHhkOWEsXG4gICAgMHhjOTMsXG4gICAgMHhmOTksXG4gICAgMHhlOTAsXG4gICAgMHgyMzAsXG4gICAgMHgzMzksXG4gICAgMHgzMyxcbiAgICAweDEzYSxcbiAgICAweDYzNixcbiAgICAweDczZixcbiAgICAweDQzNSxcbiAgICAweDUzYyxcbiAgICAweGEzYyxcbiAgICAweGIzNSxcbiAgICAweDgzZixcbiAgICAweDkzNixcbiAgICAweGUzYSxcbiAgICAweGYzMyxcbiAgICAweGMzOSxcbiAgICAweGQzMCxcbiAgICAweDNhMCxcbiAgICAweDJhOSxcbiAgICAweDFhMyxcbiAgICAweGFhLFxuICAgIDB4N2E2LFxuICAgIDB4NmFmLFxuICAgIDB4NWE1LFxuICAgIDB4NGFjLFxuICAgIDB4YmFjLFxuICAgIDB4YWE1LFxuICAgIDB4OWFmLFxuICAgIDB4OGE2LFxuICAgIDB4ZmFhLFxuICAgIDB4ZWEzLFxuICAgIDB4ZGE5LFxuICAgIDB4Y2EwLFxuICAgIDB4NDYwLFxuICAgIDB4NTY5LFxuICAgIDB4NjYzLFxuICAgIDB4NzZhLFxuICAgIDB4NjYsXG4gICAgMHgxNmYsXG4gICAgMHgyNjUsXG4gICAgMHgzNmMsXG4gICAgMHhjNmMsXG4gICAgMHhkNjUsXG4gICAgMHhlNmYsXG4gICAgMHhmNjYsXG4gICAgMHg4NmEsXG4gICAgMHg5NjMsXG4gICAgMHhhNjksXG4gICAgMHhiNjAsXG4gICAgMHg1ZjAsXG4gICAgMHg0ZjksXG4gICAgMHg3ZjMsXG4gICAgMHg2ZmEsXG4gICAgMHgxZjYsXG4gICAgMHhmZixcbiAgICAweDNmNSxcbiAgICAweDJmYyxcbiAgICAweGRmYyxcbiAgICAweGNmNSxcbiAgICAweGZmZixcbiAgICAweGVmNixcbiAgICAweDlmYSxcbiAgICAweDhmMyxcbiAgICAweGJmOSxcbiAgICAweGFmMCxcbiAgICAweDY1MCxcbiAgICAweDc1OSxcbiAgICAweDQ1MyxcbiAgICAweDU1YSxcbiAgICAweDI1NixcbiAgICAweDM1ZixcbiAgICAweDU1LFxuICAgIDB4MTVjLFxuICAgIDB4ZTVjLFxuICAgIDB4ZjU1LFxuICAgIDB4YzVmLFxuICAgIDB4ZDU2LFxuICAgIDB4YTVhLFxuICAgIDB4YjUzLFxuICAgIDB4ODU5LFxuICAgIDB4OTUwLFxuICAgIDB4N2MwLFxuICAgIDB4NmM5LFxuICAgIDB4NWMzLFxuICAgIDB4NGNhLFxuICAgIDB4M2M2LFxuICAgIDB4MmNmLFxuICAgIDB4MWM1LFxuICAgIDB4Y2MsXG4gICAgMHhmY2MsXG4gICAgMHhlYzUsXG4gICAgMHhkY2YsXG4gICAgMHhjYzYsXG4gICAgMHhiY2EsXG4gICAgMHhhYzMsXG4gICAgMHg5YzksXG4gICAgMHg4YzAsXG4gICAgMHg4YzAsXG4gICAgMHg5YzksXG4gICAgMHhhYzMsXG4gICAgMHhiY2EsXG4gICAgMHhjYzYsXG4gICAgMHhkY2YsXG4gICAgMHhlYzUsXG4gICAgMHhmY2MsXG4gICAgMHhjYyxcbiAgICAweDFjNSxcbiAgICAweDJjZixcbiAgICAweDNjNixcbiAgICAweDRjYSxcbiAgICAweDVjMyxcbiAgICAweDZjOSxcbiAgICAweDdjMCxcbiAgICAweDk1MCxcbiAgICAweDg1OSxcbiAgICAweGI1MyxcbiAgICAweGE1YSxcbiAgICAweGQ1NixcbiAgICAweGM1ZixcbiAgICAweGY1NSxcbiAgICAweGU1YyxcbiAgICAweDE1YyxcbiAgICAweDU1LFxuICAgIDB4MzVmLFxuICAgIDB4MjU2LFxuICAgIDB4NTVhLFxuICAgIDB4NDUzLFxuICAgIDB4NzU5LFxuICAgIDB4NjUwLFxuICAgIDB4YWYwLFxuICAgIDB4YmY5LFxuICAgIDB4OGYzLFxuICAgIDB4OWZhLFxuICAgIDB4ZWY2LFxuICAgIDB4ZmZmLFxuICAgIDB4Y2Y1LFxuICAgIDB4ZGZjLFxuICAgIDB4MmZjLFxuICAgIDB4M2Y1LFxuICAgIDB4ZmYsXG4gICAgMHgxZjYsXG4gICAgMHg2ZmEsXG4gICAgMHg3ZjMsXG4gICAgMHg0ZjksXG4gICAgMHg1ZjAsXG4gICAgMHhiNjAsXG4gICAgMHhhNjksXG4gICAgMHg5NjMsXG4gICAgMHg4NmEsXG4gICAgMHhmNjYsXG4gICAgMHhlNmYsXG4gICAgMHhkNjUsXG4gICAgMHhjNmMsXG4gICAgMHgzNmMsXG4gICAgMHgyNjUsXG4gICAgMHgxNmYsXG4gICAgMHg2NixcbiAgICAweDc2YSxcbiAgICAweDY2MyxcbiAgICAweDU2OSxcbiAgICAweDQ2MCxcbiAgICAweGNhMCxcbiAgICAweGRhOSxcbiAgICAweGVhMyxcbiAgICAweGZhYSxcbiAgICAweDhhNixcbiAgICAweDlhZixcbiAgICAweGFhNSxcbiAgICAweGJhYyxcbiAgICAweDRhYyxcbiAgICAweDVhNSxcbiAgICAweDZhZixcbiAgICAweDdhNixcbiAgICAweGFhLFxuICAgIDB4MWEzLFxuICAgIDB4MmE5LFxuICAgIDB4M2EwLFxuICAgIDB4ZDMwLFxuICAgIDB4YzM5LFxuICAgIDB4ZjMzLFxuICAgIDB4ZTNhLFxuICAgIDB4OTM2LFxuICAgIDB4ODNmLFxuICAgIDB4YjM1LFxuICAgIDB4YTNjLFxuICAgIDB4NTNjLFxuICAgIDB4NDM1LFxuICAgIDB4NzNmLFxuICAgIDB4NjM2LFxuICAgIDB4MTNhLFxuICAgIDB4MzMsXG4gICAgMHgzMzksXG4gICAgMHgyMzAsXG4gICAgMHhlOTAsXG4gICAgMHhmOTksXG4gICAgMHhjOTMsXG4gICAgMHhkOWEsXG4gICAgMHhhOTYsXG4gICAgMHhiOWYsXG4gICAgMHg4OTUsXG4gICAgMHg5OWMsXG4gICAgMHg2OWMsXG4gICAgMHg3OTUsXG4gICAgMHg0OWYsXG4gICAgMHg1OTYsXG4gICAgMHgyOWEsXG4gICAgMHgzOTMsXG4gICAgMHg5OSxcbiAgICAweDE5MCxcbiAgICAweGYwMCxcbiAgICAweGUwOSxcbiAgICAweGQwMyxcbiAgICAweGMwYSxcbiAgICAweGIwNixcbiAgICAweGEwZixcbiAgICAweDkwNSxcbiAgICAweDgwYyxcbiAgICAweDcwYyxcbiAgICAweDYwNSxcbiAgICAweDUwZixcbiAgICAweDQwNixcbiAgICAweDMwYSxcbiAgICAweDIwMyxcbiAgICAweDEwOSxcbiAgICAweDAsXG5dO1xuXG5jb25zdCB0cmlUYWJsZSA9IFtcbiAgICBbLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTFdLFxuICAgIFswLCA4LCAzLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMV0sXG4gICAgWzAsIDEsIDksIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xXSxcbiAgICBbMSwgOCwgMywgOSwgOCwgMSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTFdLFxuICAgIFsxLCAyLCAxMCwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTFdLFxuICAgIFswLCA4LCAzLCAxLCAyLCAxMCwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTFdLFxuICAgIFs5LCAyLCAxMCwgMCwgMiwgOSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTFdLFxuICAgIFsyLCA4LCAzLCAyLCAxMCwgOCwgMTAsIDksIDgsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xXSxcbiAgICBbMywgMTEsIDIsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xXSxcbiAgICBbMCwgMTEsIDIsIDgsIDExLCAwLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMV0sXG4gICAgWzEsIDksIDAsIDIsIDMsIDExLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMV0sXG4gICAgWzEsIDExLCAyLCAxLCA5LCAxMSwgOSwgOCwgMTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xXSxcbiAgICBbMywgMTAsIDEsIDExLCAxMCwgMywgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTFdLFxuICAgIFswLCAxMCwgMSwgMCwgOCwgMTAsIDgsIDExLCAxMCwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTFdLFxuICAgIFszLCA5LCAwLCAzLCAxMSwgOSwgMTEsIDEwLCA5LCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMV0sXG4gICAgWzksIDgsIDEwLCAxMCwgOCwgMTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xXSxcbiAgICBbNCwgNywgOCwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTFdLFxuICAgIFs0LCAzLCAwLCA3LCAzLCA0LCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMV0sXG4gICAgWzAsIDEsIDksIDgsIDQsIDcsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xXSxcbiAgICBbNCwgMSwgOSwgNCwgNywgMSwgNywgMywgMSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTFdLFxuICAgIFsxLCAyLCAxMCwgOCwgNCwgNywgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTFdLFxuICAgIFszLCA0LCA3LCAzLCAwLCA0LCAxLCAyLCAxMCwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTFdLFxuICAgIFs5LCAyLCAxMCwgOSwgMCwgMiwgOCwgNCwgNywgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTFdLFxuICAgIFsyLCAxMCwgOSwgMiwgOSwgNywgMiwgNywgMywgNywgOSwgNCwgLTEsIC0xLCAtMSwgLTFdLFxuICAgIFs4LCA0LCA3LCAzLCAxMSwgMiwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTFdLFxuICAgIFsxMSwgNCwgNywgMTEsIDIsIDQsIDIsIDAsIDQsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xXSxcbiAgICBbOSwgMCwgMSwgOCwgNCwgNywgMiwgMywgMTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xXSxcbiAgICBbNCwgNywgMTEsIDksIDQsIDExLCA5LCAxMSwgMiwgOSwgMiwgMSwgLTEsIC0xLCAtMSwgLTFdLFxuICAgIFszLCAxMCwgMSwgMywgMTEsIDEwLCA3LCA4LCA0LCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMV0sXG4gICAgWzEsIDExLCAxMCwgMSwgNCwgMTEsIDEsIDAsIDQsIDcsIDExLCA0LCAtMSwgLTEsIC0xLCAtMV0sXG4gICAgWzQsIDcsIDgsIDksIDAsIDExLCA5LCAxMSwgMTAsIDExLCAwLCAzLCAtMSwgLTEsIC0xLCAtMV0sXG4gICAgWzQsIDcsIDExLCA0LCAxMSwgOSwgOSwgMTEsIDEwLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMV0sXG4gICAgWzksIDUsIDQsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xXSxcbiAgICBbOSwgNSwgNCwgMCwgOCwgMywgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTFdLFxuICAgIFswLCA1LCA0LCAxLCA1LCAwLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMV0sXG4gICAgWzgsIDUsIDQsIDgsIDMsIDUsIDMsIDEsIDUsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xXSxcbiAgICBbMSwgMiwgMTAsIDksIDUsIDQsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xXSxcbiAgICBbMywgMCwgOCwgMSwgMiwgMTAsIDQsIDksIDUsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xXSxcbiAgICBbNSwgMiwgMTAsIDUsIDQsIDIsIDQsIDAsIDIsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xXSxcbiAgICBbMiwgMTAsIDUsIDMsIDIsIDUsIDMsIDUsIDQsIDMsIDQsIDgsIC0xLCAtMSwgLTEsIC0xXSxcbiAgICBbOSwgNSwgNCwgMiwgMywgMTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xXSxcbiAgICBbMCwgMTEsIDIsIDAsIDgsIDExLCA0LCA5LCA1LCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMV0sXG4gICAgWzAsIDUsIDQsIDAsIDEsIDUsIDIsIDMsIDExLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMV0sXG4gICAgWzIsIDEsIDUsIDIsIDUsIDgsIDIsIDgsIDExLCA0LCA4LCA1LCAtMSwgLTEsIC0xLCAtMV0sXG4gICAgWzEwLCAzLCAxMSwgMTAsIDEsIDMsIDksIDUsIDQsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xXSxcbiAgICBbNCwgOSwgNSwgMCwgOCwgMSwgOCwgMTAsIDEsIDgsIDExLCAxMCwgLTEsIC0xLCAtMSwgLTFdLFxuICAgIFs1LCA0LCAwLCA1LCAwLCAxMSwgNSwgMTEsIDEwLCAxMSwgMCwgMywgLTEsIC0xLCAtMSwgLTFdLFxuICAgIFs1LCA0LCA4LCA1LCA4LCAxMCwgMTAsIDgsIDExLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMV0sXG4gICAgWzksIDcsIDgsIDUsIDcsIDksIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xXSxcbiAgICBbOSwgMywgMCwgOSwgNSwgMywgNSwgNywgMywgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTFdLFxuICAgIFswLCA3LCA4LCAwLCAxLCA3LCAxLCA1LCA3LCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMV0sXG4gICAgWzEsIDUsIDMsIDMsIDUsIDcsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xXSxcbiAgICBbOSwgNywgOCwgOSwgNSwgNywgMTAsIDEsIDIsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xXSxcbiAgICBbMTAsIDEsIDIsIDksIDUsIDAsIDUsIDMsIDAsIDUsIDcsIDMsIC0xLCAtMSwgLTEsIC0xXSxcbiAgICBbOCwgMCwgMiwgOCwgMiwgNSwgOCwgNSwgNywgMTAsIDUsIDIsIC0xLCAtMSwgLTEsIC0xXSxcbiAgICBbMiwgMTAsIDUsIDIsIDUsIDMsIDMsIDUsIDcsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xXSxcbiAgICBbNywgOSwgNSwgNywgOCwgOSwgMywgMTEsIDIsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xXSxcbiAgICBbOSwgNSwgNywgOSwgNywgMiwgOSwgMiwgMCwgMiwgNywgMTEsIC0xLCAtMSwgLTEsIC0xXSxcbiAgICBbMiwgMywgMTEsIDAsIDEsIDgsIDEsIDcsIDgsIDEsIDUsIDcsIC0xLCAtMSwgLTEsIC0xXSxcbiAgICBbMTEsIDIsIDEsIDExLCAxLCA3LCA3LCAxLCA1LCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMV0sXG4gICAgWzksIDUsIDgsIDgsIDUsIDcsIDEwLCAxLCAzLCAxMCwgMywgMTEsIC0xLCAtMSwgLTEsIC0xXSxcbiAgICBbNSwgNywgMCwgNSwgMCwgOSwgNywgMTEsIDAsIDEsIDAsIDEwLCAxMSwgMTAsIDAsIC0xXSxcbiAgICBbMTEsIDEwLCAwLCAxMSwgMCwgMywgMTAsIDUsIDAsIDgsIDAsIDcsIDUsIDcsIDAsIC0xXSxcbiAgICBbMTEsIDEwLCA1LCA3LCAxMSwgNSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTFdLFxuICAgIFsxMCwgNiwgNSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTFdLFxuICAgIFswLCA4LCAzLCA1LCAxMCwgNiwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTFdLFxuICAgIFs5LCAwLCAxLCA1LCAxMCwgNiwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTFdLFxuICAgIFsxLCA4LCAzLCAxLCA5LCA4LCA1LCAxMCwgNiwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTFdLFxuICAgIFsxLCA2LCA1LCAyLCA2LCAxLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMV0sXG4gICAgWzEsIDYsIDUsIDEsIDIsIDYsIDMsIDAsIDgsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xXSxcbiAgICBbOSwgNiwgNSwgOSwgMCwgNiwgMCwgMiwgNiwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTFdLFxuICAgIFs1LCA5LCA4LCA1LCA4LCAyLCA1LCAyLCA2LCAzLCAyLCA4LCAtMSwgLTEsIC0xLCAtMV0sXG4gICAgWzIsIDMsIDExLCAxMCwgNiwgNSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTFdLFxuICAgIFsxMSwgMCwgOCwgMTEsIDIsIDAsIDEwLCA2LCA1LCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMV0sXG4gICAgWzAsIDEsIDksIDIsIDMsIDExLCA1LCAxMCwgNiwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTFdLFxuICAgIFs1LCAxMCwgNiwgMSwgOSwgMiwgOSwgMTEsIDIsIDksIDgsIDExLCAtMSwgLTEsIC0xLCAtMV0sXG4gICAgWzYsIDMsIDExLCA2LCA1LCAzLCA1LCAxLCAzLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMV0sXG4gICAgWzAsIDgsIDExLCAwLCAxMSwgNSwgMCwgNSwgMSwgNSwgMTEsIDYsIC0xLCAtMSwgLTEsIC0xXSxcbiAgICBbMywgMTEsIDYsIDAsIDMsIDYsIDAsIDYsIDUsIDAsIDUsIDksIC0xLCAtMSwgLTEsIC0xXSxcbiAgICBbNiwgNSwgOSwgNiwgOSwgMTEsIDExLCA5LCA4LCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMV0sXG4gICAgWzUsIDEwLCA2LCA0LCA3LCA4LCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMV0sXG4gICAgWzQsIDMsIDAsIDQsIDcsIDMsIDYsIDUsIDEwLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMV0sXG4gICAgWzEsIDksIDAsIDUsIDEwLCA2LCA4LCA0LCA3LCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMV0sXG4gICAgWzEwLCA2LCA1LCAxLCA5LCA3LCAxLCA3LCAzLCA3LCA5LCA0LCAtMSwgLTEsIC0xLCAtMV0sXG4gICAgWzYsIDEsIDIsIDYsIDUsIDEsIDQsIDcsIDgsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xXSxcbiAgICBbMSwgMiwgNSwgNSwgMiwgNiwgMywgMCwgNCwgMywgNCwgNywgLTEsIC0xLCAtMSwgLTFdLFxuICAgIFs4LCA0LCA3LCA5LCAwLCA1LCAwLCA2LCA1LCAwLCAyLCA2LCAtMSwgLTEsIC0xLCAtMV0sXG4gICAgWzcsIDMsIDksIDcsIDksIDQsIDMsIDIsIDksIDUsIDksIDYsIDIsIDYsIDksIC0xXSxcbiAgICBbMywgMTEsIDIsIDcsIDgsIDQsIDEwLCA2LCA1LCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMV0sXG4gICAgWzUsIDEwLCA2LCA0LCA3LCAyLCA0LCAyLCAwLCAyLCA3LCAxMSwgLTEsIC0xLCAtMSwgLTFdLFxuICAgIFswLCAxLCA5LCA0LCA3LCA4LCAyLCAzLCAxMSwgNSwgMTAsIDYsIC0xLCAtMSwgLTEsIC0xXSxcbiAgICBbOSwgMiwgMSwgOSwgMTEsIDIsIDksIDQsIDExLCA3LCAxMSwgNCwgNSwgMTAsIDYsIC0xXSxcbiAgICBbOCwgNCwgNywgMywgMTEsIDUsIDMsIDUsIDEsIDUsIDExLCA2LCAtMSwgLTEsIC0xLCAtMV0sXG4gICAgWzUsIDEsIDExLCA1LCAxMSwgNiwgMSwgMCwgMTEsIDcsIDExLCA0LCAwLCA0LCAxMSwgLTFdLFxuICAgIFswLCA1LCA5LCAwLCA2LCA1LCAwLCAzLCA2LCAxMSwgNiwgMywgOCwgNCwgNywgLTFdLFxuICAgIFs2LCA1LCA5LCA2LCA5LCAxMSwgNCwgNywgOSwgNywgMTEsIDksIC0xLCAtMSwgLTEsIC0xXSxcbiAgICBbMTAsIDQsIDksIDYsIDQsIDEwLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMV0sXG4gICAgWzQsIDEwLCA2LCA0LCA5LCAxMCwgMCwgOCwgMywgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTFdLFxuICAgIFsxMCwgMCwgMSwgMTAsIDYsIDAsIDYsIDQsIDAsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xXSxcbiAgICBbOCwgMywgMSwgOCwgMSwgNiwgOCwgNiwgNCwgNiwgMSwgMTAsIC0xLCAtMSwgLTEsIC0xXSxcbiAgICBbMSwgNCwgOSwgMSwgMiwgNCwgMiwgNiwgNCwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTFdLFxuICAgIFszLCAwLCA4LCAxLCAyLCA5LCAyLCA0LCA5LCAyLCA2LCA0LCAtMSwgLTEsIC0xLCAtMV0sXG4gICAgWzAsIDIsIDQsIDQsIDIsIDYsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xXSxcbiAgICBbOCwgMywgMiwgOCwgMiwgNCwgNCwgMiwgNiwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTFdLFxuICAgIFsxMCwgNCwgOSwgMTAsIDYsIDQsIDExLCAyLCAzLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMV0sXG4gICAgWzAsIDgsIDIsIDIsIDgsIDExLCA0LCA5LCAxMCwgNCwgMTAsIDYsIC0xLCAtMSwgLTEsIC0xXSxcbiAgICBbMywgMTEsIDIsIDAsIDEsIDYsIDAsIDYsIDQsIDYsIDEsIDEwLCAtMSwgLTEsIC0xLCAtMV0sXG4gICAgWzYsIDQsIDEsIDYsIDEsIDEwLCA0LCA4LCAxLCAyLCAxLCAxMSwgOCwgMTEsIDEsIC0xXSxcbiAgICBbOSwgNiwgNCwgOSwgMywgNiwgOSwgMSwgMywgMTEsIDYsIDMsIC0xLCAtMSwgLTEsIC0xXSxcbiAgICBbOCwgMTEsIDEsIDgsIDEsIDAsIDExLCA2LCAxLCA5LCAxLCA0LCA2LCA0LCAxLCAtMV0sXG4gICAgWzMsIDExLCA2LCAzLCA2LCAwLCAwLCA2LCA0LCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMV0sXG4gICAgWzYsIDQsIDgsIDExLCA2LCA4LCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMV0sXG4gICAgWzcsIDEwLCA2LCA3LCA4LCAxMCwgOCwgOSwgMTAsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xXSxcbiAgICBbMCwgNywgMywgMCwgMTAsIDcsIDAsIDksIDEwLCA2LCA3LCAxMCwgLTEsIC0xLCAtMSwgLTFdLFxuICAgIFsxMCwgNiwgNywgMSwgMTAsIDcsIDEsIDcsIDgsIDEsIDgsIDAsIC0xLCAtMSwgLTEsIC0xXSxcbiAgICBbMTAsIDYsIDcsIDEwLCA3LCAxLCAxLCA3LCAzLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMV0sXG4gICAgWzEsIDIsIDYsIDEsIDYsIDgsIDEsIDgsIDksIDgsIDYsIDcsIC0xLCAtMSwgLTEsIC0xXSxcbiAgICBbMiwgNiwgOSwgMiwgOSwgMSwgNiwgNywgOSwgMCwgOSwgMywgNywgMywgOSwgLTFdLFxuICAgIFs3LCA4LCAwLCA3LCAwLCA2LCA2LCAwLCAyLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMV0sXG4gICAgWzcsIDMsIDIsIDYsIDcsIDIsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xXSxcbiAgICBbMiwgMywgMTEsIDEwLCA2LCA4LCAxMCwgOCwgOSwgOCwgNiwgNywgLTEsIC0xLCAtMSwgLTFdLFxuICAgIFsyLCAwLCA3LCAyLCA3LCAxMSwgMCwgOSwgNywgNiwgNywgMTAsIDksIDEwLCA3LCAtMV0sXG4gICAgWzEsIDgsIDAsIDEsIDcsIDgsIDEsIDEwLCA3LCA2LCA3LCAxMCwgMiwgMywgMTEsIC0xXSxcbiAgICBbMTEsIDIsIDEsIDExLCAxLCA3LCAxMCwgNiwgMSwgNiwgNywgMSwgLTEsIC0xLCAtMSwgLTFdLFxuICAgIFs4LCA5LCA2LCA4LCA2LCA3LCA5LCAxLCA2LCAxMSwgNiwgMywgMSwgMywgNiwgLTFdLFxuICAgIFswLCA5LCAxLCAxMSwgNiwgNywgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTFdLFxuICAgIFs3LCA4LCAwLCA3LCAwLCA2LCAzLCAxMSwgMCwgMTEsIDYsIDAsIC0xLCAtMSwgLTEsIC0xXSxcbiAgICBbNywgMTEsIDYsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xXSxcbiAgICBbNywgNiwgMTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xXSxcbiAgICBbMywgMCwgOCwgMTEsIDcsIDYsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xXSxcbiAgICBbMCwgMSwgOSwgMTEsIDcsIDYsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xXSxcbiAgICBbOCwgMSwgOSwgOCwgMywgMSwgMTEsIDcsIDYsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xXSxcbiAgICBbMTAsIDEsIDIsIDYsIDExLCA3LCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMV0sXG4gICAgWzEsIDIsIDEwLCAzLCAwLCA4LCA2LCAxMSwgNywgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTFdLFxuICAgIFsyLCA5LCAwLCAyLCAxMCwgOSwgNiwgMTEsIDcsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xXSxcbiAgICBbNiwgMTEsIDcsIDIsIDEwLCAzLCAxMCwgOCwgMywgMTAsIDksIDgsIC0xLCAtMSwgLTEsIC0xXSxcbiAgICBbNywgMiwgMywgNiwgMiwgNywgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTFdLFxuICAgIFs3LCAwLCA4LCA3LCA2LCAwLCA2LCAyLCAwLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMV0sXG4gICAgWzIsIDcsIDYsIDIsIDMsIDcsIDAsIDEsIDksIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xXSxcbiAgICBbMSwgNiwgMiwgMSwgOCwgNiwgMSwgOSwgOCwgOCwgNywgNiwgLTEsIC0xLCAtMSwgLTFdLFxuICAgIFsxMCwgNywgNiwgMTAsIDEsIDcsIDEsIDMsIDcsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xXSxcbiAgICBbMTAsIDcsIDYsIDEsIDcsIDEwLCAxLCA4LCA3LCAxLCAwLCA4LCAtMSwgLTEsIC0xLCAtMV0sXG4gICAgWzAsIDMsIDcsIDAsIDcsIDEwLCAwLCAxMCwgOSwgNiwgMTAsIDcsIC0xLCAtMSwgLTEsIC0xXSxcbiAgICBbNywgNiwgMTAsIDcsIDEwLCA4LCA4LCAxMCwgOSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTFdLFxuICAgIFs2LCA4LCA0LCAxMSwgOCwgNiwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTFdLFxuICAgIFszLCA2LCAxMSwgMywgMCwgNiwgMCwgNCwgNiwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTFdLFxuICAgIFs4LCA2LCAxMSwgOCwgNCwgNiwgOSwgMCwgMSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTFdLFxuICAgIFs5LCA0LCA2LCA5LCA2LCAzLCA5LCAzLCAxLCAxMSwgMywgNiwgLTEsIC0xLCAtMSwgLTFdLFxuICAgIFs2LCA4LCA0LCA2LCAxMSwgOCwgMiwgMTAsIDEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xXSxcbiAgICBbMSwgMiwgMTAsIDMsIDAsIDExLCAwLCA2LCAxMSwgMCwgNCwgNiwgLTEsIC0xLCAtMSwgLTFdLFxuICAgIFs0LCAxMSwgOCwgNCwgNiwgMTEsIDAsIDIsIDksIDIsIDEwLCA5LCAtMSwgLTEsIC0xLCAtMV0sXG4gICAgWzEwLCA5LCAzLCAxMCwgMywgMiwgOSwgNCwgMywgMTEsIDMsIDYsIDQsIDYsIDMsIC0xXSxcbiAgICBbOCwgMiwgMywgOCwgNCwgMiwgNCwgNiwgMiwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTFdLFxuICAgIFswLCA0LCAyLCA0LCA2LCAyLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMV0sXG4gICAgWzEsIDksIDAsIDIsIDMsIDQsIDIsIDQsIDYsIDQsIDMsIDgsIC0xLCAtMSwgLTEsIC0xXSxcbiAgICBbMSwgOSwgNCwgMSwgNCwgMiwgMiwgNCwgNiwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTFdLFxuICAgIFs4LCAxLCAzLCA4LCA2LCAxLCA4LCA0LCA2LCA2LCAxMCwgMSwgLTEsIC0xLCAtMSwgLTFdLFxuICAgIFsxMCwgMSwgMCwgMTAsIDAsIDYsIDYsIDAsIDQsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xXSxcbiAgICBbNCwgNiwgMywgNCwgMywgOCwgNiwgMTAsIDMsIDAsIDMsIDksIDEwLCA5LCAzLCAtMV0sXG4gICAgWzEwLCA5LCA0LCA2LCAxMCwgNCwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTFdLFxuICAgIFs0LCA5LCA1LCA3LCA2LCAxMSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTFdLFxuICAgIFswLCA4LCAzLCA0LCA5LCA1LCAxMSwgNywgNiwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTFdLFxuICAgIFs1LCAwLCAxLCA1LCA0LCAwLCA3LCA2LCAxMSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTFdLFxuICAgIFsxMSwgNywgNiwgOCwgMywgNCwgMywgNSwgNCwgMywgMSwgNSwgLTEsIC0xLCAtMSwgLTFdLFxuICAgIFs5LCA1LCA0LCAxMCwgMSwgMiwgNywgNiwgMTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xXSxcbiAgICBbNiwgMTEsIDcsIDEsIDIsIDEwLCAwLCA4LCAzLCA0LCA5LCA1LCAtMSwgLTEsIC0xLCAtMV0sXG4gICAgWzcsIDYsIDExLCA1LCA0LCAxMCwgNCwgMiwgMTAsIDQsIDAsIDIsIC0xLCAtMSwgLTEsIC0xXSxcbiAgICBbMywgNCwgOCwgMywgNSwgNCwgMywgMiwgNSwgMTAsIDUsIDIsIDExLCA3LCA2LCAtMV0sXG4gICAgWzcsIDIsIDMsIDcsIDYsIDIsIDUsIDQsIDksIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xXSxcbiAgICBbOSwgNSwgNCwgMCwgOCwgNiwgMCwgNiwgMiwgNiwgOCwgNywgLTEsIC0xLCAtMSwgLTFdLFxuICAgIFszLCA2LCAyLCAzLCA3LCA2LCAxLCA1LCAwLCA1LCA0LCAwLCAtMSwgLTEsIC0xLCAtMV0sXG4gICAgWzYsIDIsIDgsIDYsIDgsIDcsIDIsIDEsIDgsIDQsIDgsIDUsIDEsIDUsIDgsIC0xXSxcbiAgICBbOSwgNSwgNCwgMTAsIDEsIDYsIDEsIDcsIDYsIDEsIDMsIDcsIC0xLCAtMSwgLTEsIC0xXSxcbiAgICBbMSwgNiwgMTAsIDEsIDcsIDYsIDEsIDAsIDcsIDgsIDcsIDAsIDksIDUsIDQsIC0xXSxcbiAgICBbNCwgMCwgMTAsIDQsIDEwLCA1LCAwLCAzLCAxMCwgNiwgMTAsIDcsIDMsIDcsIDEwLCAtMV0sXG4gICAgWzcsIDYsIDEwLCA3LCAxMCwgOCwgNSwgNCwgMTAsIDQsIDgsIDEwLCAtMSwgLTEsIC0xLCAtMV0sXG4gICAgWzYsIDksIDUsIDYsIDExLCA5LCAxMSwgOCwgOSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTFdLFxuICAgIFszLCA2LCAxMSwgMCwgNiwgMywgMCwgNSwgNiwgMCwgOSwgNSwgLTEsIC0xLCAtMSwgLTFdLFxuICAgIFswLCAxMSwgOCwgMCwgNSwgMTEsIDAsIDEsIDUsIDUsIDYsIDExLCAtMSwgLTEsIC0xLCAtMV0sXG4gICAgWzYsIDExLCAzLCA2LCAzLCA1LCA1LCAzLCAxLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMV0sXG4gICAgWzEsIDIsIDEwLCA5LCA1LCAxMSwgOSwgMTEsIDgsIDExLCA1LCA2LCAtMSwgLTEsIC0xLCAtMV0sXG4gICAgWzAsIDExLCAzLCAwLCA2LCAxMSwgMCwgOSwgNiwgNSwgNiwgOSwgMSwgMiwgMTAsIC0xXSxcbiAgICBbMTEsIDgsIDUsIDExLCA1LCA2LCA4LCAwLCA1LCAxMCwgNSwgMiwgMCwgMiwgNSwgLTFdLFxuICAgIFs2LCAxMSwgMywgNiwgMywgNSwgMiwgMTAsIDMsIDEwLCA1LCAzLCAtMSwgLTEsIC0xLCAtMV0sXG4gICAgWzUsIDgsIDksIDUsIDIsIDgsIDUsIDYsIDIsIDMsIDgsIDIsIC0xLCAtMSwgLTEsIC0xXSxcbiAgICBbOSwgNSwgNiwgOSwgNiwgMCwgMCwgNiwgMiwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTFdLFxuICAgIFsxLCA1LCA4LCAxLCA4LCAwLCA1LCA2LCA4LCAzLCA4LCAyLCA2LCAyLCA4LCAtMV0sXG4gICAgWzEsIDUsIDYsIDIsIDEsIDYsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xXSxcbiAgICBbMSwgMywgNiwgMSwgNiwgMTAsIDMsIDgsIDYsIDUsIDYsIDksIDgsIDksIDYsIC0xXSxcbiAgICBbMTAsIDEsIDAsIDEwLCAwLCA2LCA5LCA1LCAwLCA1LCA2LCAwLCAtMSwgLTEsIC0xLCAtMV0sXG4gICAgWzAsIDMsIDgsIDUsIDYsIDEwLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMV0sXG4gICAgWzEwLCA1LCA2LCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMV0sXG4gICAgWzExLCA1LCAxMCwgNywgNSwgMTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xXSxcbiAgICBbMTEsIDUsIDEwLCAxMSwgNywgNSwgOCwgMywgMCwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTFdLFxuICAgIFs1LCAxMSwgNywgNSwgMTAsIDExLCAxLCA5LCAwLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMV0sXG4gICAgWzEwLCA3LCA1LCAxMCwgMTEsIDcsIDksIDgsIDEsIDgsIDMsIDEsIC0xLCAtMSwgLTEsIC0xXSxcbiAgICBbMTEsIDEsIDIsIDExLCA3LCAxLCA3LCA1LCAxLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMV0sXG4gICAgWzAsIDgsIDMsIDEsIDIsIDcsIDEsIDcsIDUsIDcsIDIsIDExLCAtMSwgLTEsIC0xLCAtMV0sXG4gICAgWzksIDcsIDUsIDksIDIsIDcsIDksIDAsIDIsIDIsIDExLCA3LCAtMSwgLTEsIC0xLCAtMV0sXG4gICAgWzcsIDUsIDIsIDcsIDIsIDExLCA1LCA5LCAyLCAzLCAyLCA4LCA5LCA4LCAyLCAtMV0sXG4gICAgWzIsIDUsIDEwLCAyLCAzLCA1LCAzLCA3LCA1LCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMV0sXG4gICAgWzgsIDIsIDAsIDgsIDUsIDIsIDgsIDcsIDUsIDEwLCAyLCA1LCAtMSwgLTEsIC0xLCAtMV0sXG4gICAgWzksIDAsIDEsIDUsIDEwLCAzLCA1LCAzLCA3LCAzLCAxMCwgMiwgLTEsIC0xLCAtMSwgLTFdLFxuICAgIFs5LCA4LCAyLCA5LCAyLCAxLCA4LCA3LCAyLCAxMCwgMiwgNSwgNywgNSwgMiwgLTFdLFxuICAgIFsxLCAzLCA1LCAzLCA3LCA1LCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMV0sXG4gICAgWzAsIDgsIDcsIDAsIDcsIDEsIDEsIDcsIDUsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xXSxcbiAgICBbOSwgMCwgMywgOSwgMywgNSwgNSwgMywgNywgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTFdLFxuICAgIFs5LCA4LCA3LCA1LCA5LCA3LCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMV0sXG4gICAgWzUsIDgsIDQsIDUsIDEwLCA4LCAxMCwgMTEsIDgsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xXSxcbiAgICBbNSwgMCwgNCwgNSwgMTEsIDAsIDUsIDEwLCAxMSwgMTEsIDMsIDAsIC0xLCAtMSwgLTEsIC0xXSxcbiAgICBbMCwgMSwgOSwgOCwgNCwgMTAsIDgsIDEwLCAxMSwgMTAsIDQsIDUsIC0xLCAtMSwgLTEsIC0xXSxcbiAgICBbMTAsIDExLCA0LCAxMCwgNCwgNSwgMTEsIDMsIDQsIDksIDQsIDEsIDMsIDEsIDQsIC0xXSxcbiAgICBbMiwgNSwgMSwgMiwgOCwgNSwgMiwgMTEsIDgsIDQsIDUsIDgsIC0xLCAtMSwgLTEsIC0xXSxcbiAgICBbMCwgNCwgMTEsIDAsIDExLCAzLCA0LCA1LCAxMSwgMiwgMTEsIDEsIDUsIDEsIDExLCAtMV0sXG4gICAgWzAsIDIsIDUsIDAsIDUsIDksIDIsIDExLCA1LCA0LCA1LCA4LCAxMSwgOCwgNSwgLTFdLFxuICAgIFs5LCA0LCA1LCAyLCAxMSwgMywgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTFdLFxuICAgIFsyLCA1LCAxMCwgMywgNSwgMiwgMywgNCwgNSwgMywgOCwgNCwgLTEsIC0xLCAtMSwgLTFdLFxuICAgIFs1LCAxMCwgMiwgNSwgMiwgNCwgNCwgMiwgMCwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTFdLFxuICAgIFszLCAxMCwgMiwgMywgNSwgMTAsIDMsIDgsIDUsIDQsIDUsIDgsIDAsIDEsIDksIC0xXSxcbiAgICBbNSwgMTAsIDIsIDUsIDIsIDQsIDEsIDksIDIsIDksIDQsIDIsIC0xLCAtMSwgLTEsIC0xXSxcbiAgICBbOCwgNCwgNSwgOCwgNSwgMywgMywgNSwgMSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTFdLFxuICAgIFswLCA0LCA1LCAxLCAwLCA1LCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMV0sXG4gICAgWzgsIDQsIDUsIDgsIDUsIDMsIDksIDAsIDUsIDAsIDMsIDUsIC0xLCAtMSwgLTEsIC0xXSxcbiAgICBbOSwgNCwgNSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTFdLFxuICAgIFs0LCAxMSwgNywgNCwgOSwgMTEsIDksIDEwLCAxMSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTFdLFxuICAgIFswLCA4LCAzLCA0LCA5LCA3LCA5LCAxMSwgNywgOSwgMTAsIDExLCAtMSwgLTEsIC0xLCAtMV0sXG4gICAgWzEsIDEwLCAxMSwgMSwgMTEsIDQsIDEsIDQsIDAsIDcsIDQsIDExLCAtMSwgLTEsIC0xLCAtMV0sXG4gICAgWzMsIDEsIDQsIDMsIDQsIDgsIDEsIDEwLCA0LCA3LCA0LCAxMSwgMTAsIDExLCA0LCAtMV0sXG4gICAgWzQsIDExLCA3LCA5LCAxMSwgNCwgOSwgMiwgMTEsIDksIDEsIDIsIC0xLCAtMSwgLTEsIC0xXSxcbiAgICBbOSwgNywgNCwgOSwgMTEsIDcsIDksIDEsIDExLCAyLCAxMSwgMSwgMCwgOCwgMywgLTFdLFxuICAgIFsxMSwgNywgNCwgMTEsIDQsIDIsIDIsIDQsIDAsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xXSxcbiAgICBbMTEsIDcsIDQsIDExLCA0LCAyLCA4LCAzLCA0LCAzLCAyLCA0LCAtMSwgLTEsIC0xLCAtMV0sXG4gICAgWzIsIDksIDEwLCAyLCA3LCA5LCAyLCAzLCA3LCA3LCA0LCA5LCAtMSwgLTEsIC0xLCAtMV0sXG4gICAgWzksIDEwLCA3LCA5LCA3LCA0LCAxMCwgMiwgNywgOCwgNywgMCwgMiwgMCwgNywgLTFdLFxuICAgIFszLCA3LCAxMCwgMywgMTAsIDIsIDcsIDQsIDEwLCAxLCAxMCwgMCwgNCwgMCwgMTAsIC0xXSxcbiAgICBbMSwgMTAsIDIsIDgsIDcsIDQsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xXSxcbiAgICBbNCwgOSwgMSwgNCwgMSwgNywgNywgMSwgMywgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTFdLFxuICAgIFs0LCA5LCAxLCA0LCAxLCA3LCAwLCA4LCAxLCA4LCA3LCAxLCAtMSwgLTEsIC0xLCAtMV0sXG4gICAgWzQsIDAsIDMsIDcsIDQsIDMsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xXSxcbiAgICBbNCwgOCwgNywgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTFdLFxuICAgIFs5LCAxMCwgOCwgMTAsIDExLCA4LCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMV0sXG4gICAgWzMsIDAsIDksIDMsIDksIDExLCAxMSwgOSwgMTAsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xXSxcbiAgICBbMCwgMSwgMTAsIDAsIDEwLCA4LCA4LCAxMCwgMTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xXSxcbiAgICBbMywgMSwgMTAsIDExLCAzLCAxMCwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTFdLFxuICAgIFsxLCAyLCAxMSwgMSwgMTEsIDksIDksIDExLCA4LCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMV0sXG4gICAgWzMsIDAsIDksIDMsIDksIDExLCAxLCAyLCA5LCAyLCAxMSwgOSwgLTEsIC0xLCAtMSwgLTFdLFxuICAgIFswLCAyLCAxMSwgOCwgMCwgMTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xXSxcbiAgICBbMywgMiwgMTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xXSxcbiAgICBbMiwgMywgOCwgMiwgOCwgMTAsIDEwLCA4LCA5LCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMV0sXG4gICAgWzksIDEwLCAyLCAwLCA5LCAyLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMV0sXG4gICAgWzIsIDMsIDgsIDIsIDgsIDEwLCAwLCAxLCA4LCAxLCAxMCwgOCwgLTEsIC0xLCAtMSwgLTFdLFxuICAgIFsxLCAxMCwgMiwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTFdLFxuICAgIFsxLCAzLCA4LCA5LCAxLCA4LCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMV0sXG4gICAgWzAsIDksIDEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xXSxcbiAgICBbMCwgMywgOCwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTFdLFxuICAgIFstMSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMV0sXG5dO1xuXG5mdW5jdGlvbiBwb2x5Z29uaXNlKGNvcm5lcnM6IFZlY3RvcjNbXSwgdmFsdWVzOiBudW1iZXJbXSwgbGV2ZWw6IG51bWJlcik6IE1lc2gge1xuICAgIGxldCB0cmlhbmdsZXMgPSBudWxsO1xuXG4gICAgLy8gZ2V0IHRoZSBtYXJjaGluZyBjdWJlIGluZGV4IGJhc2VkIG9uIGNvcm5lcnNcbiAgICBsZXQgY3ViZWluZGV4ID0gMDtcbiAgICBpZiAodmFsdWVzWzBdIDwgbGV2ZWwpIGN1YmVpbmRleCB8PSAxO1xuICAgIGlmICh2YWx1ZXNbMV0gPCBsZXZlbCkgY3ViZWluZGV4IHw9IDI7XG4gICAgaWYgKHZhbHVlc1syXSA8IGxldmVsKSBjdWJlaW5kZXggfD0gNDtcbiAgICBpZiAodmFsdWVzWzNdIDwgbGV2ZWwpIGN1YmVpbmRleCB8PSA4O1xuICAgIGlmICh2YWx1ZXNbNF0gPCBsZXZlbCkgY3ViZWluZGV4IHw9IDE2O1xuICAgIGlmICh2YWx1ZXNbNV0gPCBsZXZlbCkgY3ViZWluZGV4IHw9IDMyO1xuICAgIGlmICh2YWx1ZXNbNl0gPCBsZXZlbCkgY3ViZWluZGV4IHw9IDY0O1xuICAgIGlmICh2YWx1ZXNbN10gPCBsZXZlbCkgY3ViZWluZGV4IHw9IDEyODtcblxuICAgIC8qIEN1YmUgaXMgZW50aXJlbHkgaW4vb3V0IG9mIHRoZSBzdXJmYWNlICovXG4gICAgbGV0IHZlcnRsaXN0OiBWZWN0b3IzW10gPSBbXTsgLy8gMTJcbiAgICBpZiAoZWRnZVRhYmxlW2N1YmVpbmRleF0gPT0gMCkgcmV0dXJuIE1lc2guemVybygpO1xuXG4gICAgLyogRmluZCB0aGUgdmVydGljZXMgd2hlcmUgdGhlIHN1cmZhY2UgaW50ZXJzZWN0cyB0aGUgY3ViZSAqL1xuICAgIGlmIChlZGdlVGFibGVbY3ViZWluZGV4XSAmIDEpIHZlcnRsaXN0WzBdID0gbGVycChsZXZlbCwgY29ybmVyc1swXSwgY29ybmVyc1sxXSwgdmFsdWVzWzBdLCB2YWx1ZXNbMV0pO1xuICAgIGlmIChlZGdlVGFibGVbY3ViZWluZGV4XSAmIDIpIHZlcnRsaXN0WzFdID0gbGVycChsZXZlbCwgY29ybmVyc1sxXSwgY29ybmVyc1syXSwgdmFsdWVzWzFdLCB2YWx1ZXNbMl0pO1xuICAgIGlmIChlZGdlVGFibGVbY3ViZWluZGV4XSAmIDQpIHZlcnRsaXN0WzJdID0gbGVycChsZXZlbCwgY29ybmVyc1syXSwgY29ybmVyc1szXSwgdmFsdWVzWzJdLCB2YWx1ZXNbM10pO1xuICAgIGlmIChlZGdlVGFibGVbY3ViZWluZGV4XSAmIDgpIHZlcnRsaXN0WzNdID0gbGVycChsZXZlbCwgY29ybmVyc1szXSwgY29ybmVyc1swXSwgdmFsdWVzWzNdLCB2YWx1ZXNbMF0pO1xuICAgIGlmIChlZGdlVGFibGVbY3ViZWluZGV4XSAmIDE2KSB2ZXJ0bGlzdFs0XSA9IGxlcnAobGV2ZWwsIGNvcm5lcnNbNF0sIGNvcm5lcnNbNV0sIHZhbHVlc1s0XSwgdmFsdWVzWzVdKTtcbiAgICBpZiAoZWRnZVRhYmxlW2N1YmVpbmRleF0gJiAzMikgdmVydGxpc3RbNV0gPSBsZXJwKGxldmVsLCBjb3JuZXJzWzVdLCBjb3JuZXJzWzZdLCB2YWx1ZXNbNV0sIHZhbHVlc1s2XSk7XG4gICAgaWYgKGVkZ2VUYWJsZVtjdWJlaW5kZXhdICYgNjQpIHZlcnRsaXN0WzZdID0gbGVycChsZXZlbCwgY29ybmVyc1s2XSwgY29ybmVyc1s3XSwgdmFsdWVzWzZdLCB2YWx1ZXNbN10pO1xuICAgIGlmIChlZGdlVGFibGVbY3ViZWluZGV4XSAmIDEyOCkgdmVydGxpc3RbN10gPSBsZXJwKGxldmVsLCBjb3JuZXJzWzddLCBjb3JuZXJzWzRdLCB2YWx1ZXNbN10sIHZhbHVlc1s0XSk7XG4gICAgaWYgKGVkZ2VUYWJsZVtjdWJlaW5kZXhdICYgMjU2KSB2ZXJ0bGlzdFs4XSA9IGxlcnAobGV2ZWwsIGNvcm5lcnNbMF0sIGNvcm5lcnNbNF0sIHZhbHVlc1swXSwgdmFsdWVzWzRdKTtcbiAgICBpZiAoZWRnZVRhYmxlW2N1YmVpbmRleF0gJiA1MTIpIHZlcnRsaXN0WzldID0gbGVycChsZXZlbCwgY29ybmVyc1sxXSwgY29ybmVyc1s1XSwgdmFsdWVzWzFdLCB2YWx1ZXNbNV0pO1xuICAgIGlmIChlZGdlVGFibGVbY3ViZWluZGV4XSAmIDEwMjQpIHZlcnRsaXN0WzEwXSA9IGxlcnAobGV2ZWwsIGNvcm5lcnNbMl0sIGNvcm5lcnNbNl0sIHZhbHVlc1syXSwgdmFsdWVzWzZdKTtcbiAgICBpZiAoZWRnZVRhYmxlW2N1YmVpbmRleF0gJiAyMDQ4KSB2ZXJ0bGlzdFsxMV0gPSBsZXJwKGxldmVsLCBjb3JuZXJzWzNdLCBjb3JuZXJzWzddLCB2YWx1ZXNbM10sIHZhbHVlc1s3XSk7XG5cbiAgICAvLyBjcmVhdGUgdHJpYW5nbGVzXG4gICAgLy8gbnRyaWFuZyA9IDA7XG4gICAgLy8gZm9yIChsZXQgaSA9IDA7IHRyaVRhYmxlW2N1YmVpbmRleF1baV0hPS0xOyBpKz0zKSB7XG4gICAgLy8gICAgIHRyaWFuZ2xlc1tudHJpYW5nXS5wWzBdID0gdmVydGxpc3RbdHJpVGFibGVbY3ViZWluZGV4XVtpICBdXTtcbiAgICAvLyAgICAgdHJpYW5nbGVzW250cmlhbmddLnBbMV0gPSB2ZXJ0bGlzdFt0cmlUYWJsZVtjdWJlaW5kZXhdW2krMV1dO1xuICAgIC8vICAgICB0cmlhbmdsZXNbbnRyaWFuZ10ucFsyXSA9IHZlcnRsaXN0W3RyaVRhYmxlW2N1YmVpbmRleF1baSsyXV07XG4gICAgLy8gICAgIG50cmlhbmcrKztcbiAgICAvLyB9XG5cbiAgICAvLyByZXR1cm4obnRyaWFuZyk7XG4gICAgcmV0dXJuIE1lc2guemVybygpO1xufVxuXG4vKlxuICAgIExpbmVhcmx5IGludGVycG9sYXRlIHRoZSBwb3NpdGlvbiB3aGVyZSBhbiBpc29zdXJmYWNlIGN1dHNcbiAgICBhbiBlZGdlIGJldHdlZW4gdHdvIHZlcnRpY2VzLCBlYWNoIHdpdGggdGhlaXIgb3duIHNjYWxhciB2YWx1ZVxuICovXG5mdW5jdGlvbiBsZXJwKGxldmVsOiBudW1iZXIsIHAxOiBWZWN0b3IzLCBwMjogVmVjdG9yMywgdmFscDE6IG51bWJlciwgdmFscDI6IG51bWJlcik6IFZlY3RvcjMge1xuICAgIHJldHVybiBWZWN0b3IzLmZyb21MZXJwV2VpZ2h0cyhwMSwgcDIsIHZhbHAxLCB2YWxwMiwgbGV2ZWwpO1xufVxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/algorithms/marching-cubes.ts\n");

/***/ }),

/***/ "./src/algorithms/perlin-noise.ts":
/*!****************************************!*\
  !*** ./src/algorithms/perlin-noise.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Perlin\": () => /* binding */ Perlin\n/* harmony export */ });\n/* harmony import */ var _math_math__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../math/math */ \"./src/math/math.ts\");\n// name:        perlin-noise.ts\r\n// author:      Jos Feenstra\r\n// purpose:     Generate Perin Noise\r\n\r\n// a javascript implementation of:\r\n// Ref : https://adrianb.io/2014/08/09/perlinnoise.html\r\nclass Perlin {\r\n    constructor() {\r\n        this.permutation = [\r\n            151,\r\n            160,\r\n            137,\r\n            91,\r\n            90,\r\n            15,\r\n            131,\r\n            13,\r\n            201,\r\n            95,\r\n            96,\r\n            53,\r\n            194,\r\n            233,\r\n            7,\r\n            225,\r\n            140,\r\n            36,\r\n            103,\r\n            30,\r\n            69,\r\n            142,\r\n            8,\r\n            99,\r\n            37,\r\n            240,\r\n            21,\r\n            10,\r\n            23,\r\n            190,\r\n            6,\r\n            148,\r\n            247,\r\n            120,\r\n            234,\r\n            75,\r\n            0,\r\n            26,\r\n            197,\r\n            62,\r\n            94,\r\n            252,\r\n            219,\r\n            203,\r\n            117,\r\n            35,\r\n            11,\r\n            32,\r\n            57,\r\n            177,\r\n            33,\r\n            88,\r\n            237,\r\n            149,\r\n            56,\r\n            87,\r\n            174,\r\n            20,\r\n            125,\r\n            136,\r\n            171,\r\n            168,\r\n            68,\r\n            175,\r\n            74,\r\n            165,\r\n            71,\r\n            134,\r\n            139,\r\n            48,\r\n            27,\r\n            166,\r\n            77,\r\n            146,\r\n            158,\r\n            231,\r\n            83,\r\n            111,\r\n            229,\r\n            122,\r\n            60,\r\n            211,\r\n            133,\r\n            230,\r\n            220,\r\n            105,\r\n            92,\r\n            41,\r\n            55,\r\n            46,\r\n            245,\r\n            40,\r\n            244,\r\n            102,\r\n            143,\r\n            54,\r\n            65,\r\n            25,\r\n            63,\r\n            161,\r\n            1,\r\n            216,\r\n            80,\r\n            73,\r\n            209,\r\n            76,\r\n            132,\r\n            187,\r\n            208,\r\n            89,\r\n            18,\r\n            169,\r\n            200,\r\n            196,\r\n            135,\r\n            130,\r\n            116,\r\n            188,\r\n            159,\r\n            86,\r\n            164,\r\n            100,\r\n            109,\r\n            198,\r\n            173,\r\n            186,\r\n            3,\r\n            64,\r\n            52,\r\n            217,\r\n            226,\r\n            250,\r\n            124,\r\n            123,\r\n            5,\r\n            202,\r\n            38,\r\n            147,\r\n            118,\r\n            126,\r\n            255,\r\n            82,\r\n            85,\r\n            212,\r\n            207,\r\n            206,\r\n            59,\r\n            227,\r\n            47,\r\n            16,\r\n            58,\r\n            17,\r\n            182,\r\n            189,\r\n            28,\r\n            42,\r\n            223,\r\n            183,\r\n            170,\r\n            213,\r\n            119,\r\n            248,\r\n            152,\r\n            2,\r\n            44,\r\n            154,\r\n            163,\r\n            70,\r\n            221,\r\n            153,\r\n            101,\r\n            155,\r\n            167,\r\n            43,\r\n            172,\r\n            9,\r\n            129,\r\n            22,\r\n            39,\r\n            253,\r\n            19,\r\n            98,\r\n            108,\r\n            110,\r\n            79,\r\n            113,\r\n            224,\r\n            232,\r\n            178,\r\n            185,\r\n            112,\r\n            104,\r\n            218,\r\n            246,\r\n            97,\r\n            228,\r\n            251,\r\n            34,\r\n            242,\r\n            193,\r\n            238,\r\n            210,\r\n            144,\r\n            12,\r\n            191,\r\n            179,\r\n            162,\r\n            241,\r\n            81,\r\n            51,\r\n            145,\r\n            235,\r\n            249,\r\n            14,\r\n            239,\r\n            107,\r\n            49,\r\n            192,\r\n            214,\r\n            31,\r\n            181,\r\n            199,\r\n            106,\r\n            157,\r\n            184,\r\n            84,\r\n            204,\r\n            176,\r\n            115,\r\n            121,\r\n            50,\r\n            45,\r\n            127,\r\n            4,\r\n            150,\r\n            254,\r\n            138,\r\n            236,\r\n            205,\r\n            93,\r\n            222,\r\n            114,\r\n            67,\r\n            29,\r\n            24,\r\n            72,\r\n            243,\r\n            141,\r\n            128,\r\n            195,\r\n            78,\r\n            66,\r\n            215,\r\n            61,\r\n            156,\r\n            180,\r\n        ];\r\n        this.repeat = 0;\r\n        this.repeat = 0;\r\n        this.p = new Array(512);\r\n        for (let x = 0; x < 512; x++) {\r\n            this.p[x] = this.permutation[x % 256];\r\n        }\r\n    }\r\n    grad(hash, x, y, z) {\r\n        switch (hash & 0xf) {\r\n            case 0x0:\r\n                return x + y;\r\n            case 0x1:\r\n                return -x + y;\r\n            case 0x2:\r\n                return x - y;\r\n            case 0x3:\r\n                return -x - y;\r\n            case 0x4:\r\n                return x + z;\r\n            case 0x5:\r\n                return -x + z;\r\n            case 0x6:\r\n                return x - z;\r\n            case 0x7:\r\n                return -x - z;\r\n            case 0x8:\r\n                return y + z;\r\n            case 0x9:\r\n                return -y + z;\r\n            case 0xa:\r\n                return y - z;\r\n            case 0xb:\r\n                return -y - z;\r\n            case 0xc:\r\n                return y + x;\r\n            case 0xd:\r\n                return -y + z;\r\n            case 0xe:\r\n                return y - x;\r\n            case 0xf:\r\n                return -y - z;\r\n            default:\r\n                return 0; // never happens\r\n        }\r\n    }\r\n    inc(num) {\r\n        num++;\r\n        if (this.repeat > 0)\r\n            num %= this.repeat;\r\n        return num;\r\n    }\r\n    noise(x, y, z) {\r\n        // If we have any repeat on, change the coordinates to their \"local\" repetitions\r\n        if (this.repeat > 0) {\r\n            x = x % this.repeat;\r\n            y = y % this.repeat;\r\n            z = z % this.repeat;\r\n        }\r\n        let xi = Math.floor(x) & 255; // Calculate the \"unit cube\" that the point asked will be located in\r\n        let yi = Math.floor(y) & 255; // The left bound is ( |_x_|,|_y_|,|_z_| ) and the right bound is that\r\n        let zi = Math.floor(z) & 255; // plus 1.  Next we calculate the location (from 0.0 to 1.0) in that cube.\r\n        let xf = x - Math.floor(x);\r\n        let yf = y - Math.floor(y);\r\n        let zf = z - Math.floor(z);\r\n        let p = this.p;\r\n        let aaa = p[p[p[xi] + yi] + zi];\r\n        let aba = p[p[p[xi] + this.inc(yi)] + zi];\r\n        let aab = p[p[p[xi] + yi] + this.inc(zi)];\r\n        let abb = p[p[p[xi] + this.inc(yi)] + this.inc(zi)];\r\n        let baa = p[p[p[this.inc(xi)] + yi] + zi];\r\n        let bba = p[p[p[this.inc(xi)] + this.inc(yi)] + zi];\r\n        let bab = p[p[p[this.inc(xi)] + yi] + this.inc(zi)];\r\n        let bbb = p[p[p[this.inc(xi)] + this.inc(yi)] + this.inc(zi)];\r\n        let u = _math_math__WEBPACK_IMPORTED_MODULE_0__.GeonMath.fade(xf);\r\n        let v = _math_math__WEBPACK_IMPORTED_MODULE_0__.GeonMath.fade(yf);\r\n        let w = _math_math__WEBPACK_IMPORTED_MODULE_0__.GeonMath.fade(zf);\r\n        let x1, x2, y1, y2;\r\n        x1 = _math_math__WEBPACK_IMPORTED_MODULE_0__.GeonMath.lerp(this.grad(aaa, xf, yf, zf), // The gradient function calculates the dot product between a pseudorandom\r\n        this.grad(baa, xf - 1, yf, zf), // gradient vector and the vector from the input coordinate to the 8\r\n        u); // surrounding points in its unit cube.\r\n        x2 = _math_math__WEBPACK_IMPORTED_MODULE_0__.GeonMath.lerp(this.grad(aba, xf, yf - 1, zf), // This is all then lerped together as a sort of weighted average based on the faded (u,v,w)\r\n        this.grad(bba, xf - 1, yf - 1, zf), // values we made earlier.\r\n        u);\r\n        y1 = _math_math__WEBPACK_IMPORTED_MODULE_0__.GeonMath.lerp(x1, x2, v);\r\n        x1 = _math_math__WEBPACK_IMPORTED_MODULE_0__.GeonMath.lerp(this.grad(aab, xf, yf, zf - 1), this.grad(bab, xf - 1, yf, zf - 1), u);\r\n        x2 = _math_math__WEBPACK_IMPORTED_MODULE_0__.GeonMath.lerp(this.grad(abb, xf, yf - 1, zf - 1), this.grad(bbb, xf - 1, yf - 1, zf - 1), u);\r\n        y2 = _math_math__WEBPACK_IMPORTED_MODULE_0__.GeonMath.lerp(x1, x2, v);\r\n        return (_math_math__WEBPACK_IMPORTED_MODULE_0__.GeonMath.lerp(y1, y2, w) + 1) / 2;\r\n    }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9nZW9uLWVuZ2luZS8uL3NyYy9hbGdvcml0aG1zL3Blcmxpbi1ub2lzZS50cz8xYmFjIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUEsK0JBQStCO0FBQy9CLDRCQUE0QjtBQUM1QixvQ0FBb0M7QUFFSTtBQUV4QyxrQ0FBa0M7QUFDbEMsdURBQXVEO0FBQ2hELE1BQU0sTUFBTTtJQXdRZjtRQXZRaUIsZ0JBQVcsR0FBRztZQUMzQixHQUFHO1lBQ0gsR0FBRztZQUNILEdBQUc7WUFDSCxFQUFFO1lBQ0YsRUFBRTtZQUNGLEVBQUU7WUFDRixHQUFHO1lBQ0gsRUFBRTtZQUNGLEdBQUc7WUFDSCxFQUFFO1lBQ0YsRUFBRTtZQUNGLEVBQUU7WUFDRixHQUFHO1lBQ0gsR0FBRztZQUNILENBQUM7WUFDRCxHQUFHO1lBQ0gsR0FBRztZQUNILEVBQUU7WUFDRixHQUFHO1lBQ0gsRUFBRTtZQUNGLEVBQUU7WUFDRixHQUFHO1lBQ0gsQ0FBQztZQUNELEVBQUU7WUFDRixFQUFFO1lBQ0YsR0FBRztZQUNILEVBQUU7WUFDRixFQUFFO1lBQ0YsRUFBRTtZQUNGLEdBQUc7WUFDSCxDQUFDO1lBQ0QsR0FBRztZQUNILEdBQUc7WUFDSCxHQUFHO1lBQ0gsR0FBRztZQUNILEVBQUU7WUFDRixDQUFDO1lBQ0QsRUFBRTtZQUNGLEdBQUc7WUFDSCxFQUFFO1lBQ0YsRUFBRTtZQUNGLEdBQUc7WUFDSCxHQUFHO1lBQ0gsR0FBRztZQUNILEdBQUc7WUFDSCxFQUFFO1lBQ0YsRUFBRTtZQUNGLEVBQUU7WUFDRixFQUFFO1lBQ0YsR0FBRztZQUNILEVBQUU7WUFDRixFQUFFO1lBQ0YsR0FBRztZQUNILEdBQUc7WUFDSCxFQUFFO1lBQ0YsRUFBRTtZQUNGLEdBQUc7WUFDSCxFQUFFO1lBQ0YsR0FBRztZQUNILEdBQUc7WUFDSCxHQUFHO1lBQ0gsR0FBRztZQUNILEVBQUU7WUFDRixHQUFHO1lBQ0gsRUFBRTtZQUNGLEdBQUc7WUFDSCxFQUFFO1lBQ0YsR0FBRztZQUNILEdBQUc7WUFDSCxFQUFFO1lBQ0YsRUFBRTtZQUNGLEdBQUc7WUFDSCxFQUFFO1lBQ0YsR0FBRztZQUNILEdBQUc7WUFDSCxHQUFHO1lBQ0gsRUFBRTtZQUNGLEdBQUc7WUFDSCxHQUFHO1lBQ0gsR0FBRztZQUNILEVBQUU7WUFDRixHQUFHO1lBQ0gsR0FBRztZQUNILEdBQUc7WUFDSCxHQUFHO1lBQ0gsR0FBRztZQUNILEVBQUU7WUFDRixFQUFFO1lBQ0YsRUFBRTtZQUNGLEVBQUU7WUFDRixHQUFHO1lBQ0gsRUFBRTtZQUNGLEdBQUc7WUFDSCxHQUFHO1lBQ0gsR0FBRztZQUNILEVBQUU7WUFDRixFQUFFO1lBQ0YsRUFBRTtZQUNGLEVBQUU7WUFDRixHQUFHO1lBQ0gsQ0FBQztZQUNELEdBQUc7WUFDSCxFQUFFO1lBQ0YsRUFBRTtZQUNGLEdBQUc7WUFDSCxFQUFFO1lBQ0YsR0FBRztZQUNILEdBQUc7WUFDSCxHQUFHO1lBQ0gsRUFBRTtZQUNGLEVBQUU7WUFDRixHQUFHO1lBQ0gsR0FBRztZQUNILEdBQUc7WUFDSCxHQUFHO1lBQ0gsR0FBRztZQUNILEdBQUc7WUFDSCxHQUFHO1lBQ0gsR0FBRztZQUNILEVBQUU7WUFDRixHQUFHO1lBQ0gsR0FBRztZQUNILEdBQUc7WUFDSCxHQUFHO1lBQ0gsR0FBRztZQUNILEdBQUc7WUFDSCxDQUFDO1lBQ0QsRUFBRTtZQUNGLEVBQUU7WUFDRixHQUFHO1lBQ0gsR0FBRztZQUNILEdBQUc7WUFDSCxHQUFHO1lBQ0gsR0FBRztZQUNILENBQUM7WUFDRCxHQUFHO1lBQ0gsRUFBRTtZQUNGLEdBQUc7WUFDSCxHQUFHO1lBQ0gsR0FBRztZQUNILEdBQUc7WUFDSCxFQUFFO1lBQ0YsRUFBRTtZQUNGLEdBQUc7WUFDSCxHQUFHO1lBQ0gsR0FBRztZQUNILEVBQUU7WUFDRixHQUFHO1lBQ0gsRUFBRTtZQUNGLEVBQUU7WUFDRixFQUFFO1lBQ0YsRUFBRTtZQUNGLEdBQUc7WUFDSCxHQUFHO1lBQ0gsRUFBRTtZQUNGLEVBQUU7WUFDRixHQUFHO1lBQ0gsR0FBRztZQUNILEdBQUc7WUFDSCxHQUFHO1lBQ0gsR0FBRztZQUNILEdBQUc7WUFDSCxHQUFHO1lBQ0gsQ0FBQztZQUNELEVBQUU7WUFDRixHQUFHO1lBQ0gsR0FBRztZQUNILEVBQUU7WUFDRixHQUFHO1lBQ0gsR0FBRztZQUNILEdBQUc7WUFDSCxHQUFHO1lBQ0gsR0FBRztZQUNILEVBQUU7WUFDRixHQUFHO1lBQ0gsQ0FBQztZQUNELEdBQUc7WUFDSCxFQUFFO1lBQ0YsRUFBRTtZQUNGLEdBQUc7WUFDSCxFQUFFO1lBQ0YsRUFBRTtZQUNGLEdBQUc7WUFDSCxHQUFHO1lBQ0gsRUFBRTtZQUNGLEdBQUc7WUFDSCxHQUFHO1lBQ0gsR0FBRztZQUNILEdBQUc7WUFDSCxHQUFHO1lBQ0gsR0FBRztZQUNILEdBQUc7WUFDSCxHQUFHO1lBQ0gsR0FBRztZQUNILEVBQUU7WUFDRixHQUFHO1lBQ0gsR0FBRztZQUNILEVBQUU7WUFDRixHQUFHO1lBQ0gsR0FBRztZQUNILEdBQUc7WUFDSCxHQUFHO1lBQ0gsR0FBRztZQUNILEVBQUU7WUFDRixHQUFHO1lBQ0gsR0FBRztZQUNILEdBQUc7WUFDSCxHQUFHO1lBQ0gsRUFBRTtZQUNGLEVBQUU7WUFDRixHQUFHO1lBQ0gsR0FBRztZQUNILEdBQUc7WUFDSCxFQUFFO1lBQ0YsR0FBRztZQUNILEdBQUc7WUFDSCxFQUFFO1lBQ0YsR0FBRztZQUNILEdBQUc7WUFDSCxFQUFFO1lBQ0YsR0FBRztZQUNILEdBQUc7WUFDSCxHQUFHO1lBQ0gsR0FBRztZQUNILEdBQUc7WUFDSCxFQUFFO1lBQ0YsR0FBRztZQUNILEdBQUc7WUFDSCxHQUFHO1lBQ0gsR0FBRztZQUNILEVBQUU7WUFDRixFQUFFO1lBQ0YsR0FBRztZQUNILENBQUM7WUFDRCxHQUFHO1lBQ0gsR0FBRztZQUNILEdBQUc7WUFDSCxHQUFHO1lBQ0gsR0FBRztZQUNILEVBQUU7WUFDRixHQUFHO1lBQ0gsR0FBRztZQUNILEVBQUU7WUFDRixFQUFFO1lBQ0YsRUFBRTtZQUNGLEVBQUU7WUFDRixHQUFHO1lBQ0gs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S0FBSyxDQUFDLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLHNFQUFzRTtRQUNwRyxJQUFJLEVBQUUsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLDBFQUEwRTtRQUV4RyxJQUFJLEVBQUUsR0FBRyxDQUFDLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUMzQixJQUFJLEVBQUUsR0FBRyxDQUFDLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUMzQixJQUFJLEVBQUUsR0FBRyxDQUFDLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUUzQixJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDO1FBQ2YsSUFBSSxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsRUFBRSxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUM7UUFDaEMsSUFBSSxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDO1FBQzFDLElBQUksR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztRQUMxQyxJQUFJLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO1FBQ3BELElBQUksR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQztRQUMxQyxJQUFJLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDO1FBQ3BELElBQUksR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7UUFDcEQsSUFBSSxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7UUFFOUQsSUFBSSxDQUFDLEdBQUcscURBQWEsQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUMxQixJQUFJLENBQUMsR0FBRyxxREFBYSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQzFCLElBQUksQ0FBQyxHQUFHLHFEQUFhLENBQUMsRUFBRSxDQUFDLENBQUM7UUFFMUIsSUFBSSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUM7UUFDbkIsRUFBRSxHQUFHLHFEQUFhLENBQ2QsSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSwwRUFBMEU7UUFDdEcsSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHLEVBQUUsRUFBRSxHQUFHLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsb0VBQW9FO1FBQ3BHLENBQUMsQ0FDSixDQUFDLENBQUMsdUNBQXVDO1FBQzFDLEVBQUUsR0FBRyxxREFBYSxDQUNkLElBQUksQ0FBQyxJQUFJLENBQUMsR0FBRyxFQUFFLEVBQUUsRUFBRSxFQUFFLEdBQUcsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxFQUFFLDRGQUE0RjtRQUM1SCxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsRUFBRSxFQUFFLEdBQUcsQ0FBQyxFQUFFLEVBQUUsR0FBRyxDQUFDLEVBQUUsRUFBRSxDQUFDLEVBQUUsMEJBQTBCO1FBQzlELENBQUMsQ0FDSixDQUFDO1FBQ0YsRUFBRSxHQUFHLHFEQUFhLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQztRQUU5QixFQUFFLEdBQUcscURBQWEsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsR0FBRyxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsRUFBRSxFQUFFLEdBQUcsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7UUFDMUYsRUFBRSxHQUFHLHFEQUFhLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHLEVBQUUsRUFBRSxFQUFFLEVBQUUsR0FBRyxDQUFDLEVBQUUsRUFBRSxHQUFHLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxJQUFJLENBQUMsR0FBRyxFQUFFLEVBQUUsR0FBRyxDQUFDLEVBQUUsRUFBRSxHQUFHLENBQUMsRUFBRSxFQUFFLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7UUFDbEcsRUFBRSxHQUFHLHFEQUFhLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQztRQUU5QixPQUFPLENBQUMscURBQWEsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUM5QyxDQUFDO0NBQ0oiLCJmaWxlIjoiLi9zcmMvYWxnb3JpdGhtcy9wZXJsaW4tbm9pc2UudHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBuYW1lOiAgICAgICAgcGVybGluLW5vaXNlLnRzXG4vLyBhdXRob3I6ICAgICAgSm9zIEZlZW5zdHJhXG4vLyBwdXJwb3NlOiAgICAgR2VuZXJhdGUgUGVyaW4gTm9pc2VcblxuaW1wb3J0IHsgR2Vvbk1hdGggfSBmcm9tIFwiLi4vbWF0aC9tYXRoXCI7XG5cbi8vIGEgamF2YXNjcmlwdCBpbXBsZW1lbnRhdGlvbiBvZjpcbi8vIFJlZiA6IGh0dHBzOi8vYWRyaWFuYi5pby8yMDE0LzA4LzA5L3Blcmxpbm5vaXNlLmh0bWxcbmV4cG9ydCBjbGFzcyBQZXJsaW4ge1xuICAgIHByaXZhdGUgcmVhZG9ubHkgcGVybXV0YXRpb24gPSBbXG4gICAgICAgIDE1MSxcbiAgICAgICAgMTYwLFxuICAgICAgICAxMzcsXG4gICAgICAgIDkxLFxuICAgICAgICA5MCxcbiAgICAgICAgMTUsIC8vIEhhc2ggbG9va3VwIHRhYmxlIGFzIGRlZmluZWQgYnkgS2VuIFBlcmxpbi4gIFRoaXMgaXMgYSByYW5kb21seVxuICAgICAgICAxMzEsXG4gICAgICAgIDEzLFxuICAgICAgICAyMDEsXG4gICAgICAgIDk1LFxuICAgICAgICA5NixcbiAgICAgICAgNTMsXG4gICAgICAgIDE5NCxcbiAgICAgICAgMjMzLFxuICAgICAgICA3LFxuICAgICAgICAyMjUsXG4gICAgICAgIDE0MCxcbiAgICAgICAgMzYsXG4gICAgICAgIDEwMyxcbiAgICAgICAgMzAsXG4gICAgICAgIDY5LFxuICAgICAgICAxNDIsXG4gICAgICAgIDgsXG4gICAgICAgIDk5LFxuICAgICAgICAzNyxcbiAgICAgICAgMjQwLFxuICAgICAgICAyMSxcbiAgICAgICAgMTAsXG4gICAgICAgIDIzLCAvLyBhcnJhbmdlZCBhcnJheSBvZiBhbGwgbnVtYmVycyBmcm9tIDAtMjU1IGluY2x1c2l2ZS5cbiAgICAgICAgMTkwLFxuICAgICAgICA2LFxuICAgICAgICAxNDgsXG4gICAgICAgIDI0NyxcbiAgICAgICAgMTIwLFxuICAgICAgICAyMzQsXG4gICAgICAgIDc1LFxuICAgICAgICAwLFxuICAgICAgICAyNixcbiAgICAgICAgMTk3LFxuICAgICAgICA2MixcbiAgICAgICAgOTQsXG4gICAgICAgIDI1MixcbiAgICAgICAgMjE5LFxuICAgICAgICAyMDMsXG4gICAgICAgIDExNyxcbiAgICAgICAgMzUsXG4gICAgICAgIDExLFxuICAgICAgICAzMixcbiAgICAgICAgNTcsXG4gICAgICAgIDE3NyxcbiAgICAgICAgMzMsXG4gICAgICAgIDg4LFxuICAgICAgICAyMzcsXG4gICAgICAgIDE0OSxcbiAgICAgICAgNTYsXG4gICAgICAgIDg3LFxuICAgICAgICAxNzQsXG4gICAgICAgIDIwLFxuICAgICAgICAxMjUsXG4gICAgICAgIDEzNixcbiAgICAgICAgMTcxLFxuICAgICAgICAxNjgsXG4gICAgICAgIDY4LFxuICAgICAgICAxNzUsXG4gICAgICAgIDc0LFxuICAgICAgICAxNjUsXG4gICAgICAgIDcxLFxuICAgICAgICAxMzQsXG4gICAgICAgIDEzOSxcbiAgICAgICAgNDgsXG4gICAgICAgIDI3LFxuICAgICAgICAxNjYsXG4gICAgICAgIDc3LFxuICAgICAgICAxNDYsXG4gICAgICAgIDE1OCxcbiAgICAgICAgMjMxLFxuICAgICAgICA4MyxcbiAgICAgICAgMTExLFxuICAgICAgICAyMjksXG4gICAgICAgIDEyMixcbiAgICAgICAgNjAsXG4gICAgICAgIDIxMSxcbiAgICAgICAgMTMzLFxuICAgICAgICAyMzAsXG4gICAgICAgIDIyMCxcbiAgICAgICAgMTA1LFxuICAgICAgICA5MixcbiAgICAgICAgNDEsXG4gICAgICAgIDU1LFxuICAgICAgICA0NixcbiAgICAgICAgMjQ1LFxuICAgICAgICA0MCxcbiAgICAgICAgMjQ0LFxuICAgICAgICAxMDIsXG4gICAgICAgIDE0MyxcbiAgICAgICAgNTQsXG4gICAgICAgIDY1LFxuICAgICAgICAyNSxcbiAgICAgICAgNjMsXG4gICAgICAgIDE2MSxcbiAgICAgICAgMSxcbiAgICAgICAgMjE2LFxuICAgICAgICA4MCxcbiAgICAgICAgNzMsXG4gICAgICAgIDIwOSxcbiAgICAgICAgNzYsXG4gICAgICAgIDEzMixcbiAgICAgICAgMTg3LFxuICAgICAgICAyMDgsXG4gICAgICAgIDg5LFxuICAgICAgICAxOCxcbiAgICAgICAgMTY5LFxuICAgICAgICAyMDAsXG4gICAgICAgIDE5NixcbiAgICAgICAgMTM1LFxuICAgICAgICAxMzAsXG4gICAgICAgIDExNixcbiAgICAgICAgMTg4LFxuICAgICAgICAxNTksXG4gICAgICAgIDg2LFxuICAgICAgICAxNjQsXG4gICAgICAgIDEwMCxcbiAgICAgICAgMTA5LFxuICAgICAgICAxOTgsXG4gICAgICAgIDE3MyxcbiAgICAgICAgMTg2LFxuICAgICAgICAzLFxuICAgICAgICA2NCxcbiAgICAgICAgNTIsXG4gICAgICAgIDIxNyxcbiAgICAgICAgMjI2LFxuICAgICAgICAyNTAsXG4gICAgICAgIDEyNCxcbiAgICAgICAgMTIzLFxuICAgICAgICA1LFxuICAgICAgICAyMDIsXG4gICAgICAgIDM4LFxuICAgICAgICAxNDcsXG4gICAgICAgIDExOCxcbiAgICAgICAgMTI2LFxuICAgICAgICAyNTUsXG4gICAgICAgIDgyLFxuICAgICAgICA4NSxcbiAgICAgICAgMjEyLFxuICAgICAgICAyMDcsXG4gICAgICAgIDIwNixcbiAgICAgICAgNTksXG4gICAgICAgIDIyNyxcbiAgICAgICAgNDcsXG4gICAgICAgIDE2LFxuICAgICAgICA1OCxcbiAgICAgICAgMTcsXG4gICAgICAgIDE4MixcbiAgICAgICAgMTg5LFxuICAgICAgICAyOCxcbiAgICAgICAgNDIsXG4gICAgICAgIDIyMyxcbiAgICAgICAgMTgzLFxuICAgICAgICAxNzAsXG4gICAgICAgIDIxMyxcbiAgICAgICAgMTE5LFxuICAgICAgICAyNDgsXG4gICAgICAgIDE1MixcbiAgICAgICAgMixcbiAgICAgICAgNDQsXG4gICAgICAgIDE1NCxcbiAgICAgICAgMTYzLFxuICAgICAgICA3MCxcbiAgICAgICAgMjIxLFxuICAgICAgICAxNTMsXG4gICAgICAgIDEwMSxcbiAgICAgICAgMTU1LFxuICAgICAgICAxNjcsXG4gICAgICAgIDQzLFxuICAgICAgICAxNzIsXG4gICAgICAgIDksXG4gICAgICAgIDEyOSxcbiAgICAgICAgMjIsXG4gICAgICAgIDM5LFxuICAgICAgICAyNTMsXG4gICAgICAgIDE5LFxuICAgICAgICA5OCxcbiAgICAgICAgMTA4LFxuICAgICAgICAxMTAsXG4gICAgICAgIDc5LFxuICAgICAgICAxMTMsXG4gICAgICAgIDIyNCxcbiAgICAgICAgMjMyLFxuICAgICAgICAxNzgsXG4gICAgICAgIDE4NSxcbiAgICAgICAgMTEyLFxuICAgICAgICAxMDQsXG4gICAgICAgIDIxOCxcbiAgICAgICAgMjQ2LFxuICAgICAgICA5NyxcbiAgICAgICAgMjI4LFxuICAgICAgICAyNTEsXG4gICAgICAgIDM0LFxuICAgICAgICAyNDIsXG4gICAgICAgIDE5MyxcbiAgICAgICAgMjM4LFxuICAgICAgICAyMTAsXG4gICAgICAgIDE0NCxcbiAgICAgICAgMTIsXG4gICAgICAgIDE5MSxcbiAgICAgICAgMTc5LFxuICAgICAgICAxNjIsXG4gICAgICAgIDI0MSxcbiAgICAgICAgODEsXG4gICAgICAgIDUxLFxuICAgICAgICAxNDUsXG4gICAgICAgIDIzNSxcbiAgICAgICAgMjQ5LFxuICAgICAgICAxNCxcbiAgICAgICAgMjM5LFxuICAgICAgICAxMDcsXG4gICAgICAgIDQ5LFxuICAgICAgICAxOTIsXG4gICAgICAgIDIxNCxcbiAgICAgICAgMzEsXG4gICAgICAgIDE4MSxcbiAgICAgICAgMTk5LFxuICAgICAgICAxMDYsXG4gICAgICAgIDE1NyxcbiAgICAgICAgMTg0LFxuICAgICAgICA4NCxcbiAgICAgICAgMjA0LFxuICAgICAgICAxNzYsXG4gICAgICAgIDExNSxcbiAgICAgICAgMTIxLFxuICAgICAgICA1MCxcbiAgICAgICAgNDUsXG4gICAgICAgIDEyNyxcbiAgICAgICAgNCxcbiAgICAgICAgMTUwLFxuICAgICAgICAyNTQsXG4gICAgICAgIDEzOCxcbiAgICAgICAgMjM2LFxuICAgICAgICAyMDUsXG4gICAgICAgIDkzLFxuICAgICAgICAyMjIsXG4gICAgICAgIDExNCxcbiAgICAgICAgNjcsXG4gICAgICAgIDI5LFxuICAgICAgICAyNCxcbiAgICAgICAgNzIsXG4gICAgICAgIDI0MyxcbiAgICAgICAgMTQxLFxuICAgICAgICAxMjgsXG4gICAgICAgIDE5NSxcbiAgICAgICAgNzgsXG4gICAgICAgIDY2LFxuICAgICAgICAyMTUsXG4gICAgICAgIDYxLFxuICAgICAgICAxNTYsXG4gICAgICAgIDE4MCxcbiAgICBdO1xuXG4gICAgcHJpdmF0ZSBwOiBudW1iZXJbXTsgLy8gRG91YmxlZCBwZXJtdXRhdGlvbiB0byBhdm9pZCBvdmVyZmxvd1xuXG4gICAgcHJpdmF0ZSByZXBlYXQgPSAwO1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMucmVwZWF0ID0gMDtcbiAgICAgICAgdGhpcy5wID0gbmV3IEFycmF5KDUxMik7XG4gICAgICAgIGZvciAobGV0IHggPSAwOyB4IDwgNTEyOyB4KyspIHtcbiAgICAgICAgICAgIHRoaXMucFt4XSA9IHRoaXMucGVybXV0YXRpb25beCAlIDI1Nl07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGdyYWQoaGFzaDogbnVtYmVyLCB4OiBudW1iZXIsIHk6IG51bWJlciwgejogbnVtYmVyKTogbnVtYmVyIHtcbiAgICAgICAgc3dpdGNoIChoYXNoICYgMHhmKSB7XG4gICAgICAgICAgICBjYXNlIDB4MDpcbiAgICAgICAgICAgICAgICByZXR1cm4geCArIHk7XG4gICAgICAgICAgICBjYXNlIDB4MTpcbiAgICAgICAgICAgICAgICByZXR1cm4gLXggKyB5O1xuICAgICAgICAgICAgY2FzZSAweDI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHggLSB5O1xuICAgICAgICAgICAgY2FzZSAweDM6XG4gICAgICAgICAgICAgICAgcmV0dXJuIC14IC0geTtcbiAgICAgICAgICAgIGNhc2UgMHg0OlxuICAgICAgICAgICAgICAgIHJldHVybiB4ICsgejtcbiAgICAgICAgICAgIGNhc2UgMHg1OlxuICAgICAgICAgICAgICAgIHJldHVybiAteCArIHo7XG4gICAgICAgICAgICBjYXNlIDB4NjpcbiAgICAgICAgICAgICAgICByZXR1cm4geCAtIHo7XG4gICAgICAgICAgICBjYXNlIDB4NzpcbiAgICAgICAgICAgICAgICByZXR1cm4gLXggLSB6O1xuICAgICAgICAgICAgY2FzZSAweDg6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHkgKyB6O1xuICAgICAgICAgICAgY2FzZSAweDk6XG4gICAgICAgICAgICAgICAgcmV0dXJuIC15ICsgejtcbiAgICAgICAgICAgIGNhc2UgMHhhOlxuICAgICAgICAgICAgICAgIHJldHVybiB5IC0gejtcbiAgICAgICAgICAgIGNhc2UgMHhiOlxuICAgICAgICAgICAgICAgIHJldHVybiAteSAtIHo7XG4gICAgICAgICAgICBjYXNlIDB4YzpcbiAgICAgICAgICAgICAgICByZXR1cm4geSArIHg7XG4gICAgICAgICAgICBjYXNlIDB4ZDpcbiAgICAgICAgICAgICAgICByZXR1cm4gLXkgKyB6O1xuICAgICAgICAgICAgY2FzZSAweGU6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHkgLSB4O1xuICAgICAgICAgICAgY2FzZSAweGY6XG4gICAgICAgICAgICAgICAgcmV0dXJuIC15IC0gejtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIDA7IC8vIG5ldmVyIGhhcHBlbnNcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgaW5jKG51bTogbnVtYmVyKTogbnVtYmVyIHtcbiAgICAgICAgbnVtKys7XG4gICAgICAgIGlmICh0aGlzLnJlcGVhdCA+IDApIG51bSAlPSB0aGlzLnJlcGVhdDtcblxuICAgICAgICByZXR1cm4gbnVtO1xuICAgIH1cblxuICAgIHB1YmxpYyBub2lzZSh4OiBudW1iZXIsIHk6IG51bWJlciwgejogbnVtYmVyKTogbnVtYmVyIHtcbiAgICAgICAgLy8gSWYgd2UgaGF2ZSBhbnkgcmVwZWF0IG9uLCBjaGFuZ2UgdGhlIGNvb3JkaW5hdGVzIHRvIHRoZWlyIFwibG9jYWxcIiByZXBldGl0aW9uc1xuICAgICAgICBpZiAodGhpcy5yZXBlYXQgPiAwKSB7XG4gICAgICAgICAgICB4ID0geCAlIHRoaXMucmVwZWF0O1xuICAgICAgICAgICAgeSA9IHkgJSB0aGlzLnJlcGVhdDtcbiAgICAgICAgICAgIHogPSB6ICUgdGhpcy5yZXBlYXQ7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgeGkgPSBNYXRoLmZsb29yKHgpICYgMjU1OyAvLyBDYWxjdWxhdGUgdGhlIFwidW5pdCBjdWJlXCIgdGhhdCB0aGUgcG9pbnQgYXNrZWQgd2lsbCBiZSBsb2NhdGVkIGluXG4gICAgICAgIGxldCB5aSA9IE1hdGguZmxvb3IoeSkgJiAyNTU7IC8vIFRoZSBsZWZ0IGJvdW5kIGlzICggfF94X3wsfF95X3wsfF96X3wgKSBhbmQgdGhlIHJpZ2h0IGJvdW5kIGlzIHRoYXRcbiAgICAgICAgbGV0IHppID0gTWF0aC5mbG9vcih6KSAmIDI1NTsgLy8gcGx1cyAxLiAgTmV4dCB3ZSBjYWxjdWxhdGUgdGhlIGxvY2F0aW9uIChmcm9tIDAuMCB0byAxLjApIGluIHRoYXQgY3ViZS5cblxuICAgICAgICBsZXQgeGYgPSB4IC0gTWF0aC5mbG9vcih4KTtcbiAgICAgICAgbGV0IHlmID0geSAtIE1hdGguZmxvb3IoeSk7XG4gICAgICAgIGxldCB6ZiA9IHogLSBNYXRoLmZsb29yKHopO1xuXG4gICAgICAgIGxldCBwID0gdGhpcy5wO1xuICAgICAgICBsZXQgYWFhID0gcFtwW3BbeGldICsgeWldICsgemldO1xuICAgICAgICBsZXQgYWJhID0gcFtwW3BbeGldICsgdGhpcy5pbmMoeWkpXSArIHppXTtcbiAgICAgICAgbGV0IGFhYiA9IHBbcFtwW3hpXSArIHlpXSArIHRoaXMuaW5jKHppKV07XG4gICAgICAgIGxldCBhYmIgPSBwW3BbcFt4aV0gKyB0aGlzLmluYyh5aSldICsgdGhpcy5pbmMoemkpXTtcbiAgICAgICAgbGV0IGJhYSA9IHBbcFtwW3RoaXMuaW5jKHhpKV0gKyB5aV0gKyB6aV07XG4gICAgICAgIGxldCBiYmEgPSBwW3BbcFt0aGlzLmluYyh4aSldICsgdGhpcy5pbmMoeWkpXSArIHppXTtcbiAgICAgICAgbGV0IGJhYiA9IHBbcFtwW3RoaXMuaW5jKHhpKV0gKyB5aV0gKyB0aGlzLmluYyh6aSldO1xuICAgICAgICBsZXQgYmJiID0gcFtwW3BbdGhpcy5pbmMoeGkpXSArIHRoaXMuaW5jKHlpKV0gKyB0aGlzLmluYyh6aSldO1xuXG4gICAgICAgIGxldCB1ID0gR2Vvbk1hdGguZmFkZSh4Zik7XG4gICAgICAgIGxldCB2ID0gR2Vvbk1hdGguZmFkZSh5Zik7XG4gICAgICAgIGxldCB3ID0gR2Vvbk1hdGguZmFkZSh6Zik7XG5cbiAgICAgICAgbGV0IHgxLCB4MiwgeTEsIHkyO1xuICAgICAgICB4MSA9IEdlb25NYXRoLmxlcnAoXG4gICAgICAgICAgICB0aGlzLmdyYWQoYWFhLCB4ZiwgeWYsIHpmKSwgLy8gVGhlIGdyYWRpZW50IGZ1bmN0aW9uIGNhbGN1bGF0ZXMgdGhlIGRvdCBwcm9kdWN0IGJldHdlZW4gYSBwc2V1ZG9yYW5kb21cbiAgICAgICAgICAgIHRoaXMuZ3JhZChiYWEsIHhmIC0gMSwgeWYsIHpmKSwgLy8gZ3JhZGllbnQgdmVjdG9yIGFuZCB0aGUgdmVjdG9yIGZyb20gdGhlIGlucHV0IGNvb3JkaW5hdGUgdG8gdGhlIDhcbiAgICAgICAgICAgIHUsXG4gICAgICAgICk7IC8vIHN1cnJvdW5kaW5nIHBvaW50cyBpbiBpdHMgdW5pdCBjdWJlLlxuICAgICAgICB4MiA9IEdlb25NYXRoLmxlcnAoXG4gICAgICAgICAgICB0aGlzLmdyYWQoYWJhLCB4ZiwgeWYgLSAxLCB6ZiksIC8vIFRoaXMgaXMgYWxsIHRoZW4gbGVycGVkIHRvZ2V0aGVyIGFzIGEgc29ydCBvZiB3ZWlnaHRlZCBhdmVyYWdlIGJhc2VkIG9uIHRoZSBmYWRlZCAodSx2LHcpXG4gICAgICAgICAgICB0aGlzLmdyYWQoYmJhLCB4ZiAtIDEsIHlmIC0gMSwgemYpLCAvLyB2YWx1ZXMgd2UgbWFkZSBlYXJsaWVyLlxuICAgICAgICAgICAgdSxcbiAgICAgICAgKTtcbiAgICAgICAgeTEgPSBHZW9uTWF0aC5sZXJwKHgxLCB4Miwgdik7XG5cbiAgICAgICAgeDEgPSBHZW9uTWF0aC5sZXJwKHRoaXMuZ3JhZChhYWIsIHhmLCB5ZiwgemYgLSAxKSwgdGhpcy5ncmFkKGJhYiwgeGYgLSAxLCB5ZiwgemYgLSAxKSwgdSk7XG4gICAgICAgIHgyID0gR2Vvbk1hdGgubGVycCh0aGlzLmdyYWQoYWJiLCB4ZiwgeWYgLSAxLCB6ZiAtIDEpLCB0aGlzLmdyYWQoYmJiLCB4ZiAtIDEsIHlmIC0gMSwgemYgLSAxKSwgdSk7XG4gICAgICAgIHkyID0gR2Vvbk1hdGgubGVycCh4MSwgeDIsIHYpO1xuXG4gICAgICAgIHJldHVybiAoR2Vvbk1hdGgubGVycCh5MSwgeTIsIHcpICsgMSkgLyAyO1xuICAgIH1cbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/algorithms/perlin-noise.ts\n");

/***/ }),

/***/ "./src/app/app.ts":
/*!************************!*\
  !*** ./src/app/app.ts ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"App\": () => /* binding */ App\n/* harmony export */ });\nclass App {\r\n    constructor(gl) {\r\n        // unique constructor\r\n        this.gl = gl;\r\n        this.name = this.constructor.name;\r\n    }\r\n    ui(ui) {\r\n        // setup for UI\r\n    }\r\n    start() {\r\n        // additional setup of state\r\n    }\r\n    update(state) {\r\n        // updating state\r\n    }\r\n    draw(gl) {\r\n        // drawing state\r\n    }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9nZW9uLWVuZ2luZS8uL3NyYy9hcHAvYXBwLnRzPzVkYjUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7OztBQUdPLE1BQU0sR0FBRztJQUlaLFlBQVksRUFBeUI7UUFDakMscUJBQXFCO1FBQ3JCLElBQUksQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDO1FBQ2IsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQztJQUN0QyxDQUFDO0lBRUQsRUFBRSxDQUFDLEVBQU07UUFDTCxlQUFlO0lBQ25CLENBQUM7SUFFRCxLQUFLO1FBQ0QsNEJBQTRCO0lBQ2hDLENBQUM7SUFFRCxNQUFNLENBQUMsS0FBaUI7UUFDcEIsaUJBQWlCO0lBQ3JCLENBQUM7SUFFRCxJQUFJLENBQUMsRUFBeUI7UUFDMUIsZ0JBQWdCO0lBQ3BCLENBQUM7Q0FDSiIsImZpbGUiOiIuL3NyYy9hcHAvYXBwLnRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSW5wdXRTdGF0ZSB9IGZyb20gXCIuLi9zeXN0ZW0vaW5wdXQtc3RhdGVcIjtcbmltcG9ydCB7IFVJIH0gZnJvbSBcIi4uL3N5c3RlbS91aVwiO1xuXG5leHBvcnQgY2xhc3MgQXBwIHtcbiAgICBnbDogV2ViR0xSZW5kZXJpbmdDb250ZXh0O1xuICAgIG5hbWU6IHN0cmluZztcblxuICAgIGNvbnN0cnVjdG9yKGdsOiBXZWJHTFJlbmRlcmluZ0NvbnRleHQpIHtcbiAgICAgICAgLy8gdW5pcXVlIGNvbnN0cnVjdG9yXG4gICAgICAgIHRoaXMuZ2wgPSBnbDtcbiAgICAgICAgdGhpcy5uYW1lID0gdGhpcy5jb25zdHJ1Y3Rvci5uYW1lO1xuICAgIH1cblxuICAgIHVpKHVpOiBVSSkge1xuICAgICAgICAvLyBzZXR1cCBmb3IgVUlcbiAgICB9XG5cbiAgICBzdGFydCgpIHtcbiAgICAgICAgLy8gYWRkaXRpb25hbCBzZXR1cCBvZiBzdGF0ZVxuICAgIH1cblxuICAgIHVwZGF0ZShzdGF0ZTogSW5wdXRTdGF0ZSkge1xuICAgICAgICAvLyB1cGRhdGluZyBzdGF0ZVxuICAgIH1cblxuICAgIGRyYXcoZ2w6IFdlYkdMUmVuZGVyaW5nQ29udGV4dCkge1xuICAgICAgICAvLyBkcmF3aW5nIHN0YXRlXG4gICAgfVxufVxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/app/app.ts\n");

/***/ }),

/***/ "./src/app/swap-app.ts":
/*!*****************************!*\
  !*** ./src/app/swap-app.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"SwapApp\": () => /* binding */ SwapApp\n/* harmony export */ });\n/* harmony import */ var _system_ui__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../system/ui */ \"./src/system/ui.ts\");\n/* harmony import */ var _app__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./app */ \"./src/app/app.ts\");\n// name:    swap-app\r\n// author:  Jos Feenstra\r\n// purpose: swap between different apps.\r\n//          - factory for initiazing these apps\r\n//          - making sure core deletes old apps\r\n\r\n\r\nclass SwapApp extends _app__WEBPACK_IMPORTED_MODULE_1__.App {\r\n    constructor(gl, core, possibleApps) {\r\n        super(gl);\r\n        this.currentAppIndex = -1;\r\n        this.core = core;\r\n        this.possibleApps = possibleApps;\r\n    }\r\n    ui(ui) {\r\n        let names = [];\r\n        let count = this.possibleApps.length;\r\n        for (let i = 0; i < count; i++) {\r\n            names.push(this.possibleApps[i].name.replace(\"App\", \"\"));\r\n        }\r\n        let p = _system_ui__WEBPACK_IMPORTED_MODULE_0__.EnumParameter.new(\"apps\", 0, names);\r\n        ui.addDropdown(p, (i) => {\r\n            this.swap(i);\r\n        });\r\n    }\r\n    swap(index) {\r\n        // todo do some range checking\r\n        let AppType = this.possibleApps[index];\r\n        if (this.currentAppIndex > -1) {\r\n            let PreviousType = this.possibleApps[this.currentAppIndex];\r\n            console.log(\"removing\", PreviousType.name);\r\n            this.core.removeApp(PreviousType.name);\r\n        }\r\n        console.log(\"constructing\", AppType.name);\r\n        this.currentAppIndex = index;\r\n        let app = new AppType(this.gl);\r\n        this.core.addApp(app);\r\n    }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9nZW9uLWVuZ2luZS8uL3NyYy9hcHAvc3dhcC1hcHAudHM/Y2JiNiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxvQkFBb0I7QUFDcEIsd0JBQXdCO0FBQ3hCLHdDQUF3QztBQUN4QywrQ0FBK0M7QUFDL0MsK0NBQStDO0FBR0U7QUFDckI7QUFFckIsTUFBTSxPQUFRLFNBQVEscUNBQUc7SUFLNUIsWUFBWSxFQUF5QixFQUFFLElBQVUsRUFBRSxZQUFtQjtRQUNsRSxLQUFLLENBQUMsRUFBRSxDQUFDLENBQUM7UUFIZCxvQkFBZSxHQUFXLENBQUMsQ0FBQyxDQUFDO1FBSXpCLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO1FBQ2pCLElBQUksQ0FBQyxZQUFZLEdBQUcsWUFBWSxDQUFDO0lBQ3JDLENBQUM7SUFFRCxFQUFFLENBQUMsRUFBTTtRQUNMLElBQUksS0FBSyxHQUFhLEVBQUUsQ0FBQztRQUN6QixJQUFJLEtBQUssR0FBRyxJQUFJLENBQUMsWUFBWSxDQUFDLE1BQU0sQ0FBQztRQUNyQyxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsS0FBSyxFQUFFLENBQUMsRUFBRSxFQUFFO1lBQzVCLEtBQUssQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLEtBQUssRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDO1NBQzVEO1FBRUQsSUFBSSxDQUFDLEdBQUcseURBQWlCLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxLQUFLLENBQUMsQ0FBQztRQUM1QyxFQUFFLENBQUMsV0FBVyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxFQUFFO1lBQ3BCLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDakIsQ0FBQyxDQUFDLENBQUM7SUFDUCxDQUFDO0lBRUQsSUFBSSxDQUFDLEtBQWE7UUFDZCw4QkFBOEI7UUFDOUIsSUFBSSxPQUFPLEdBQUcsSUFBSSxDQUFDLFlBQVksQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUN2QyxJQUFJLElBQUksQ0FBQyxlQUFlLEdBQUcsQ0FBQyxDQUFDLEVBQUU7WUFDM0IsSUFBSSxZQUFZLEdBQUcsSUFBSSxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsZUFBZSxDQUFDLENBQUM7WUFDM0QsT0FBTyxDQUFDLEdBQUcsQ0FBQyxVQUFVLEVBQUUsWUFBWSxDQUFDLElBQUksQ0FBQyxDQUFDO1lBQzNDLElBQUksQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsQ0FBQztTQUMxQztRQUNELE9BQU8sQ0FBQyxHQUFHLENBQUMsY0FBYyxFQUFFLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUMxQyxJQUFJLENBQUMsZUFBZSxHQUFHLEtBQUssQ0FBQztRQUU3QixJQUFJLEdBQUcsR0FBRyxJQUFJLE9BQU8sQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDL0IsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDMUIsQ0FBQztDQUNKIiwiZmlsZSI6Ii4vc3JjL2FwcC9zd2FwLWFwcC50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIG5hbWU6ICAgIHN3YXAtYXBwXG4vLyBhdXRob3I6ICBKb3MgRmVlbnN0cmFcbi8vIHB1cnBvc2U6IHN3YXAgYmV0d2VlbiBkaWZmZXJlbnQgYXBwcy5cbi8vICAgICAgICAgIC0gZmFjdG9yeSBmb3IgaW5pdGlhemluZyB0aGVzZSBhcHBzXG4vLyAgICAgICAgICAtIG1ha2luZyBzdXJlIGNvcmUgZGVsZXRlcyBvbGQgYXBwc1xuXG5pbXBvcnQgeyBDb3JlIH0gZnJvbSBcIi4uL3N5c3RlbS9jb3JlXCI7XG5pbXBvcnQgeyBFbnVtUGFyYW1ldGVyLCBVSSB9IGZyb20gXCIuLi9zeXN0ZW0vdWlcIjtcbmltcG9ydCB7IEFwcCB9IGZyb20gXCIuL2FwcFwiO1xuXG5leHBvcnQgY2xhc3MgU3dhcEFwcCBleHRlbmRzIEFwcCB7XG4gICAgcG9zc2libGVBcHBzOiBhbnlbXTtcbiAgICBjb3JlOiBDb3JlO1xuICAgIGN1cnJlbnRBcHBJbmRleDogbnVtYmVyID0gLTE7XG5cbiAgICBjb25zdHJ1Y3RvcihnbDogV2ViR0xSZW5kZXJpbmdDb250ZXh0LCBjb3JlOiBDb3JlLCBwb3NzaWJsZUFwcHM6IGFueVtdKSB7XG4gICAgICAgIHN1cGVyKGdsKTtcbiAgICAgICAgdGhpcy5jb3JlID0gY29yZTtcbiAgICAgICAgdGhpcy5wb3NzaWJsZUFwcHMgPSBwb3NzaWJsZUFwcHM7XG4gICAgfVxuXG4gICAgdWkodWk6IFVJKSB7XG4gICAgICAgIGxldCBuYW1lczogc3RyaW5nW10gPSBbXTtcbiAgICAgICAgbGV0IGNvdW50ID0gdGhpcy5wb3NzaWJsZUFwcHMubGVuZ3RoO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvdW50OyBpKyspIHtcbiAgICAgICAgICAgIG5hbWVzLnB1c2godGhpcy5wb3NzaWJsZUFwcHNbaV0ubmFtZS5yZXBsYWNlKFwiQXBwXCIsIFwiXCIpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBwID0gRW51bVBhcmFtZXRlci5uZXcoXCJhcHBzXCIsIDAsIG5hbWVzKTtcbiAgICAgICAgdWkuYWRkRHJvcGRvd24ocCwgKGkpID0+IHtcbiAgICAgICAgICAgIHRoaXMuc3dhcChpKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgc3dhcChpbmRleDogbnVtYmVyKSB7XG4gICAgICAgIC8vIHRvZG8gZG8gc29tZSByYW5nZSBjaGVja2luZ1xuICAgICAgICBsZXQgQXBwVHlwZSA9IHRoaXMucG9zc2libGVBcHBzW2luZGV4XTtcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudEFwcEluZGV4ID4gLTEpIHtcbiAgICAgICAgICAgIGxldCBQcmV2aW91c1R5cGUgPSB0aGlzLnBvc3NpYmxlQXBwc1t0aGlzLmN1cnJlbnRBcHBJbmRleF07XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcInJlbW92aW5nXCIsIFByZXZpb3VzVHlwZS5uYW1lKTtcbiAgICAgICAgICAgIHRoaXMuY29yZS5yZW1vdmVBcHAoUHJldmlvdXNUeXBlLm5hbWUpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnNvbGUubG9nKFwiY29uc3RydWN0aW5nXCIsIEFwcFR5cGUubmFtZSk7XG4gICAgICAgIHRoaXMuY3VycmVudEFwcEluZGV4ID0gaW5kZXg7XG5cbiAgICAgICAgbGV0IGFwcCA9IG5ldyBBcHBUeXBlKHRoaXMuZ2wpO1xuICAgICAgICB0aGlzLmNvcmUuYWRkQXBwKGFwcCk7XG4gICAgfVxufVxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/app/swap-app.ts\n");

/***/ }),

/***/ "./src/data/float-matrix.ts":
/*!**********************************!*\
  !*** ./src/data/float-matrix.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"FloatMatrix\": () => /* binding */ FloatMatrix\n/* harmony export */ });\n// generic all-pupose matrix of floats\r\nclass FloatMatrix {\r\n    constructor(height, width, data = []) {\r\n        this._height = height;\r\n        this._width = width;\r\n        this.data = new Float32Array(this._width * this._height);\r\n        if (data == [] || data.length == 0)\r\n            this.fill(0);\r\n        else\r\n            this.setData(data);\r\n    }\r\n    clone() {\r\n        let clone = new FloatMatrix(this._height, this._width);\r\n        for (let i = 0; i < this.data.length; i++) {\r\n            clone.data[i] = this.data[i];\r\n        }\r\n        return clone;\r\n    }\r\n    setData(data) {\r\n        if (data.length != this._height * this._width)\r\n            throw \"data.length does not match width * height \" + data.length.toString();\r\n        this.data.set(data);\r\n    }\r\n    count() {\r\n        // number of entries / rows.\r\n        // when derrived classes ask for 'how many of x?' they usually mean this.\r\n        return this._height;\r\n    }\r\n    getDimensions() {\r\n        return [this._height, this._width];\r\n    }\r\n    fill(value) {\r\n        let size = this._height * this._width;\r\n        for (let i = 0; i < size; i++) {\r\n            this.data[i] = value;\r\n        }\r\n    }\r\n    fillWith(data, valuesPerEntry = this._width) {\r\n        // values per entry can be used to setData which is not of the same shape.\r\n        let vpe = valuesPerEntry;\r\n        if (vpe > this._width)\r\n            throw \"values per entry is larger than this._width. This will spill over.\";\r\n        for (let i = 0; i < this._height; i++) {\r\n            for (let j = 0; j < vpe; j++) {\r\n                this.set(i, j, data[i * vpe + j]);\r\n            }\r\n        }\r\n    }\r\n    get(i, j) {\r\n        return this.data[i * this._width + j];\r\n    }\r\n    getRow(i) {\r\n        // if (i < 0 || i > this.height) throw \"column is out of bounds for FloatArray\"\r\n        let data = new Float32Array(this._width);\r\n        for (let j = 0; j < this._width; j++) {\r\n            data[j] = this.get(i, j);\r\n        }\r\n        return data;\r\n    }\r\n    getColumn(j) {\r\n        // if (j < 0 || j > this.width) throw \"column is out of bounds for FloatArray\"\r\n        let data = new Float32Array(this._height);\r\n        for (let i = 0; i < this._height; i++) {\r\n            let index = i * this._width + j;\r\n            data[i] = this.data[index];\r\n        }\r\n        return data;\r\n    }\r\n    set(i, j, value) {\r\n        this.data[i * this._width + j] = value;\r\n    }\r\n    setRow(rowIndex, row) {\r\n        // if (this.width != row.length) throw \"dimention of floatarray is not \" + row.length;\r\n        for (let j = 0; j < this._width; j++) {\r\n            this.set(rowIndex, j, row[j]);\r\n        }\r\n    }\r\n    forEachValue(callbackfn) {\r\n        for (let i = 0; i < this.data.length; i++) {\r\n            this.data[i] = callbackfn(this.data[i], i);\r\n        }\r\n        return this;\r\n    }\r\n    takeRows(indices) {\r\n        // create a new floatarray\r\n        const count = indices.length;\r\n        let array = new FloatMatrix(count, this._width);\r\n        for (let i = 0; i < count; i++) {\r\n            let getIndex = indices[i];\r\n            array.setRow(i, this.getRow(getIndex));\r\n        }\r\n        return array;\r\n    }\r\n    // generalized multiplication\r\n    multiply(b) {\r\n        let a = this;\r\n        if (b._width !== a._height) {\r\n            throw new Error(\"Columns in A should be the same as the number of rows in B\");\r\n        }\r\n        var product = new FloatMatrix(a._height, b._width);\r\n        for (var i = 0; i < product._height; i++) {\r\n            for (var j = 0; j < b._width; j++) {\r\n                for (var k = 0; k < a._width; k++) {\r\n                    product.set(i, j, product.get(i, j) + a.get(i, k) * b.get(k, j));\r\n                }\r\n            }\r\n        }\r\n        return product;\r\n    }\r\n    static fromNative(native) {\r\n        // assume all subarrays have the same shape!!\r\n        let height = native.length;\r\n        let width = native[0].length;\r\n        let matrix = new FloatMatrix(height, width);\r\n        for (var i = 0; i < native.length; i++) {\r\n            for (var j = 0; j < native[0].length; j++) {\r\n                matrix.set(i, j, native[i][j]);\r\n            }\r\n        }\r\n        return matrix;\r\n    }\r\n    toNative() {\r\n        let native = [];\r\n        for (var i = 0; i < this._height; i++) {\r\n            native[i] = [];\r\n            for (var j = 0; j < this._width; j++) {\r\n                native[i][j] = this.get(i, j);\r\n            }\r\n        }\r\n        return native;\r\n    }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9nZW9uLWVuZ2luZS8uL3NyYy9kYXRhL2Zsb2F0LW1hdHJpeC50cz82ODMxIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7QUFBQSxzQ0FBc0M7QUFDL0IsTUFBTSxXQUFXO0lBS3BCLFlBQVksTUFBYyxFQUFFLEtBQWEsRUFBRSxPQUFpQixFQUFFO1FBQzFELElBQUksQ0FBQyxPQUFPLEdBQUcsTUFBTSxDQUFDO1FBQ3RCLElBQUksQ0FBQyxNQUFNLEdBQUcsS0FBSyxDQUFDO1FBQ3BCLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxZQUFZLENBQUMsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUM7UUFDekQsSUFBSSxJQUFJLElBQUksRUFBRSxJQUFJLElBQUksQ0FBQyxNQUFNLElBQUksQ0FBQztZQUFFLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7O1lBQzVDLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDNUIsQ0FBQztJQUVELEtBQUs7UUFDRCxJQUFJLEtBQUssR0FBRyxJQUFJLFdBQVcsQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUN2RCxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7WUFDdkMsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO1NBQ2hDO1FBQ0QsT0FBTyxLQUFLLENBQUM7SUFDakIsQ0FBQztJQUVELE9BQU8sQ0FBQyxJQUFjO1FBQ2xCLElBQUksSUFBSSxDQUFDLE1BQU0sSUFBSSxJQUFJLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQyxNQUFNO1lBQ3pDLE1BQU0sNENBQTRDLEdBQUcsSUFBSSxDQUFDLE1B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QUU7WUFDcEMsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7Z0JBQ3ZDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQzthQUNsQztTQUNKO1FBQ0QsT0FBTyxNQUFNLENBQUM7SUFDbEIsQ0FBQztJQUVELFFBQVE7UUFDSixJQUFJLE1BQU0sR0FBZSxFQUFFLENBQUM7UUFDNUIsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQyxPQUFPLEVBQUUsQ0FBQyxFQUFFLEVBQUU7WUFDbkMsTUFBTSxDQUFDLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQztZQUNmLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxJQUFJLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFO2dCQUNsQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7YUFDakM7U0FDSjtRQUNELE9BQU8sTUFBTSxDQUFDO0lBQ2xCLENBQUM7Q0FDSiIsImZpbGUiOiIuL3NyYy9kYXRhL2Zsb2F0LW1hdHJpeC50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIGdlbmVyaWMgYWxsLXB1cG9zZSBtYXRyaXggb2YgZmxvYXRzXG5leHBvcnQgY2xhc3MgRmxvYXRNYXRyaXgge1xuICAgIGRhdGE6IEZsb2F0MzJBcnJheTtcbiAgICBfd2lkdGg6IG51bWJlcjtcbiAgICBfaGVpZ2h0OiBudW1iZXI7XG5cbiAgICBjb25zdHJ1Y3RvcihoZWlnaHQ6IG51bWJlciwgd2lkdGg6IG51bWJlciwgZGF0YTogbnVtYmVyW10gPSBbXSkge1xuICAgICAgICB0aGlzLl9oZWlnaHQgPSBoZWlnaHQ7XG4gICAgICAgIHRoaXMuX3dpZHRoID0gd2lkdGg7XG4gICAgICAgIHRoaXMuZGF0YSA9IG5ldyBGbG9hdDMyQXJyYXkodGhpcy5fd2lkdGggKiB0aGlzLl9oZWlnaHQpO1xuICAgICAgICBpZiAoZGF0YSA9PSBbXSB8fCBkYXRhLmxlbmd0aCA9PSAwKSB0aGlzLmZpbGwoMCk7XG4gICAgICAgIGVsc2UgdGhpcy5zZXREYXRhKGRhdGEpO1xuICAgIH1cblxuICAgIGNsb25lKCk6IEZsb2F0TWF0cml4IHtcbiAgICAgICAgbGV0IGNsb25lID0gbmV3IEZsb2F0TWF0cml4KHRoaXMuX2hlaWdodCwgdGhpcy5fd2lkdGgpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY2xvbmUuZGF0YVtpXSA9IHRoaXMuZGF0YVtpXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY2xvbmU7XG4gICAgfVxuXG4gICAgc2V0RGF0YShkYXRhOiBudW1iZXJbXSkge1xuICAgICAgICBpZiAoZGF0YS5sZW5ndGggIT0gdGhpcy5faGVpZ2h0ICogdGhpcy5fd2lkdGgpXG4gICAgICAgICAgICB0aHJvdyBcImRhdGEubGVuZ3RoIGRvZXMgbm90IG1hdGNoIHdpZHRoICogaGVpZ2h0IFwiICsgZGF0YS5sZW5ndGgudG9TdHJpbmcoKTtcbiAgICAgICAgdGhpcy5kYXRhLnNldChkYXRhKTtcbiAgICB9XG5cbiAgICBjb3VudCgpIHtcbiAgICAgICAgLy8gbnVtYmVyIG9mIGVudHJpZXMgLyByb3dzLlxuICAgICAgICAvLyB3aGVuIGRlcnJpdmVkIGNsYXNzZXMgYXNrIGZvciAnaG93IG1hbnkgb2YgeD8nIHRoZXkgdXN1YWxseSBtZWFuIHRoaXMuXG4gICAgICAgIHJldHVybiB0aGlzLl9oZWlnaHQ7XG4gICAgfVxuXG4gICAgZ2V0RGltZW5zaW9ucygpOiBbbnVtYmVyLCBudW1iZXJdIHtcbiAgICAgICAgcmV0dXJuIFt0aGlzLl9oZWlnaHQsIHRoaXMuX3dpZHRoXTtcbiAgICB9XG5cbiAgICBmaWxsKHZhbHVlOiBudW1iZXIpIHtcbiAgICAgICAgbGV0IHNpemUgPSB0aGlzLl9oZWlnaHQgKiB0aGlzLl93aWR0aDtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzaXplOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuZGF0YVtpXSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZmlsbFdpdGgoZGF0YTogbnVtYmVyW10sIHZhbHVlc1BlckVudHJ5OiBudW1iZXIgPSB0aGlzLl93aWR0aCkge1xuICAgICAgICAvLyB2YWx1ZXMgcGVyIGVudHJ5IGNhbiBiZSB1c2VkIHRvIHNldERhdGEgd2hpY2ggaXMgbm90IG9mIHRoZSBzYW1lIHNoYXBlLlxuICAgICAgICBsZXQgdnBlID0gdmFsdWVzUGVyRW50cnk7XG4gICAgICAgIGlmICh2cGUgPiB0aGlzLl93aWR0aCkgdGhyb3cgXCJ2YWx1ZXMgcGVyIGVudHJ5IGlzIGxhcmdlciB0aGFuIHRoaXMuX3dpZHRoLiBUaGlzIHdpbGwgc3BpbGwgb3Zlci5cIjtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl9oZWlnaHQ7IGkrKykge1xuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCB2cGU7IGorKykge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0KGksIGosIGRhdGFbaSAqIHZwZSArIGpdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdldChpOiBudW1iZXIsIGo6IG51bWJlcik6IG51bWJlciB7XG4gICAgICAgIHJldHVybiB0aGlzLmRhdGFbaSAqIHRoaXMuX3dpZHRoICsgal07XG4gICAgfVxuXG4gICAgZ2V0Um93KGk6IG51bWJlcik6IEZsb2F0MzJBcnJheSB7XG4gICAgICAgIC8vIGlmIChpIDwgMCB8fCBpID4gdGhpcy5oZWlnaHQpIHRocm93IFwiY29sdW1uIGlzIG91dCBvZiBib3VuZHMgZm9yIEZsb2F0QXJyYXlcIlxuICAgICAgICBsZXQgZGF0YSA9IG5ldyBGbG9hdDMyQXJyYXkodGhpcy5fd2lkdGgpO1xuICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHRoaXMuX3dpZHRoOyBqKyspIHtcbiAgICAgICAgICAgIGRhdGFbal0gPSB0aGlzLmdldChpLCBqKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZGF0YTtcbiAgICB9XG5cbiAgICBnZXRDb2x1bW4oajogbnVtYmVyKTogRmxvYXQzMkFycmF5IHtcbiAgICAgICAgLy8gaWYgKGogPCAwIHx8IGogPiB0aGlzLndpZHRoKSB0aHJvdyBcImNvbHVtbiBpcyBvdXQgb2YgYm91bmRzIGZvciBGbG9hdEFycmF5XCJcbiAgICAgICAgbGV0IGRhdGEgPSBuZXcgRmxvYXQzMkFycmF5KHRoaXMuX2hlaWdodCk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5faGVpZ2h0OyBpKyspIHtcbiAgICAgICAgICAgIGxldCBpbmRleCA9IGkgKiB0aGlzLl93aWR0aCArIGo7XG4gICAgICAgICAgICBkYXRhW2ldID0gdGhpcy5kYXRhW2luZGV4XTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZGF0YTtcbiAgICB9XG5cbiAgICBzZXQoaTogbnVtYmVyLCBqOiBudW1iZXIsIHZhbHVlOiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5kYXRhW2kgKiB0aGlzLl93aWR0aCArIGpdID0gdmFsdWU7XG4gICAgfVxuXG4gICAgc2V0Um93KHJvd0luZGV4OiBudW1iZXIsIHJvdzogbnVtYmVyW10gfCBGbG9hdDMyQXJyYXkpIHtcbiAgICAgICAgLy8gaWYgKHRoaXMud2lkdGggIT0gcm93Lmxlbmd0aCkgdGhyb3cgXCJkaW1lbnRpb24gb2YgZmxvYXRhcnJheSBpcyBub3QgXCIgKyByb3cubGVuZ3RoO1xuICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHRoaXMuX3dpZHRoOyBqKyspIHtcbiAgICAgICAgICAgIHRoaXMuc2V0KHJvd0luZGV4LCBqLCByb3dbal0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZm9yRWFjaFZhbHVlKGNhbGxiYWNrZm46ICh2YWx1ZTogbnVtYmVyLCBpbmRleDogbnVtYmVyKSA9PiBudW1iZXIpOiBGbG9hdE1hdHJpeCB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5kYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLmRhdGFbaV0gPSBjYWxsYmFja2ZuKHRoaXMuZGF0YVtpXSwgaSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgdGFrZVJvd3MoaW5kaWNlczogbnVtYmVyW10pOiBGbG9hdE1hdHJpeCB7XG4gICAgICAgIC8vIGNyZWF0ZSBhIG5ldyBmbG9hdGFycmF5XG4gICAgICAgIGNvbnN0IGNvdW50ID0gaW5kaWNlcy5sZW5ndGg7XG4gICAgICAgIGxldCBhcnJheSA9IG5ldyBGbG9hdE1hdHJpeChjb3VudCwgdGhpcy5fd2lkdGgpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvdW50OyBpKyspIHtcbiAgICAgICAgICAgIGxldCBnZXRJbmRleCA9IGluZGljZXNbaV07XG4gICAgICAgICAgICBhcnJheS5zZXRSb3coaSwgdGhpcy5nZXRSb3coZ2V0SW5kZXgpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXJyYXk7XG4gICAgfVxuXG4gICAgLy8gZ2VuZXJhbGl6ZWQgbXVsdGlwbGljYXRpb25cbiAgICBtdWx0aXBseShiOiBGbG9hdE1hdHJpeCk6IEZsb2F0TWF0cml4IHtcbiAgICAgICAgbGV0IGEgPSB0aGlzO1xuICAgICAgICBpZiAoYi5fd2lkdGggIT09IGEuX2hlaWdodCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ29sdW1ucyBpbiBBIHNob3VsZCBiZSB0aGUgc2FtZSBhcyB0aGUgbnVtYmVyIG9mIHJvd3MgaW4gQlwiKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcHJvZHVjdCA9IG5ldyBGbG9hdE1hdHJpeChhLl9oZWlnaHQsIGIuX3dpZHRoKTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByb2R1Y3QuX2hlaWdodDsgaSsrKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGIuX3dpZHRoOyBqKyspIHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBrID0gMDsgayA8IGEuX3dpZHRoOyBrKyspIHtcbiAgICAgICAgICAgICAgICAgICAgcHJvZHVjdC5zZXQoaSwgaiwgcHJvZHVjdC5nZXQoaSwgaikgKyBhLmdldChpLCBrKSAqIGIuZ2V0KGssIGopKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHByb2R1Y3Q7XG4gICAgfVxuXG4gICAgc3RhdGljIGZyb21OYXRpdmUobmF0aXZlOiBudW1iZXJbXVtdKTogRmxvYXRNYXRyaXgge1xuICAgICAgICAvLyBhc3N1bWUgYWxsIHN1YmFycmF5cyBoYXZlIHRoZSBzYW1lIHNoYXBlISFcbiAgICAgICAgbGV0IGhlaWdodCA9IG5hdGl2ZS5sZW5ndGg7XG4gICAgICAgIGxldCB3aWR0aCA9IG5hdGl2ZVswXS5sZW5ndGg7XG4gICAgICAgIGxldCBtYXRyaXggPSBuZXcgRmxvYXRNYXRyaXgoaGVpZ2h0LCB3aWR0aCk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbmF0aXZlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IG5hdGl2ZVswXS5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgIG1hdHJpeC5zZXQoaSwgaiwgbmF0aXZlW2ldW2pdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWF0cml4O1xuICAgIH1cblxuICAgIHRvTmF0aXZlKCk6IG51bWJlcltdW10ge1xuICAgICAgICBsZXQgbmF0aXZlOiBudW1iZXJbXVtdID0gW107XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5faGVpZ2h0OyBpKyspIHtcbiAgICAgICAgICAgIG5hdGl2ZVtpXSA9IFtdO1xuICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCB0aGlzLl93aWR0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgbmF0aXZlW2ldW2pdID0gdGhpcy5nZXQoaSwgaik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5hdGl2ZTtcbiAgICB9XG59XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/data/float-matrix.ts\n");

/***/ }),

/***/ "./src/data/hash-table.ts":
/*!********************************!*\
  !*** ./src/data/hash-table.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"HashTable\": () => /* binding */ HashTable\n/* harmony export */ });\n// note: this wont always work, but it does in most cases\r\n// todo: implement proper hashtable\r\nclass HashTable {\r\n    constructor() {\r\n        this.data = new Map();\r\n    }\r\n    stringify(key) {\r\n        return key.toString();\r\n    }\r\n    set(key, value) {\r\n        return this.data.set(this.stringify(key), value);\r\n    }\r\n    has(key) {\r\n        return this.data.has(this.stringify(key));\r\n    }\r\n    get(key) {\r\n        return this.data.get(this.stringify(key));\r\n    }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9nZW9uLWVuZ2luZS8uL3NyYy9kYXRhL2hhc2gtdGFibGUudHM/ZDdhMSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O0FBQUEseURBQXlEO0FBQ3pELG1DQUFtQztBQUM1QixNQUFNLFNBQVM7SUFHbEI7UUFDSSxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksR0FBRyxFQUFhLENBQUM7SUFDckMsQ0FBQztJQUVPLFNBQVMsQ0FBQyxHQUFRO1FBQ3RCLE9BQU8sR0FBRyxDQUFDLFFBQVEsRUFBRSxDQUFDO0lBQzFCLENBQUM7SUFFRCxHQUFHLENBQUMsR0FBUSxFQUFFLEtBQVE7UUFDbEIsT0FBTyxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxFQUFFLEtBQUssQ0FBQyxDQUFDO0lBQ3JELENBQUM7SUFFRCxHQUFHLENBQUMsR0FBUTtRQUNSLE9BQU8sSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO0lBQzlDLENBQUM7SUFFRCxHQUFHLENBQUMsR0FBUTtRQUNSLE9BQU8sSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO0lBQzlDLENBQUM7Q0FDSiIsImZpbGUiOiIuL3NyYy9kYXRhL2hhc2gtdGFibGUudHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBub3RlOiB0aGlzIHdvbnQgYWx3YXlzIHdvcmssIGJ1dCBpdCBkb2VzIGluIG1vc3QgY2FzZXNcbi8vIHRvZG86IGltcGxlbWVudCBwcm9wZXIgaGFzaHRhYmxlXG5leHBvcnQgY2xhc3MgSGFzaFRhYmxlPFY+IHtcbiAgICBkYXRhOiBNYXA8c3RyaW5nLCBWPjtcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmRhdGEgPSBuZXcgTWFwPHN0cmluZywgVj4oKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHN0cmluZ2lmeShrZXk6IGFueSk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiBrZXkudG9TdHJpbmcoKTtcbiAgICB9XG5cbiAgICBzZXQoa2V5OiBhbnksIHZhbHVlOiBWKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRhdGEuc2V0KHRoaXMuc3RyaW5naWZ5KGtleSksIHZhbHVlKTtcbiAgICB9XG5cbiAgICBoYXMoa2V5OiBhbnkpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YS5oYXModGhpcy5zdHJpbmdpZnkoa2V5KSk7XG4gICAgfVxuXG4gICAgZ2V0KGtleTogYW55KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRhdGEuZ2V0KHRoaXMuc3RyaW5naWZ5KGtleSkpO1xuICAgIH1cbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/data/hash-table.ts\n");

/***/ }),

/***/ "./src/data/int-cube.ts":
/*!******************************!*\
  !*** ./src/data/int-cube.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"IntCube\": () => /* binding */ IntCube\n/* harmony export */ });\n/* harmony import */ var _math_vector__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../math/vector */ \"./src/math/vector.ts\");\n\r\n// a Cube of voxels\r\nclass IntCube {\r\n    constructor(height, width, depth, data = []) {\r\n        this._height = height;\r\n        this._width = width;\r\n        this._depth = depth;\r\n        let size = this._width * this._height * this._depth;\r\n        this.data = new Int32Array(size);\r\n        if (data == [] || data.length == 0)\r\n            this.fill(0);\r\n        else {\r\n            this.setData(data);\r\n        }\r\n    }\r\n    size() {\r\n        return this._width * this._height * this._depth;\r\n    }\r\n    // shallow copy\r\n    clone() {\r\n        let clone = new IntCube(this._height, this._width, this._depth);\r\n        clone.data = this.data;\r\n        return clone;\r\n    }\r\n    setData(data) {\r\n        if (data.length != this.size())\r\n            throw \"data.length does not match width * height \" + data.length.toString();\r\n        this.data.set(data);\r\n    }\r\n    fill(value) {\r\n        let size = this.size();\r\n        for (let i = 0; i < size; i++) {\r\n            this.data[i] = value;\r\n        }\r\n    }\r\n    inRange(i, j, k) {\r\n        return !(i < 0 || j < 0 || k < 0 || i > this._width - 1 || j > this._height - 1 || k > this._depth - 1);\r\n    }\r\n    getIndex(i, j, k) {\r\n        return i * (this._height * this._depth) + j * this._depth + k;\r\n    }\r\n    getCoords(index) {\r\n        // javascript, dont you dare turn  'int / int' into a float...\r\n        let i = Math.floor(index / (this._height * this._depth)) % this._width;\r\n        let j = Math.floor(index / this._depth) % this._height;\r\n        let k = index % this._depth;\r\n        return new _math_vector__WEBPACK_IMPORTED_MODULE_0__.Vector3(i, j, k);\r\n    }\r\n    get(i, j, k) {\r\n        return this.data[this.getIndex(i, j, k)];\r\n    }\r\n    tryGet(i, j, k) {\r\n        if (this.inRange(i, j, k)) {\r\n            return this.data[this.getIndex(i, j, k)];\r\n        }\r\n        else {\r\n            return;\r\n        }\r\n    }\r\n    set(i, j, k, value) {\r\n        this.data[this.getIndex(i, j, k)] = value;\r\n    }\r\n    trySet(i, j, k, value) {\r\n        if (this.inRange(i, j, k)) {\r\n            this.data[this.getIndex(i, j, k)] = value;\r\n        }\r\n    }\r\n    iter(callbackfn) {\r\n        for (let i = 0; i < this.data.length; i++) {\r\n            callbackfn(this.data[i], i);\r\n        }\r\n    }\r\n    map(callbackfn) {\r\n        for (let i = 0; i < this.data.length; i++) {\r\n            this.data[i] = callbackfn(this.data[i], i);\r\n        }\r\n    }\r\n    trueForAll(callbackfn) {\r\n        for (let i = 0; i < this.data.length; i++) {\r\n            if (!callbackfn(this.data[i], i)) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9nZW9uLWVuZ2luZS8uL3NyYy9kYXRhL2ludC1jdWJlLnRzP2M0M2MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBeUM7QUFFekMsbUJBQW1CO0FBQ1osTUFBTSxPQUFPO0lBTWhCLFlBQVksTUFBYyxFQUFFLEtBQWEsRUFBRSxLQUFhLEVBQUUsT0FBaUIsRUFBRTtRQUN6RSxJQUFJLENBQUMsT0FBTyxHQUFHLE1BQU0sQ0FBQztRQUN0QixJQUFJLENBQUMsTUFBTSxHQUFHLEtBQUssQ0FBQztRQUNwQixJQUFJLENBQUMsTUFBTSxHQUFHLEtBQUssQ0FBQztRQUNwQixJQUFJLElBQUksR0FBRyxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQztRQUNwRCxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksVUFBVSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ2pDLElBQUksSUFBSSxJQUFJLEVBQUUsSUFBSSxJQUFJLENBQUMsTUFBTSxJQUFJLENBQUM7WUFBRSxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO2FBQzVDO1lBQ0QsSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQztTQUN0QjtJQUNMLENBQUM7SUFFRCxJQUFJO1FBQ0EsT0FBTyxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQztJQUNwRCxDQUFDO0lBRUQsZUFBZTtJQUNmLEtBQUs7UUFDRCxJQUFJLEtBQUssR0FBRyxJQUFJLE9BQU8sQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLElBQUksQ0FBQyxNQUFNLEVBQUUsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQ2hFLEtBQUssQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQztRQUN2QixPQUFPLEtBQUssQ0FBQztJQUNqQixDQUFDO0lBRUQsT0FBTyxDQUFDLElB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QyxFQUFFLENBQUMsQ0FBQyxFQUFFO1lBQ3ZCLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLEdBQUcsS0FBSyxDQUFDO1NBQzdDO0lBQ0wsQ0FBQztJQUVELElBQUksQ0FBQyxVQUFrRDtRQUNuRCxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7WUFDdkMsVUFBVSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7U0FDL0I7SUFDTCxDQUFDO0lBRUQsR0FBRyxDQUFDLFVBQW9EO1FBQ3BELEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRTtZQUN2QyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxHQUFHLFVBQVUsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO1NBQzlDO0lBQ0wsQ0FBQztJQUVELFVBQVUsQ0FBQyxVQUFxRDtRQUM1RCxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7WUFDdkMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFO2dCQUM5QixPQUFPLEtBQUssQ0FBQzthQUNoQjtTQUNKO1FBQ0QsT0FBTyxJQUFJLENBQUM7SUFDaEIsQ0FBQztDQUNKIiwiZmlsZSI6Ii4vc3JjL2RhdGEvaW50LWN1YmUudHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBWZWN0b3IzIH0gZnJvbSBcIi4uL21hdGgvdmVjdG9yXCI7XG5cbi8vIGEgQ3ViZSBvZiB2b3hlbHNcbmV4cG9ydCBjbGFzcyBJbnRDdWJlIHtcbiAgICBkYXRhOiBJbnQzMkFycmF5O1xuICAgIF93aWR0aDogbnVtYmVyO1xuICAgIF9oZWlnaHQ6IG51bWJlcjtcbiAgICBfZGVwdGg6IG51bWJlcjtcblxuICAgIGNvbnN0cnVjdG9yKGhlaWdodDogbnVtYmVyLCB3aWR0aDogbnVtYmVyLCBkZXB0aDogbnVtYmVyLCBkYXRhOiBudW1iZXJbXSA9IFtdKSB7XG4gICAgICAgIHRoaXMuX2hlaWdodCA9IGhlaWdodDtcbiAgICAgICAgdGhpcy5fd2lkdGggPSB3aWR0aDtcbiAgICAgICAgdGhpcy5fZGVwdGggPSBkZXB0aDtcbiAgICAgICAgbGV0IHNpemUgPSB0aGlzLl93aWR0aCAqIHRoaXMuX2hlaWdodCAqIHRoaXMuX2RlcHRoO1xuICAgICAgICB0aGlzLmRhdGEgPSBuZXcgSW50MzJBcnJheShzaXplKTtcbiAgICAgICAgaWYgKGRhdGEgPT0gW10gfHwgZGF0YS5sZW5ndGggPT0gMCkgdGhpcy5maWxsKDApO1xuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuc2V0RGF0YShkYXRhKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHNpemUoKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3dpZHRoICogdGhpcy5faGVpZ2h0ICogdGhpcy5fZGVwdGg7XG4gICAgfVxuXG4gICAgLy8gc2hhbGxvdyBjb3B5XG4gICAgY2xvbmUoKSB7XG4gICAgICAgIGxldCBjbG9uZSA9IG5ldyBJbnRDdWJlKHRoaXMuX2hlaWdodCwgdGhpcy5fd2lkdGgsIHRoaXMuX2RlcHRoKTtcbiAgICAgICAgY2xvbmUuZGF0YSA9IHRoaXMuZGF0YTtcbiAgICAgICAgcmV0dXJuIGNsb25lO1xuICAgIH1cblxuICAgIHNldERhdGEoZGF0YTogbnVtYmVyW10pIHtcbiAgICAgICAgaWYgKGRhdGEubGVuZ3RoICE9IHRoaXMuc2l6ZSgpKSB0aHJvdyBcImRhdGEubGVuZ3RoIGRvZXMgbm90IG1hdGNoIHdpZHRoICogaGVpZ2h0IFwiICsgZGF0YS5sZW5ndGgudG9TdHJpbmcoKTtcbiAgICAgICAgdGhpcy5kYXRhLnNldChkYXRhKTtcbiAgICB9XG5cbiAgICBmaWxsKHZhbHVlOiBudW1iZXIpIHtcbiAgICAgICAgbGV0IHNpemUgPSB0aGlzLnNpemUoKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzaXplOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuZGF0YVtpXSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaW5SYW5nZShpOiBudW1iZXIsIGo6IG51bWJlciwgazogbnVtYmVyKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiAhKGkgPCAwIHx8IGogPCAwIHx8IGsgPCAwIHx8IGkgPiB0aGlzLl93aWR0aCAtIDEgfHwgaiA+IHRoaXMuX2hlaWdodCAtIDEgfHwgayA+IHRoaXMuX2RlcHRoIC0gMSk7XG4gICAgfVxuXG4gICAgZ2V0SW5kZXgoaTogbnVtYmVyLCBqOiBudW1iZXIsIGs6IG51bWJlcik6IG51bWJlciB7XG4gICAgICAgIHJldHVybiBpICogKHRoaXMuX2hlaWdodCAqIHRoaXMuX2RlcHRoKSArIGogKiB0aGlzLl9kZXB0aCArIGs7XG4gICAgfVxuXG4gICAgZ2V0Q29vcmRzKGluZGV4OiBudW1iZXIpOiBWZWN0b3IzIHtcbiAgICAgICAgLy8gamF2YXNjcmlwdCwgZG9udCB5b3UgZGFyZSB0dXJuICAnaW50IC8gaW50JyBpbnRvIGEgZmxvYXQuLi5cbiAgICAgICAgbGV0IGkgPSBNYXRoLmZsb29yKGluZGV4IC8gKHRoaXMuX2hlaWdodCAqIHRoaXMuX2RlcHRoKSkgJSB0aGlzLl93aWR0aDtcbiAgICAgICAgbGV0IGogPSBNYXRoLmZsb29yKGluZGV4IC8gdGhpcy5fZGVwdGgpICUgdGhpcy5faGVpZ2h0O1xuICAgICAgICBsZXQgayA9IGluZGV4ICUgdGhpcy5fZGVwdGg7XG5cbiAgICAgICAgcmV0dXJuIG5ldyBWZWN0b3IzKGksIGosIGspO1xuICAgIH1cblxuICAgIGdldChpOiBudW1iZXIsIGo6IG51bWJlciwgazogbnVtYmVyKTogbnVtYmVyIHwgdW5kZWZpbmVkIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YVt0aGlzLmdldEluZGV4KGksIGosIGspXTtcbiAgICB9XG5cbiAgICB0cnlHZXQoaTogbnVtYmVyLCBqOiBudW1iZXIsIGs6IG51bWJlcik6IG51bWJlciB8IHVuZGVmaW5lZCB7XG4gICAgICAgIGlmICh0aGlzLmluUmFuZ2UoaSwgaiwgaykpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmRhdGFbdGhpcy5nZXRJbmRleChpLCBqLCBrKV07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzZXQoaTogbnVtYmVyLCBqOiBudW1iZXIsIGs6IG51bWJlciwgdmFsdWU6IG51bWJlcikge1xuICAgICAgICB0aGlzLmRhdGFbdGhpcy5nZXRJbmRleChpLCBqLCBrKV0gPSB2YWx1ZTtcbiAgICB9XG5cbiAgICB0cnlTZXQoaTogbnVtYmVyLCBqOiBudW1iZXIsIGs6IG51bWJlciwgdmFsdWU6IG51bWJlcikge1xuICAgICAgICBpZiAodGhpcy5pblJhbmdlKGksIGosIGspKSB7XG4gICAgICAgICAgICB0aGlzLmRhdGFbdGhpcy5nZXRJbmRleChpLCBqLCBrKV0gPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGl0ZXIoY2FsbGJhY2tmbjogKHZhbHVlOiBudW1iZXIsIGluZGV4OiBudW1iZXIpID0+IHZvaWQpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmRhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNhbGxiYWNrZm4odGhpcy5kYXRhW2ldLCBpKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG1hcChjYWxsYmFja2ZuOiAodmFsdWU6IG51bWJlciwgaW5kZXg6IG51bWJlcikgPT4gbnVtYmVyKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5kYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLmRhdGFbaV0gPSBjYWxsYmFja2ZuKHRoaXMuZGF0YVtpXSwgaSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB0cnVlRm9yQWxsKGNhbGxiYWNrZm46ICh2YWx1ZTogbnVtYmVyLCBpbmRleDogbnVtYmVyKSA9PiBib29sZWFuKTogYm9vbGVhbiB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5kYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoIWNhbGxiYWNrZm4odGhpcy5kYXRhW2ldLCBpKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG59XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/data/int-cube.ts\n");

/***/ }),

/***/ "./src/data/int-matrix.ts":
/*!********************************!*\
  !*** ./src/data/int-matrix.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"IntMatrix\": () => /* binding */ IntMatrix\n/* harmony export */ });\n// generic all-pupose matrix of ints\r\nclass IntMatrix {\r\n    constructor(height, width, data = []) {\r\n        this._height = height;\r\n        this._width = width;\r\n        this.data = new Uint16Array(this._width * this._height);\r\n        if (data == [] || data.length == 0)\r\n            this.fill(0);\r\n        else\r\n            this.setData(data);\r\n    }\r\n    static fromList(list, width) {\r\n        let height = list.length / width;\r\n        let array = new IntMatrix(height, width);\r\n        for (let i = 0; i < list.length; i++) {\r\n            array.data[i] = list[i];\r\n        }\r\n        return array;\r\n    }\r\n    clone() {\r\n        let clone = new IntMatrix(this._height, this._width);\r\n        clone.data = this.data;\r\n        return clone;\r\n    }\r\n    setData(data) {\r\n        if (data.length != this._height * this._width)\r\n            throw \"data.length does not match width * height \" + data.length.toString();\r\n        this.data.set(data);\r\n    }\r\n    count() {\r\n        // number of entries / rows.\r\n        // when derrived classes ask for 'how many of x?' they usually mean this.\r\n        return this._height;\r\n    }\r\n    getDimensions() {\r\n        return [this._height, this._width];\r\n    }\r\n    inRange(i, j) {\r\n        return !(i < 0 || i > this._height - 1 || j < 0 || j > this._width - 1);\r\n    }\r\n    fill(value) {\r\n        let size = this._height * this._width;\r\n        for (let i = 0; i < size; i++) {\r\n            this.data[i] = value;\r\n        }\r\n    }\r\n    fillWith(data, valuesPerEntry = this._width) {\r\n        // values per entry can be used to setData which is not of the same shape.\r\n        let vpe = valuesPerEntry;\r\n        if (vpe > this._width)\r\n            throw \"values per entry is larger than this._width. This will spill over.\";\r\n        for (let i = 0; i < this._height; i++) {\r\n            for (let j = 0; j < vpe; j++) {\r\n                this.set(i, j, data[i * vpe + j]);\r\n            }\r\n        }\r\n    }\r\n    get(i, j) {\r\n        if (!this.inRange(i, j)) {\r\n            console.warn(\"out of range!\");\r\n            return 0;\r\n        }\r\n        return this.data[i * this._width + j];\r\n    }\r\n    getRow(i) {\r\n        // if (i < 0 || i > this.height) throw \"column is out of bounds for Array\"\r\n        let data = new Uint16Array(this._width);\r\n        for (let j = 0; j < this._width; j++) {\r\n            data[j] = this.get(i, j);\r\n        }\r\n        return data;\r\n    }\r\n    getColumn(j) {\r\n        // if (j < 0 || j > this.width) throw \"column is out of bounds for Array\"\r\n        let data = new Uint16Array(this._height);\r\n        for (let i = 0; i < this._height; i++) {\r\n            let index = i * this._width + j;\r\n            data[i] = this.data[index];\r\n        }\r\n        return data;\r\n    }\r\n    set(i, j, value) {\r\n        if (!this.inRange(i, j)) {\r\n            console.warn(\"out of range!\");\r\n            return;\r\n        }\r\n        this.data[i * this._width + j] = value;\r\n    }\r\n    setRow(rowIndex, row) {\r\n        // if (this.width != row.length) throw \"dimention of floatarray is not \" + row.length;\r\n        for (let j = 0; j < this._width; j++) {\r\n            this.set(rowIndex, j, row[j]);\r\n        }\r\n    }\r\n    takeRows(indices) {\r\n        // create a new array from a couple of rows\r\n        console.log(this._height, this._width);\r\n        const count = indices.length;\r\n        let array = new IntMatrix(count, this._width);\r\n        for (let i = 0; i < count; i++) {\r\n            let getIndex = indices[i];\r\n            array.setRow(i, this.getRow(getIndex));\r\n        }\r\n        return array;\r\n    }\r\n    getData() {\r\n        return this.data;\r\n    }\r\n    forEachValue(callbackfn) {\r\n        for (let i = 0; i < this.data.length; i++) {\r\n            this.data[i] = callbackfn(this.data[i], i);\r\n        }\r\n        return this;\r\n    }\r\n    forEachRow(callbackfn) {\r\n        for (let i = 0; i < this._height; i++) {\r\n            let row = this.getRow(i);\r\n            callbackfn(row, i);\r\n            this.setRow(i, row);\r\n        }\r\n        return this;\r\n    }\r\n    trueForAll(callbackfn) {\r\n        for (let i = 0; i < this.data.length; i++) {\r\n            if (!callbackfn(this.data[i], i)) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9nZW9uLWVuZ2luZS8uL3NyYy9kYXRhL2ludC1tYXRyaXgudHM/MWY0NCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O0FBQUEsb0NBQW9DO0FBQzdCLE1BQU0sU0FBUztJQUtsQixZQUFZLE1BQWMsRUFBRSxLQUFhLEVBQUUsT0FBaUIsRUFBRTtRQUMxRCxJQUFJLENBQUMsT0FBTyxHQUFHLE1BQU0sQ0FBQztRQUN0QixJQUFJLENBQUMsTUFBTSxHQUFHLEtBQUssQ0FBQztRQUNwQixJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksV0FBVyxDQUFDLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBQ3hELElBQUksSUFBSSxJQUFJLEVBQUUsSUFBSSxJQUFJLENBQUMsTUFBTSxJQUFJLENBQUM7WUFBRSxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDOztZQUM1QyxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQzVCLENBQUM7SUFFRCxNQUFNLENBQUMsUUFBUSxDQUFDLElBQWMsRUFBRSxLQUFhO1FBQ3pDLElBQUksTUFBTSxHQUFHLElBQUksQ0FBQyxNQUFNLEdBQUcsS0FBSyxDQUFDO1FBQ2pDLElBQUksS0FBSyxHQUFHLElBQUksU0FBUyxDQUFDLE1BQU0sRUFBRSxLQUFLLENBQUMsQ0FBQztRQUN6QyxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRTtZQUNsQyxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztTQUMzQjtRQUNELE9BQU8sS0FBSyxDQUFDO0lBQ2pCLENBQUM7SUFFRCxLQUFLO1FBQ0QsSUFBSSxLQUFLLEdBQUcsSUFBSSxTQUFTLENBQUMsSUFBSSxDQUFDLE9BQU8sRUFBRSxJQUFJLENBQUMsTUFBTSxD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QUFDLENBQUM7U0FDdkI7UUFDRCxPQUFPLElBQUksQ0FBQztJQUNoQixDQUFDO0lBRUQsVUFBVSxDQUFDLFVBQXFEO1FBQzVELEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRTtZQUN2QyxJQUFJLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUU7Z0JBQzlCLE9BQU8sS0FBSyxDQUFDO2FBQ2hCO1NBQ0o7UUFDRCxPQUFPLElBQUksQ0FBQztJQUNoQixDQUFDO0NBQ0oiLCJmaWxlIjoiLi9zcmMvZGF0YS9pbnQtbWF0cml4LnRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gZ2VuZXJpYyBhbGwtcHVwb3NlIG1hdHJpeCBvZiBpbnRzXG5leHBvcnQgY2xhc3MgSW50TWF0cml4IHtcbiAgICBkYXRhOiBVaW50MTZBcnJheTsgLy8gIGNoYW5nZVxuICAgIF93aWR0aDogbnVtYmVyO1xuICAgIF9oZWlnaHQ6IG51bWJlcjtcblxuICAgIGNvbnN0cnVjdG9yKGhlaWdodDogbnVtYmVyLCB3aWR0aDogbnVtYmVyLCBkYXRhOiBudW1iZXJbXSA9IFtdKSB7XG4gICAgICAgIHRoaXMuX2hlaWdodCA9IGhlaWdodDtcbiAgICAgICAgdGhpcy5fd2lkdGggPSB3aWR0aDtcbiAgICAgICAgdGhpcy5kYXRhID0gbmV3IFVpbnQxNkFycmF5KHRoaXMuX3dpZHRoICogdGhpcy5faGVpZ2h0KTtcbiAgICAgICAgaWYgKGRhdGEgPT0gW10gfHwgZGF0YS5sZW5ndGggPT0gMCkgdGhpcy5maWxsKDApO1xuICAgICAgICBlbHNlIHRoaXMuc2V0RGF0YShkYXRhKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZnJvbUxpc3QobGlzdDogbnVtYmVyW10sIHdpZHRoOiBudW1iZXIpOiBJbnRNYXRyaXgge1xuICAgICAgICBsZXQgaGVpZ2h0ID0gbGlzdC5sZW5ndGggLyB3aWR0aDtcbiAgICAgICAgbGV0IGFycmF5ID0gbmV3IEludE1hdHJpeChoZWlnaHQsIHdpZHRoKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBhcnJheS5kYXRhW2ldID0gbGlzdFtpXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXJyYXk7XG4gICAgfVxuXG4gICAgY2xvbmUoKSB7XG4gICAgICAgIGxldCBjbG9uZSA9IG5ldyBJbnRNYXRyaXgodGhpcy5faGVpZ2h0LCB0aGlzLl93aWR0aCk7XG4gICAgICAgIGNsb25lLmRhdGEgPSB0aGlzLmRhdGE7XG4gICAgICAgIHJldHVybiBjbG9uZTtcbiAgICB9XG5cbiAgICBzZXREYXRhKGRhdGE6IG51bWJlcltdKSB7XG4gICAgICAgIGlmIChkYXRhLmxlbmd0aCAhPSB0aGlzLl9oZWlnaHQgKiB0aGlzLl93aWR0aClcbiAgICAgICAgICAgIHRocm93IFwiZGF0YS5sZW5ndGggZG9lcyBub3QgbWF0Y2ggd2lkdGggKiBoZWlnaHQgXCIgKyBkYXRhLmxlbmd0aC50b1N0cmluZygpO1xuICAgICAgICB0aGlzLmRhdGEuc2V0KGRhdGEpO1xuICAgIH1cblxuICAgIGNvdW50KCkge1xuICAgICAgICAvLyBudW1iZXIgb2YgZW50cmllcyAvIHJvd3MuXG4gICAgICAgIC8vIHdoZW4gZGVycml2ZWQgY2xhc3NlcyBhc2sgZm9yICdob3cgbWFueSBvZiB4PycgdGhleSB1c3VhbGx5IG1lYW4gdGhpcy5cbiAgICAgICAgcmV0dXJuIHRoaXMuX2hlaWdodDtcbiAgICB9XG5cbiAgICBnZXREaW1lbnNpb25zKCk6IFtudW1iZXIsIG51bWJlcl0ge1xuICAgICAgICByZXR1cm4gW3RoaXMuX2hlaWdodCwgdGhpcy5fd2lkdGhdO1xuICAgIH1cblxuICAgIGluUmFuZ2UoaTogbnVtYmVyLCBqOiBudW1iZXIpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuICEoaSA8IDAgfHwgaSA+IHRoaXMuX2hlaWdodCAtIDEgfHwgaiA8IDAgfHwgaiA+IHRoaXMuX3dpZHRoIC0gMSk7XG4gICAgfVxuXG4gICAgZmlsbCh2YWx1ZTogbnVtYmVyKSB7XG4gICAgICAgIGxldCBzaXplID0gdGhpcy5faGVpZ2h0ICogdGhpcy5fd2lkdGg7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2l6ZTsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLmRhdGFbaV0gPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZpbGxXaXRoKGRhdGE6IG51bWJlcltdLCB2YWx1ZXNQZXJFbnRyeTogbnVtYmVyID0gdGhpcy5fd2lkdGgpIHtcbiAgICAgICAgLy8gdmFsdWVzIHBlciBlbnRyeSBjYW4gYmUgdXNlZCB0byBzZXREYXRhIHdoaWNoIGlzIG5vdCBvZiB0aGUgc2FtZSBzaGFwZS5cbiAgICAgICAgbGV0IHZwZSA9IHZhbHVlc1BlckVudHJ5O1xuICAgICAgICBpZiAodnBlID4gdGhpcy5fd2lkdGgpIHRocm93IFwidmFsdWVzIHBlciBlbnRyeSBpcyBsYXJnZXIgdGhhbiB0aGlzLl93aWR0aC4gVGhpcyB3aWxsIHNwaWxsIG92ZXIuXCI7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5faGVpZ2h0OyBpKyspIHtcbiAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgdnBlOyBqKyspIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldChpLCBqLCBkYXRhW2kgKiB2cGUgKyBqXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZXQoaTogbnVtYmVyLCBqOiBudW1iZXIpOiBudW1iZXIge1xuICAgICAgICBpZiAoIXRoaXMuaW5SYW5nZShpLCBqKSkge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKFwib3V0IG9mIHJhbmdlIVwiKTtcbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmRhdGFbaSAqIHRoaXMuX3dpZHRoICsgal07XG4gICAgfVxuXG4gICAgZ2V0Um93KGk6IG51bWJlcik6IFVpbnQxNkFycmF5IHtcbiAgICAgICAgLy8gaWYgKGkgPCAwIHx8IGkgPiB0aGlzLmhlaWdodCkgdGhyb3cgXCJjb2x1bW4gaXMgb3V0IG9mIGJvdW5kcyBmb3IgQXJyYXlcIlxuICAgICAgICBsZXQgZGF0YSA9IG5ldyBVaW50MTZBcnJheSh0aGlzLl93aWR0aCk7XG4gICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgdGhpcy5fd2lkdGg7IGorKykge1xuICAgICAgICAgICAgZGF0YVtqXSA9IHRoaXMuZ2V0KGksIGopO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkYXRhO1xuICAgIH1cblxuICAgIGdldENvbHVtbihqOiBudW1iZXIpOiBVaW50MTZBcnJheSB7XG4gICAgICAgIC8vIGlmIChqIDwgMCB8fCBqID4gdGhpcy53aWR0aCkgdGhyb3cgXCJjb2x1bW4gaXMgb3V0IG9mIGJvdW5kcyBmb3IgQXJyYXlcIlxuICAgICAgICBsZXQgZGF0YSA9IG5ldyBVaW50MTZBcnJheSh0aGlzLl9oZWlnaHQpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuX2hlaWdodDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgaW5kZXggPSBpICogdGhpcy5fd2lkdGggKyBqO1xuICAgICAgICAgICAgZGF0YVtpXSA9IHRoaXMuZGF0YVtpbmRleF07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfVxuXG4gICAgc2V0KGk6IG51bWJlciwgajogbnVtYmVyLCB2YWx1ZTogbnVtYmVyKSB7XG4gICAgICAgIGlmICghdGhpcy5pblJhbmdlKGksIGopKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oXCJvdXQgb2YgcmFuZ2UhXCIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZGF0YVtpICogdGhpcy5fd2lkdGggKyBqXSA9IHZhbHVlO1xuICAgIH1cblxuICAgIHNldFJvdyhyb3dJbmRleDogbnVtYmVyLCByb3c6IG51bWJlcltdIHwgVWludDE2QXJyYXkpIHtcbiAgICAgICAgLy8gaWYgKHRoaXMud2lkdGggIT0gcm93Lmxlbmd0aCkgdGhyb3cgXCJkaW1lbnRpb24gb2YgZmxvYXRhcnJheSBpcyBub3QgXCIgKyByb3cubGVuZ3RoO1xuICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHRoaXMuX3dpZHRoOyBqKyspIHtcbiAgICAgICAgICAgIHRoaXMuc2V0KHJvd0luZGV4LCBqLCByb3dbal0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdGFrZVJvd3MoaW5kaWNlczogbnVtYmVyW10pOiBJbnRNYXRyaXgge1xuICAgICAgICAvLyBjcmVhdGUgYSBuZXcgYXJyYXkgZnJvbSBhIGNvdXBsZSBvZiByb3dzXG4gICAgICAgIGNvbnNvbGUubG9nKHRoaXMuX2hlaWdodCwgdGhpcy5fd2lkdGgpO1xuICAgICAgICBjb25zdCBjb3VudCA9IGluZGljZXMubGVuZ3RoO1xuICAgICAgICBsZXQgYXJyYXkgPSBuZXcgSW50TWF0cml4KGNvdW50LCB0aGlzLl93aWR0aCk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY291bnQ7IGkrKykge1xuICAgICAgICAgICAgbGV0IGdldEluZGV4ID0gaW5kaWNlc1tpXTtcbiAgICAgICAgICAgIGFycmF5LnNldFJvdyhpLCB0aGlzLmdldFJvdyhnZXRJbmRleCkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhcnJheTtcbiAgICB9XG5cbiAgICBnZXREYXRhKCk6IFVpbnQxNkFycmF5IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YTtcbiAgICB9XG5cbiAgICBmb3JFYWNoVmFsdWUoY2FsbGJhY2tmbjogKHZhbHVlOiBudW1iZXIsIGluZGV4OiBudW1iZXIpID0+IG51bWJlcik6IEludE1hdHJpeCB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5kYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLmRhdGFbaV0gPSBjYWxsYmFja2ZuKHRoaXMuZGF0YVtpXSwgaSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgZm9yRWFjaFJvdyhjYWxsYmFja2ZuOiAodmFsdWU6IFVpbnQxNkFycmF5LCBpbmRleDogbnVtYmVyKSA9PiB2b2lkKTogSW50TWF0cml4IHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl9oZWlnaHQ7IGkrKykge1xuICAgICAgICAgICAgbGV0IHJvdyA9IHRoaXMuZ2V0Um93KGkpO1xuICAgICAgICAgICAgY2FsbGJhY2tmbihyb3csIGkpO1xuICAgICAgICAgICAgdGhpcy5zZXRSb3coaSwgcm93KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICB0cnVlRm9yQWxsKGNhbGxiYWNrZm46ICh2YWx1ZTogbnVtYmVyLCBpbmRleDogbnVtYmVyKSA9PiBib29sZWFuKTogYm9vbGVhbiB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5kYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoIWNhbGxiYWNrZm4odGhpcy5kYXRhW2ldLCBpKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG59XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/data/int-matrix.ts\n");

/***/ }),

/***/ "./src/data/linked-list.ts":
/*!*********************************!*\
  !*** ./src/data/linked-list.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"LinkedList\": () => /* binding */ LinkedList\n/* harmony export */ });\n//\r\n// note: taken from\r\n// https://medium.com/everything-javascript/implementing-a-hash-table-in-javascript-29aca1edfe2b\r\n// NOTE: Not used anymore, but i still find it interesting, so leave it here\r\nclass LinkedList {\r\n    constructor() {\r\n        this.head = null;\r\n    }\r\n    empty() {\r\n        if (this.head)\r\n            return false;\r\n        return true;\r\n    }\r\n    last() {\r\n        var cursor = this.head;\r\n        while (cursor.getNext()) {\r\n            cursor = cursor.getNext();\r\n        }\r\n        return cursor;\r\n    }\r\n    find(key) {\r\n        var cursor = this.head;\r\n        while (cursor) {\r\n            if (cursor.getKey() == key)\r\n                return cursor.value();\r\n            cursor = cursor.getNext();\r\n        }\r\n        return false;\r\n    }\r\n    insert(value, key) {\r\n        var node = new ListNode(value, key);\r\n        if (!this.head)\r\n            this.head = node;\r\n        else\r\n            this.last().next(node);\r\n    }\r\n    print() {\r\n        var cursor = this.head;\r\n        while (cursor) {\r\n            console.log(cursor.value() + \" \");\r\n            cursor = cursor.getNext();\r\n        }\r\n    }\r\n}\r\n//node\r\nclass ListNode {\r\n    constructor(value, key) {\r\n        this.nextNode = null;\r\n        this.key = key;\r\n        this.val = value;\r\n    }\r\n    getNext() {\r\n        return this.nextNode;\r\n    }\r\n    next(node) {\r\n        this.nextNode = node;\r\n    }\r\n    getKey() {\r\n        return this.key;\r\n    }\r\n    value() {\r\n        return this.val;\r\n    }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9nZW9uLWVuZ2luZS8uL3NyYy9kYXRhL2xpbmtlZC1saXN0LnRzPzY3MjAiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7OztBQUFBLEVBQUU7QUFDRixtQkFBbUI7QUFDbkIsZ0dBQWdHO0FBQ2hHLDRFQUE0RTtBQUVyRSxNQUFNLFVBQVU7SUFBdkI7UUFDWSxTQUFJLEdBQVEsSUFBSSxDQUFDO0lBcUM3QixDQUFDO0lBbkNHLEtBQUs7UUFDRCxJQUFJLElBQUksQ0FBQyxJQUFJO1lBQUUsT0FBTyxLQUFLLENBQUM7UUFDNUIsT0FBTyxJQUFJLENBQUM7SUFDaEIsQ0FBQztJQUVELElBQUk7UUFDQSxJQUFJLE1BQU0sR0FBYSxJQUFJLENBQUMsSUFBSSxDQUFDO1FBQ2pDLE9BQU8sTUFBTSxDQUFDLE9BQU8sRUFBRSxFQUFFO1lBQ3JCLE1BQU0sR0FBRyxNQUFNLENBQUMsT0FBTyxFQUFFLENBQUM7U0FDN0I7UUFDRCxPQUFPLE1BQU0sQ0FBQztJQUNsQixDQUFDO0lBRUQsSUFBSSxDQUFDLEdBQVc7UUFDWixJQUFJLE1BQU0sR0FBYSxJQUFJLENBQUMsSUFBSSxDQUFDO1FBQ2pDLE9BQU8sTUFBTSxFQUFFO1lBQ1gsSUFBSSxNQUFNLENBQUMsTUFBTSxFQUFFLElBQUksR0FBRztnQkFBRSxPQUFPLE1BQU0sQ0FBQyxLQUFLLEVBQUUsQ0FBQztZQUNsRCxNQUFNLEdBQUcsTUFBTSxDQUFDLE9BQU8sRUFBRSxDQUFDO1NBQzdCO1FBQ0QsT0FBTyxLQUFLLENBQUM7SUFDakIsQ0FBQztJQUVELE1BQU0sQ0FBQyxLQUFVLEVBQUUsR0FBVztRQUMxQixJQUFJLElBQUksR0FBYSxJQUFJLFFBQVEsQ0FBQyxLQUFLLEVBQUUsR0FBRyxDQUFDLENBQUM7UUFDOUMsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJO1lBQUUsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUM7O1lBQzVCLElBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDaEMsQ0FBQztJQUVELEtBQUs7UUFDRCxJQUFJLE1BQU0sR0FBYSxJQUFJLENBQUMsSUFBSSxDQUFDO1FBQ2pDLE9BQU8sTUFBTSxFQUFFO1lBQ1gsT0FBTyxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsS0FBSyxFQUFFLEdBQUcsR0FBRyxDQUFDLENBQUM7WUFDbEMsTUFBTSxHQUFHLE1BQU0sQ0FBQyxPQUFPLEVBQUUsQ0FBQztTQUM3QjtJQUNMLENBQUM7Q0FDSjtBQUVELE1BQU07QUFDTixNQUFNLFFBQVE7SUFLVixZQUFZLEtBQVUsRUFBRSxHQUFXO1FBQy9CLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDO1FBQ3JCLElBQUksQ0FBQyxHQUFHLEdBQUcsR0FBRyxDQUFDO1FBQ2YsSUFBSSxDQUFDLEdBQUcsR0FBRyxLQUFLLENBQUM7SUFDckIsQ0FBQztJQUVELE9BQU87UUFDSCxPQUFPLElBQUksQ0FBQyxRQUFRLENBQUM7SUFDekIsQ0FBQztJQUVELElBQUksQ0FBQyxJQUFjO1FBQ2YsSUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUM7SUFDekIsQ0FBQztJQUVELE1BQU07UUFDRixPQUFPLElBQUksQ0FBQyxHQUFHLENBQUM7SUFDcEIsQ0FBQztJQUVELEtBQUs7UUFDRCxPQUFPLElBQUksQ0FBQyxHQUFHLENBQUM7SUFDcEIsQ0FBQztDQUNKIiwiZmlsZSI6Ii4vc3JjL2RhdGEvbGlua2VkLWxpc3QudHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvL1xuLy8gbm90ZTogdGFrZW4gZnJvbVxuLy8gaHR0cHM6Ly9tZWRpdW0uY29tL2V2ZXJ5dGhpbmctamF2YXNjcmlwdC9pbXBsZW1lbnRpbmctYS1oYXNoLXRhYmxlLWluLWphdmFzY3JpcHQtMjlhY2ExZWRmZTJiXG4vLyBOT1RFOiBOb3QgdXNlZCBhbnltb3JlLCBidXQgaSBzdGlsbCBmaW5kIGl0IGludGVyZXN0aW5nLCBzbyBsZWF2ZSBpdCBoZXJlXG5cbmV4cG9ydCBjbGFzcyBMaW5rZWRMaXN0IHtcbiAgICBwcml2YXRlIGhlYWQ6IGFueSA9IG51bGw7XG5cbiAgICBlbXB0eSgpOiBib29sZWFuIHtcbiAgICAgICAgaWYgKHRoaXMuaGVhZCkgcmV0dXJuIGZhbHNlO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBsYXN0KCk6IExpc3ROb2RlIHtcbiAgICAgICAgdmFyIGN1cnNvcjogTGlzdE5vZGUgPSB0aGlzLmhlYWQ7XG4gICAgICAgIHdoaWxlIChjdXJzb3IuZ2V0TmV4dCgpKSB7XG4gICAgICAgICAgICBjdXJzb3IgPSBjdXJzb3IuZ2V0TmV4dCgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjdXJzb3I7XG4gICAgfVxuXG4gICAgZmluZChrZXk6IHN0cmluZyk6IGFueSB7XG4gICAgICAgIHZhciBjdXJzb3I6IExpc3ROb2RlID0gdGhpcy5oZWFkO1xuICAgICAgICB3aGlsZSAoY3Vyc29yKSB7XG4gICAgICAgICAgICBpZiAoY3Vyc29yLmdldEtleSgpID09IGtleSkgcmV0dXJuIGN1cnNvci52YWx1ZSgpO1xuICAgICAgICAgICAgY3Vyc29yID0gY3Vyc29yLmdldE5leHQoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgaW5zZXJ0KHZhbHVlOiBhbnksIGtleTogc3RyaW5nKTogdm9pZCB7XG4gICAgICAgIHZhciBub2RlOiBMaXN0Tm9kZSA9IG5ldyBMaXN0Tm9kZSh2YWx1ZSwga2V5KTtcbiAgICAgICAgaWYgKCF0aGlzLmhlYWQpIHRoaXMuaGVhZCA9IG5vZGU7XG4gICAgICAgIGVsc2UgdGhpcy5sYXN0KCkubmV4dChub2RlKTtcbiAgICB9XG5cbiAgICBwcmludCgpOiB2b2lkIHtcbiAgICAgICAgdmFyIGN1cnNvcjogTGlzdE5vZGUgPSB0aGlzLmhlYWQ7XG4gICAgICAgIHdoaWxlIChjdXJzb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGN1cnNvci52YWx1ZSgpICsgXCIgXCIpO1xuICAgICAgICAgICAgY3Vyc29yID0gY3Vyc29yLmdldE5leHQoKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuLy9ub2RlXG5jbGFzcyBMaXN0Tm9kZSB7XG4gICAgcHJpdmF0ZSB2YWw6IGFueTtcbiAgICBwcml2YXRlIGtleTogc3RyaW5nO1xuICAgIHByaXZhdGUgbmV4dE5vZGU6IGFueTtcblxuICAgIGNvbnN0cnVjdG9yKHZhbHVlOiBhbnksIGtleTogc3RyaW5nKSB7XG4gICAgICAgIHRoaXMubmV4dE5vZGUgPSBudWxsO1xuICAgICAgICB0aGlzLmtleSA9IGtleTtcbiAgICAgICAgdGhpcy52YWwgPSB2YWx1ZTtcbiAgICB9XG5cbiAgICBnZXROZXh0KCk6IExpc3ROb2RlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubmV4dE5vZGU7XG4gICAgfVxuXG4gICAgbmV4dChub2RlOiBMaXN0Tm9kZSkge1xuICAgICAgICB0aGlzLm5leHROb2RlID0gbm9kZTtcbiAgICB9XG5cbiAgICBnZXRLZXkoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHRoaXMua2V5O1xuICAgIH1cblxuICAgIHZhbHVlKCk6IGFueSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZhbDtcbiAgICB9XG59XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/data/linked-list.ts\n");

/***/ }),

/***/ "./src/data/vector-array.ts":
/*!**********************************!*\
  !*** ./src/data/vector-array.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Vector2Array\": () => /* binding */ Vector2Array,\n/* harmony export */   \"Vector3Array\": () => /* binding */ Vector3Array,\n/* harmony export */   \"getGeneralFloatMatrix\": () => /* binding */ getGeneralFloatMatrix\n/* harmony export */ });\n/* harmony import */ var _math_vector__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../math/vector */ \"./src/math/vector.ts\");\n/* harmony import */ var _float_matrix__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./float-matrix */ \"./src/data/float-matrix.ts\");\n// name:    array.ts\r\n// author:  Jos Feenstra\r\n// purpose: Small wrapper around Float32Array / FloatMatrix to add interoperability with Vector2 & Vector3,\r\n//          while remaining a datastructure thats easy to pass over to webgl\r\n//\r\n// NOTE:    all these small wrappers might not be good pratice, but I\r\n//          like to extract simple logic like this to not clutter the code too much\r\n\r\n\r\nclass Vector2Array extends _float_matrix__WEBPACK_IMPORTED_MODULE_1__.FloatMatrix {\r\n    constructor(count) {\r\n        super(count, 2);\r\n    }\r\n    static fromList(vecs) {\r\n        let length = vecs.length;\r\n        let array = new Vector2Array(length);\r\n        for (let i = 0; i < vecs.length; i++) {\r\n            array.data[i * 2] = vecs[i].x;\r\n            array.data[i * 2 + 1] = vecs[i].y;\r\n        }\r\n        return array;\r\n    }\r\n    forEach(callbackfn) {\r\n        for (let i = 0; i < this.count(); i++) {\r\n            let vec = this.getVector(i);\r\n            callbackfn(vec, i);\r\n            this.setVector(i, vec);\r\n        }\r\n        return this;\r\n    }\r\n    map(callbackfn) {\r\n        let clone = this.clone();\r\n        for (let i = 0; i < this.count(); i++) {\r\n            let vec = this.getVector(i);\r\n            let result = callbackfn(vec, i);\r\n            if (result instanceof _math_vector__WEBPACK_IMPORTED_MODULE_0__.Vector2) {\r\n                clone.setVector(i, result);\r\n            }\r\n            else {\r\n                clone.setVector(i, vec);\r\n            }\r\n        }\r\n        return clone;\r\n    }\r\n    setVector(i, vec) {\r\n        this.data[i * this._width + 0] = vec.x;\r\n        this.data[i * this._width + 1] = vec.y;\r\n    }\r\n    getVector(i) {\r\n        return new _math_vector__WEBPACK_IMPORTED_MODULE_0__.Vector2(this.data[i * this._width + 0], this.data[i * this._width + 1]);\r\n    }\r\n    toList() {\r\n        let vecs = [];\r\n        for (let i = 0; i < this._height; i++) {\r\n            vecs.push(this.getVector(i));\r\n        }\r\n        return vecs;\r\n    }\r\n    to3D() {\r\n        let array = new Vector3Array(this.count());\r\n        for (let i = 0; i < this.count(); i++) {\r\n            let row = this.getRow(i);\r\n            array.setRow(i, [row[0], row[1], 0]);\r\n        }\r\n        return array;\r\n    }\r\n    clone() {\r\n        let clone = new Vector2Array(this._height);\r\n        for (let i = 0; i < this.data.length; i++) {\r\n            clone.data[i] = this.data[i];\r\n        }\r\n        return clone;\r\n    }\r\n}\r\nclass Vector3Array extends _float_matrix__WEBPACK_IMPORTED_MODULE_1__.FloatMatrix {\r\n    constructor(count) {\r\n        super(count, 3);\r\n    }\r\n    static fromList(vecs) {\r\n        let length = vecs.length;\r\n        let array = new Vector3Array(length);\r\n        for (let i = 0; i < vecs.length; i++) {\r\n            array.data[i * 3] = vecs[i].x;\r\n            array.data[i * 3 + 1] = vecs[i].y;\r\n            array.data[i * 3 + 2] = vecs[i].z;\r\n        }\r\n        return array;\r\n    }\r\n    static fromNative(native) {\r\n        // assume all subarrays have the same shape!!\r\n        let height = native.length;\r\n        let matrix = new Vector3Array(height);\r\n        for (var i = 0; i < native.length; i++) {\r\n            for (var j = 0; j < native[0].length; j++) {\r\n                matrix.set(i, j, native[i][j]);\r\n            }\r\n        }\r\n        return matrix;\r\n    }\r\n    fillFromList(vecs) {\r\n        for (let i = 0; i < vecs.length; i++) {\r\n            this.data[i * 3] = vecs[i].x;\r\n            this.data[i * 3 + 1] = vecs[i].y;\r\n            this.data[i * 3 + 2] = vecs[i].z;\r\n        }\r\n    }\r\n    forEach(callbackfn) {\r\n        for (let i = 0; i < this.count(); i++) {\r\n            let vec = this.getVector(i);\r\n            vec = callbackfn(vec, i);\r\n            if (vec instanceof _math_vector__WEBPACK_IMPORTED_MODULE_0__.Vector3) {\r\n                this.setVector(i, vec);\r\n            }\r\n        }\r\n        return this;\r\n    }\r\n    take(indices) {\r\n        // create a new floatarray\r\n        const count = indices.length;\r\n        let array = new Vector3Array(count);\r\n        for (let i = 0; i < count; i++) {\r\n            let getIndex = indices[i];\r\n            array.setVector(i, this.getVector(getIndex));\r\n        }\r\n        return array;\r\n    }\r\n    map(callbackfn) {\r\n        let clone = this.clone();\r\n        for (let i = 0; i < this.count(); i++) {\r\n            let vec = this.getVector(i);\r\n            let result = callbackfn(vec, i);\r\n            if (result instanceof _math_vector__WEBPACK_IMPORTED_MODULE_0__.Vector3) {\r\n                clone.setVector(i, result);\r\n            }\r\n            else {\r\n                clone.setVector(i, vec);\r\n            }\r\n        }\r\n        return clone;\r\n    }\r\n    setVector(i, vec) {\r\n        this.data[i * this._width + 0] = vec.x;\r\n        this.data[i * this._width + 1] = vec.y;\r\n        this.data[i * this._width + 2] = vec.z;\r\n    }\r\n    getVector(i) {\r\n        return new _math_vector__WEBPACK_IMPORTED_MODULE_0__.Vector3(this.data[i * this._width + 0], this.data[i * this._width + 1], this.data[i * this._width + 2]);\r\n    }\r\n    toList() {\r\n        let vecs = [];\r\n        for (let i = 0; i < this._height; i++) {\r\n            vecs.push(this.getVector(i));\r\n        }\r\n        return vecs;\r\n    }\r\n    transform(m) {\r\n        for (let i = 0; i < this._height; i++) {\r\n            let vec = this.getVector(i);\r\n            vec = m.multiplyVector(vec);\r\n            this.setVector(i, vec);\r\n        }\r\n        // this.data = m.MultiplyM(this).data;\r\n        return this;\r\n    }\r\n    to2D() {\r\n        let clone = new Vector2Array(this._height);\r\n        for (let i = 0; i < this._height; i++) {\r\n            for (let j = 0; j < 2; j++) {\r\n                clone.set(i, j, this.get(i, j));\r\n            }\r\n        }\r\n        return clone;\r\n    }\r\n    clone() {\r\n        let clone = new Vector3Array(this._height);\r\n        for (let i = 0; i < this.data.length; i++) {\r\n            clone.data[i] = this.data[i];\r\n        }\r\n        return clone;\r\n    }\r\n    mean() {\r\n        // the mean vector of a series of vectors\r\n        let sum = _math_vector__WEBPACK_IMPORTED_MODULE_0__.Vector3.zero();\r\n        let count = this.count();\r\n        for (let i = 0; i < count; i++) {\r\n            sum.x += this.data[i * 3];\r\n            sum.y += this.data[i * 3 + 1];\r\n            sum.z += this.data[i * 3 + 2];\r\n        }\r\n        return sum.scale(1 / count);\r\n    }\r\n    average() {\r\n        return this.mean();\r\n    }\r\n    closestId(point) {\r\n        let lowScore = Infinity;\r\n        let id = -1;\r\n        this.forEach((v, i) => {\r\n            let disSquared = point.disToSquared(v);\r\n            if (disSquared < lowScore) {\r\n                lowScore = disSquared;\r\n                id = i;\r\n            }\r\n        });\r\n        return id;\r\n    }\r\n    closestIds(point, n) {\r\n        // O(m*n)... TODO implement quicksort\r\n        let ids = [];\r\n        for (let i = 0; i < n; i++) {\r\n            let lowScore = Infinity;\r\n            let id = -1;\r\n            this.forEach((v, i) => {\r\n                if (ids.includes(id))\r\n                    return;\r\n                let disSquared = point.disToSquared(v);\r\n                if (disSquared < lowScore) {\r\n                    lowScore = disSquared;\r\n                    id = i;\r\n                }\r\n            });\r\n            ids.push(id);\r\n        }\r\n        return ids;\r\n    }\r\n}\r\n// TODO : to FloatMatrix\r\nfunction getGeneralFloatMatrix(vectors) {\r\n    if (vectors instanceof Vector2Array) {\r\n        return vectors;\r\n    }\r\n    else if (vectors instanceof Vector3Array) {\r\n        return vectors;\r\n    }\r\n    else if (vectors[0] instanceof _math_vector__WEBPACK_IMPORTED_MODULE_0__.Vector2) {\r\n        return Vector2Array.fromList(vectors);\r\n    }\r\n    else {\r\n        return Vector3Array.fromList(vectors);\r\n    }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9nZW9uLWVuZ2luZS8uL3NyYy9kYXRhL3ZlY3Rvci1hcnJheS50cz9lYjFjIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUEsb0JBQW9CO0FBQ3BCLHdCQUF3QjtBQUN4QiwyR0FBMkc7QUFDM0csNEVBQTRFO0FBQzVFLEVBQUU7QUFDRixxRUFBcUU7QUFDckUsbUZBQW1GO0FBR2pDO0FBQ0w7QUFFdEMsTUFBTSxZQUFhLFNBQVEsc0RBQVc7SUFDekMsWUFBWSxLQUFhO1FBQ3JCLEtBQUssQ0FBQyxLQUFLLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDcEIsQ0FBQztJQUVELE1BQU0sQ0FBQyxRQUFRLENBQUMsSUFBZTtRQUMzQixJQUFJLE1BQU0sR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDO1FBQ3pCLElBQUksS0FBSyxHQUFHLElBQUksWUFBWSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQ3JDLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxJQUFJLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFO1lBQ2xDLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDOUIsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7U0FDckM7UUFDRCxPQUFPLEtBQUssQ0FBQztJQUNqQixDQUFDO0lBRUQsT0FBTyxDQUFDLFVBQW1EO1FBQ3ZELEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxJQUFJLENBQUMsS0FBSyxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUU7WUFDbkMsSUFBSSxHQUFHLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUM1QixVQUFV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LEVBQUUsQ0FBQyxFQUFFLEVBQUU7WUFDeEIsSUFBSSxRQUFRLEdBQUcsUUFBUSxDQUFDO1lBQ3hCLElBQUksRUFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDO1lBQ1osSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRTtnQkFDbEIsSUFBSSxHQUFHLENBQUMsUUFBUSxDQUFDLEVBQUUsQ0FBQztvQkFBRSxPQUFPO2dCQUM3QixJQUFJLFVBQVUsR0FBRyxLQUFLLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUN2QyxJQUFJLFVBQVUsR0FBRyxRQUFRLEVBQUU7b0JBQ3ZCLFFBQVEsR0FBRyxVQUFVLENBQUM7b0JBQ3RCLEVBQUUsR0FBRyxDQUFDLENBQUM7aUJBQ1Y7WUFDTCxDQUFDLENBQUMsQ0FBQztZQUNILEdBQUcsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUM7U0FDaEI7UUFDRCxPQUFPLEdBQUcsQ0FBQztJQUNmLENBQUM7Q0FDSjtBQUVELHdCQUF3QjtBQUNqQixTQUFTLHFCQUFxQixDQUFDLE9BQTREO0lBQzlGLElBQUksT0FBTyxZQUFZLFlBQVksRUFBRTtRQUNqQyxPQUFPLE9BQU8sQ0FBQztLQUNsQjtTQUFNLElBQUksT0FBTyxZQUFZLFlBQVksRUFBRTtRQUN4QyxPQUFPLE9BQU8sQ0FBQztLQUNsQjtTQUFNLElBQUksT0FBTyxDQUFDLENBQUMsQ0FBQyxZQUFZLGlEQUFPLEVBQUU7UUFDdEMsT0FBTyxZQUFZLENBQUMsUUFBUSxDQUFDLE9BQW9CLENBQUMsQ0FBQztLQUN0RDtTQUFNO1FBQ0gsT0FBTyxZQUFZLENBQUMsUUFBUSxDQUFDLE9BQW9CLENBQUMsQ0FBQztLQUN0RDtBQUNMLENBQUMiLCJmaWxlIjoiLi9zcmMvZGF0YS92ZWN0b3ItYXJyYXkudHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBuYW1lOiAgICBhcnJheS50c1xuLy8gYXV0aG9yOiAgSm9zIEZlZW5zdHJhXG4vLyBwdXJwb3NlOiBTbWFsbCB3cmFwcGVyIGFyb3VuZCBGbG9hdDMyQXJyYXkgLyBGbG9hdE1hdHJpeCB0byBhZGQgaW50ZXJvcGVyYWJpbGl0eSB3aXRoIFZlY3RvcjIgJiBWZWN0b3IzLFxuLy8gICAgICAgICAgd2hpbGUgcmVtYWluaW5nIGEgZGF0YXN0cnVjdHVyZSB0aGF0cyBlYXN5IHRvIHBhc3Mgb3ZlciB0byB3ZWJnbFxuLy9cbi8vIE5PVEU6ICAgIGFsbCB0aGVzZSBzbWFsbCB3cmFwcGVycyBtaWdodCBub3QgYmUgZ29vZCBwcmF0aWNlLCBidXQgSVxuLy8gICAgICAgICAgbGlrZSB0byBleHRyYWN0IHNpbXBsZSBsb2dpYyBsaWtlIHRoaXMgdG8gbm90IGNsdXR0ZXIgdGhlIGNvZGUgdG9vIG11Y2hcblxuaW1wb3J0IHsgTWF0cml4NCB9IGZyb20gXCIuLi9tYXRoL21hdHJpeFwiO1xuaW1wb3J0IHsgVmVjdG9yMywgVmVjdG9yMiB9IGZyb20gXCIuLi9tYXRoL3ZlY3RvclwiO1xuaW1wb3J0IHsgRmxvYXRNYXRyaXggfSBmcm9tIFwiLi9mbG9hdC1tYXRyaXhcIjtcblxuZXhwb3J0IGNsYXNzIFZlY3RvcjJBcnJheSBleHRlbmRzIEZsb2F0TWF0cml4IHtcbiAgICBjb25zdHJ1Y3Rvcihjb3VudDogbnVtYmVyKSB7XG4gICAgICAgIHN1cGVyKGNvdW50LCAyKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZnJvbUxpc3QodmVjczogVmVjdG9yMltdKTogVmVjdG9yMkFycmF5IHtcbiAgICAgICAgbGV0IGxlbmd0aCA9IHZlY3MubGVuZ3RoO1xuICAgICAgICBsZXQgYXJyYXkgPSBuZXcgVmVjdG9yMkFycmF5KGxlbmd0aCk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdmVjcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgYXJyYXkuZGF0YVtpICogMl0gPSB2ZWNzW2ldLng7XG4gICAgICAgICAgICBhcnJheS5kYXRhW2kgKiAyICsgMV0gPSB2ZWNzW2ldLnk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFycmF5O1xuICAgIH1cblxuICAgIGZvckVhY2goY2FsbGJhY2tmbjogKHZhbHVlOiBWZWN0b3IyLCBpbmRleDogbnVtYmVyKSA9PiB2b2lkKTogVmVjdG9yMkFycmF5IHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmNvdW50KCk7IGkrKykge1xuICAgICAgICAgICAgbGV0IHZlYyA9IHRoaXMuZ2V0VmVjdG9yKGkpO1xuICAgICAgICAgICAgY2FsbGJhY2tmbih2ZWMsIGkpO1xuICAgICAgICAgICAgdGhpcy5zZXRWZWN0b3IoaSwgdmVjKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBtYXAoY2FsbGJhY2tmbjogKHZhbHVlOiBWZWN0b3IyLCBpbmRleDogbnVtYmVyKSA9PiBhbnkpOiBWZWN0b3IyQXJyYXkge1xuICAgICAgICBsZXQgY2xvbmUgPSB0aGlzLmNsb25lKCk7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmNvdW50KCk7IGkrKykge1xuICAgICAgICAgICAgbGV0IHZlYyA9IHRoaXMuZ2V0VmVjdG9yKGkpO1xuICAgICAgICAgICAgbGV0IHJlc3VsdCA9IGNhbGxiYWNrZm4odmVjLCBpKSE7XG4gICAgICAgICAgICBpZiAocmVzdWx0IGluc3RhbmNlb2YgVmVjdG9yMikge1xuICAgICAgICAgICAgICAgIGNsb25lLnNldFZlY3RvcihpLCByZXN1bHQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjbG9uZS5zZXRWZWN0b3IoaSwgdmVjKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY2xvbmU7XG4gICAgfVxuXG4gICAgc2V0VmVjdG9yKGk6IG51bWJlciwgdmVjOiBWZWN0b3IyKSB7XG4gICAgICAgIHRoaXMuZGF0YVtpICogdGhpcy5fd2lkdGggKyAwXSA9IHZlYy54O1xuICAgICAgICB0aGlzLmRhdGFbaSAqIHRoaXMuX3dpZHRoICsgMV0gPSB2ZWMueTtcbiAgICB9XG5cbiAgICBnZXRWZWN0b3IoaTogbnVtYmVyKTogVmVjdG9yMiB7XG4gICAgICAgIHJldHVybiBuZXcgVmVjdG9yMih0aGlzLmRhdGFbaSAqIHRoaXMuX3dpZHRoICsgMF0sIHRoaXMuZGF0YVtpICogdGhpcy5fd2lkdGggKyAxXSk7XG4gICAgfVxuXG4gICAgdG9MaXN0KCk6IFZlY3RvcjJbXSB7XG4gICAgICAgIGxldCB2ZWNzOiBWZWN0b3IyW10gPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl9oZWlnaHQ7IGkrKykge1xuICAgICAgICAgICAgdmVjcy5wdXNoKHRoaXMuZ2V0VmVjdG9yKGkpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmVjcztcbiAgICB9XG5cbiAgICB0bzNEKCk6IFZlY3RvcjNBcnJheSB7XG4gICAgICAgIGxldCBhcnJheSA9IG5ldyBWZWN0b3IzQXJyYXkodGhpcy5jb3VudCgpKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmNvdW50KCk7IGkrKykge1xuICAgICAgICAgICAgbGV0IHJvdyA9IHRoaXMuZ2V0Um93KGkpO1xuICAgICAgICAgICAgYXJyYXkuc2V0Um93KGksIFtyb3dbMF0sIHJvd1sxXSwgMF0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhcnJheTtcbiAgICB9XG5cbiAgICBjbG9uZSgpOiBWZWN0b3IyQXJyYXkge1xuICAgICAgICBsZXQgY2xvbmUgPSBuZXcgVmVjdG9yMkFycmF5KHRoaXMuX2hlaWdodCk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5kYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjbG9uZS5kYXRhW2ldID0gdGhpcy5kYXRhW2ldO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjbG9uZTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBWZWN0b3IzQXJyYXkgZXh0ZW5kcyBGbG9hdE1hdHJpeCB7XG4gICAgY29uc3RydWN0b3IoY291bnQ6IG51bWJlcikge1xuICAgICAgICBzdXBlcihjb3VudCwgMyk7XG4gICAgfVxuXG4gICAgc3RhdGljIGZyb21MaXN0KHZlY3M6IFZlY3RvcjNbXSk6IFZlY3RvcjNBcnJheSB7XG4gICAgICAgIGxldCBsZW5ndGggPSB2ZWNzLmxlbmd0aDtcbiAgICAgICAgbGV0IGFycmF5ID0gbmV3IFZlY3RvcjNBcnJheShsZW5ndGgpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZlY3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGFycmF5LmRhdGFbaSAqIDNdID0gdmVjc1tpXS54O1xuICAgICAgICAgICAgYXJyYXkuZGF0YVtpICogMyArIDFdID0gdmVjc1tpXS55O1xuICAgICAgICAgICAgYXJyYXkuZGF0YVtpICogMyArIDJdID0gdmVjc1tpXS56O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhcnJheTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZnJvbU5hdGl2ZShuYXRpdmU6IG51bWJlcltdW10pOiBWZWN0b3IzQXJyYXkge1xuICAgICAgICAvLyBhc3N1bWUgYWxsIHN1YmFycmF5cyBoYXZlIHRoZSBzYW1lIHNoYXBlISFcbiAgICAgICAgbGV0IGhlaWdodCA9IG5hdGl2ZS5sZW5ndGg7XG4gICAgICAgIGxldCBtYXRyaXggPSBuZXcgVmVjdG9yM0FycmF5KGhlaWdodCk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbmF0aXZlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IG5hdGl2ZVswXS5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgIG1hdHJpeC5zZXQoaSwgaiwgbmF0aXZlW2ldW2pdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWF0cml4O1xuICAgIH1cblxuICAgIGZpbGxGcm9tTGlzdCh2ZWNzOiBWZWN0b3IzW10pIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB2ZWNzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLmRhdGFbaSAqIDNdID0gdmVjc1tpXS54O1xuICAgICAgICAgICAgdGhpcy5kYXRhW2kgKiAzICsgMV0gPSB2ZWNzW2ldLnk7XG4gICAgICAgICAgICB0aGlzLmRhdGFbaSAqIDMgKyAyXSA9IHZlY3NbaV0uejtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZvckVhY2goY2FsbGJhY2tmbjogKHZhbHVlOiBWZWN0b3IzLCBpbmRleDogbnVtYmVyKSA9PiBhbnkpOiBWZWN0b3IzQXJyYXkge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuY291bnQoKTsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgdmVjID0gdGhpcy5nZXRWZWN0b3IoaSk7XG4gICAgICAgICAgICB2ZWMgPSBjYWxsYmFja2ZuKHZlYywgaSkhO1xuICAgICAgICAgICAgaWYgKHZlYyBpbnN0YW5jZW9mIFZlY3RvcjMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldFZlY3RvcihpLCB2ZWMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIHRha2UoaW5kaWNlczogbnVtYmVyW10pOiBWZWN0b3IzQXJyYXkge1xuICAgICAgICAvLyBjcmVhdGUgYSBuZXcgZmxvYXRhcnJheVxuICAgICAgICBjb25zdCBjb3VudCA9IGluZGljZXMubGVuZ3RoO1xuICAgICAgICBsZXQgYXJyYXkgPSBuZXcgVmVjdG9yM0FycmF5KGNvdW50KTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb3VudDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgZ2V0SW5kZXggPSBpbmRpY2VzW2ldO1xuICAgICAgICAgICAgYXJyYXkuc2V0VmVjdG9yKGksIHRoaXMuZ2V0VmVjdG9yKGdldEluZGV4KSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFycmF5O1xuICAgIH1cblxuICAgIG1hcChjYWxsYmFja2ZuOiAodmFsdWU6IFZlY3RvcjMsIGluZGV4OiBudW1iZXIpID0+IGFueSk6IFZlY3RvcjNBcnJheSB7XG4gICAgICAgIGxldCBjbG9uZSA9IHRoaXMuY2xvbmUoKTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuY291bnQoKTsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgdmVjID0gdGhpcy5nZXRWZWN0b3IoaSk7XG4gICAgICAgICAgICBsZXQgcmVzdWx0ID0gY2FsbGJhY2tmbih2ZWMsIGkpITtcbiAgICAgICAgICAgIGlmIChyZXN1bHQgaW5zdGFuY2VvZiBWZWN0b3IzKSB7XG4gICAgICAgICAgICAgICAgY2xvbmUuc2V0VmVjdG9yKGksIHJlc3VsdCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNsb25lLnNldFZlY3RvcihpLCB2ZWMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjbG9uZTtcbiAgICB9XG5cbiAgICBzZXRWZWN0b3IoaTogbnVtYmVyLCB2ZWM6IFZlY3RvcjMpIHtcbiAgICAgICAgdGhpcy5kYXRhW2kgKiB0aGlzLl93aWR0aCArIDBdID0gdmVjLng7XG4gICAgICAgIHRoaXMuZGF0YVtpICogdGhpcy5fd2lkdGggKyAxXSA9IHZlYy55O1xuICAgICAgICB0aGlzLmRhdGFbaSAqIHRoaXMuX3dpZHRoICsgMl0gPSB2ZWMuejtcbiAgICB9XG5cbiAgICBnZXRWZWN0b3IoaTogbnVtYmVyKTogVmVjdG9yMyB7XG4gICAgICAgIHJldHVybiBuZXcgVmVjdG9yMyhcbiAgICAgICAgICAgIHRoaXMuZGF0YVtpICogdGhpcy5fd2lkdGggKyAwXSxcbiAgICAgICAgICAgIHRoaXMuZGF0YVtpICogdGhpcy5fd2lkdGggKyAxXSxcbiAgICAgICAgICAgIHRoaXMuZGF0YVtpICogdGhpcy5fd2lkdGggKyAyXSxcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICB0b0xpc3QoKTogVmVjdG9yM1tdIHtcbiAgICAgICAgbGV0IHZlY3M6IFZlY3RvcjNbXSA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuX2hlaWdodDsgaSsrKSB7XG4gICAgICAgICAgICB2ZWNzLnB1c2godGhpcy5nZXRWZWN0b3IoaSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2ZWNzO1xuICAgIH1cblxuICAgIHRyYW5zZm9ybShtOiBNYXRyaXg0KTogVmVjdG9yM0FycmF5IHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl9oZWlnaHQ7IGkrKykge1xuICAgICAgICAgICAgbGV0IHZlYyA9IHRoaXMuZ2V0VmVjdG9yKGkpO1xuICAgICAgICAgICAgdmVjID0gbS5tdWx0aXBseVZlY3Rvcih2ZWMpO1xuICAgICAgICAgICAgdGhpcy5zZXRWZWN0b3IoaSwgdmVjKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB0aGlzLmRhdGEgPSBtLk11bHRpcGx5TSh0aGlzKS5kYXRhO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICB0bzJEKCk6IFZlY3RvcjJBcnJheSB7XG4gICAgICAgIGxldCBjbG9uZSA9IG5ldyBWZWN0b3IyQXJyYXkodGhpcy5faGVpZ2h0KTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl9oZWlnaHQ7IGkrKykge1xuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCAyOyBqKyspIHtcbiAgICAgICAgICAgICAgICBjbG9uZS5zZXQoaSwgaiwgdGhpcy5nZXQoaSwgaikpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjbG9uZTtcbiAgICB9XG5cbiAgICBjbG9uZSgpOiBWZWN0b3IzQXJyYXkge1xuICAgICAgICBsZXQgY2xvbmUgPSBuZXcgVmVjdG9yM0FycmF5KHRoaXMuX2hlaWdodCk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5kYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjbG9uZS5kYXRhW2ldID0gdGhpcy5kYXRhW2ldO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjbG9uZTtcbiAgICB9XG5cbiAgICBtZWFuKCk6IFZlY3RvcjMge1xuICAgICAgICAvLyB0aGUgbWVhbiB2ZWN0b3Igb2YgYSBzZXJpZXMgb2YgdmVjdG9yc1xuICAgICAgICBsZXQgc3VtID0gVmVjdG9yMy56ZXJvKCk7XG5cbiAgICAgICAgbGV0IGNvdW50ID0gdGhpcy5jb3VudCgpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvdW50OyBpKyspIHtcbiAgICAgICAgICAgIHN1bS54ICs9IHRoaXMuZGF0YVtpICogM107XG4gICAgICAgICAgICBzdW0ueSArPSB0aGlzLmRhdGFbaSAqIDMgKyAxXTtcbiAgICAgICAgICAgIHN1bS56ICs9IHRoaXMuZGF0YVtpICogMyArIDJdO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHN1bS5zY2FsZSgxIC8gY291bnQpO1xuICAgIH1cblxuICAgIGF2ZXJhZ2UoKTogVmVjdG9yMyB7XG4gICAgICAgIHJldHVybiB0aGlzLm1lYW4oKTtcbiAgICB9XG5cbiAgICBjbG9zZXN0SWQocG9pbnQ6IFZlY3RvcjMpOiBudW1iZXIge1xuICAgICAgICBsZXQgbG93U2NvcmUgPSBJbmZpbml0eTtcbiAgICAgICAgbGV0IGlkID0gLTE7XG5cbiAgICAgICAgdGhpcy5mb3JFYWNoKCh2LCBpKSA9PiB7XG4gICAgICAgICAgICBsZXQgZGlzU3F1YXJlZCA9IHBvaW50LmRpc1RvU3F1YXJlZCh2KTtcbiAgICAgICAgICAgIGlmIChkaXNTcXVhcmVkIDwgbG93U2NvcmUpIHtcbiAgICAgICAgICAgICAgICBsb3dTY29yZSA9IGRpc1NxdWFyZWQ7XG4gICAgICAgICAgICAgICAgaWQgPSBpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGlkO1xuICAgIH1cblxuICAgIGNsb3Nlc3RJZHMocG9pbnQ6IFZlY3RvcjMsIG46IG51bWJlcik6IG51bWJlcltdIHtcbiAgICAgICAgLy8gTyhtKm4pLi4uIFRPRE8gaW1wbGVtZW50IHF1aWNrc29ydFxuXG4gICAgICAgIGxldCBpZHM6IG51bWJlcltdID0gW107XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgICAgIGxldCBsb3dTY29yZSA9IEluZmluaXR5O1xuICAgICAgICAgICAgbGV0IGlkID0gLTE7XG4gICAgICAgICAgICB0aGlzLmZvckVhY2goKHYsIGkpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoaWRzLmluY2x1ZGVzKGlkKSkgcmV0dXJuO1xuICAgICAgICAgICAgICAgIGxldCBkaXNTcXVhcmVkID0gcG9pbnQuZGlzVG9TcXVhcmVkKHYpO1xuICAgICAgICAgICAgICAgIGlmIChkaXNTcXVhcmVkIDwgbG93U2NvcmUpIHtcbiAgICAgICAgICAgICAgICAgICAgbG93U2NvcmUgPSBkaXNTcXVhcmVkO1xuICAgICAgICAgICAgICAgICAgICBpZCA9IGk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZHMucHVzaChpZCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGlkcztcbiAgICB9XG59XG5cbi8vIFRPRE8gOiB0byBGbG9hdE1hdHJpeFxuZXhwb3J0IGZ1bmN0aW9uIGdldEdlbmVyYWxGbG9hdE1hdHJpeCh2ZWN0b3JzOiBWZWN0b3IyQXJyYXkgfCBWZWN0b3IzQXJyYXkgfCBWZWN0b3IyW10gfCBWZWN0b3IzW10pOiBGbG9hdE1hdHJpeCB7XG4gICAgaWYgKHZlY3RvcnMgaW5zdGFuY2VvZiBWZWN0b3IyQXJyYXkpIHtcbiAgICAgICAgcmV0dXJuIHZlY3RvcnM7XG4gICAgfSBlbHNlIGlmICh2ZWN0b3JzIGluc3RhbmNlb2YgVmVjdG9yM0FycmF5KSB7XG4gICAgICAgIHJldHVybiB2ZWN0b3JzO1xuICAgIH0gZWxzZSBpZiAodmVjdG9yc1swXSBpbnN0YW5jZW9mIFZlY3RvcjIpIHtcbiAgICAgICAgcmV0dXJuIFZlY3RvcjJBcnJheS5mcm9tTGlzdCh2ZWN0b3JzIGFzIFZlY3RvcjJbXSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIFZlY3RvcjNBcnJheS5mcm9tTGlzdCh2ZWN0b3JzIGFzIFZlY3RvcjNbXSk7XG4gICAgfVxufVxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/data/vector-array.ts\n");

/***/ }),

/***/ "./src/geo/circle2.ts":
/*!****************************!*\
  !*** ./src/geo/circle2.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Circle2\": () => /* binding */ Circle2\n/* harmony export */ });\n/* harmony import */ var _math_const__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../math/const */ \"./src/math/const.ts\");\n/* harmony import */ var _math_vector__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../math/vector */ \"./src/math/vector.ts\");\n\r\n\r\nclass Circle2 {\r\n    constructor(center, radius) {\r\n        this.center = center;\r\n        this.radius = radius;\r\n    }\r\n    // thank you mr Mitteldorf for making me remember how basic math works\r\n    // http://mathforum.org/library/drmath/view/53027.html\r\n    // calculate the centers of two circles, defined by two points and a radius\r\n    static centersFromPPR(a, b, radius) {\r\n        // throw new Error(\"Method not implemented.\");\r\n        // get in between length and halfway point\r\n        let normal = b.clone().sub(a);\r\n        let dis = normal.length();\r\n        let middle = a\r\n            .clone()\r\n            .add(b)\r\n            .scale(1 / 2);\r\n        // scalar length on mirror line (pythagoras)\r\n        let value = Math.pow(radius, 2) - Math.pow((dis / 2), 2);\r\n        if (value < -_math_const__WEBPACK_IMPORTED_MODULE_0__.Const.TOLERANCE) {\r\n            // no sollution\r\n            return [];\r\n        }\r\n        else if (value < _math_const__WEBPACK_IMPORTED_MODULE_0__.Const.TOLERANCE) {\r\n            // center roughly in the middle, so just return the middle\r\n            return [middle];\r\n        }\r\n        else {\r\n            // two circles possible:\r\n            let disToCenter = Math.pow(value, 0.5);\r\n            let normY = new _math_vector__WEBPACK_IMPORTED_MODULE_1__.Vector2(normal.y, -normal.x).normalize();\r\n            // move the middle point up and down\r\n            return [\r\n                middle.clone().add(normY.clone().scale(disToCenter)),\r\n                middle.clone().add(normY.clone().scale(-disToCenter)),\r\n            ];\r\n        }\r\n    }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9nZW9uLWVuZ2luZS8uL3NyYy9nZW8vY2lyY2xlMi50cz8wYzFmIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFzQztBQUNHO0FBRWxDLE1BQU0sT0FBTztJQUloQixZQUFZLE1BQWUsRUFBRSxNQUFjO1FBQ3ZDLElBQUksQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDO1FBQ3JCLElBQUksQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDO0lBQ3pCLENBQUM7SUFFRCxzRUFBc0U7SUFDdEUsc0RBQXNEO0lBQ3RELDJFQUEyRTtJQUMzRSxNQUFNLENBQUMsY0FBYyxDQUFDLENBQVUsRUFBRSxDQUFVLEVBQUUsTUFBYztRQUN4RCw4Q0FBOEM7UUFFOUMsMENBQTBDO1FBQzFDLElBQUksTUFBTSxHQUFHLENBQUMsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDOUIsSUFBSSxHQUFHLEdBQUcsTUFBTSxDQUFDLE1BQU0sRUFBRSxDQUFDO1FBQzFCLElBQUksTUFBTSxHQUFHLENBQUM7YUFDVCxLQUFLLEVBQUU7YUFDUCxHQUFHLENBQUMsQ0FBQyxDQUFDO2FBQ04sS0FBSyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUVsQiw0Q0FBNEM7UUFDNUMsSUFBSSxLQUFLLEdBQUcsZUFBTSxFQUFJLENBQUMsSUFBRyxVQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsRUFBSSxDQUFDLEVBQUM7UUFDekMsSUFBSSxLQUFLLEdBQUcsQ0FBQyx3REFBZSxFQUFFO1lBQzFCLGVBQWU7WUFDZixPQUFPLEVBQUUsQ0FBQztTQUNiO2FBQU0sSUFBSSxLQUFLLEdBQUcsd0RBQWUsRUFBRTtZQUNoQywwREFBMEQ7WUFDMUQsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDO1NBQ25CO2FBQU07WUFDSCx3QkFBd0I7WUFDeEIsSUFBSSxXQUFXLEdBQUcsY0FBSyxFQUFJLEdBQUcsRUFBQztZQUMvQixJQUFJLEtBQUssR0FBRyxJQUFJLGlEQUFPLENBQUMsTUFBTSxDQUFDLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxTQUFTLEVBQUUsQ0FBQztZQUV6RCxvQ0FBb0M7WUFDcEMsT0FBTztnQkFDSCxNQUFNLENBQUMsS0FBSyxFQUFFLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxLQUFLLEVBQUUsQ0FBQyxLQUFLLENBQUMsV0FBVyxDQUFDLENBQUM7Z0JBQ3BELE1BQU0sQ0FBQyxLQUFLLEVBQUUsQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLEtBQUssRUFBRSxDQUFDLEtBQUssQ0FBQyxDQUFDLFdBQVcsQ0FBQyxDQUFDO2FBQ3hELENBQUM7U0FDTDtJQUNMLENBQUM7Q0FDSiIsImZpbGUiOiIuL3NyYy9nZW8vY2lyY2xlMi50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbnN0IH0gZnJvbSBcIi4uL21hdGgvY29uc3RcIjtcbmltcG9ydCB7IFZlY3RvcjIgfSBmcm9tIFwiLi4vbWF0aC92ZWN0b3JcIjtcblxuZXhwb3J0IGNsYXNzIENpcmNsZTIge1xuICAgIGNlbnRlcjogVmVjdG9yMjtcbiAgICByYWRpdXM6IG51bWJlcjtcblxuICAgIGNvbnN0cnVjdG9yKGNlbnRlcjogVmVjdG9yMiwgcmFkaXVzOiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5jZW50ZXIgPSBjZW50ZXI7XG4gICAgICAgIHRoaXMucmFkaXVzID0gcmFkaXVzO1xuICAgIH1cblxuICAgIC8vIHRoYW5rIHlvdSBtciBNaXR0ZWxkb3JmIGZvciBtYWtpbmcgbWUgcmVtZW1iZXIgaG93IGJhc2ljIG1hdGggd29ya3NcbiAgICAvLyBodHRwOi8vbWF0aGZvcnVtLm9yZy9saWJyYXJ5L2RybWF0aC92aWV3LzUzMDI3Lmh0bWxcbiAgICAvLyBjYWxjdWxhdGUgdGhlIGNlbnRlcnMgb2YgdHdvIGNpcmNsZXMsIGRlZmluZWQgYnkgdHdvIHBvaW50cyBhbmQgYSByYWRpdXNcbiAgICBzdGF0aWMgY2VudGVyc0Zyb21QUFIoYTogVmVjdG9yMiwgYjogVmVjdG9yMiwgcmFkaXVzOiBudW1iZXIpOiBWZWN0b3IyW10ge1xuICAgICAgICAvLyB0aHJvdyBuZXcgRXJyb3IoXCJNZXRob2Qgbm90IGltcGxlbWVudGVkLlwiKTtcblxuICAgICAgICAvLyBnZXQgaW4gYmV0d2VlbiBsZW5ndGggYW5kIGhhbGZ3YXkgcG9pbnRcbiAgICAgICAgbGV0IG5vcm1hbCA9IGIuY2xvbmUoKS5zdWIoYSk7XG4gICAgICAgIGxldCBkaXMgPSBub3JtYWwubGVuZ3RoKCk7XG4gICAgICAgIGxldCBtaWRkbGUgPSBhXG4gICAgICAgICAgICAuY2xvbmUoKVxuICAgICAgICAgICAgLmFkZChiKVxuICAgICAgICAgICAgLnNjYWxlKDEgLyAyKTtcblxuICAgICAgICAvLyBzY2FsYXIgbGVuZ3RoIG9uIG1pcnJvciBsaW5lIChweXRoYWdvcmFzKVxuICAgICAgICBsZXQgdmFsdWUgPSByYWRpdXMgKiogMiAtIChkaXMgLyAyKSAqKiAyO1xuICAgICAgICBpZiAodmFsdWUgPCAtQ29uc3QuVE9MRVJBTkNFKSB7XG4gICAgICAgICAgICAvLyBubyBzb2xsdXRpb25cbiAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgfSBlbHNlIGlmICh2YWx1ZSA8IENvbnN0LlRPTEVSQU5DRSkge1xuICAgICAgICAgICAgLy8gY2VudGVyIHJvdWdobHkgaW4gdGhlIG1pZGRsZSwgc28ganVzdCByZXR1cm4gdGhlIG1pZGRsZVxuICAgICAgICAgICAgcmV0dXJuIFttaWRkbGVdO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gdHdvIGNpcmNsZXMgcG9zc2libGU6XG4gICAgICAgICAgICBsZXQgZGlzVG9DZW50ZXIgPSB2YWx1ZSAqKiAwLjU7XG4gICAgICAgICAgICBsZXQgbm9ybVkgPSBuZXcgVmVjdG9yMihub3JtYWwueSwgLW5vcm1hbC54KS5ub3JtYWxpemUoKTtcblxuICAgICAgICAgICAgLy8gbW92ZSB0aGUgbWlkZGxlIHBvaW50IHVwIGFuZCBkb3duXG4gICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgIG1pZGRsZS5jbG9uZSgpLmFkZChub3JtWS5jbG9uZSgpLnNjYWxlKGRpc1RvQ2VudGVyKSksXG4gICAgICAgICAgICAgICAgbWlkZGxlLmNsb25lKCkuYWRkKG5vcm1ZLmNsb25lKCkuc2NhbGUoLWRpc1RvQ2VudGVyKSksXG4gICAgICAgICAgICBdO1xuICAgICAgICB9XG4gICAgfVxufVxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/geo/circle2.ts\n");

/***/ }),

/***/ "./src/geo/circle3.ts":
/*!****************************!*\
  !*** ./src/geo/circle3.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Circle3\": () => /* binding */ Circle3\n/* harmony export */ });\n/* harmony import */ var _math_const__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../math/const */ \"./src/math/const.ts\");\n/* harmony import */ var _plane__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./plane */ \"./src/geo/plane.ts\");\n// purpose: represents a 3d circle\r\n\r\n\r\nclass Circle3 {\r\n    constructor(plane, radius) {\r\n        this.plane = plane;\r\n        this.radius = radius;\r\n    }\r\n    static fromCircle2(circle2, plane = _plane__WEBPACK_IMPORTED_MODULE_1__.Plane.WorldXY()) {\r\n        // elevate center of circle, make it the center of a plane\r\n        let center3d = plane.pushToWorld(circle2.center.to3D());\r\n        plane = plane.clone();\r\n        plane.center = center3d;\r\n        return new Circle3(plane, circle2.radius);\r\n    }\r\n    includes(p) {\r\n        // test if the point falls in range of the circle, by regarding\r\n        // the circle as a torus\r\n        // CHANGE NOTE: i set this to zero, for testing\r\n        // vertical error\r\n        let [projPoint, yError] = this.plane.closestPoint(p);\r\n        yError = yError / 3;\r\n        // horizontal error: get the difference between point\r\n        let xError = this.plane.center.clone().disTo(projPoint) - this.radius;\r\n        // length of total error vector needs to be smaller than the given\r\n        // tolerance\r\n        return Math.pow(yError, 2) + Math.pow(xError, 2) < _math_const__WEBPACK_IMPORTED_MODULE_0__.Const.TOL_SQUARED;\r\n    }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9nZW9uLWVuZ2luZS8uL3NyYy9nZW8vY2lyY2xlMy50cz9lZGNjIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLGtDQUFrQztBQUVJO0FBSU47QUFFekIsTUFBTSxPQUFPO0lBSWhCLFlBQVksS0FBWSxFQUFFLE1BQWM7UUFDcEMsSUFBSSxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUM7UUFDbkIsSUFBSSxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUM7SUFDekIsQ0FBQztJQUVELE1BQU0sQ0FBQyxXQUFXLENBQUMsT0FBZ0IsRUFBRSxLQUFLLEdBQUcsaURBQWEsRUFBRTtRQUN4RCwwREFBMEQ7UUFDMUQsSUFBSSxRQUFRLEdBQUcsS0FBSyxDQUFDLFdBQVcsQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLElBQUksRUFBRSxDQUFDLENBQUM7UUFDeEQsS0FBSyxHQUFHLEtBQUssQ0FBQyxLQUFLLEVBQUUsQ0FBQztRQUN0QixLQUFLLENBQUMsTUFBTSxHQUFHLFFBQVEsQ0FBQztRQUN4QixPQUFPLElBQUksT0FBTyxDQUFDLEtBQUssRUFBRSxPQUFPLENBQUMsTUFBTSxDQUFDLENBQUM7SUFDOUMsQ0FBQztJQUVELFFBQVEsQ0FBQyxDQUFVO1FBQ2YsK0RBQStEO1FBQy9ELHdCQUF3QjtRQUV4QiwrQ0FBK0M7UUFDL0MsaUJBQWlCO1FBQ2pCLElBQUksQ0FBQyxTQUFTLEVBQUUsTUFBTSxDQUFDLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDckQsTUFBTSxHQUFHLE1BQU0sR0FBRyxDQUFDLENBQUM7UUFFcEIscURBQXFEO1FBQ3JELElBQUksTUFBTSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLEtBQUssRUFBRSxDQUFDLEtBQUssQ0FBQyxTQUFTLENBQUMsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDO1FBRXRFLGtFQUFrRTtRQUNsRSxZQUFZO1FBQ1osT0FBTyxlQUFNLEVBQUksQ0FBQyxJQUFHLGVBQU0sRUFBSSxDQUFDLElBQUcsMERBQWlCLENBQUM7SUFDekQsQ0FBQztDQUNKIiwiZmlsZSI6Ii4vc3JjL2dlby9jaXJjbGUzLnRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gcHVycG9zZTogcmVwcmVzZW50cyBhIDNkIGNpcmNsZVxuXG5pbXBvcnQgeyBDb25zdCB9IGZyb20gXCIuLi9tYXRoL2NvbnN0XCI7XG5pbXBvcnQgeyBNYXRyaXg0IH0gZnJvbSBcIi4uL21hdGgvbWF0cml4XCI7XG5pbXBvcnQgeyBWZWN0b3IzIH0gZnJvbSBcIi4uL21hdGgvdmVjdG9yXCI7XG5pbXBvcnQgeyBDaXJjbGUyIH0gZnJvbSBcIi4vY2lyY2xlMlwiO1xuaW1wb3J0IHsgUGxhbmUgfSBmcm9tIFwiLi9wbGFuZVwiO1xuXG5leHBvcnQgY2xhc3MgQ2lyY2xlMyB7XG4gICAgcGxhbmU6IFBsYW5lO1xuICAgIHJhZGl1czogbnVtYmVyO1xuXG4gICAgY29uc3RydWN0b3IocGxhbmU6IFBsYW5lLCByYWRpdXM6IG51bWJlcikge1xuICAgICAgICB0aGlzLnBsYW5lID0gcGxhbmU7XG4gICAgICAgIHRoaXMucmFkaXVzID0gcmFkaXVzO1xuICAgIH1cblxuICAgIHN0YXRpYyBmcm9tQ2lyY2xlMihjaXJjbGUyOiBDaXJjbGUyLCBwbGFuZSA9IFBsYW5lLldvcmxkWFkoKSkge1xuICAgICAgICAvLyBlbGV2YXRlIGNlbnRlciBvZiBjaXJjbGUsIG1ha2UgaXQgdGhlIGNlbnRlciBvZiBhIHBsYW5lXG4gICAgICAgIGxldCBjZW50ZXIzZCA9IHBsYW5lLnB1c2hUb1dvcmxkKGNpcmNsZTIuY2VudGVyLnRvM0QoKSk7XG4gICAgICAgIHBsYW5lID0gcGxhbmUuY2xvbmUoKTtcbiAgICAgICAgcGxhbmUuY2VudGVyID0gY2VudGVyM2Q7XG4gICAgICAgIHJldHVybiBuZXcgQ2lyY2xlMyhwbGFuZSwgY2lyY2xlMi5yYWRpdXMpO1xuICAgIH1cblxuICAgIGluY2x1ZGVzKHA6IFZlY3RvcjMpOiBib29sZWFuIHtcbiAgICAgICAgLy8gdGVzdCBpZiB0aGUgcG9pbnQgZmFsbHMgaW4gcmFuZ2Ugb2YgdGhlIGNpcmNsZSwgYnkgcmVnYXJkaW5nXG4gICAgICAgIC8vIHRoZSBjaXJjbGUgYXMgYSB0b3J1c1xuXG4gICAgICAgIC8vIENIQU5HRSBOT1RFOiBpIHNldCB0aGlzIHRvIHplcm8sIGZvciB0ZXN0aW5nXG4gICAgICAgIC8vIHZlcnRpY2FsIGVycm9yXG4gICAgICAgIGxldCBbcHJvalBvaW50LCB5RXJyb3JdID0gdGhpcy5wbGFuZS5jbG9zZXN0UG9pbnQocCk7XG4gICAgICAgIHlFcnJvciA9IHlFcnJvciAvIDM7XG5cbiAgICAgICAgLy8gaG9yaXpvbnRhbCBlcnJvcjogZ2V0IHRoZSBkaWZmZXJlbmNlIGJldHdlZW4gcG9pbnRcbiAgICAgICAgbGV0IHhFcnJvciA9IHRoaXMucGxhbmUuY2VudGVyLmNsb25lKCkuZGlzVG8ocHJvalBvaW50KSAtIHRoaXMucmFkaXVzO1xuXG4gICAgICAgIC8vIGxlbmd0aCBvZiB0b3RhbCBlcnJvciB2ZWN0b3IgbmVlZHMgdG8gYmUgc21hbGxlciB0aGFuIHRoZSBnaXZlblxuICAgICAgICAvLyB0b2xlcmFuY2VcbiAgICAgICAgcmV0dXJuIHlFcnJvciAqKiAyICsgeEVycm9yICoqIDIgPCBDb25zdC5UT0xfU1FVQVJFRDtcbiAgICB9XG59XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/geo/circle3.ts\n");

/***/ }),

/***/ "./src/geo/cube.ts":
/*!*************************!*\
  !*** ./src/geo/cube.ts ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Cube\": () => /* binding */ Cube\n/* harmony export */ });\n/* harmony import */ var _math_domain__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../math/domain */ \"./src/math/domain.ts\");\n/* harmony import */ var _plane__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./plane */ \"./src/geo/plane.ts\");\n// name:    cube.ts\r\n// author:  Jos Feenstra\r\n// purpose: Represents a cube in 3d space, in a certain pose.\r\n\r\n\r\nclass Cube {\r\n    constructor(plane, domain) {\r\n        this.plane = plane;\r\n        this.domain = domain;\r\n    }\r\n    static new(plane, domain) {\r\n        return new Cube(plane, domain);\r\n    }\r\n    static fromRadius(point, radius) {\r\n        return new Cube(_plane__WEBPACK_IMPORTED_MODULE_1__.Plane.WorldXY().moveTo(point), _math_domain__WEBPACK_IMPORTED_MODULE_0__.Domain3.fromRadius(radius));\r\n    }\r\n    getCorners() {\r\n        return this.domain.corners(this.plane.matrix);\r\n    }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9nZW9uLWVuZ2luZS8uL3NyYy9nZW8vY3ViZS50cz8zMTJlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLG1CQUFtQjtBQUNuQix3QkFBd0I7QUFDeEIsNkRBQTZEO0FBR3BCO0FBR1Q7QUFFekIsTUFBTSxJQUFJO0lBQ2IsWUFBbUIsS0FBWSxFQUFTLE1BQWU7UUFBcEMsVUFBSyxHQUFMLEtBQUssQ0FBTztRQUFTLFdBQU0sR0FBTixNQUFNLENBQVM7SUFBRyxDQUFDO0lBRTNELE1BQU0sQ0FBQyxHQUFHLENBQUMsS0FBWSxFQUFFLE1BQWU7UUFDcEMsT0FBTyxJQUFJLElBQUksQ0FBQyxLQUFLLEVBQUUsTUFBTSxDQUFDLENBQUM7SUFDbkMsQ0FBQztJQUVELE1BQU0sQ0FBQyxVQUFVLENBQUMsS0FBYyxFQUFFLE1BQWM7UUFDNUMsT0FBTyxJQUFJLElBQUksQ0FBQyxpREFBYSxFQUFFLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxFQUFFLDREQUFrQixDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUM7SUFDL0UsQ0FBQztJQUVELFVBQVU7UUFDTixPQUFPLElBQUksQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUM7SUFDbEQsQ0FBQztDQUNKIiwiZmlsZSI6Ii4vc3JjL2dlby9jdWJlLnRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gbmFtZTogICAgY3ViZS50c1xuLy8gYXV0aG9yOiAgSm9zIEZlZW5zdHJhXG4vLyBwdXJwb3NlOiBSZXByZXNlbnRzIGEgY3ViZSBpbiAzZCBzcGFjZSwgaW4gYSBjZXJ0YWluIHBvc2UuXG5cbmltcG9ydCB7IFZlY3RvcjNBcnJheSB9IGZyb20gXCIuLi9kYXRhL3ZlY3Rvci1hcnJheVwiO1xuaW1wb3J0IHsgRG9tYWluMyB9IGZyb20gXCIuLi9tYXRoL2RvbWFpblwiO1xuaW1wb3J0IHsgVmVjdG9yMyB9IGZyb20gXCIuLi9tYXRoL3ZlY3RvclwiO1xuaW1wb3J0IHsgR2VvIH0gZnJvbSBcIi4vZ2VvXCI7XG5pbXBvcnQgeyBQbGFuZSB9IGZyb20gXCIuL3BsYW5lXCI7XG5cbmV4cG9ydCBjbGFzcyBDdWJlIHtcbiAgICBjb25zdHJ1Y3RvcihwdWJsaWMgcGxhbmU6IFBsYW5lLCBwdWJsaWMgZG9tYWluOiBEb21haW4zKSB7fVxuXG4gICAgc3RhdGljIG5ldyhwbGFuZTogUGxhbmUsIGRvbWFpbjogRG9tYWluMykge1xuICAgICAgICByZXR1cm4gbmV3IEN1YmUocGxhbmUsIGRvbWFpbik7XG4gICAgfVxuXG4gICAgc3RhdGljIGZyb21SYWRpdXMocG9pbnQ6IFZlY3RvcjMsIHJhZGl1czogbnVtYmVyKTogQ3ViZSB7XG4gICAgICAgIHJldHVybiBuZXcgQ3ViZShQbGFuZS5Xb3JsZFhZKCkubW92ZVRvKHBvaW50KSwgRG9tYWluMy5mcm9tUmFkaXVzKHJhZGl1cykpO1xuICAgIH1cblxuICAgIGdldENvcm5lcnMoKTogVmVjdG9yM1tdIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZG9tYWluLmNvcm5lcnModGhpcy5wbGFuZS5tYXRyaXgpO1xuICAgIH1cbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/geo/cube.ts\n");

/***/ }),

/***/ "./src/geo/geo.ts":
/*!************************!*\
  !*** ./src/geo/geo.ts ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Geo\": () => /* binding */ Geo\n/* harmony export */ });\n/* harmony import */ var _math_matrix__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../math/matrix */ \"./src/math/matrix.ts\");\n// name:    geo.ts\r\n// author:  Jos Feenstra\r\n// purpose: base class of all 3d geometry\r\n// note:    TODO\r\n\r\n// i want traits....\r\nclass Geo {\r\n    constructor() { }\r\n    clone() { }\r\n    transform(m) {\r\n        return this;\r\n    }\r\n    rotateX(radians) {\r\n        let rotater = _math_matrix__WEBPACK_IMPORTED_MODULE_0__.Matrix4.newXRotation(radians);\r\n        // etc...\r\n    }\r\n    rotateY(radians) {\r\n        let rotater = _math_matrix__WEBPACK_IMPORTED_MODULE_0__.Matrix4.newYRotation(radians);\r\n        // etc...\r\n    }\r\n    rotateZ(radians) {\r\n        let rotater = _math_matrix__WEBPACK_IMPORTED_MODULE_0__.Matrix4.newZRotation(radians);\r\n        // etc...\r\n    }\r\n    rotate(radians, axis) {\r\n        let rotater = _math_matrix__WEBPACK_IMPORTED_MODULE_0__.Matrix4.newAxisRotation(axis, radians);\r\n        // etc...\r\n    }\r\n    move(m) {\r\n        let mover = _math_matrix__WEBPACK_IMPORTED_MODULE_0__.Matrix4.newScaler(m.x, m.y, m.z);\r\n        // etc...\r\n    }\r\n    scale(s) {\r\n        let scaler = _math_matrix__WEBPACK_IMPORTED_MODULE_0__.Matrix4.newScaler(s.x, s.y, s.z);\r\n        // etc..\r\n    }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9nZW9uLWVuZ2luZS8uL3NyYy9nZW8vZ2VvLnRzPzgzMTgiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQSxrQkFBa0I7QUFDbEIsd0JBQXdCO0FBQ3hCLHlDQUF5QztBQUN6QyxnQkFBZ0I7QUFFeUI7QUFHekMsb0JBQW9CO0FBQ2IsTUFBTSxHQUFHO0lBQ1osZ0JBQWUsQ0FBQztJQUVoQixLQUFLLEtBQUksQ0FBQztJQUVWLFNBQVMsQ0FBQyxDQUFVO1FBQ2hCLE9BQU8sSUFBSSxDQUFDO0lBQ2hCLENBQUM7SUFFRCxPQUFPLENBQUMsT0FBZTtRQUNuQixJQUFJLE9BQU8sR0FBRyw4REFBb0IsQ0FBQyxPQUFPLENBQUMsQ0FBQztRQUM1QyxTQUFTO0lBQ2IsQ0FBQztJQUVELE9BQU8sQ0FBQyxPQUFlO1FBQ25CLElBQUksT0FBTyxHQUFHLDhEQUFvQixDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBQzVDLFNBQVM7SUFDYixDQUFDO0lBRUQsT0FBTyxDQUFDLE9BQWU7UUFDbkIsSUFBSSxPQUFPLEdBQUcsOERBQW9CLENBQUMsT0FBTyxDQUFDLENBQUM7UUFDNUMsU0FBUztJQUNiLENBQUM7SUFFRCxNQUFNLENBQUMsT0FBZSxFQUFFLElBQWE7UUFDakMsSUFBSSxPQUFPLEdBQUcsaUVBQXVCLENBQUMsSUFBSSxFQUFFLE9BQU8sQ0FBQyxDQUFDO1FBQ3JELFNBQVM7SUFDYixDQUFDO0lBRUQsSUFBSSxDQUFDLENBQVU7UUFDWCxJQUFJLEtBQUssR0FBRywyREFBaUIsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQzdDLFNBQVM7SUFDYixDQUFDO0lBRUQsS0FBSyxDQUFDLENBQVU7UUFDWixJQUFJLE1BQU0sR0FBRywyREFBaUIsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQzlDLFFBQVE7SUFDWixDQUFDO0NBQ0oiLCJmaWxlIjoiLi9zcmMvZ2VvL2dlby50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIG5hbWU6ICAgIGdlby50c1xuLy8gYXV0aG9yOiAgSm9zIEZlZW5zdHJhXG4vLyBwdXJwb3NlOiBiYXNlIGNsYXNzIG9mIGFsbCAzZCBnZW9tZXRyeVxuLy8gbm90ZTogICAgVE9ET1xuXG5pbXBvcnQgeyBNYXRyaXg0IH0gZnJvbSBcIi4uL21hdGgvbWF0cml4XCI7XG5pbXBvcnQgeyBWZWN0b3IzIH0gZnJvbSBcIi4uL21hdGgvdmVjdG9yXCI7XG5cbi8vIGkgd2FudCB0cmFpdHMuLi4uXG5leHBvcnQgY2xhc3MgR2VvIHtcbiAgICBjb25zdHJ1Y3RvcigpIHt9XG5cbiAgICBjbG9uZSgpIHt9XG5cbiAgICB0cmFuc2Zvcm0obTogTWF0cml4NCkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICByb3RhdGVYKHJhZGlhbnM6IG51bWJlcikge1xuICAgICAgICBsZXQgcm90YXRlciA9IE1hdHJpeDQubmV3WFJvdGF0aW9uKHJhZGlhbnMpO1xuICAgICAgICAvLyBldGMuLi5cbiAgICB9XG5cbiAgICByb3RhdGVZKHJhZGlhbnM6IG51bWJlcikge1xuICAgICAgICBsZXQgcm90YXRlciA9IE1hdHJpeDQubmV3WVJvdGF0aW9uKHJhZGlhbnMpO1xuICAgICAgICAvLyBldGMuLi5cbiAgICB9XG5cbiAgICByb3RhdGVaKHJhZGlhbnM6IG51bWJlcikge1xuICAgICAgICBsZXQgcm90YXRlciA9IE1hdHJpeDQubmV3WlJvdGF0aW9uKHJhZGlhbnMpO1xuICAgICAgICAvLyBldGMuLi5cbiAgICB9XG5cbiAgICByb3RhdGUocmFkaWFuczogbnVtYmVyLCBheGlzOiBWZWN0b3IzKSB7XG4gICAgICAgIGxldCByb3RhdGVyID0gTWF0cml4NC5uZXdBeGlzUm90YXRpb24oYXhpcywgcmFkaWFucyk7XG4gICAgICAgIC8vIGV0Yy4uLlxuICAgIH1cblxuICAgIG1vdmUobTogVmVjdG9yMykge1xuICAgICAgICBsZXQgbW92ZXIgPSBNYXRyaXg0Lm5ld1NjYWxlcihtLngsIG0ueSwgbS56KTtcbiAgICAgICAgLy8gZXRjLi4uXG4gICAgfVxuXG4gICAgc2NhbGUoczogVmVjdG9yMykge1xuICAgICAgICBsZXQgc2NhbGVyID0gTWF0cml4NC5uZXdTY2FsZXIocy54LCBzLnksIHMueik7XG4gICAgICAgIC8vIGV0Yy4uXG4gICAgfVxufVxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/geo/geo.ts\n");

/***/ }),

/***/ "./src/geo/intersect.ts":
/*!******************************!*\
  !*** ./src/geo/intersect.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _math_const__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../math/const */ \"./src/math/const.ts\");\n\r\n/**\r\n * @returns -1 if no intersection, 0 of parallel or touching, 1 if intersection;\r\n */\r\nfunction lineXplane(l1, l2, p1, p2, p3) {\r\n    let test1 = signed_volume(p1, p2, p3, l1);\r\n    let test2 = signed_volume(p1, p2, p3, l2);\r\n    if (Math.abs(test1) < _math_const__WEBPACK_IMPORTED_MODULE_0__.Const.TOLERANCE || Math.abs(test2) < _math_const__WEBPACK_IMPORTED_MODULE_0__.Const.TOLERANCE) {\r\n        return 0; // triangle touches plane with an edge\r\n    }\r\n    else if ((test1 < 0 && test2 > 0) || (test1 > 0 && test2 < 0)) {\r\n        return 1; // if 1 test pos and other negative -> line intersects plane!\r\n    }\r\n    else {\r\n        return -1; // no intersection\r\n    }\r\n}\r\n/**\r\n * Calculate if line and triangle intersect\r\n *\r\n * NOTE we could expand on the 'return 0' and explore if its touching a\r\n    vertex, line, or surface of triange\r\n * @returns 0  if line touches triangle\r\n            -1 if line misses  triangle\r\n             1  if line crosses triangle\r\n */\r\nfunction lineXtriangle(l1, l2, p1, p2, p3) {\r\n    // line points must be on opposite sides of the triangle\r\n    // return immidiately if -1: it means no intersection always\r\n    let test0 = lineXplane(l1, l2, p1, p2, p3);\r\n    if (test0 == -1)\r\n        return -1;\r\n    // plane tests\r\n    let test1 = lineXplane(p1, p2, l1, l2, p3);\r\n    if (test1 == -1)\r\n        return -1;\r\n    let test2 = lineXplane(p2, p3, l1, l2, p1);\r\n    if (test2 == -1)\r\n        return -1;\r\n    let test3 = lineXplane(p3, p1, l1, l2, p2);\r\n    if (test3 == -1)\r\n        return -1;\r\n    // debug\r\n    // print(\"points: \", l1, l2, p1, p2, p3)\r\n    // print('tests:', test0, test1, test2, test3)\r\n    // figure out if the line touches the triangle, or if it intersects\r\n    if (test0 == 1 && test1 == 1 && test2 == 1 && test3 == 1) {\r\n        return 1;\r\n    }\r\n    else {\r\n        // TODO based upon the different tests, we could determine what is hit\r\n        return 0;\r\n    }\r\n}\r\nfunction signed_volume(a, b, c, d) {\r\n    // with vertices a,b,c,d: get signed volume\r\n    // remember: vectors always remain state. We dont want to alter the abcd vectors.\r\n    a = a.clone();\r\n    b = b.clone();\r\n    c = c.clone();\r\n    return ((1 / 6) *\r\n        a\r\n            .clone()\r\n            .sub(d)\r\n            .dot(c.sub(d).cross(b.sub(d))));\r\n}\r\nfunction IsRoughly(test1, arg1) {\r\n    throw new Error(\"Function not implemented.\");\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9nZW9uLWVuZ2luZS8uL3NyYy9nZW8vaW50ZXJzZWN0LnRzPzE3N2MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFDc0M7QUFHdEM7O0dBRUc7QUFDSCxTQUFTLFVBQVUsQ0FBQyxFQUFXLEVBQUUsRUFBVyxFQUFFLEVBQVcsRUFBRSxFQUFXLEVBQUUsRUFBVztJQUMvRSxJQUFJLEtBQUssR0FBRyxhQUFhLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxDQUFDLENBQUM7SUFDMUMsSUFBSSxLQUFLLEdBQUcsYUFBYSxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsQ0FBQyxDQUFDO0lBQzFDLElBQUksSUFBSSxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsR0FBRyx3REFBZSxJQUFJLElBQUksQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLEdBQUcsd0RBQWUsRUFBRTtRQUN4RSxPQUFPLENBQUMsQ0FBQyxDQUFDLHNDQUFzQztLQUNuRDtTQUFNLElBQUksQ0FBQyxLQUFLLEdBQUcsQ0FBQyxJQUFJLEtBQUssR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssR0FBRyxDQUFDLElBQUksS0FBSyxHQUFHLENBQUMsQ0FBQyxFQUFFO1FBQzdELE9BQU8sQ0FBQyxDQUFDLENBQUMsNkRBQTZEO0tBQzFFO1NBQU07UUFDSCxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsa0JBQWtCO0tBQ2hDO0FBQ0wsQ0FBQztBQUVEOzs7Ozs7OztHQVFHO0FBQ0gsU0FBUyxhQUFhLENBQUMsRUFBVyxFQUFFLEVBQVcsRUFBRSxFQUFXLEVBQUUsRUFBVyxFQUFFLEVBQVc7SUFDbEYsd0RBQXdEO0lBQ3hELDREQUE0RDtJQUM1RCxJQUFJLEtBQUssR0FBRyxVQUFVLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsQ0FBQyxDQUFDO0lBQzNDLElBQUksS0FBSyxJQUFJLENBQUMsQ0FBQztRQUFFLE9BQU8sQ0FBQyxDQUFDLENBQUM7SUFFM0IsY0FBYztJQUNkLElBQUksS0FBSyxHQUFHLFVBQVUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxDQUFDLENBQUM7SUFDM0MsSUFBSSxLQUFLLElBQUksQ0FBQyxDQUFDO1FBQUUsT0FBTyxDQUFDLENBQUMsQ0FBQztJQUMzQixJQUFJLEtBQUssR0FBRyxVQUFVLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsQ0FBQyxDQUFDO0lBQzNDLElBQUksS0FBSyxJQUFJLENBQUMsQ0FBQztRQUFFLE9BQU8sQ0FBQyxDQUFDLENBQUM7SUFDM0IsSUFBSSxLQUFLLEdBQUcsVUFBVSxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUMsQ0FBQztJQUMzQyxJQUFJLEtBQUssSUFBSSxDQUFDLENBQUM7UUFBRSxPQUFPLENBQUMsQ0FBQyxDQUFDO0lBRTNCLFFBQVE7SUFDUix3Q0FBd0M7SUFDeEMsOENBQThDO0lBRTlDLG1FQUFtRTtJQUNuRSxJQUFJLEtBQUssSUFBSSxDQUFDLElBQUksS0FBSyxJQUFJLENBQUMsSUFBSSxLQUFLLElBQUksQ0FBQyxJQUFJLEtBQUssSUFBSSxDQUFDLEVBQUU7UUFDdEQsT0FBTyxDQUFDLENBQUM7S0FDWjtTQUFNO1FBQ0gsc0VBQXNFO1FBQ3RFLE9BQU8sQ0FBQyxDQUFDO0tBQ1o7QUFDTCxDQUFDO0FBRUQsU0FBUyxhQUFhLENBQUMsQ0FBVSxFQUFFLENBQVUsRUFBRSxDQUFVLEVBQUUsQ0FBVTtJQUNqRSwyQ0FBMkM7SUFDM0MsaUZBQWlGO0lBQ2pGLENBQUMsR0FBRyxDQUFDLENBQUMsS0FBSyxFQUFFLENBQUM7SUFDZCxDQUFDLEdBQUcsQ0FBQyxDQUFDLEtBQUssRUFBRSxDQUFDO0lBQ2QsQ0FBQyxHQUFHLENBQUMsQ0FBQyxLQUFLLEVBQUUsQ0FBQztJQUNkLE9BQU8sQ0FDSCxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDUCxDQUFDO2FBQ0ksS0FBSyxFQUFFO2FBQ1AsR0FBRyxDQUFDLENBQUMsQ0FBQzthQUNOLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FDckMsQ0FBQztBQUNOLENBQUM7QUFFRCxTQUFTLFNBQVMsQ0FBQyxLQUFhLEVBQUUsSUFBWTtJQUMxQyxNQUFNLElBQUksS0FBSyxDQUFDLDJCQUEyQixDQUFDLENBQUM7QUFDakQsQ0FBQyIsImZpbGUiOiIuL3NyYy9nZW8vaW50ZXJzZWN0LnRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgVmVjdG9yM0FycmF5IH0gZnJvbSBcIi4uL2RhdGEvdmVjdG9yLWFycmF5XCI7XG5pbXBvcnQgeyBDb25zdCB9IGZyb20gXCIuLi9tYXRoL2NvbnN0XCI7XG5pbXBvcnQgeyBWZWN0b3IzIH0gZnJvbSBcIi4uL21hdGgvdmVjdG9yXCI7XG5cbi8qKlxuICogQHJldHVybnMgLTEgaWYgbm8gaW50ZXJzZWN0aW9uLCAwIG9mIHBhcmFsbGVsIG9yIHRvdWNoaW5nLCAxIGlmIGludGVyc2VjdGlvbjtcbiAqL1xuZnVuY3Rpb24gbGluZVhwbGFuZShsMTogVmVjdG9yMywgbDI6IFZlY3RvcjMsIHAxOiBWZWN0b3IzLCBwMjogVmVjdG9yMywgcDM6IFZlY3RvcjMpOiBudW1iZXIge1xuICAgIGxldCB0ZXN0MSA9IHNpZ25lZF92b2x1bWUocDEsIHAyLCBwMywgbDEpO1xuICAgIGxldCB0ZXN0MiA9IHNpZ25lZF92b2x1bWUocDEsIHAyLCBwMywgbDIpO1xuICAgIGlmIChNYXRoLmFicyh0ZXN0MSkgPCBDb25zdC5UT0xFUkFOQ0UgfHwgTWF0aC5hYnModGVzdDIpIDwgQ29uc3QuVE9MRVJBTkNFKSB7XG4gICAgICAgIHJldHVybiAwOyAvLyB0cmlhbmdsZSB0b3VjaGVzIHBsYW5lIHdpdGggYW4gZWRnZVxuICAgIH0gZWxzZSBpZiAoKHRlc3QxIDwgMCAmJiB0ZXN0MiA+IDApIHx8ICh0ZXN0MSA+IDAgJiYgdGVzdDIgPCAwKSkge1xuICAgICAgICByZXR1cm4gMTsgLy8gaWYgMSB0ZXN0IHBvcyBhbmQgb3RoZXIgbmVnYXRpdmUgLT4gbGluZSBpbnRlcnNlY3RzIHBsYW5lIVxuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiAtMTsgLy8gbm8gaW50ZXJzZWN0aW9uXG4gICAgfVxufVxuXG4vKipcbiAqIENhbGN1bGF0ZSBpZiBsaW5lIGFuZCB0cmlhbmdsZSBpbnRlcnNlY3RcbiAqIFxuICogTk9URSB3ZSBjb3VsZCBleHBhbmQgb24gdGhlICdyZXR1cm4gMCcgYW5kIGV4cGxvcmUgaWYgaXRzIHRvdWNoaW5nIGFcbiAgICB2ZXJ0ZXgsIGxpbmUsIG9yIHN1cmZhY2Ugb2YgdHJpYW5nZVxuICogQHJldHVybnMgMCAgaWYgbGluZSB0b3VjaGVzIHRyaWFuZ2xlXG4gICAgICAgICAgICAtMSBpZiBsaW5lIG1pc3NlcyAgdHJpYW5nbGVcbiAgICAgICAgICAgICAxICBpZiBsaW5lIGNyb3NzZXMgdHJpYW5nbGVcbiAqL1xuZnVuY3Rpb24gbGluZVh0cmlhbmdsZShsMTogVmVjdG9yMywgbDI6IFZlY3RvcjMsIHAxOiBWZWN0b3IzLCBwMjogVmVjdG9yMywgcDM6IFZlY3RvcjMpIHtcbiAgICAvLyBsaW5lIHBvaW50cyBtdXN0IGJlIG9uIG9wcG9zaXRlIHNpZGVzIG9mIHRoZSB0cmlhbmdsZVxuICAgIC8vIHJldHVybiBpbW1pZGlhdGVseSBpZiAtMTogaXQgbWVhbnMgbm8gaW50ZXJzZWN0aW9uIGFsd2F5c1xuICAgIGxldCB0ZXN0MCA9IGxpbmVYcGxhbmUobDEsIGwyLCBwMSwgcDIsIHAzKTtcbiAgICBpZiAodGVzdDAgPT0gLTEpIHJldHVybiAtMTtcblxuICAgIC8vIHBsYW5lIHRlc3RzXG4gICAgbGV0IHRlc3QxID0gbGluZVhwbGFuZShwMSwgcDIsIGwxLCBsMiwgcDMpO1xuICAgIGlmICh0ZXN0MSA9PSAtMSkgcmV0dXJuIC0xO1xuICAgIGxldCB0ZXN0MiA9IGxpbmVYcGxhbmUocDIsIHAzLCBsMSwgbDIsIHAxKTtcbiAgICBpZiAodGVzdDIgPT0gLTEpIHJldHVybiAtMTtcbiAgICBsZXQgdGVzdDMgPSBsaW5lWHBsYW5lKHAzLCBwMSwgbDEsIGwyLCBwMik7XG4gICAgaWYgKHRlc3QzID09IC0xKSByZXR1cm4gLTE7XG5cbiAgICAvLyBkZWJ1Z1xuICAgIC8vIHByaW50KFwicG9pbnRzOiBcIiwgbDEsIGwyLCBwMSwgcDIsIHAzKVxuICAgIC8vIHByaW50KCd0ZXN0czonLCB0ZXN0MCwgdGVzdDEsIHRlc3QyLCB0ZXN0MylcblxuICAgIC8vIGZpZ3VyZSBvdXQgaWYgdGhlIGxpbmUgdG91Y2hlcyB0aGUgdHJpYW5nbGUsIG9yIGlmIGl0IGludGVyc2VjdHNcbiAgICBpZiAodGVzdDAgPT0gMSAmJiB0ZXN0MSA9PSAxICYmIHRlc3QyID09IDEgJiYgdGVzdDMgPT0gMSkge1xuICAgICAgICByZXR1cm4gMTtcbiAgICB9IGVsc2Uge1xuICAgICAgICAvLyBUT0RPIGJhc2VkIHVwb24gdGhlIGRpZmZlcmVudCB0ZXN0cywgd2UgY291bGQgZGV0ZXJtaW5lIHdoYXQgaXMgaGl0XG4gICAgICAgIHJldHVybiAwO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gc2lnbmVkX3ZvbHVtZShhOiBWZWN0b3IzLCBiOiBWZWN0b3IzLCBjOiBWZWN0b3IzLCBkOiBWZWN0b3IzKSB7XG4gICAgLy8gd2l0aCB2ZXJ0aWNlcyBhLGIsYyxkOiBnZXQgc2lnbmVkIHZvbHVtZVxuICAgIC8vIHJlbWVtYmVyOiB2ZWN0b3JzIGFsd2F5cyByZW1haW4gc3RhdGUuIFdlIGRvbnQgd2FudCB0byBhbHRlciB0aGUgYWJjZCB2ZWN0b3JzLlxuICAgIGEgPSBhLmNsb25lKCk7XG4gICAgYiA9IGIuY2xvbmUoKTtcbiAgICBjID0gYy5jbG9uZSgpO1xuICAgIHJldHVybiAoXG4gICAgICAgICgxIC8gNikgKlxuICAgICAgICBhXG4gICAgICAgICAgICAuY2xvbmUoKVxuICAgICAgICAgICAgLnN1YihkKVxuICAgICAgICAgICAgLmRvdChjLnN1YihkKS5jcm9zcyhiLnN1YihkKSkpXG4gICAgKTtcbn1cblxuZnVuY3Rpb24gSXNSb3VnaGx5KHRlc3QxOiBudW1iZXIsIGFyZzE6IG51bWJlcikge1xuICAgIHRocm93IG5ldyBFcnJvcihcIkZ1bmN0aW9uIG5vdCBpbXBsZW1lbnRlZC5cIik7XG59XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/geo/intersect.ts\n");

/***/ }),

/***/ "./src/geo/line.ts":
/*!*************************!*\
  !*** ./src/geo/line.ts ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"LineCurve2\": () => /* binding */ LineCurve2\n/* harmony export */ });\n/* harmony import */ var _math_domain__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../math/domain */ \"./src/math/domain.ts\");\n/* harmony import */ var _math_vector__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../math/vector */ \"./src/math/vector.ts\");\n\r\n\r\n// heavy weight Line class\r\nclass LineCurve2 {\r\n    constructor(from, to) {\r\n        this.from = from;\r\n        this.to = to;\r\n        this.vector = to.subbed(this.from);\r\n        this.normal = this.vector.normalized();\r\n        this.bounds = new _math_domain__WEBPACK_IMPORTED_MODULE_0__.Domain(0, this.vector.length());\r\n        this.length = this.vector.length();\r\n    }\r\n    at(t, bounded = true) {\r\n        if (bounded)\r\n            t = this.bounds.comform(t);\r\n        return _math_vector__WEBPACK_IMPORTED_MODULE_1__.Vector2.fromLerp(this.from, this.to, t / this.length);\r\n    }\r\n    atNormal(t, bounded = true) {\r\n        if (bounded)\r\n            t = new _math_domain__WEBPACK_IMPORTED_MODULE_0__.Domain(0, 1).comform(t);\r\n        return _math_vector__WEBPACK_IMPORTED_MODULE_1__.Vector2.fromLerp(this.from, this.to, t);\r\n    }\r\n    closestPoint(point, bounded = true) {\r\n        const d = this.vector.length();\r\n        if (d === 0)\r\n            return;\r\n        let lineToPoint = point.subbed(this.from);\r\n        let dot = lineToPoint.dot(this.vector);\r\n        return this.at(dot, bounded);\r\n    }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9nZW9uLWVuZ2luZS8uL3NyYy9nZW8vbGluZS50cz9hYTg1Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFpRDtBQUNSO0FBRXpDLDBCQUEwQjtBQUNuQixNQUFNLFVBQVU7SUFRbkIsWUFBWSxJQUFhLEVBQUUsRUFBVztRQUNsQyxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQztRQUNqQixJQUFJLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQztRQUNiLElBQUksQ0FBQyxNQUFNLEdBQUcsRUFBRSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDbkMsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLFVBQVUsRUFBRSxDQUFDO1FBQ3ZDLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxnREFBTSxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sRUFBRSxDQUFDLENBQUM7UUFDbEQsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sRUFBRSxDQUFDO0lBQ3ZDLENBQUM7SUFFRCxFQUFFLENBQUMsQ0FBUyxFQUFFLE9BQU8sR0FBRyxJQUFJO1FBQ3hCLElBQUksT0FBTztZQUFFLENBQUMsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUN4QyxPQUFPLDBEQUFnQixDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLEVBQUUsRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO0lBQ2pFLENBQUM7SUFFRCxRQUFRLENBQUMsQ0FBUyxFQUFFLE9BQU8sR0FBRyxJQUFJO1FBQzlCLElBQUksT0FBTztZQUFFLENBQUMsR0FBRyxJQUFJLGdEQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUM3QyxPQUFPLDBEQUFnQixDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUNuRCxDQUFDO0lBRUQsWUFBWSxDQUFDLEtBQWMsRUFBRSxPQUFPLEdBQUcsSUFBSTtRQUN2QyxNQUFNLENBQUMsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sRUFBRSxDQUFDO1FBQy9CLElBQUksQ0FBQyxLQUFLLENBQUM7WUFBRSxPQUFPO1FBRXBCLElBQUksV0FBVyxHQUFHLEtBQUssQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQzFDLElBQUksR0FBRyxHQUFHLFdBQVcsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQ3ZDLE9BQU8sSUFBSSxDQUFDLEVBQUUsQ0FBQyxHQUFHLEVBQUUsT0FBTyxDQUFDLENBQUM7SUFDakMsQ0FBQztDQUNKIiwiZmlsZSI6Ii4vc3JjL2dlby9saW5lLnRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRG9tYWluLCBEb21haW4yIH0gZnJvbSBcIi4uL21hdGgvZG9tYWluXCI7XG5pbXBvcnQgeyBWZWN0b3IyIH0gZnJvbSBcIi4uL21hdGgvdmVjdG9yXCI7XG5cbi8vIGhlYXZ5IHdlaWdodCBMaW5lIGNsYXNzXG5leHBvcnQgY2xhc3MgTGluZUN1cnZlMiB7XG4gICAgcmVhZG9ubHkgZnJvbTogVmVjdG9yMjtcbiAgICByZWFkb25seSB0bzogVmVjdG9yMjtcbiAgICByZWFkb25seSB2ZWN0b3I6IFZlY3RvcjI7XG4gICAgcmVhZG9ubHkgbm9ybWFsOiBWZWN0b3IyO1xuICAgIHJlYWRvbmx5IGJvdW5kczogRG9tYWluO1xuICAgIHJlYWRvbmx5IGxlbmd0aDogbnVtYmVyO1xuXG4gICAgY29uc3RydWN0b3IoZnJvbTogVmVjdG9yMiwgdG86IFZlY3RvcjIpIHtcbiAgICAgICAgdGhpcy5mcm9tID0gZnJvbTtcbiAgICAgICAgdGhpcy50byA9IHRvO1xuICAgICAgICB0aGlzLnZlY3RvciA9IHRvLnN1YmJlZCh0aGlzLmZyb20pO1xuICAgICAgICB0aGlzLm5vcm1hbCA9IHRoaXMudmVjdG9yLm5vcm1hbGl6ZWQoKTtcbiAgICAgICAgdGhpcy5ib3VuZHMgPSBuZXcgRG9tYWluKDAsIHRoaXMudmVjdG9yLmxlbmd0aCgpKTtcbiAgICAgICAgdGhpcy5sZW5ndGggPSB0aGlzLnZlY3Rvci5sZW5ndGgoKTtcbiAgICB9XG5cbiAgICBhdCh0OiBudW1iZXIsIGJvdW5kZWQgPSB0cnVlKTogVmVjdG9yMiB7XG4gICAgICAgIGlmIChib3VuZGVkKSB0ID0gdGhpcy5ib3VuZHMuY29tZm9ybSh0KTtcbiAgICAgICAgcmV0dXJuIFZlY3RvcjIuZnJvbUxlcnAodGhpcy5mcm9tLCB0aGlzLnRvLCB0IC8gdGhpcy5sZW5ndGgpO1xuICAgIH1cblxuICAgIGF0Tm9ybWFsKHQ6IG51bWJlciwgYm91bmRlZCA9IHRydWUpOiBWZWN0b3IyIHtcbiAgICAgICAgaWYgKGJvdW5kZWQpIHQgPSBuZXcgRG9tYWluKDAsIDEpLmNvbWZvcm0odCk7XG4gICAgICAgIHJldHVybiBWZWN0b3IyLmZyb21MZXJwKHRoaXMuZnJvbSwgdGhpcy50bywgdCk7XG4gICAgfVxuXG4gICAgY2xvc2VzdFBvaW50KHBvaW50OiBWZWN0b3IyLCBib3VuZGVkID0gdHJ1ZSk6IFZlY3RvcjIgfCB1bmRlZmluZWQge1xuICAgICAgICBjb25zdCBkID0gdGhpcy52ZWN0b3IubGVuZ3RoKCk7XG4gICAgICAgIGlmIChkID09PSAwKSByZXR1cm47XG5cbiAgICAgICAgbGV0IGxpbmVUb1BvaW50ID0gcG9pbnQuc3ViYmVkKHRoaXMuZnJvbSk7XG4gICAgICAgIGxldCBkb3QgPSBsaW5lVG9Qb2ludC5kb3QodGhpcy52ZWN0b3IpO1xuICAgICAgICByZXR1cm4gdGhpcy5hdChkb3QsIGJvdW5kZWQpO1xuICAgIH1cbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/geo/line.ts\n");

/***/ }),

/***/ "./src/geo/plane.ts":
/*!**************************!*\
  !*** ./src/geo/plane.ts ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Plane\": () => /* binding */ Plane\n/* harmony export */ });\n/* harmony import */ var _math_matrix__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../math/matrix */ \"./src/math/matrix.ts\");\n/* harmony import */ var _math_statistics__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../math/statistics */ \"./src/math/statistics.ts\");\n/* harmony import */ var _math_vector__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../math/vector */ \"./src/math/vector.ts\");\n/* harmony import */ var _math_const__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../math/const */ \"./src/math/const.ts\");\n// name:    plane.ts\r\n// author:  Jos Feenstra\r\n// purpose: definition of a 3d plane.\r\n// todo:    turn Center, Ihat, Jhat, Khat construction to an actual matrix\r\n\r\n\r\n\r\n\r\nclass Plane {\r\n    // _inverse!: Matrix4; // NOTE: currently im not caching this. Might be needed.\r\n    // NOTE : d is not really needed anymore...\r\n    constructor(m) {\r\n        this._matrix = m;\r\n    }\r\n    static fromPN(center, normal) {\r\n        let cross = normal.cross(_math_vector__WEBPACK_IMPORTED_MODULE_2__.Vector3.unitX());\r\n        if (cross.length() < _math_const__WEBPACK_IMPORTED_MODULE_3__.Const.TOLERANCE) {\r\n            cross = normal.cross(_math_vector__WEBPACK_IMPORTED_MODULE_2__.Vector3.unitY());\r\n        }\r\n        let ihat = cross.normalize();\r\n        let jhat = normal.cross(ihat).normalize();\r\n        let mat = Plane.planeMatrixFromVecs(center, ihat, jhat, normal);\r\n        return new Plane(mat);\r\n    }\r\n    static fromPVV(a, v1, v2) {\r\n        // TODO check if we still need this -1 thing\r\n        let khat = v1.clone().cross(v2).normalize(); //.scale(-1);\r\n        let center = a.clone();\r\n        let ihat = v1.normalize();\r\n        let jhat = v1.clone().cross(khat);\r\n        let mat = Plane.planeMatrixFromVecs(center, ihat, jhat, khat);\r\n        return new Plane(mat);\r\n    }\r\n    static from3pt(a, b, c) {\r\n        let v1 = b.clone().sub(a);\r\n        let v2 = c.clone().sub(a);\r\n        return this.fromPVV(a, v1, v2);\r\n    }\r\n    static WorldXY() {\r\n        return Plane.from3pt(_math_vector__WEBPACK_IMPORTED_MODULE_2__.Vector3.zero(), _math_vector__WEBPACK_IMPORTED_MODULE_2__.Vector3.unitX(), _math_vector__WEBPACK_IMPORTED_MODULE_2__.Vector3.unitY());\r\n    }\r\n    static WorldYZ() {\r\n        return Plane.from3pt(_math_vector__WEBPACK_IMPORTED_MODULE_2__.Vector3.zero(), _math_vector__WEBPACK_IMPORTED_MODULE_2__.Vector3.unitY(), _math_vector__WEBPACK_IMPORTED_MODULE_2__.Vector3.unitZ());\r\n    }\r\n    static WorldXZ() {\r\n        return Plane.from3pt(_math_vector__WEBPACK_IMPORTED_MODULE_2__.Vector3.zero(), _math_vector__WEBPACK_IMPORTED_MODULE_2__.Vector3.unitX(), _math_vector__WEBPACK_IMPORTED_MODULE_2__.Vector3.unitZ());\r\n    }\r\n    static fromLeastSquares(pts) {\r\n        let mean = pts.mean();\r\n        let cov = _math_statistics__WEBPACK_IMPORTED_MODULE_1__.Stat.cov(pts);\r\n        let [eigValues, eigVectors] = _math_statistics__WEBPACK_IMPORTED_MODULE_1__.Stat.eig(cov);\r\n        console.log(eigValues);\r\n        let biggestEigenVector = _math_vector__WEBPACK_IMPORTED_MODULE_2__.Vector3.fromArray(eigVectors.getColumn(0));\r\n        let secondBiggestEigenVector = _math_vector__WEBPACK_IMPORTED_MODULE_2__.Vector3.fromArray(eigVectors.getColumn(1));\r\n        return Plane.fromPVV(mean, biggestEigenVector, secondBiggestEigenVector);\r\n    }\r\n    static fromXYLeastSquares(pts) {\r\n        // quite specific, but this was needed.\r\n        let mean = pts.mean();\r\n        return Plane.WorldXY().transform(_math_matrix__WEBPACK_IMPORTED_MODULE_0__.Matrix4.newTranslation(mean.x, mean.y, mean.z));\r\n    }\r\n    static planeMatrixFromVecs(c, i, j, k) {\r\n        return new _math_matrix__WEBPACK_IMPORTED_MODULE_0__.Matrix4([i.x, i.y, i.z, 0, j.x, j.y, j.z, 0, k.x, k.y, k.z, 0, c.x, c.y, c.z, 1]);\r\n    }\r\n    get ihat() {\r\n        return _math_vector__WEBPACK_IMPORTED_MODULE_2__.Vector3.fromArray(this._matrix.getRow(0));\r\n    }\r\n    get jhat() {\r\n        return _math_vector__WEBPACK_IMPORTED_MODULE_2__.Vector3.fromArray(this._matrix.getRow(1));\r\n    }\r\n    get khat() {\r\n        return _math_vector__WEBPACK_IMPORTED_MODULE_2__.Vector3.fromArray(this._matrix.getRow(2));\r\n    }\r\n    get center() {\r\n        return _math_vector__WEBPACK_IMPORTED_MODULE_2__.Vector3.fromArray(this._matrix.getRow(3));\r\n    }\r\n    get matrix() {\r\n        return this._matrix.clone();\r\n    }\r\n    get normal() {\r\n        return this.khat;\r\n    }\r\n    get d() {\r\n        return this.closestPoint(_math_vector__WEBPACK_IMPORTED_MODULE_2__.Vector3.zero())[1];\r\n    }\r\n    set ihat(v) {\r\n        this._matrix.setRow(0, [v.x, v.y, v.z, 0]);\r\n    }\r\n    set jhat(v) {\r\n        this._matrix.setRow(1, [v.x, v.y, v.z, 0]);\r\n    }\r\n    set khat(v) {\r\n        this._matrix.setRow(2, [v.x, v.y, v.z, 0]);\r\n    }\r\n    set center(v) {\r\n        this._matrix.setRow(3, [v.x, v.y, v.z, 1]);\r\n    }\r\n    set matrix(m) {\r\n        this._matrix = m;\r\n    }\r\n    get inverse() {\r\n        // TODO CACHE INVERSE MATRIX\r\n        return this._matrix.inverse();\r\n    }\r\n    setPosition(vec) {\r\n        this.center = vec;\r\n    }\r\n    setNormal(vec) {\r\n        this.khat = vec;\r\n    }\r\n    clone() {\r\n        return new Plane(this._matrix.clone());\r\n    }\r\n    transform(m) {\r\n        this._matrix = this._matrix.multiply(m);\r\n        return this;\r\n    }\r\n    moveTo(origin) {\r\n        this.center = origin;\r\n        return this;\r\n    }\r\n    // NOTE: pulling is inefficient since i do not cache the inverse.\r\n    pullToPlane(p) {\r\n        return this.inverse.multiplyVector(p);\r\n    }\r\n    pushToWorld(p) {\r\n        return this.matrix.multiplyVector(p);\r\n    }\r\n    closestPoint(p) {\r\n        let pulled = this.pullToPlane(p);\r\n        let distance = pulled.z;\r\n        pulled.z = 0;\r\n        let vec = this.pushToWorld(pulled);\r\n        return [vec, distance];\r\n    }\r\n    rotateVector(v, radians) {\r\n        let pulled = this.pullToPlane(v);\r\n        let rotation = _math_matrix__WEBPACK_IMPORTED_MODULE_0__.Matrix4.newAxisRotation(this.normal, radians);\r\n        pulled = rotation.multiplyVector(pulled);\r\n        return this.pushToWorld(pulled);\r\n    }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9nZW9uLWVuZ2luZS8uL3NyYy9nZW8vcGxhbmUudHM/YmQ2NSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBLG9CQUFvQjtBQUNwQix3QkFBd0I7QUFDeEIscUNBQXFDO0FBQ3JDLDBFQUEwRTtBQUlqQztBQUNDO0FBQ1E7QUFDWjtBQUUvQixNQUFNLEtBQUs7SUFFZCwrRUFBK0U7SUFFL0UsMkNBQTJDO0lBQzNDLFlBQVksQ0FBVTtRQUNsQixJQUFJLENBQUMsT0FBTyxHQUFHLENBQUMsQ0FBQztJQUNyQixDQUFDO0lBRUQsTUFBTSxDQUFDLE1BQU0sQ0FBQyxNQUFlLEVBQUUsTUFBZTtRQUMxQyxJQUFJLEtBQUssR0FBRyxNQUFNLENBQUMsS0FBSyxDQUFDLHVEQUFhLEVBQUUsQ0FBQyxDQUFDO1FBQzFDLElBQUksS0FBSyxDQUFDLE1BQU0sRUFBRSxHQUFHLHdEQUFlLEVBQUU7WUFDbEMsS0FBSyxHQUFHLE1BQU0sQ0FBQyxLQUFLLENBQUMsdURBQWEsRUFBRSxDQUFDLENBQUM7U0FDekM7UUFDRCxJQUFJLElBQUksR0FBRyxLQUFLLENBQUMsU0FBUyxFQUFFLENBQUM7UUFDN0IsSUFBSSxJQUFJLEdBQUcsTUFBTSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQyxTQUFTLEVBQUUsQ0FBQztRQUUxQyxJQUFJLEdBQUcsR0FBRyxLQUFLLENBQUMsbUJBQW1CLENBQUMsTUFBTSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsTUFBTSxDQUFDLENBQUM7UUFDaEUsT0FBTyxJQUFJLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUMxQixDQUFDO0lBRUQsTUFBTSxDQUFDLE9BQU8sQ0FBQyxDQUFVLEVBQUUsRUFBVyxFQUFFLEVBQVc7UUFDL0MsNENBQTRDO1FBQzVDLElBQUksSUFBSSxHQUFHLEVBQUUsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxLQUFLLENBQUMsRUFBRSxDQUFDLENBQUMsU0FBUyxFQUFFLENBQUMsQ0FBQyxhQUFhO1FBRTFELElBQUksTUFBTSxHQUFHLENBQUMsQ0FBQyxLQUFLLEVBQUUsQ0FBQztRQUN2QixJQUFJLElBQUksR0FBRyxFQUFFLENBQUMsU0FBUyxFQUFFLENBQUM7UUFDMUIsSUFBSSxJQUFJLEdBQUcsRUFBRSxDQUFDLEtBQUssRUFBRSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUVsQyxJQUFJLEdBQUcsR0FBRyxLQUFLLENBQUMsbUJBQW1CLENBQUMsTUFBTSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDOUQsT0FBTyxJQUFJLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUMxQixDQUFDO0lBRUQsTUFBTSxDQUFDLE9BQU8sQ0FBQyxDQUFVLEVBQUUsQ0FBVSxFQUFFLENBQVU7UUFDN0MsSUFBSSxFQUFFLEdBQUcsQ0FBQyxDQUFDLEtBQUssRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUMxQixJQUFJLEVBQUUsR0FBRyxDQUFDLENBQUMsS0FBSyxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQzFCLE9BQU8sSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsQ0FBQyxDQUFDO0lBQ25DLENBQUM7SUFFRCxNQUFNLENBQUMsT0FBTztRQUNWLE9BQU8sS0FBSyxDQUFDLE9BQU8sQ0FBQyxzREFBWSxFQUFFLEVBQUUsdURBQWEsRUFBRSxFQUFFLHVEQUFhLEVBQUUsQ0FBQyxDQUFDO0lBQzNFLENBQUM7SUFFRCxNQUFNLENBQUMsT0FBTztRQUNWLE9BQU8sS0FBSyxDQUFDLE9BQU8sQ0FBQyxzREFBWSxFQUFFLEVBQUUsdURBQWEsRUFBRSxFQUFFLHVEQUFhLEVBQUUsQ0FBQyxDQUFDO0lBQzNFLENBQUM7SUFFRCxNQUFNLENBQUMsT0FBTztRQUNWLE9BQU8sS0FBSyxDQUFDLE9BQU8sQ0FBQyxzREFBWSxFQUFFLEVBQUUsdURBQWEsRUFBRSxFQUFFLHVEQUFhLEVBQUUsQ0FBQyxDQUFDO0lBQzNFLENBQUM7SUFFRCxNQUFNLENBQUMsZ0JBQWdCLENBQUMsR0FBaUI7UUFDckMsSUFBSSxJQUFJLEdBQUcsR0FBRyxDQUFDLElBQUksRUFBRSxDQUFDO1FBQ3RCLElBQUksR0FBRyxHQUFHLHNEQUFRLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDeEIsSUFBSSxDQUFDLFNBQVMsRUFBRSxVQUFVLENBQUMsR0FBRyxzREFBUSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQzVDLE9BQU8sQ0FBQyxHQUFHLENBQUMsU0FBUyxDQUFDLENBQUM7UUFFdkIsSUFBSSxrQkFBa0IsR0FBRywyREFBaUIsQ0FBQyxVQUFVLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDcEUsSUFBSSx3QkFBd0IsR0FBRywyREFBaUIsQ0FBQyxVQUFVLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFFMUUsT0FBTyxLQUFLLENBQUMsT0FBTyxDQUFDLElBQUksRUFBRSxrQkFBa0IsRUFBRSx3QkFBd0IsQ0FBQyxDQUFDO0lBQzdFLENBQUM7SUFFRCxNQUFNLENBQUMsa0JBQWtCLENBQUMsR0FBaUI7UUFDdkMsdUNBQXVDO1FBQ3ZDLElBQUksSUFBSSxHQUFHLEdBQUcsQ0FBQyxJQUFJLEVBQUUsQ0FBQztRQUN0QixPQUFPLEtBQUssQ0FBQyxPQUFPLEVBQUUsQ0FBQyxTQUFTLENBQUMsZ0VBQXNCLENBQUMsSUFBSSxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ3JGLENBQUM7SUFFRCxNQUFNLENBQUMsbUJBQW1CLENBQUMsQ0FBVSxFQUFFLENBQVUsRUFBRSxDQUFVLEVBQUUsQ0FBVTtRQUNyRSxPQUFPLElBQUksaURBQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDakcsQ0FBQztJQUVELElBQVcsSUFBSTtRQUNYLE9BQU8sMkRBQWlCLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUNyRCxDQUFDO0lBQ0QsSUFBVyxJQUFJO1FBQ1gsT0FBTywyREFBaUIsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ3JELENBQUM7SUFDRCxJQUFXLElBQUk7UUFDWCxPQUFPLDJEQUFpQixDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDckQsQ0FBQztJQUNELElBQVcsTUFBTTtRQUNiLE9BQU8sMkRBQWlCLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUNyRCxDQUFDO0lBQ0QsSUFBVyxNQUFNO1FBQ2IsT0FBTyxJQUFJLENBQUMsT0FBTyxDQUFDLEtBQUssRUFBRSxDQUFDO0lBQ2hDLENBQUM7SUFFRCxJQUFXLE1BQU07UUFDYixPQUFPLElBQUksQ0FBQyxJQUFJLENBQUM7SUFDckIsQ0FBQztJQUNELElBQVcsQ0FBQztRQUNSLE9BQU8sSUFBSSxDQUFDLFlBQVksQ0FBQyxzREFBWSxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUNoRCxDQUFDO0lBRUQsSUFBVyxJQUFJLENBQUMsQ0FBVTtRQUN0QixJQUFJLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQy9DLENBQUM7SUFDRCxJQUFXLElBQUksQ0FBQyxDQUFVO1FBQ3RCLElBQUksQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDL0MsQ0FBQztJQUNELElBQVcsSUFBSSxDQUFDLENBQVU7UUFDdEIsSUFBSSxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUMvQyxDQUFDO0lBQ0QsSUFBVyxNQUFNLENBQUMsQ0FBVTtRQUN4QixJQUFJLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQy9DLENBQUM7SUFDRCxJQUFXLE1BQU0sQ0FBQyxDQUFVO1FBQ3hCLElBQUksQ0FBQyxPQUFPLEdBQUcsQ0FBQyxDQUFDO0lBQ3JCLENBQUM7SUFFRCxJQUFXLE9BQU87UUFDZCw0QkFBNEI7UUFDNUIsT0FBTyxJQUFJLENBQUMsT0FBTyxDQUFDLE9BQU8sRUFBRSxDQUFDO0lBQ2xDLENBQUM7SUFFRCxXQUFXLENBQUMsR0FBWTtRQUNwQixJQUFJLENBQUMsTUFBTSxHQUFHLEdBQUcsQ0FBQztJQUN0QixDQUFDO0lBRUQsU0FBUyxDQUFDLEdBQVk7UUFDbEIsSUFBSSxDQUFDLElBQUksR0FBRyxHQUFHLENBQUM7SUFDcEIsQ0FBQztJQUVELEtBQUs7UUFDRCxPQUFPLElBQUksS0FBSyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsS0FBSyxFQUFFLENBQUMsQ0FBQztJQUMzQyxDQUFDO0lBRUQsU0FBUyxDQUFDLENBQVU7UUFDaEIsSUFBSSxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUN4QyxPQUFPLElBQUksQ0FBQztJQUNoQixDQUFDO0lBRUQsTUFBTSxDQUFDLE1BQWU7UUFDbEIsSUFBSSxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUM7UUFDckIsT0FBTyxJQUFJLENBQUM7SUFDaEIsQ0FBQztJQUVELGlFQUFpRTtJQUNqRSxXQUFXLENBQUMsQ0FBVTtRQUNsQixPQUFPLElBQUksQ0FBQyxPQUFPLENBQUMsY0FBYyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQzFDLENBQUM7SUFFRCxXQUFXLENBQUMsQ0FBVTtRQUNsQixPQUFPLElBQUksQ0FBQyxNQUFNLENBQUMsY0FBYyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ3pDLENBQUM7SUFFRCxZQUFZLENBQUMsQ0FBVTtRQUNuQixJQUFJLE1BQU0sR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ2pDLElBQUksUUFBUSxHQUFHLE1BQU0sQ0FBQyxDQUFDLENBQUM7UUFDeEIsTUFBTSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDYixJQUFJLEdBQUcsR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQ25DLE9BQU8sQ0FBQyxHQUFHLEVBQUUsUUFBUSxDQUFDLENBQUM7SUFDM0IsQ0FBQztJQUVELFlBQVksQ0FBQyxDQUFVLEVBQUUsT0FBZTtRQUNwQyxJQUFJLE1BQU0sR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ2pDLElBQUksUUFBUSxHQUFHLGlFQUF1QixDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsT0FBTyxDQUFDLENBQUM7UUFDN0QsTUFBTSxHQUFHLFFBQVEsQ0FBQyxjQUFjLENBQUMsTUFBTSxDQUFDLENBQUM7UUFDekMsT0FBTyxJQUFJLENBQUMsV0FBVyxDQUFDLE1BQU0sQ0FBQyxDQUFDO0lBQ3BDLENBQUM7Q0FpQkoiLCJmaWxlIjoiLi9zcmMvZ2VvL3BsYW5lLnRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gbmFtZTogICAgcGxhbmUudHNcbi8vIGF1dGhvcjogIEpvcyBGZWVuc3RyYVxuLy8gcHVycG9zZTogZGVmaW5pdGlvbiBvZiBhIDNkIHBsYW5lLlxuLy8gdG9kbzogICAgdHVybiBDZW50ZXIsIEloYXQsIEpoYXQsIEtoYXQgY29uc3RydWN0aW9uIHRvIGFuIGFjdHVhbCBtYXRyaXhcblxuaW1wb3J0IHsgVmVjdG9yM0FycmF5IH0gZnJvbSBcIi4uL2RhdGEvdmVjdG9yLWFycmF5XCI7XG5pbXBvcnQgeyBHZW9uTWF0aCB9IGZyb20gXCIuLi9tYXRoL21hdGhcIjtcbmltcG9ydCB7IE1hdHJpeDQgfSBmcm9tIFwiLi4vbWF0aC9tYXRyaXhcIjtcbmltcG9ydCB7IFN0YXQgfSBmcm9tIFwiLi4vbWF0aC9zdGF0aXN0aWNzXCI7XG5pbXBvcnQgeyBWZWN0b3IyLCBWZWN0b3IzIH0gZnJvbSBcIi4uL21hdGgvdmVjdG9yXCI7XG5pbXBvcnQgeyBDb25zdCB9IGZyb20gXCIuLi9tYXRoL2NvbnN0XCI7XG5cbmV4cG9ydCBjbGFzcyBQbGFuZSB7XG4gICAgX21hdHJpeCE6IE1hdHJpeDQ7XG4gICAgLy8gX2ludmVyc2UhOiBNYXRyaXg0OyAvLyBOT1RFOiBjdXJyZW50bHkgaW0gbm90IGNhY2hpbmcgdGhpcy4gTWlnaHQgYmUgbmVlZGVkLlxuXG4gICAgLy8gTk9URSA6IGQgaXMgbm90IHJlYWxseSBuZWVkZWQgYW55bW9yZS4uLlxuICAgIGNvbnN0cnVjdG9yKG06IE1hdHJpeDQpIHtcbiAgICAgICAgdGhpcy5fbWF0cml4ID0gbTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZnJvbVBOKGNlbnRlcjogVmVjdG9yMywgbm9ybWFsOiBWZWN0b3IzKSB7XG4gICAgICAgIGxldCBjcm9zcyA9IG5vcm1hbC5jcm9zcyhWZWN0b3IzLnVuaXRYKCkpO1xuICAgICAgICBpZiAoY3Jvc3MubGVuZ3RoKCkgPCBDb25zdC5UT0xFUkFOQ0UpIHtcbiAgICAgICAgICAgIGNyb3NzID0gbm9ybWFsLmNyb3NzKFZlY3RvcjMudW5pdFkoKSk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGloYXQgPSBjcm9zcy5ub3JtYWxpemUoKTtcbiAgICAgICAgbGV0IGpoYXQgPSBub3JtYWwuY3Jvc3MoaWhhdCkubm9ybWFsaXplKCk7XG5cbiAgICAgICAgbGV0IG1hdCA9IFBsYW5lLnBsYW5lTWF0cml4RnJvbVZlY3MoY2VudGVyLCBpaGF0LCBqaGF0LCBub3JtYWwpO1xuICAgICAgICByZXR1cm4gbmV3IFBsYW5lKG1hdCk7XG4gICAgfVxuXG4gICAgc3RhdGljIGZyb21QVlYoYTogVmVjdG9yMywgdjE6IFZlY3RvcjMsIHYyOiBWZWN0b3IzKSB7XG4gICAgICAgIC8vIFRPRE8gY2hlY2sgaWYgd2Ugc3RpbGwgbmVlZCB0aGlzIC0xIHRoaW5nXG4gICAgICAgIGxldCBraGF0ID0gdjEuY2xvbmUoKS5jcm9zcyh2Mikubm9ybWFsaXplKCk7IC8vLnNjYWxlKC0xKTtcblxuICAgICAgICBsZXQgY2VudGVyID0gYS5jbG9uZSgpO1xuICAgICAgICBsZXQgaWhhdCA9IHYxLm5vcm1hbGl6ZSgpO1xuICAgICAgICBsZXQgamhhdCA9IHYxLmNsb25lKCkuY3Jvc3Moa2hhdCk7XG5cbiAgICAgICAgbGV0IG1hdCA9IFBsYW5lLnBsYW5lTWF0cml4RnJvbVZlY3MoY2VudGVyLCBpaGF0LCBqaGF0LCBraGF0KTtcbiAgICAgICAgcmV0dXJuIG5ldyBQbGFuZShtYXQpO1xuICAgIH1cblxuICAgIHN0YXRpYyBmcm9tM3B0KGE6IFZlY3RvcjMsIGI6IFZlY3RvcjMsIGM6IFZlY3RvcjMpIHtcbiAgICAgICAgbGV0IHYxID0gYi5jbG9uZSgpLnN1YihhKTtcbiAgICAgICAgbGV0IHYyID0gYy5jbG9uZSgpLnN1YihhKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZnJvbVBWVihhLCB2MSwgdjIpO1xuICAgIH1cblxuICAgIHN0YXRpYyBXb3JsZFhZKCk6IFBsYW5lIHtcbiAgICAgICAgcmV0dXJuIFBsYW5lLmZyb20zcHQoVmVjdG9yMy56ZXJvKCksIFZlY3RvcjMudW5pdFgoKSwgVmVjdG9yMy51bml0WSgpKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgV29ybGRZWigpOiBQbGFuZSB7XG4gICAgICAgIHJldHVybiBQbGFuZS5mcm9tM3B0KFZlY3RvcjMuemVybygpLCBWZWN0b3IzLnVuaXRZKCksIFZlY3RvcjMudW5pdFooKSk7XG4gICAgfVxuXG4gICAgc3RhdGljIFdvcmxkWFooKTogUGxhbmUge1xuICAgICAgICByZXR1cm4gUGxhbmUuZnJvbTNwdChWZWN0b3IzLnplcm8oKSwgVmVjdG9yMy51bml0WCgpLCBWZWN0b3IzLnVuaXRaKCkpO1xuICAgIH1cblxuICAgIHN0YXRpYyBmcm9tTGVhc3RTcXVhcmVzKHB0czogVmVjdG9yM0FycmF5KTogUGxhbmUge1xuICAgICAgICBsZXQgbWVhbiA9IHB0cy5tZWFuKCk7XG4gICAgICAgIGxldCBjb3YgPSBTdGF0LmNvdihwdHMpO1xuICAgICAgICBsZXQgW2VpZ1ZhbHVlcywgZWlnVmVjdG9yc10gPSBTdGF0LmVpZyhjb3YpO1xuICAgICAgICBjb25zb2xlLmxvZyhlaWdWYWx1ZXMpO1xuXG4gICAgICAgIGxldCBiaWdnZXN0RWlnZW5WZWN0b3IgPSBWZWN0b3IzLmZyb21BcnJheShlaWdWZWN0b3JzLmdldENvbHVtbigwKSk7XG4gICAgICAgIGxldCBzZWNvbmRCaWdnZXN0RWlnZW5WZWN0b3IgPSBWZWN0b3IzLmZyb21BcnJheShlaWdWZWN0b3JzLmdldENvbHVtbigxKSk7XG5cbiAgICAgICAgcmV0dXJuIFBsYW5lLmZyb21QVlYobWVhbiwgYmlnZ2VzdEVpZ2VuVmVjdG9yLCBzZWNvbmRCaWdnZXN0RWlnZW5WZWN0b3IpO1xuICAgIH1cblxuICAgIHN0YXRpYyBmcm9tWFlMZWFzdFNxdWFyZXMocHRzOiBWZWN0b3IzQXJyYXkpOiBQbGFuZSB7XG4gICAgICAgIC8vIHF1aXRlIHNwZWNpZmljLCBidXQgdGhpcyB3YXMgbmVlZGVkLlxuICAgICAgICBsZXQgbWVhbiA9IHB0cy5tZWFuKCk7XG4gICAgICAgIHJldHVybiBQbGFuZS5Xb3JsZFhZKCkudHJhbnNmb3JtKE1hdHJpeDQubmV3VHJhbnNsYXRpb24obWVhbi54LCBtZWFuLnksIG1lYW4ueikpO1xuICAgIH1cblxuICAgIHN0YXRpYyBwbGFuZU1hdHJpeEZyb21WZWNzKGM6IFZlY3RvcjMsIGk6IFZlY3RvcjMsIGo6IFZlY3RvcjMsIGs6IFZlY3RvcjMpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBNYXRyaXg0KFtpLngsIGkueSwgaS56LCAwLCBqLngsIGoueSwgai56LCAwLCBrLngsIGsueSwgay56LCAwLCBjLngsIGMueSwgYy56LCAxXSk7XG4gICAgfVxuXG4gICAgcHVibGljIGdldCBpaGF0KCkge1xuICAgICAgICByZXR1cm4gVmVjdG9yMy5mcm9tQXJyYXkodGhpcy5fbWF0cml4LmdldFJvdygwKSk7XG4gICAgfVxuICAgIHB1YmxpYyBnZXQgamhhdCgpIHtcbiAgICAgICAgcmV0dXJuIFZlY3RvcjMuZnJvbUFycmF5KHRoaXMuX21hdHJpeC5nZXRSb3coMSkpO1xuICAgIH1cbiAgICBwdWJsaWMgZ2V0IGtoYXQoKSB7XG4gICAgICAgIHJldHVybiBWZWN0b3IzLmZyb21BcnJheSh0aGlzLl9tYXRyaXguZ2V0Um93KDIpKTtcbiAgICB9XG4gICAgcHVibGljIGdldCBjZW50ZXIoKSB7XG4gICAgICAgIHJldHVybiBWZWN0b3IzLmZyb21BcnJheSh0aGlzLl9tYXRyaXguZ2V0Um93KDMpKTtcbiAgICB9XG4gICAgcHVibGljIGdldCBtYXRyaXgoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9tYXRyaXguY2xvbmUoKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0IG5vcm1hbCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMua2hhdDtcbiAgICB9XG4gICAgcHVibGljIGdldCBkKCk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiB0aGlzLmNsb3Nlc3RQb2ludChWZWN0b3IzLnplcm8oKSlbMV07XG4gICAgfVxuXG4gICAgcHVibGljIHNldCBpaGF0KHY6IFZlY3RvcjMpIHtcbiAgICAgICAgdGhpcy5fbWF0cml4LnNldFJvdygwLCBbdi54LCB2LnksIHYueiwgMF0pO1xuICAgIH1cbiAgICBwdWJsaWMgc2V0IGpoYXQodjogVmVjdG9yMykge1xuICAgICAgICB0aGlzLl9tYXRyaXguc2V0Um93KDEsIFt2LngsIHYueSwgdi56LCAwXSk7XG4gICAgfVxuICAgIHB1YmxpYyBzZXQga2hhdCh2OiBWZWN0b3IzKSB7XG4gICAgICAgIHRoaXMuX21hdHJpeC5zZXRSb3coMiwgW3YueCwgdi55LCB2LnosIDBdKTtcbiAgICB9XG4gICAgcHVibGljIHNldCBjZW50ZXIodjogVmVjdG9yMykge1xuICAgICAgICB0aGlzLl9tYXRyaXguc2V0Um93KDMsIFt2LngsIHYueSwgdi56LCAxXSk7XG4gICAgfVxuICAgIHB1YmxpYyBzZXQgbWF0cml4KG06IE1hdHJpeDQpIHtcbiAgICAgICAgdGhpcy5fbWF0cml4ID0gbTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0IGludmVyc2UoKSB7XG4gICAgICAgIC8vIFRPRE8gQ0FDSEUgSU5WRVJTRSBNQVRSSVhcbiAgICAgICAgcmV0dXJuIHRoaXMuX21hdHJpeC5pbnZlcnNlKCk7XG4gICAgfVxuXG4gICAgc2V0UG9zaXRpb24odmVjOiBWZWN0b3IzKSB7XG4gICAgICAgIHRoaXMuY2VudGVyID0gdmVjO1xuICAgIH1cblxuICAgIHNldE5vcm1hbCh2ZWM6IFZlY3RvcjMpIHtcbiAgICAgICAgdGhpcy5raGF0ID0gdmVjO1xuICAgIH1cblxuICAgIGNsb25lKCkge1xuICAgICAgICByZXR1cm4gbmV3IFBsYW5lKHRoaXMuX21hdHJpeC5jbG9uZSgpKTtcbiAgICB9XG5cbiAgICB0cmFuc2Zvcm0obTogTWF0cml4NCk6IFBsYW5lIHtcbiAgICAgICAgdGhpcy5fbWF0cml4ID0gdGhpcy5fbWF0cml4Lm11bHRpcGx5KG0pO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBtb3ZlVG8ob3JpZ2luOiBWZWN0b3IzKSB7XG4gICAgICAgIHRoaXMuY2VudGVyID0gb3JpZ2luO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvLyBOT1RFOiBwdWxsaW5nIGlzIGluZWZmaWNpZW50IHNpbmNlIGkgZG8gbm90IGNhY2hlIHRoZSBpbnZlcnNlLlxuICAgIHB1bGxUb1BsYW5lKHA6IFZlY3RvcjMpOiBWZWN0b3IzIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaW52ZXJzZS5tdWx0aXBseVZlY3RvcihwKTtcbiAgICB9XG5cbiAgICBwdXNoVG9Xb3JsZChwOiBWZWN0b3IzKTogVmVjdG9yMyB7XG4gICAgICAgIHJldHVybiB0aGlzLm1hdHJpeC5tdWx0aXBseVZlY3RvcihwKTtcbiAgICB9XG5cbiAgICBjbG9zZXN0UG9pbnQocDogVmVjdG9yMyk6IFtWZWN0b3IzLCBudW1iZXJdIHtcbiAgICAgICAgbGV0IHB1bGxlZCA9IHRoaXMucHVsbFRvUGxhbmUocCk7XG4gICAgICAgIGxldCBkaXN0YW5jZSA9IHB1bGxlZC56O1xuICAgICAgICBwdWxsZWQueiA9IDA7XG4gICAgICAgIGxldCB2ZWMgPSB0aGlzLnB1c2hUb1dvcmxkKHB1bGxlZCk7XG4gICAgICAgIHJldHVybiBbdmVjLCBkaXN0YW5jZV07XG4gICAgfVxuXG4gICAgcm90YXRlVmVjdG9yKHY6IFZlY3RvcjMsIHJhZGlhbnM6IG51bWJlcikge1xuICAgICAgICBsZXQgcHVsbGVkID0gdGhpcy5wdWxsVG9QbGFuZSh2KTtcbiAgICAgICAgbGV0IHJvdGF0aW9uID0gTWF0cml4NC5uZXdBeGlzUm90YXRpb24odGhpcy5ub3JtYWwsIHJhZGlhbnMpO1xuICAgICAgICBwdWxsZWQgPSByb3RhdGlvbi5tdWx0aXBseVZlY3RvcihwdWxsZWQpO1xuICAgICAgICByZXR1cm4gdGhpcy5wdXNoVG9Xb3JsZChwdWxsZWQpO1xuICAgIH1cblxuICAgIC8vIGNsb3Nlc3RQb2ludChwOiBWZWN0b3IzKSA6IFtWZWN0b3IzLCBudW1iZXJdIHtcbiAgICAvLyAgICAgLy8gcHJvamVjdCBhIHBvaW50IHRvIHRoZSBwbGFuZSB1c2luZyB0aGUgc2hvcnRlc3QgZGlzdGFuY2VcbiAgICAvLyAgICAgLy8gTk9URTogdGhpcyBtZXRob2QgaXMgYSBzb3J0IG9mIGhhbGYgaW52ZXJzZSBtYXRyaXggYXBwcm9hY2guXG4gICAgLy8gICAgIC8vICAgICAgIHVzaW5nIHRoZSBpbnZlcnNlIG9mIHRoZSBwbGFuZSBtYXRyaXggbWlnaHQganVzdCBiZSBlYXNpZXIuXG4gICAgLy8gICAgIGxldCBbYSxiLGMsZF0gPSB0aGlzLmdldFBsYW5lUGFyYW1zKCk7XG4gICAgLy8gICAgIGxldCBub3JtYWxpemVyID0gKChhKioyICsgYioqMiArIGMqKjIpKiowLjUpO1xuICAgIC8vICAgICBsZXQgc2lnbmVkX2Rpc3RhbmNlID0gYSpwLnggKyBiKnAueSArIGMqcC56ICsgZCAvIG5vcm1hbGl6ZXI7XG5cbiAgICAvLyAgICAgbGV0IHZ4ID0gKGEgLyBub3JtYWxpemVyKSAqIC1zaWduZWRfZGlzdGFuY2U7XG4gICAgLy8gICAgIGxldCB2eSA9IChiIC8gbm9ybWFsaXplcikgKiAtc2lnbmVkX2Rpc3RhbmNlO1xuICAgIC8vICAgICBsZXQgdnogPSAoYyAvIG5vcm1hbGl6ZXIpICogLXNpZ25lZF9kaXN0YW5jZTtcblxuICAgIC8vICAgICBsZXQgdmVjID0gcC5jbG9uZSgpLmFkZChuZXcgVmVjdG9yMyh2eCwgdnksIHZ6KSk7XG4gICAgLy8gICAgIHJldHVybiBbdmVjLCBzaWduZWRfZGlzdGFuY2VdXG4gICAgLy8gfVxufVxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/geo/plane.ts\n");

/***/ }),

/***/ "./src/geo/polyline.ts":
/*!*****************************!*\
  !*** ./src/geo/polyline.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Polyline\": () => /* binding */ Polyline\n/* harmony export */ });\nclass Polyline {\r\n    constructor(verts) {\r\n        this.verts = [];\r\n        this.verts = verts;\r\n    }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9nZW9uLWVuZ2luZS8uL3NyYy9nZW8vcG9seWxpbmUudHM/ZjBkMiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O0FBRU8sTUFBTSxRQUFRO0lBR2pCLFlBQVksS0FBZ0I7UUFGNUIsVUFBSyxHQUFjLEVBQUUsQ0FBQztRQUdsQixJQUFJLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztJQUN2QixDQUFDO0NBQ0oiLCJmaWxlIjoiLi9zcmMvZ2VvL3BvbHlsaW5lLnRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgVmVjdG9yMyB9IGZyb20gXCIuLi9tYXRoL3ZlY3RvclwiO1xuXG5leHBvcnQgY2xhc3MgUG9seWxpbmUge1xuICAgIHZlcnRzOiBWZWN0b3IzW10gPSBbXTtcblxuICAgIGNvbnN0cnVjdG9yKHZlcnRzOiBWZWN0b3IzW10pIHtcbiAgICAgICAgdGhpcy52ZXJ0cyA9IHZlcnRzO1xuICAgIH1cbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/geo/polyline.ts\n");

/***/ }),

/***/ "./src/geo/rectangle.ts":
/*!******************************!*\
  !*** ./src/geo/rectangle.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Rectangle2\": () => /* binding */ Rectangle2,\n/* harmony export */   \"Rectangle3\": () => /* binding */ Rectangle3\n/* harmony export */ });\n/* harmony import */ var _math_vector__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../math/vector */ \"./src/math/vector.ts\");\n/* harmony import */ var _plane__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./plane */ \"./src/geo/plane.ts\");\n\r\n\r\nclass Rectangle2 {\r\n    constructor(pose, domain) {\r\n        this.pose = pose;\r\n        this.domain = domain;\r\n    }\r\n    center() {\r\n        return this.pose.transformVector(new _math_vector__WEBPACK_IMPORTED_MODULE_0__.Vector2(0, 0));\r\n    }\r\n    getVertices() {\r\n        let verts = [\r\n            new _math_vector__WEBPACK_IMPORTED_MODULE_0__.Vector2(this.domain.x.t0, this.domain.y.t0),\r\n            new _math_vector__WEBPACK_IMPORTED_MODULE_0__.Vector2(this.domain.x.t1, this.domain.y.t0),\r\n            new _math_vector__WEBPACK_IMPORTED_MODULE_0__.Vector2(this.domain.x.t0, this.domain.y.t1),\r\n            new _math_vector__WEBPACK_IMPORTED_MODULE_0__.Vector2(this.domain.x.t1, this.domain.y.t1),\r\n        ];\r\n        verts.forEach((v) => this.pose.transformVector(v));\r\n        return verts;\r\n    }\r\n    to3D() {\r\n        let mat4 = this.pose.toMat4();\r\n        return new Rectangle3(new _plane__WEBPACK_IMPORTED_MODULE_1__.Plane(mat4), this.domain);\r\n    }\r\n}\r\nclass Rectangle3 {\r\n    constructor(plane, domain) {\r\n        this.plane = plane;\r\n        this.domain = domain;\r\n    }\r\n    getCorners() {\r\n        let corners = this.domain.corners();\r\n        let corners3 = corners.map((c) => this.plane.pushToWorld(c.to3D()));\r\n        return corners3;\r\n    }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9nZW9uLWVuZ2luZS8uL3NyYy9nZW8vcmVjdGFuZ2xlLnRzPzE0YjYiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUV5QztBQVdUO0FBRXpCLE1BQU0sVUFBVTtJQUluQixZQUFZLElBQWEsRUFBRSxNQUFlO1FBQ3RDLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO1FBQ2pCLElBQUksQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDO0lBQ3pCLENBQUM7SUFFRCxNQUFNO1FBQ0YsT0FBTyxJQUFJLENBQUMsSUFBSSxDQUFDLGVBQWUsQ0FBQyxJQUFJLGlEQUFPLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDeEQsQ0FBQztJQUVELFdBQVc7UUFDUCxJQUFJLEtBQUssR0FBRztZQUNSLElBQUksaURBQU8sQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDO1lBQy9DLElBQUksaURBQU8sQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDO1lBQy9DLElBQUksaURBQU8sQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDO1lBQy9DLElBQUksaURBQU8sQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDO1NBQ2xELENBQUM7UUFFRixLQUFLLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLGVBQWUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ25ELE9BQU8sS0FBSyxDQUFDO0lBQ2pCLENBQUM7SUFFRCxJQUFJO1FBQ0EsSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQztRQUM5QixPQUFPLElBQUksVUFBVSxDQUFDLElBQUkseUNBQUssQ0FBQyxJQUFJLENBQUMsRUFBRSxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7SUFDeEQsQ0FBQztDQUNKO0FBRU0sTUFBTSxVQUFVO0lBSW5CLFlBQVksS0FBWSxFQUFFLE1BQWU7UUFDckMsSUFBSSxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUM7UUFDbkIsSUFBSSxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUM7SUFDekIsQ0FBQztJQUVELFVBQVU7UUFDTixJQUFJLE9BQU8sR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLE9BQU8sRUFBRSxDQUFDO1FBQ3BDLElBQUksUUFBUSxHQUFHLE9BQU8sQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxDQUFDLENBQUM7UUFDcEUsT0FBTyxRQUFRLENBQUM7SUFDcEIsQ0FBQztDQUNKIiwiZmlsZSI6Ii4vc3JjL2dlby9yZWN0YW5nbGUudHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBEb21haW4yIH0gZnJvbSBcIi4uL21hdGgvZG9tYWluXCI7XG5pbXBvcnQgeyBNYXRyaXgzLCBNYXRyaXg0IH0gZnJvbSBcIi4uL21hdGgvbWF0cml4XCI7XG5pbXBvcnQgeyBWZWN0b3IyIH0gZnJvbSBcIi4uL21hdGgvdmVjdG9yXCI7XG5cbi8vIGJhc2ljIDJkIHJlY3RhbmdsZVxuLy8gYSBNYXRyaXgzIGFuZCBEb21haW4yIGlzIHVzZWQuXG4vLyB0aGlzIHdheSwgYSByZWN0YW5nbGUgY2FuIGJlIHJvdGF0ZWQgYXJvdW5kIGFuIGFyYmlydGFyeSBwb2ludCBpdCByZWdhcmRzIGFzIGl0cyBjZW50ZXIuXG4vLyBuYW1lOiAgICBjdWJlLnRzXG4vLyBhdXRob3I6ICBKb3MgRmVlbnN0cmFcbi8vIHB1cnBvc2U6IFJlcHJlc2VudHMgYSBjdWJlIGluIDNkIHNwYWNlLCBpbiBhIGNlcnRhaW4gcG9zZS5cblxuaW1wb3J0IHsgVmVjdG9yMyB9IGZyb20gXCIuLi9tYXRoL3ZlY3RvclwiO1xuaW1wb3J0IHsgR2VvIH0gZnJvbSBcIi4vZ2VvXCI7XG5pbXBvcnQgeyBQbGFuZSB9IGZyb20gXCIuL3BsYW5lXCI7XG5cbmV4cG9ydCBjbGFzcyBSZWN0YW5nbGUyIHtcbiAgICBwb3NlOiBNYXRyaXgzO1xuICAgIGRvbWFpbjogRG9tYWluMjtcblxuICAgIGNvbnN0cnVjdG9yKHBvc2U6IE1hdHJpeDMsIGRvbWFpbjogRG9tYWluMikge1xuICAgICAgICB0aGlzLnBvc2UgPSBwb3NlO1xuICAgICAgICB0aGlzLmRvbWFpbiA9IGRvbWFpbjtcbiAgICB9XG5cbiAgICBjZW50ZXIoKTogVmVjdG9yMiB7XG4gICAgICAgIHJldHVybiB0aGlzLnBvc2UudHJhbnNmb3JtVmVjdG9yKG5ldyBWZWN0b3IyKDAsIDApKTtcbiAgICB9XG5cbiAgICBnZXRWZXJ0aWNlcygpOiBWZWN0b3IyW10ge1xuICAgICAgICBsZXQgdmVydHMgPSBbXG4gICAgICAgICAgICBuZXcgVmVjdG9yMih0aGlzLmRvbWFpbi54LnQwLCB0aGlzLmRvbWFpbi55LnQwKSxcbiAgICAgICAgICAgIG5ldyBWZWN0b3IyKHRoaXMuZG9tYWluLngudDEsIHRoaXMuZG9tYWluLnkudDApLFxuICAgICAgICAgICAgbmV3IFZlY3RvcjIodGhpcy5kb21haW4ueC50MCwgdGhpcy5kb21haW4ueS50MSksXG4gICAgICAgICAgICBuZXcgVmVjdG9yMih0aGlzLmRvbWFpbi54LnQxLCB0aGlzLmRvbWFpbi55LnQxKSxcbiAgICAgICAgXTtcblxuICAgICAgICB2ZXJ0cy5mb3JFYWNoKCh2KSA9PiB0aGlzLnBvc2UudHJhbnNmb3JtVmVjdG9yKHYpKTtcbiAgICAgICAgcmV0dXJuIHZlcnRzO1xuICAgIH1cblxuICAgIHRvM0QoKTogUmVjdGFuZ2xlMyB7XG4gICAgICAgIGxldCBtYXQ0ID0gdGhpcy5wb3NlLnRvTWF0NCgpO1xuICAgICAgICByZXR1cm4gbmV3IFJlY3RhbmdsZTMobmV3IFBsYW5lKG1hdDQpLCB0aGlzLmRvbWFpbik7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgUmVjdGFuZ2xlMyB7XG4gICAgcGxhbmU6IFBsYW5lO1xuICAgIGRvbWFpbjogRG9tYWluMjtcblxuICAgIGNvbnN0cnVjdG9yKHBsYW5lOiBQbGFuZSwgZG9tYWluOiBEb21haW4yKSB7XG4gICAgICAgIHRoaXMucGxhbmUgPSBwbGFuZTtcbiAgICAgICAgdGhpcy5kb21haW4gPSBkb21haW47XG4gICAgfVxuXG4gICAgZ2V0Q29ybmVycygpOiBWZWN0b3IzW10ge1xuICAgICAgICBsZXQgY29ybmVycyA9IHRoaXMuZG9tYWluLmNvcm5lcnMoKTtcbiAgICAgICAgbGV0IGNvcm5lcnMzID0gY29ybmVycy5tYXAoKGMpID0+IHRoaXMucGxhbmUucHVzaFRvV29ybGQoYy50bzNEKCkpKTtcbiAgICAgICAgcmV0dXJuIGNvcm5lcnMzO1xuICAgIH1cbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/geo/rectangle.ts\n");

/***/ }),

/***/ "./src/geo/triangle.ts":
/*!*****************************!*\
  !*** ./src/geo/triangle.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Triangle2\": () => /* binding */ Triangle2,\n/* harmony export */   \"Triangle3\": () => /* binding */ Triangle3\n/* harmony export */ });\n/* harmony import */ var _data_vector_array__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../data/vector-array */ \"./src/data/vector-array.ts\");\n/* harmony import */ var _math_vector__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../math/vector */ \"./src/math/vector.ts\");\n/* harmony import */ var _line__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./line */ \"./src/geo/line.ts\");\n/* harmony import */ var _plane__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./plane */ \"./src/geo/plane.ts\");\n\r\n\r\n\r\n\r\nclass Triangle2 {\r\n    constructor(a, b, c) {\r\n        this.a = a;\r\n        this.b = b;\r\n        this.c = c;\r\n    }\r\n    points() {\r\n        return _data_vector_array__WEBPACK_IMPORTED_MODULE_0__.Vector2Array.fromList([this.a, this.b, this.c]);\r\n    }\r\n    toBarycentric(point) {\r\n        let v0 = this.b.subbed(this.a);\r\n        let v1 = this.c.subbed(this.a);\r\n        let v2 = point.subbed(this.a);\r\n        let d00 = v0.dot(v0);\r\n        let d01 = v0.dot(v1);\r\n        let d11 = v1.dot(v1);\r\n        let d20 = v2.dot(v0);\r\n        let d21 = v2.dot(v1);\r\n        let denom = d00 * d11 - d01 * d01;\r\n        let v = (d11 * d20 - d01 * d21) / denom;\r\n        let w = (d00 * d21 - d01 * d20) / denom;\r\n        let u = 1.0 - v - w;\r\n        return new _math_vector__WEBPACK_IMPORTED_MODULE_1__.Vector3(u, v, w);\r\n    }\r\n    fromBarycentric(bari) {\r\n        let a = this.a.scaled(bari.x);\r\n        let b = this.b.scaled(bari.y);\r\n        let c = this.c.scaled(bari.z);\r\n        return a.add(b).add(c);\r\n    }\r\n    closestPoint(point) {\r\n        // figure out roughly where the point is.\r\n        // note:\r\n        let ab = point.sign(this.a, this.b);\r\n        let bc = point.sign(this.b, this.c);\r\n        let ca = point.sign(this.c, this.a);\r\n        // if its fully within, return it!\r\n        if ((ab < 0 && bc < 0 && ca < 0) || (ab > 0 && bc > 0 && ca > 0)) {\r\n            console.log(\"fully inside!\");\r\n            return point;\r\n        }\r\n        else {\r\n            let abs = Math.abs(ab);\r\n            let bcs = Math.abs(bc);\r\n            let cas = Math.abs(ca);\r\n            if (abs < bcs && abs < cas) {\r\n                // ab\r\n                return new _line__WEBPACK_IMPORTED_MODULE_2__.LineCurve2(this.a, this.b).closestPoint(point);\r\n            }\r\n            else if (bcs < cas) {\r\n                // bc\r\n                return new _line__WEBPACK_IMPORTED_MODULE_2__.LineCurve2(this.b, this.c).closestPoint(point);\r\n            }\r\n            else {\r\n                // ca\r\n                return new _line__WEBPACK_IMPORTED_MODULE_2__.LineCurve2(this.c, this.a).closestPoint(point);\r\n            }\r\n        }\r\n    }\r\n}\r\nclass Triangle3 {\r\n    constructor(a, b, c) {\r\n        this.a = a;\r\n        this.b = b;\r\n        this.c = c;\r\n    }\r\n    points() {\r\n        return [this.a, this.b, this.c];\r\n    }\r\n    getPlane() {\r\n        return _plane__WEBPACK_IMPORTED_MODULE_3__.Plane.from3pt(this.a, this.b, this.c);\r\n    }\r\n    to2D(plane = _plane__WEBPACK_IMPORTED_MODULE_3__.Plane.WorldXY()) {\r\n        return new Triangle2(plane.pullToPlane(this.a).to2D(), plane.pullToPlane(this.b).to2D(), plane.pullToPlane(this.c).to2D());\r\n    }\r\n    closestPoint(point) {\r\n        let plane = this.getPlane();\r\n        let [cp, _] = plane.closestPoint(point);\r\n        let planeCP = plane.pullToPlane(cp);\r\n        let planeTriangle = this.to2D(plane);\r\n        return point;\r\n    }\r\n    // Transcribed from Christer Ericson's Real-Time Collision Detection:\r\n    // http://realtimecollisiondetection.net/\r\n    toBarycentric(point) {\r\n        let v0 = this.b.subbed(this.a);\r\n        let v1 = this.c.subbed(this.a);\r\n        let v2 = point.subbed(this.a);\r\n        let d00 = v0.dot(v0);\r\n        let d01 = v0.dot(v1);\r\n        let d11 = v1.dot(v1);\r\n        let d20 = v2.dot(v0);\r\n        let d21 = v2.dot(v1);\r\n        let denom = d00 * d11 - d01 * d01;\r\n        let v = (d11 * d20 - d01 * d21) / denom;\r\n        let w = (d00 * d21 - d01 * d20) / denom;\r\n        let u = 1.0 - v - w;\r\n        return new _math_vector__WEBPACK_IMPORTED_MODULE_1__.Vector3(u, v, w);\r\n    }\r\n    fromBarycentric(bari) {\r\n        let a = this.a.clone().scale(bari.x);\r\n        let b = this.b.clone().scale(bari.y);\r\n        let c = this.c.clone().scale(bari.z);\r\n        return a.added(b).add(c);\r\n    }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9nZW9uLWVuZ2luZS8uL3NyYy9nZW8vdHJpYW5nbGUudHM/ODRkNSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBb0Q7QUFFRjtBQUNkO0FBQ0o7QUFFekIsTUFBTSxTQUFTO0lBS2xCLFlBQVksQ0FBVSxFQUFFLENBQVUsRUFBRSxDQUFVO1FBQzFDLElBQUksQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ1gsSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDWCxJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUNmLENBQUM7SUFFRCxNQUFNO1FBQ0YsT0FBTyxxRUFBcUIsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUMzRCxDQUFDO0lBRUQsYUFBYSxDQUFDLEtBQWM7UUFDeEIsSUFBSSxFQUFFLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQy9CLElBQUksRUFBRSxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUMvQixJQUFJLEVBQUUsR0FBRyxLQUFLLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUM5QixJQUFJLEdBQUcsR0FBRyxFQUFFLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQ3JCLElBQUksR0FBRyxHQUFHLEVBQUUsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDckIsSUFBSSxHQUFHLEdBQUcsRUFBRSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUNyQixJQUFJLEdBQUcsR0FBRyxFQUFFLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQ3JCLElBQUksR0FBRyxHQUFHLEVB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QztRQUVwQixPQUFPLElBQUksaURBQU8sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQ2hDLENBQUM7SUFFRCxlQUFlLENBQUMsSUFBYTtRQUN6QixJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLEtBQUssRUFBRSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDckMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ3JDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsS0FBSyxFQUFFLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUVyQyxPQUFPLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQzdCLENBQUM7Q0FDSiIsImZpbGUiOiIuL3NyYy9nZW8vdHJpYW5nbGUudHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBWZWN0b3IyQXJyYXkgfSBmcm9tIFwiLi4vZGF0YS92ZWN0b3ItYXJyYXlcIjtcbmltcG9ydCB7IENvbnN0IH0gZnJvbSBcIi4uL21hdGgvY29uc3RcIjtcbmltcG9ydCB7IFZlY3RvcjIsIFZlY3RvcjMgfSBmcm9tIFwiLi4vbWF0aC92ZWN0b3JcIjtcbmltcG9ydCB7IExpbmVDdXJ2ZTIgfSBmcm9tIFwiLi9saW5lXCI7XG5pbXBvcnQgeyBQbGFuZSB9IGZyb20gXCIuL3BsYW5lXCI7XG5cbmV4cG9ydCBjbGFzcyBUcmlhbmdsZTIge1xuICAgIGE6IFZlY3RvcjI7XG4gICAgYjogVmVjdG9yMjtcbiAgICBjOiBWZWN0b3IyO1xuXG4gICAgY29uc3RydWN0b3IoYTogVmVjdG9yMiwgYjogVmVjdG9yMiwgYzogVmVjdG9yMikge1xuICAgICAgICB0aGlzLmEgPSBhO1xuICAgICAgICB0aGlzLmIgPSBiO1xuICAgICAgICB0aGlzLmMgPSBjO1xuICAgIH1cblxuICAgIHBvaW50cygpOiBWZWN0b3IyQXJyYXkge1xuICAgICAgICByZXR1cm4gVmVjdG9yMkFycmF5LmZyb21MaXN0KFt0aGlzLmEsIHRoaXMuYiwgdGhpcy5jXSk7XG4gICAgfVxuXG4gICAgdG9CYXJ5Y2VudHJpYyhwb2ludDogVmVjdG9yMik6IFZlY3RvcjMge1xuICAgICAgICBsZXQgdjAgPSB0aGlzLmIuc3ViYmVkKHRoaXMuYSk7XG4gICAgICAgIGxldCB2MSA9IHRoaXMuYy5zdWJiZWQodGhpcy5hKTtcbiAgICAgICAgbGV0IHYyID0gcG9pbnQuc3ViYmVkKHRoaXMuYSk7XG4gICAgICAgIGxldCBkMDAgPSB2MC5kb3QodjApO1xuICAgICAgICBsZXQgZDAxID0gdjAuZG90KHYxKTtcbiAgICAgICAgbGV0IGQxMSA9IHYxLmRvdCh2MSk7XG4gICAgICAgIGxldCBkMjAgPSB2Mi5kb3QodjApO1xuICAgICAgICBsZXQgZDIxID0gdjIuZG90KHYxKTtcbiAgICAgICAgbGV0IGRlbm9tID0gZDAwICogZDExIC0gZDAxICogZDAxO1xuICAgICAgICBsZXQgdiA9IChkMTEgKiBkMjAgLSBkMDEgKiBkMjEpIC8gZGVub207XG4gICAgICAgIGxldCB3ID0gKGQwMCAqIGQyMSAtIGQwMSAqIGQyMCkgLyBkZW5vbTtcbiAgICAgICAgbGV0IHUgPSAxLjAgLSB2IC0gdztcblxuICAgICAgICByZXR1cm4gbmV3IFZlY3RvcjModSwgdiwgdyk7XG4gICAgfVxuXG4gICAgZnJvbUJhcnljZW50cmljKGJhcmk6IFZlY3RvcjMpOiBWZWN0b3IyIHtcbiAgICAgICAgbGV0IGEgPSB0aGlzLmEuc2NhbGVkKGJhcmkueCk7XG4gICAgICAgIGxldCBiID0gdGhpcy5iLnNjYWxlZChiYXJpLnkpO1xuICAgICAgICBsZXQgYyA9IHRoaXMuYy5zY2FsZWQoYmFyaS56KTtcblxuICAgICAgICByZXR1cm4gYS5hZGQoYikuYWRkKGMpO1xuICAgIH1cblxuICAgIGNsb3Nlc3RQb2ludChwb2ludDogVmVjdG9yMik6IFZlY3RvcjIge1xuICAgICAgICAvLyBmaWd1cmUgb3V0IHJvdWdobHkgd2hlcmUgdGhlIHBvaW50IGlzLlxuICAgICAgICAvLyBub3RlOlxuICAgICAgICBsZXQgYWIgPSBwb2ludC5zaWduKHRoaXMuYSwgdGhpcy5iKTtcbiAgICAgICAgbGV0IGJjID0gcG9pbnQuc2lnbih0aGlzLmIsIHRoaXMuYyk7XG4gICAgICAgIGxldCBjYSA9IHBvaW50LnNpZ24odGhpcy5jLCB0aGlzLmEpO1xuXG4gICAgICAgIC8vIGlmIGl0cyBmdWxseSB3aXRoaW4sIHJldHVybiBpdCFcbiAgICAgICAgaWYgKChhYiA8IDAgJiYgYmMgPCAwICYmIGNhIDwgMCkgfHwgKGFiID4gMCAmJiBiYyA+IDAgJiYgY2EgPiAwKSkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJmdWxseSBpbnNpZGUhXCIpO1xuICAgICAgICAgICAgcmV0dXJuIHBvaW50O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbGV0IGFicyA9IE1hdGguYWJzKGFiKTtcbiAgICAgICAgICAgIGxldCBiY3MgPSBNYXRoLmFicyhiYyk7XG4gICAgICAgICAgICBsZXQgY2FzID0gTWF0aC5hYnMoY2EpO1xuXG4gICAgICAgICAgICBpZiAoYWJzIDwgYmNzICYmIGFicyA8IGNhcykge1xuICAgICAgICAgICAgICAgIC8vIGFiXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBMaW5lQ3VydmUyKHRoaXMuYSwgdGhpcy5iKS5jbG9zZXN0UG9pbnQocG9pbnQpITtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoYmNzIDwgY2FzKSB7XG4gICAgICAgICAgICAgICAgLy8gYmNcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IExpbmVDdXJ2ZTIodGhpcy5iLCB0aGlzLmMpLmNsb3Nlc3RQb2ludChwb2ludCkhO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBjYVxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgTGluZUN1cnZlMih0aGlzLmMsIHRoaXMuYSkuY2xvc2VzdFBvaW50KHBvaW50KSE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBUcmlhbmdsZTMge1xuICAgIGE6IFZlY3RvcjM7XG4gICAgYjogVmVjdG9yMztcbiAgICBjOiBWZWN0b3IzO1xuXG4gICAgY29uc3RydWN0b3IoYTogVmVjdG9yMywgYjogVmVjdG9yMywgYzogVmVjdG9yMykge1xuICAgICAgICB0aGlzLmEgPSBhO1xuICAgICAgICB0aGlzLmIgPSBiO1xuICAgICAgICB0aGlzLmMgPSBjO1xuICAgIH1cblxuICAgIHBvaW50cygpOiBWZWN0b3IzW10ge1xuICAgICAgICByZXR1cm4gW3RoaXMuYSwgdGhpcy5iLCB0aGlzLmNdO1xuICAgIH1cblxuICAgIGdldFBsYW5lKCk6IFBsYW5lIHtcbiAgICAgICAgcmV0dXJuIFBsYW5lLmZyb20zcHQodGhpcy5hLCB0aGlzLmIsIHRoaXMuYyk7XG4gICAgfVxuXG4gICAgdG8yRChwbGFuZTogUGxhbmUgPSBQbGFuZS5Xb3JsZFhZKCkpOiBUcmlhbmdsZTIge1xuICAgICAgICByZXR1cm4gbmV3IFRyaWFuZ2xlMihcbiAgICAgICAgICAgIHBsYW5lLnB1bGxUb1BsYW5lKHRoaXMuYSkudG8yRCgpLFxuICAgICAgICAgICAgcGxhbmUucHVsbFRvUGxhbmUodGhpcy5iKS50bzJEKCksXG4gICAgICAgICAgICBwbGFuZS5wdWxsVG9QbGFuZSh0aGlzLmMpLnRvMkQoKSxcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBjbG9zZXN0UG9pbnQocG9pbnQ6IFZlY3RvcjMpOiBWZWN0b3IzIHtcbiAgICAgICAgbGV0IHBsYW5lID0gdGhpcy5nZXRQbGFuZSgpO1xuICAgICAgICBsZXQgW2NwLCBfXSA9IHBsYW5lLmNsb3Nlc3RQb2ludChwb2ludCk7XG4gICAgICAgIGxldCBwbGFuZUNQID0gcGxhbmUucHVsbFRvUGxhbmUoY3ApO1xuICAgICAgICBsZXQgcGxhbmVUcmlhbmdsZSA9IHRoaXMudG8yRChwbGFuZSk7XG5cbiAgICAgICAgcmV0dXJuIHBvaW50O1xuICAgIH1cblxuICAgIC8vIFRyYW5zY3JpYmVkIGZyb20gQ2hyaXN0ZXIgRXJpY3NvbidzIFJlYWwtVGltZSBDb2xsaXNpb24gRGV0ZWN0aW9uOlxuICAgIC8vIGh0dHA6Ly9yZWFsdGltZWNvbGxpc2lvbmRldGVjdGlvbi5uZXQvXG4gICAgdG9CYXJ5Y2VudHJpYyhwb2ludDogVmVjdG9yMyk6IFZlY3RvcjMge1xuICAgICAgICBsZXQgdjAgPSB0aGlzLmIuc3ViYmVkKHRoaXMuYSk7XG4gICAgICAgIGxldCB2MSA9IHRoaXMuYy5zdWJiZWQodGhpcy5hKTtcbiAgICAgICAgbGV0IHYyID0gcG9pbnQuc3ViYmVkKHRoaXMuYSk7XG4gICAgICAgIGxldCBkMDAgPSB2MC5kb3QodjApO1xuICAgICAgICBsZXQgZDAxID0gdjAuZG90KHYxKTtcbiAgICAgICAgbGV0IGQxMSA9IHYxLmRvdCh2MSk7XG4gICAgICAgIGxldCBkMjAgPSB2Mi5kb3QodjApO1xuICAgICAgICBsZXQgZDIxID0gdjIuZG90KHYxKTtcbiAgICAgICAgbGV0IGRlbm9tID0gZDAwICogZDExIC0gZDAxICogZDAxO1xuICAgICAgICBsZXQgdiA9IChkMTEgKiBkMjAgLSBkMDEgKiBkMjEpIC8gZGVub207XG4gICAgICAgIGxldCB3ID0gKGQwMCAqIGQyMSAtIGQwMSAqIGQyMCkgLyBkZW5vbTtcbiAgICAgICAgbGV0IHUgPSAxLjAgLSB2IC0gdztcblxuICAgICAgICByZXR1cm4gbmV3IFZlY3RvcjModSwgdiwgdyk7XG4gICAgfVxuXG4gICAgZnJvbUJhcnljZW50cmljKGJhcmk6IFZlY3RvcjMpOiBWZWN0b3IzIHtcbiAgICAgICAgbGV0IGEgPSB0aGlzLmEuY2xvbmUoKS5zY2FsZShiYXJpLngpO1xuICAgICAgICBsZXQgYiA9IHRoaXMuYi5jbG9uZSgpLnNjYWxlKGJhcmkueSk7XG4gICAgICAgIGxldCBjID0gdGhpcy5jLmNsb25lKCkuc2NhbGUoYmFyaS56KTtcblxuICAgICAgICByZXR1cm4gYS5hZGRlZChiKS5hZGQoYyk7XG4gICAgfVxufVxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/geo/triangle.ts\n");

/***/ }),

/***/ "./src/img/Image.ts":
/*!**************************!*\
  !*** ./src/img/Image.ts ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"GeonImage\": () => /* binding */ GeonImage\n/* harmony export */ });\n// image.ts\r\n// author: Jos Feenstra\r\n// purpose: wrapper around the ImageData class,\r\n// - in order to get more functionality out of it\r\n//\r\n// note: named GeonImage to not collide with Image classes.\r\n// TODO : x and y are not the same as i and j, and used inconsistently. fix this.\r\n// TODO : now that GEON is a package, we can use G.Image. the Geon suffix is not needed anymore is not needed anymore!\r\nconst acceptedKernels = [3, 5, 7, 9];\r\nclass GeonImage {\r\n    constructor(width, height, pixelSize = 4) {\r\n        this.width = width;\r\n        this.height = height;\r\n        this.pixelSize = pixelSize;\r\n        this.data = new Uint8ClampedArray(this.width * this.height * this.pixelSize);\r\n        this.data.fill(0);\r\n    }\r\n    static fromImageData(id) {\r\n        let image = new GeonImage(id.width, id.height);\r\n        image.setData(id.data);\r\n        return image;\r\n    }\r\n    toImageData() {\r\n        // imagedata requires pixelsize of 4.\r\n        if (this.pixelSize != 4)\r\n            throw \"pixelsize must be 4 for toImageData to work\";\r\n        return new ImageData(this.data, this.width, this.height);\r\n    }\r\n    setData(data) {\r\n        if (data.length != this.height * this.width * this.pixelSize)\r\n            throw \"data.length does not match width * height \";\r\n        this.data = data;\r\n    }\r\n    clone() {\r\n        let image = new GeonImage(this.width, this.height, this.pixelSize);\r\n        image.setData(this.data);\r\n        return image;\r\n    }\r\n    fill(pixel) {\r\n        for (let i = 0; i < this.height; i++) {\r\n            for (let j = 0; j < this.width; j++) {\r\n                this.set(j, i, pixel);\r\n            }\r\n        }\r\n        return this;\r\n    }\r\n    fillEvery(filler) {\r\n        for (let i = 0; i < this.height; i++) {\r\n            for (let j = 0; j < this.width; j++) {\r\n                this.set(j, i, filler());\r\n            }\r\n        }\r\n        return this;\r\n    }\r\n    includes(x, y) {\r\n        return x < this.width && x >= 0 && y < this.height && y >= 0;\r\n    }\r\n    set(i, j, pixel) {\r\n        this.data[4 * (j * this.width + i)] = pixel[0];\r\n        this.data[4 * (j * this.width + i) + 1] = pixel[1];\r\n        this.data[4 * (j * this.width + i) + 2] = pixel[2];\r\n        this.data[4 * (j * this.width + i) + 3] = pixel[3];\r\n    }\r\n    get(i, j) {\r\n        return [\r\n            this.data[4 * (j * this.width + i)],\r\n            this.data[4 * (j * this.width + i) + 1],\r\n            this.data[4 * (j * this.width + i) + 2],\r\n            this.data[4 * (j * this.width + i) + 3],\r\n        ];\r\n    }\r\n    flipHor() {\r\n        let image = new GeonImage(this.width, this.height, this.pixelSize);\r\n        for (let i = 0; i < this.height; i++) {\r\n            for (let j = 0; j < this.width; j++) {\r\n                let jMirror = this.width - 1 - j;\r\n                image.set(j, i, this.get(jMirror, i));\r\n            }\r\n        }\r\n        return image;\r\n    }\r\n    flipVer() {\r\n        let image = new GeonImage(this.width, this.height, this.pixelSize);\r\n        for (let i = 0; i < this.height; i++) {\r\n            let iMirror = this.height - 1 - i;\r\n            for (let j = 0; j < this.width; j++) {\r\n                image.set(j, i, this.get(j, iMirror));\r\n            }\r\n        }\r\n        return image;\r\n    }\r\n    applyKernel(kernel) {\r\n        // determine kernel size\r\n        let size = kernel.count();\r\n        let radius = size / 2 - 0.5;\r\n        let image = new GeonImage(this.width - radius * 2, this.height - radius * 2, this.pixelSize);\r\n        // old image space\r\n        for (let i = radius; i < this.width - radius; i++) {\r\n            for (let j = radius; j < this.height - radius; j++) {\r\n                let pixel = this.getWithKernel(i, j, kernel, radius);\r\n                image.set(i - radius, j - radius, pixel);\r\n            }\r\n        }\r\n        return image; // succes\r\n    }\r\n    getMinMax() {\r\n        // get the minimum and maximum pixel value\r\n        // assumes pixelsize = 1\r\n        let min = Infinity;\r\n        let max = 0;\r\n        for (let i = 0; i < this.data.length; i++) {\r\n            if (this.data[i] < min) {\r\n                min = this.data[i];\r\n            }\r\n            else if (this.data[i] > max) {\r\n                max = this.data[i];\r\n            }\r\n        }\r\n        return [min, max];\r\n    }\r\n    applyThreshold(lower, upper) {\r\n        return this.apply((x, y) => {\r\n            let pixel = this.get(x, y);\r\n            if (pixel[0] < lower) {\r\n                return [0, 0, 0, 0];\r\n            }\r\n            else if (pixel[0] > upper) {\r\n                return [255, 255, 255, 255];\r\n            }\r\n            else {\r\n                return pixel;\r\n            }\r\n        });\r\n    }\r\n    apply(filler) {\r\n        let copy = new GeonImage(this.width, this.height, this.pixelSize);\r\n        for (let y = 0; y < this.height; y++) {\r\n            for (let x = 0; x < this.width; x++) {\r\n                copy.set(x, y, filler(x, y));\r\n            }\r\n        }\r\n        return copy;\r\n    }\r\n    applyNMS() {\r\n        // determine kernel size\r\n        let size = 3;\r\n        let radius = size / 2 - 0.5;\r\n        let copy = new GeonImage(this.width - radius * 2, this.height - radius * 2, this.pixelSize);\r\n        // old image space\r\n        for (let i = radius; i < this.width - radius; i++) {\r\n            for (let j = radius; j < this.height - radius; j++) {\r\n                // let pixel = this.getWithKernel(i, j, kernel, radius)\r\n                // copy.set(i-radius, j-radius, pixel);\r\n            }\r\n        }\r\n        // img.eachPixel(3, function(x, y, c, n) {\r\n        //     if (n[1][1] > n[0][1] && n[1][1] > n[2][1]) {\r\n        //         copy.data[x][y] = n[1][1];\r\n        //     } else {\r\n        //         copy.data[x][y] = 0;\r\n        //     }\r\n        //     if (n[1][1] > n[0][2] && n[1][1] > n[2][0]) {\r\n        //         copy.data[x][y] = n[1][1];\r\n        //     } else {\r\n        //         copy.data[x][y] = 0;\r\n        //     }\r\n        //     if (n[1][1] > n[1][0] && n[1][1] > n[1][2]) {\r\n        //         copy.data[x][y] = n[1][1];\r\n        //     } else {\r\n        //         copy.data[x][y] = 0;\r\n        //     }\r\n        //     if (n[1][1] > n[0][0] && n[1][1] > n[2][2]) {\r\n        //         return copy.data[x][y] = n[1][1];\r\n        //     } else {\r\n        //         return copy.data[x][y] = 0;\r\n        //     }\r\n        // });\r\n        return copy;\r\n    }\r\n    getWithKernel(i, j, kernel, radius) {\r\n        // kernel space\r\n        let sum = [0, 0, 0, 255];\r\n        let [dimx, dimy] = kernel.getDimensions();\r\n        for (let ki = 0; ki < dimx; ki++) {\r\n            for (let kj = 0; kj < dimy; kj++) {\r\n                let weight = kernel.get(ki, kj);\r\n                let pixel = this.get(i + ki - radius, j + kj - radius);\r\n                for (let i = 0; i < 3; i++) {\r\n                    sum[i] += pixel[i] * weight;\r\n                }\r\n            }\r\n        }\r\n        return sum;\r\n    }\r\n    setAplha(a) {\r\n        for (let y = 0; y < this.height; y++) {\r\n            for (let x = 0; x < this.width; x++) {\r\n                let pixel = this.get(x, y);\r\n                this.set(x, y, [pixel[0], pixel[1], pixel[2], a]);\r\n            }\r\n        }\r\n        return this;\r\n    }\r\n    scale(scaleX, scaleY) {\r\n        // scale the image to a new width and height, using nearest neighbour\r\n        return this.resize(Math.round(this.width * scaleX), Math.round(this.height * scaleY));\r\n    }\r\n    resize(width, height) {\r\n        // resize the image to a new width and height, using nearest neighbour\r\n        const image = new GeonImage(width, height, this.pixelSize);\r\n        const old = this;\r\n        const x_factor = (1 / image.width) * old.width;\r\n        const y_factor = (1 / image.height) * old.height;\r\n        for (let y = 0; y < image.height; y++) {\r\n            for (let x = 0; x < image.width; x++) {\r\n                let pixel = old.get(Math.round(x * x_factor), Math.round(y * y_factor));\r\n                image.set(x, y, pixel);\r\n            }\r\n        }\r\n        return image;\r\n    }\r\n    // add borders till this size is achieved\r\n    buffer(width, height) {\r\n        // resize the image to a new width and height, using nearest neighbour\r\n        const image = new GeonImage(width, height, this.pixelSize);\r\n        const old = this;\r\n        for (let y = 0; y < height; y++) {\r\n            for (let x = 0; x < width; x++) {\r\n                // console.log(x, y);\r\n                let pixel = old.includes(x, y) ? old.get(x, y) : [0, 0, 0, 255];\r\n                image.set(x, y, pixel);\r\n            }\r\n        }\r\n        // for (let y = 0; y < height; y++) {\r\n        //     for (let x = 0; x < width; x++) {\r\n        //         image.set(x, y, [x,0,0,255]);\r\n        //     }\r\n        // }\r\n        // build some simple image instead to test\r\n        // for (let i = 0; i < image.data.length / 4; i++) {\r\n        //     image.data[i*4 + 0] = i % 255;\r\n        //     image.data[i*4 + 1] = 0;\r\n        //     image.data[i*4 + 2] = 0;\r\n        //     image.data[i*4 + 3] = 255;\r\n        // }\r\n        return image;\r\n    }\r\n    trimWithDomain(dom) {\r\n        const x1 = Math.round(dom.x.t0);\r\n        const x2 = Math.round(dom.x.t1);\r\n        const y1 = Math.round(dom.y.t0);\r\n        const y2 = Math.round(dom.y.t1);\r\n        return this.trim(x1, y1, x2, y2);\r\n    }\r\n    trim(x1, y1, x2, y2) {\r\n        // return a hardcopy of this particular window\r\n        const imageWidth = x2 - x1;\r\n        const imageHeight = y2 - y1;\r\n        const image = new GeonImage(imageWidth, imageHeight, this.pixelSize);\r\n        for (let y = 0; y < imageHeight; y++) {\r\n            for (let x = 0; x < imageWidth; x++) {\r\n                let pixel = this.get(x + x1, y + y1);\r\n                image.set(x, y, pixel);\r\n            }\r\n        }\r\n        return image;\r\n    }\r\n    toGreyscale() {\r\n        if (this.pixelSize != 4)\r\n            throw \"please, only use this when pixelsize is 4\";\r\n        let image = new GeonImage(this.width, this.height, 4);\r\n        for (let y = 0; y < this.height; y++) {\r\n            for (let x = 0; x < this.width; x++) {\r\n                let pixel = this.get(x, y);\r\n                let avg = (pixel[0] + pixel[1] + pixel[2]) / 3;\r\n                image.set(x, y, [avg, avg, avg, 255]);\r\n            }\r\n        }\r\n        return image;\r\n    }\r\n    toRGBA() {\r\n        // if (this.pixelSize != 1) throw \"please, only use this when pixelsize is 1\"\r\n        return this;\r\n        // let image = new GeonImage(this.width, this.height, 4);\r\n        // for (let y = 0; y < this.height; y++) {\r\n        //     for (let x = 0; x < this.width; x++) {\r\n        //         let pixel = this.get(x,y);\r\n        //         let val = pixel[0];\r\n        //         image.set(x, y, [val, val, val, 255]);\r\n        //     }\r\n        // }\r\n        // return image;\r\n    }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9nZW9uLWVuZ2luZS8uL3NyYy9pbWcvSW1hZ2UudHM/YjFjOCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O0FBQUEsV0FBVztBQUNYLHVCQUF1QjtBQUN2QiwrQ0FBK0M7QUFDL0MsaURBQWlEO0FBQ2pELEVBQUU7QUFDRiwyREFBMkQ7QUFLM0QsaUZBQWlGO0FBQ2pGLHNIQUFzSDtBQUN0SCxNQUFNLGVBQWUsR0FBYSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0FBQ3hDLE1BQU0sU0FBUztJQU1sQixZQUFZLEtBQWEsRUFBRSxNQUFjLEVBQUUsWUFBb0IsQ0FBQztRQUM1RCxJQUFJLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztRQUNuQixJQUFJLENBQUMsTUFBTSxHQUFHLE1BQU0sQ0FBQztRQUNyQixJQUFJLENBQUMsU0FBUyxHQUFHLFNBQVMsQ0FBQztRQUMzQixJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksaUJBQWlCLENBQUMsSUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQztRQUM3RSxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUN0QixDQUFDO0lBRUQsTUFBTSxDQUFDLGFBQWEsQ0FBQyxFQUFhO1FBQzlCLElBQUksS0FBSyxHQUFHLElBQUksU0FBUyxDQUFDLEVBQUUsQ0FBQyxLQUFLLEVBQUUsRUFBRSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQy9DLEtBQUssQ0FBQyxPQUFPLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ3ZCLE9BQU8sS0FBSyxDQUFDO0lBQ2pCLENBQUM7SUFFRCxXQUFXO1FBQ1AscUNBQXFDO1FBQ3JDLElBQUksSUFBSSxDQUFDLFNBQVMsSUFBSSxDQUFDO1lBQUUsTUFBTSw2Q0FBNkMsQ0FBQztRQUM3RSxPQUFPLElBQUksU0FBUyxD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LENBQUMsRUFBRSxFQUFFO1lBQ2xDLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxJQUFJLENBQUMsS0FBSyxFQUFFLENBQUMsRUFBRSxFQUFFO2dCQUNqQyxJQUFJLEtBQUssR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztnQkFDM0IsSUFBSSxHQUFHLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLEdBQUcsS0FBSyxDQUFDLENBQUMsQ0FBQyxHQUFHLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztnQkFDL0MsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQzthQUN6QztTQUNKO1FBQ0QsT0FBTyxLQUFLLENBQUM7SUFDakIsQ0FBQztJQUVELE1BQU07UUFDRiw2RUFBNkU7UUFFN0UsT0FBTyxJQUFJLENBQUM7UUFFWix5REFBeUQ7UUFDekQsMENBQTBDO1FBQzFDLDZDQUE2QztRQUM3QyxxQ0FBcUM7UUFDckMsOEJBQThCO1FBQzlCLGlEQUFpRDtRQUNqRCxRQUFRO1FBQ1IsSUFBSTtRQUNKLGdCQUFnQjtJQUNwQixDQUFDO0NBQ0oiLCJmaWxlIjoiLi9zcmMvaW1nL0ltYWdlLnRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gaW1hZ2UudHNcbi8vIGF1dGhvcjogSm9zIEZlZW5zdHJhXG4vLyBwdXJwb3NlOiB3cmFwcGVyIGFyb3VuZCB0aGUgSW1hZ2VEYXRhIGNsYXNzLFxuLy8gLSBpbiBvcmRlciB0byBnZXQgbW9yZSBmdW5jdGlvbmFsaXR5IG91dCBvZiBpdFxuLy9cbi8vIG5vdGU6IG5hbWVkIEdlb25JbWFnZSB0byBub3QgY29sbGlkZSB3aXRoIEltYWdlIGNsYXNzZXMuXG5cbmltcG9ydCB7IERvbWFpbjIgfSBmcm9tIFwiLi4vbWF0aC9kb21haW5cIjtcbmltcG9ydCB7IEZsb2F0TWF0cml4IH0gZnJvbSBcIi4uL2RhdGEvZmxvYXQtbWF0cml4XCI7XG5cbi8vIFRPRE8gOiB4IGFuZCB5IGFyZSBub3QgdGhlIHNhbWUgYXMgaSBhbmQgaiwgYW5kIHVzZWQgaW5jb25zaXN0ZW50bHkuIGZpeCB0aGlzLlxuLy8gVE9ETyA6IG5vdyB0aGF0IEdFT04gaXMgYSBwYWNrYWdlLCB3ZSBjYW4gdXNlIEcuSW1hZ2UuIHRoZSBHZW9uIHN1ZmZpeCBpcyBub3QgbmVlZGVkIGFueW1vcmUgaXMgbm90IG5lZWRlZCBhbnltb3JlIVxuY29uc3QgYWNjZXB0ZWRLZXJuZWxzOiBudW1iZXJbXSA9IFszLCA1LCA3LCA5XTtcbmV4cG9ydCBjbGFzcyBHZW9uSW1hZ2Uge1xuICAgIHByaXZhdGUgZGF0YTogVWludDhDbGFtcGVkQXJyYXk7XG4gICAgcHVibGljIHJlYWRvbmx5IHdpZHRoOiBudW1iZXI7XG4gICAgcHVibGljIHJlYWRvbmx5IGhlaWdodDogbnVtYmVyO1xuICAgIHB1YmxpYyByZWFkb25seSBwaXhlbFNpemU6IG51bWJlcjtcblxuICAgIGNvbnN0cnVjdG9yKHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyLCBwaXhlbFNpemU6IG51bWJlciA9IDQpIHtcbiAgICAgICAgdGhpcy53aWR0aCA9IHdpZHRoO1xuICAgICAgICB0aGlzLmhlaWdodCA9IGhlaWdodDtcbiAgICAgICAgdGhpcy5waXhlbFNpemUgPSBwaXhlbFNpemU7XG4gICAgICAgIHRoaXMuZGF0YSA9IG5ldyBVaW50OENsYW1wZWRBcnJheSh0aGlzLndpZHRoICogdGhpcy5oZWlnaHQgKiB0aGlzLnBpeGVsU2l6ZSk7XG4gICAgICAgIHRoaXMuZGF0YS5maWxsKDApO1xuICAgIH1cblxuICAgIHN0YXRpYyBmcm9tSW1hZ2VEYXRhKGlkOiBJbWFnZURhdGEpOiBHZW9uSW1hZ2Uge1xuICAgICAgICBsZXQgaW1hZ2UgPSBuZXcgR2VvbkltYWdlKGlkLndpZHRoLCBpZC5oZWlnaHQpO1xuICAgICAgICBpbWFnZS5zZXREYXRhKGlkLmRhdGEpO1xuICAgICAgICByZXR1cm4gaW1hZ2U7XG4gICAgfVxuXG4gICAgdG9JbWFnZURhdGEoKTogSW1hZ2VEYXRhIHtcbiAgICAgICAgLy8gaW1hZ2VkYXRhIHJlcXVpcmVzIHBpeGVsc2l6ZSBvZiA0LlxuICAgICAgICBpZiAodGhpcy5waXhlbFNpemUgIT0gNCkgdGhyb3cgXCJwaXhlbHNpemUgbXVzdCBiZSA0IGZvciB0b0ltYWdlRGF0YSB0byB3b3JrXCI7XG4gICAgICAgIHJldHVybiBuZXcgSW1hZ2VEYXRhKHRoaXMuZGF0YSwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpO1xuICAgIH1cblxuICAgIHNldERhdGEoZGF0YTogVWludDhDbGFtcGVkQXJyYXkpIHtcbiAgICAgICAgaWYgKGRhdGEubGVuZ3RoICE9IHRoaXMuaGVpZ2h0ICogdGhpcy53aWR0aCAqIHRoaXMucGl4ZWxTaXplKVxuICAgICAgICAgICAgdGhyb3cgXCJkYXRhLmxlbmd0aCBkb2VzIG5vdCBtYXRjaCB3aWR0aCAqIGhlaWdodCBcIjtcblxuICAgICAgICB0aGlzLmRhdGEgPSBkYXRhO1xuICAgIH1cblxuICAgIGNsb25lKCkge1xuICAgICAgICBsZXQgaW1hZ2UgPSBuZXcgR2VvbkltYWdlKHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0LCB0aGlzLnBpeGVsU2l6ZSk7XG4gICAgICAgIGltYWdlLnNldERhdGEodGhpcy5kYXRhKTtcbiAgICAgICAgcmV0dXJuIGltYWdlO1xuICAgIH1cblxuICAgIGZpbGwocGl4ZWw6IG51bWJlcltdKTogR2VvbkltYWdlIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmhlaWdodDsgaSsrKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHRoaXMud2lkdGg7IGorKykge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0KGosIGksIHBpeGVsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBmaWxsRXZlcnkoZmlsbGVyOiBGdW5jdGlvbikge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuaGVpZ2h0OyBpKyspIHtcbiAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgdGhpcy53aWR0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXQoaiwgaSwgZmlsbGVyKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGluY2x1ZGVzKHg6IG51bWJlciwgeTogbnVtYmVyKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB4IDwgdGhpcy53aWR0aCAmJiB4ID49IDAgJiYgeSA8IHRoaXMuaGVpZ2h0ICYmIHkgPj0gMDtcbiAgICB9XG5cbiAgICBzZXQoaTogbnVtYmVyLCBqOiBudW1iZXIsIHBpeGVsOiBudW1iZXJbXSkge1xuICAgICAgICB0aGlzLmRhdGFbNCAqIChqICogdGhpcy53aWR0aCArIGkpXSA9IHBpeGVsWzBdO1xuICAgICAgICB0aGlzLmRhdGFbNCAqIChqICogdGhpcy53aWR0aCArIGkpICsgMV0gPSBwaXhlbFsxXTtcbiAgICAgICAgdGhpcy5kYXRhWzQgKiAoaiAqIHRoaXMud2lkdGggKyBpKSArIDJdID0gcGl4ZWxbMl07XG4gICAgICAgIHRoaXMuZGF0YVs0ICogKGogKiB0aGlzLndpZHRoICsgaSkgKyAzXSA9IHBpeGVsWzNdO1xuICAgIH1cblxuICAgIGdldChpOiBudW1iZXIsIGo6IG51bWJlcik6IG51bWJlcltdIHtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIHRoaXMuZGF0YVs0ICogKGogKiB0aGlzLndpZHRoICsgaSldLFxuICAgICAgICAgICAgdGhpcy5kYXRhWzQgKiAoaiAqIHRoaXMud2lkdGggKyBpKSArIDFdLFxuICAgICAgICAgICAgdGhpcy5kYXRhWzQgKiAoaiAqIHRoaXMud2lkdGggKyBpKSArIDJdLFxuICAgICAgICAgICAgdGhpcy5kYXRhWzQgKiAoaiAqIHRoaXMud2lkdGggKyBpKSArIDNdLFxuICAgICAgICBdO1xuICAgIH1cblxuICAgIGZsaXBIb3IoKTogR2VvbkltYWdlIHtcbiAgICAgICAgbGV0IGltYWdlID0gbmV3IEdlb25JbWFnZSh0aGlzLndpZHRoLCB0aGlzLmhlaWdodCwgdGhpcy5waXhlbFNpemUpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuaGVpZ2h0OyBpKyspIHtcbiAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgdGhpcy53aWR0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgbGV0IGpNaXJyb3IgPSB0aGlzLndpZHRoIC0gMSAtIGo7XG4gICAgICAgICAgICAgICAgaW1hZ2Uuc2V0KGosIGksIHRoaXMuZ2V0KGpNaXJyb3IsIGkpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaW1hZ2U7XG4gICAgfVxuXG4gICAgZmxpcFZlcigpOiBHZW9uSW1hZ2Uge1xuICAgICAgICBsZXQgaW1hZ2UgPSBuZXcgR2VvbkltYWdlKHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0LCB0aGlzLnBpeGVsU2l6ZSk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5oZWlnaHQ7IGkrKykge1xuICAgICAgICAgICAgbGV0IGlNaXJyb3IgPSB0aGlzLmhlaWdodCAtIDEgLSBpO1xuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCB0aGlzLndpZHRoOyBqKyspIHtcbiAgICAgICAgICAgICAgICBpbWFnZS5zZXQoaiwgaSwgdGhpcy5nZXQoaiwgaU1pcnJvcikpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpbWFnZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgYXBwbHlLZXJuZWwoa2VybmVsOiBGbG9hdE1hdHJpeCk6IEdlb25JbWFnZSB7XG4gICAgICAgIC8vIGRldGVybWluZSBrZXJuZWwgc2l6ZVxuICAgICAgICBsZXQgc2l6ZSA9IGtlcm5lbC5jb3VudCgpO1xuICAgICAgICBsZXQgcmFkaXVzID0gc2l6ZSAvIDIgLSAwLjU7XG4gICAgICAgIGxldCBpbWFnZSA9IG5ldyBHZW9uSW1hZ2UodGhpcy53aWR0aCAtIHJhZGl1cyAqIDIsIHRoaXMuaGVpZ2h0IC0gcmFkaXVzICogMiwgdGhpcy5waXhlbFNpemUpO1xuXG4gICAgICAgIC8vIG9sZCBpbWFnZSBzcGFjZVxuICAgICAgICBmb3IgKGxldCBpID0gcmFkaXVzOyBpIDwgdGhpcy53aWR0aCAtIHJhZGl1czsgaSsrKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBqID0gcmFkaXVzOyBqIDwgdGhpcy5oZWlnaHQgLSByYWRpdXM7IGorKykge1xuICAgICAgICAgICAgICAgIGxldCBwaXhlbCA9IHRoaXMuZ2V0V2l0aEtlcm5lbChpLCBqLCBrZXJuZWwsIHJhZGl1cyk7XG4gICAgICAgICAgICAgICAgaW1hZ2Uuc2V0KGkgLSByYWRpdXMsIGogLSByYWRpdXMsIHBpeGVsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBpbWFnZTsgLy8gc3VjY2VzXG4gICAgfVxuXG4gICAgZ2V0TWluTWF4KCk6IFtudW1iZXIsIG51bWJlcl0ge1xuICAgICAgICAvLyBnZXQgdGhlIG1pbmltdW0gYW5kIG1heGltdW0gcGl4ZWwgdmFsdWVcbiAgICAgICAgLy8gYXNzdW1lcyBwaXhlbHNpemUgPSAxXG5cbiAgICAgICAgbGV0IG1pbiA9IEluZmluaXR5O1xuICAgICAgICBsZXQgbWF4ID0gMDtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKHRoaXMuZGF0YVtpXSA8IG1pbikge1xuICAgICAgICAgICAgICAgIG1pbiA9IHRoaXMuZGF0YVtpXTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5kYXRhW2ldID4gbWF4KSB7XG4gICAgICAgICAgICAgICAgbWF4ID0gdGhpcy5kYXRhW2ldO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIFttaW4sIG1heF07XG4gICAgfVxuXG4gICAgYXBwbHlUaHJlc2hvbGQobG93ZXI6IG51bWJlciwgdXBwZXI6IG51bWJlcikge1xuICAgICAgICByZXR1cm4gdGhpcy5hcHBseSgoeDogbnVtYmVyLCB5OiBudW1iZXIpID0+IHtcbiAgICAgICAgICAgIGxldCBwaXhlbCA9IHRoaXMuZ2V0KHgsIHkpO1xuXG4gICAgICAgICAgICBpZiAocGl4ZWxbMF0gPCBsb3dlcikge1xuICAgICAgICAgICAgICAgIHJldHVybiBbMCwgMCwgMCwgMF07XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHBpeGVsWzBdID4gdXBwZXIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gWzI1NSwgMjU1LCAyNTUsIDI1NV07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBwaXhlbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgYXBwbHkoZmlsbGVyOiBGdW5jdGlvbik6IEdlb25JbWFnZSB7XG4gICAgICAgIGxldCBjb3B5ID0gbmV3IEdlb25JbWFnZSh0aGlzLndpZHRoLCB0aGlzLmhlaWdodCwgdGhpcy5waXhlbFNpemUpO1xuXG4gICAgICAgIGZvciAobGV0IHkgPSAwOyB5IDwgdGhpcy5oZWlnaHQ7IHkrKykge1xuICAgICAgICAgICAgZm9yIChsZXQgeCA9IDA7IHggPCB0aGlzLndpZHRoOyB4KyspIHtcbiAgICAgICAgICAgICAgICBjb3B5LnNldCh4LCB5LCBmaWxsZXIoeCwgeSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjb3B5O1xuICAgIH1cblxuICAgIGFwcGx5Tk1TKCk6IEdlb25JbWFnZSB7XG4gICAgICAgIC8vIGRldGVybWluZSBrZXJuZWwgc2l6ZVxuICAgICAgICBsZXQgc2l6ZSA9IDM7XG4gICAgICAgIGxldCByYWRpdXMgPSBzaXplIC8gMiAtIDAuNTtcbiAgICAgICAgbGV0IGNvcHkgPSBuZXcgR2VvbkltYWdlKHRoaXMud2lkdGggLSByYWRpdXMgKiAyLCB0aGlzLmhlaWdodCAtIHJhZGl1cyAqIDIsIHRoaXMucGl4ZWxTaXplKTtcblxuICAgICAgICAvLyBvbGQgaW1hZ2Ugc3BhY2VcbiAgICAgICAgZm9yIChsZXQgaSA9IHJhZGl1czsgaSA8IHRoaXMud2lkdGggLSByYWRpdXM7IGkrKykge1xuICAgICAgICAgICAgZm9yIChsZXQgaiA9IHJhZGl1czsgaiA8IHRoaXMuaGVpZ2h0IC0gcmFkaXVzOyBqKyspIHtcbiAgICAgICAgICAgICAgICAvLyBsZXQgcGl4ZWwgPSB0aGlzLmdldFdpdGhLZXJuZWwoaSwgaiwga2VybmVsLCByYWRpdXMpXG4gICAgICAgICAgICAgICAgLy8gY29weS5zZXQoaS1yYWRpdXMsIGotcmFkaXVzLCBwaXhlbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBpbWcuZWFjaFBpeGVsKDMsIGZ1bmN0aW9uKHgsIHksIGMsIG4pIHtcbiAgICAgICAgLy8gICAgIGlmIChuWzFdWzFdID4gblswXVsxXSAmJiBuWzFdWzFdID4gblsyXVsxXSkge1xuICAgICAgICAvLyAgICAgICAgIGNvcHkuZGF0YVt4XVt5XSA9IG5bMV1bMV07XG4gICAgICAgIC8vICAgICB9IGVsc2Uge1xuICAgICAgICAvLyAgICAgICAgIGNvcHkuZGF0YVt4XVt5XSA9IDA7XG4gICAgICAgIC8vICAgICB9XG4gICAgICAgIC8vICAgICBpZiAoblsxXVsxXSA+IG5bMF1bMl0gJiYgblsxXVsxXSA+IG5bMl1bMF0pIHtcbiAgICAgICAgLy8gICAgICAgICBjb3B5LmRhdGFbeF1beV0gPSBuWzFdWzFdO1xuICAgICAgICAvLyAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gICAgICAgICBjb3B5LmRhdGFbeF1beV0gPSAwO1xuICAgICAgICAvLyAgICAgfVxuICAgICAgICAvLyAgICAgaWYgKG5bMV1bMV0gPiBuWzFdWzBdICYmIG5bMV1bMV0gPiBuWzFdWzJdKSB7XG4gICAgICAgIC8vICAgICAgICAgY29weS5kYXRhW3hdW3ldID0gblsxXVsxXTtcbiAgICAgICAgLy8gICAgIH0gZWxzZSB7XG4gICAgICAgIC8vICAgICAgICAgY29weS5kYXRhW3hdW3ldID0gMDtcbiAgICAgICAgLy8gICAgIH1cbiAgICAgICAgLy8gICAgIGlmIChuWzFdWzFdID4gblswXVswXSAmJiBuWzFdWzFdID4gblsyXVsyXSkge1xuICAgICAgICAvLyAgICAgICAgIHJldHVybiBjb3B5LmRhdGFbeF1beV0gPSBuWzFdWzFdO1xuICAgICAgICAvLyAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gICAgICAgICByZXR1cm4gY29weS5kYXRhW3hdW3ldID0gMDtcbiAgICAgICAgLy8gICAgIH1cbiAgICAgICAgLy8gfSk7XG4gICAgICAgIHJldHVybiBjb3B5O1xuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0V2l0aEtlcm5lbChpOiBudW1iZXIsIGo6IG51bWJlciwga2VybmVsOiBGbG9hdE1hdHJpeCwgcmFkaXVzOiBudW1iZXIpOiBudW1iZXJbXSB7XG4gICAgICAgIC8vIGtlcm5lbCBzcGFjZVxuICAgICAgICBsZXQgc3VtID0gWzAsIDAsIDAsIDI1NV07XG4gICAgICAgIGxldCBbZGlteCwgZGlteV0gPSBrZXJuZWwuZ2V0RGltZW5zaW9ucygpO1xuICAgICAgICBmb3IgKGxldCBraSA9IDA7IGtpIDwgZGlteDsga2krKykge1xuICAgICAgICAgICAgZm9yIChsZXQga2ogPSAwOyBraiA8IGRpbXk7IGtqKyspIHtcbiAgICAgICAgICAgICAgICBsZXQgd2VpZ2h0ID0ga2VybmVsLmdldChraSwga2opO1xuICAgICAgICAgICAgICAgIGxldCBwaXhlbCA9IHRoaXMuZ2V0KGkgKyBraSAtIHJhZGl1cywgaiArIGtqIC0gcmFkaXVzKTtcblxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMzsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHN1bVtpXSArPSBwaXhlbFtpXSAqIHdlaWdodDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN1bTtcbiAgICB9XG5cbiAgICBzZXRBcGxoYShhOiBudW1iZXIpIHtcbiAgICAgICAgZm9yIChsZXQgeSA9IDA7IHkgPCB0aGlzLmhlaWdodDsgeSsrKSB7XG4gICAgICAgICAgICBmb3IgKGxldCB4ID0gMDsgeCA8IHRoaXMud2lkdGg7IHgrKykge1xuICAgICAgICAgICAgICAgIGxldCBwaXhlbCA9IHRoaXMuZ2V0KHgsIHkpO1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0KHgsIHksIFtwaXhlbFswXSwgcGl4ZWxbMV0sIHBpeGVsWzJdLCBhXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgc2NhbGUoc2NhbGVYOiBudW1iZXIsIHNjYWxlWTogbnVtYmVyKTogR2VvbkltYWdlIHtcbiAgICAgICAgLy8gc2NhbGUgdGhlIGltYWdlIHRvIGEgbmV3IHdpZHRoIGFuZCBoZWlnaHQsIHVzaW5nIG5lYXJlc3QgbmVpZ2hib3VyXG4gICAgICAgIHJldHVybiB0aGlzLnJlc2l6ZShNYXRoLnJvdW5kKHRoaXMud2lkdGggKiBzY2FsZVgpLCBNYXRoLnJvdW5kKHRoaXMuaGVpZ2h0ICogc2NhbGVZKSk7XG4gICAgfVxuXG4gICAgcmVzaXplKHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyKTogR2VvbkltYWdlIHtcbiAgICAgICAgLy8gcmVzaXplIHRoZSBpbWFnZSB0byBhIG5ldyB3aWR0aCBhbmQgaGVpZ2h0LCB1c2luZyBuZWFyZXN0IG5laWdoYm91clxuICAgICAgICBjb25zdCBpbWFnZSA9IG5ldyBHZW9uSW1hZ2Uod2lkdGgsIGhlaWdodCwgdGhpcy5waXhlbFNpemUpO1xuICAgICAgICBjb25zdCBvbGQgPSB0aGlzO1xuXG4gICAgICAgIGNvbnN0IHhfZmFjdG9yID0gKDEgLyBpbWFnZS53aWR0aCkgKiBvbGQud2lkdGg7XG4gICAgICAgIGNvbnN0IHlfZmFjdG9yID0gKDEgLyBpbWFnZS5oZWlnaHQpICogb2xkLmhlaWdodDtcblxuICAgICAgICBmb3IgKGxldCB5ID0gMDsgeSA8IGltYWdlLmhlaWdodDsgeSsrKSB7XG4gICAgICAgICAgICBmb3IgKGxldCB4ID0gMDsgeCA8IGltYWdlLndpZHRoOyB4KyspIHtcbiAgICAgICAgICAgICAgICBsZXQgcGl4ZWwgPSBvbGQuZ2V0KE1hdGgucm91bmQoeCAqIHhfZmFjdG9yKSwgTWF0aC5yb3VuZCh5ICogeV9mYWN0b3IpKTtcbiAgICAgICAgICAgICAgICBpbWFnZS5zZXQoeCwgeSwgcGl4ZWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGltYWdlO1xuICAgIH1cblxuICAgIC8vIGFkZCBib3JkZXJzIHRpbGwgdGhpcyBzaXplIGlzIGFjaGlldmVkXG4gICAgYnVmZmVyKHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyKTogR2VvbkltYWdlIHtcbiAgICAgICAgLy8gcmVzaXplIHRoZSBpbWFnZSB0byBhIG5ldyB3aWR0aCBhbmQgaGVpZ2h0LCB1c2luZyBuZWFyZXN0IG5laWdoYm91clxuICAgICAgICBjb25zdCBpbWFnZSA9IG5ldyBHZW9uSW1hZ2Uod2lkdGgsIGhlaWdodCwgdGhpcy5waXhlbFNpemUpO1xuICAgICAgICBjb25zdCBvbGQgPSB0aGlzO1xuXG4gICAgICAgIGZvciAobGV0IHkgPSAwOyB5IDwgaGVpZ2h0OyB5KyspIHtcbiAgICAgICAgICAgIGZvciAobGV0IHggPSAwOyB4IDwgd2lkdGg7IHgrKykge1xuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHgsIHkpO1xuICAgICAgICAgICAgICAgIGxldCBwaXhlbCA9IG9sZC5pbmNsdWRlcyh4LCB5KSA/IG9sZC5nZXQoeCwgeSkgOiBbMCwgMCwgMCwgMjU1XTtcbiAgICAgICAgICAgICAgICBpbWFnZS5zZXQoeCwgeSwgcGl4ZWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gZm9yIChsZXQgeSA9IDA7IHkgPCBoZWlnaHQ7IHkrKykge1xuICAgICAgICAvLyAgICAgZm9yIChsZXQgeCA9IDA7IHggPCB3aWR0aDsgeCsrKSB7XG4gICAgICAgIC8vICAgICAgICAgaW1hZ2Uuc2V0KHgsIHksIFt4LDAsMCwyNTVdKTtcbiAgICAgICAgLy8gICAgIH1cbiAgICAgICAgLy8gfVxuXG4gICAgICAgIC8vIGJ1aWxkIHNvbWUgc2ltcGxlIGltYWdlIGluc3RlYWQgdG8gdGVzdFxuICAgICAgICAvLyBmb3IgKGxldCBpID0gMDsgaSA8IGltYWdlLmRhdGEubGVuZ3RoIC8gNDsgaSsrKSB7XG4gICAgICAgIC8vICAgICBpbWFnZS5kYXRhW2kqNCArIDBdID0gaSAlIDI1NTtcbiAgICAgICAgLy8gICAgIGltYWdlLmRhdGFbaSo0ICsgMV0gPSAwO1xuICAgICAgICAvLyAgICAgaW1hZ2UuZGF0YVtpKjQgKyAyXSA9IDA7XG4gICAgICAgIC8vICAgICBpbWFnZS5kYXRhW2kqNCArIDNdID0gMjU1O1xuICAgICAgICAvLyB9XG5cbiAgICAgICAgcmV0dXJuIGltYWdlO1xuICAgIH1cblxuICAgIHRyaW1XaXRoRG9tYWluKGRvbTogRG9tYWluMikge1xuICAgICAgICBjb25zdCB4MSA9IE1hdGgucm91bmQoZG9tLngudDApO1xuICAgICAgICBjb25zdCB4MiA9IE1hdGgucm91bmQoZG9tLngudDEpO1xuICAgICAgICBjb25zdCB5MSA9IE1hdGgucm91bmQoZG9tLnkudDApO1xuICAgICAgICBjb25zdCB5MiA9IE1hdGgucm91bmQoZG9tLnkudDEpO1xuXG4gICAgICAgIHJldHVybiB0aGlzLnRyaW0oeDEsIHkxLCB4MiwgeTIpO1xuICAgIH1cblxuICAgIHRyaW0oeDE6IG51bWJlciwgeTE6IG51bWJlciwgeDI6IG51bWJlciwgeTI6IG51bWJlcik6IEdlb25JbWFnZSB7XG4gICAgICAgIC8vIHJldHVybiBhIGhhcmRjb3B5IG9mIHRoaXMgcGFydGljdWxhciB3aW5kb3dcbiAgICAgICAgY29uc3QgaW1hZ2VXaWR0aCA9IHgyIC0geDE7XG4gICAgICAgIGNvbnN0IGltYWdlSGVpZ2h0ID0geTIgLSB5MTtcblxuICAgICAgICBjb25zdCBpbWFnZSA9IG5ldyBHZW9uSW1hZ2UoaW1hZ2VXaWR0aCwgaW1hZ2VIZWlnaHQsIHRoaXMucGl4ZWxTaXplKTtcblxuICAgICAgICBmb3IgKGxldCB5ID0gMDsgeSA8IGltYWdlSGVpZ2h0OyB5KyspIHtcbiAgICAgICAgICAgIGZvciAobGV0IHggPSAwOyB4IDwgaW1hZ2VXaWR0aDsgeCsrKSB7XG4gICAgICAgICAgICAgICAgbGV0IHBpeGVsID0gdGhpcy5nZXQoeCArIHgxLCB5ICsgeTEpO1xuICAgICAgICAgICAgICAgIGltYWdlLnNldCh4LCB5LCBwaXhlbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gaW1hZ2U7XG4gICAgfVxuXG4gICAgdG9HcmV5c2NhbGUoKTogR2VvbkltYWdlIHtcbiAgICAgICAgaWYgKHRoaXMucGl4ZWxTaXplICE9IDQpIHRocm93IFwicGxlYXNlLCBvbmx5IHVzZSB0aGlzIHdoZW4gcGl4ZWxzaXplIGlzIDRcIjtcblxuICAgICAgICBsZXQgaW1hZ2UgPSBuZXcgR2VvbkltYWdlKHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0LCA0KTtcbiAgICAgICAgZm9yIChsZXQgeSA9IDA7IHkgPCB0aGlzLmhlaWdodDsgeSsrKSB7XG4gICAgICAgICAgICBmb3IgKGxldCB4ID0gMDsgeCA8IHRoaXMud2lkdGg7IHgrKykge1xuICAgICAgICAgICAgICAgIGxldCBwaXhlbCA9IHRoaXMuZ2V0KHgsIHkpO1xuICAgICAgICAgICAgICAgIGxldCBhdmcgPSAocGl4ZWxbMF0gKyBwaXhlbFsxXSArIHBpeGVsWzJdKSAvIDM7XG4gICAgICAgICAgICAgICAgaW1hZ2Uuc2V0KHgsIHksIFthdmcsIGF2ZywgYXZnLCAyNTVdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaW1hZ2U7XG4gICAgfVxuXG4gICAgdG9SR0JBKCk6IEdlb25JbWFnZSB7XG4gICAgICAgIC8vIGlmICh0aGlzLnBpeGVsU2l6ZSAhPSAxKSB0aHJvdyBcInBsZWFzZSwgb25seSB1c2UgdGhpcyB3aGVuIHBpeGVsc2l6ZSBpcyAxXCJcblxuICAgICAgICByZXR1cm4gdGhpcztcblxuICAgICAgICAvLyBsZXQgaW1hZ2UgPSBuZXcgR2VvbkltYWdlKHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0LCA0KTtcbiAgICAgICAgLy8gZm9yIChsZXQgeSA9IDA7IHkgPCB0aGlzLmhlaWdodDsgeSsrKSB7XG4gICAgICAgIC8vICAgICBmb3IgKGxldCB4ID0gMDsgeCA8IHRoaXMud2lkdGg7IHgrKykge1xuICAgICAgICAvLyAgICAgICAgIGxldCBwaXhlbCA9IHRoaXMuZ2V0KHgseSk7XG4gICAgICAgIC8vICAgICAgICAgbGV0IHZhbCA9IHBpeGVsWzBdO1xuICAgICAgICAvLyAgICAgICAgIGltYWdlLnNldCh4LCB5LCBbdmFsLCB2YWwsIHZhbCwgMjU1XSk7XG4gICAgICAgIC8vICAgICB9XG4gICAgICAgIC8vIH1cbiAgICAgICAgLy8gcmV0dXJuIGltYWdlO1xuICAgIH1cbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/img/Image.ts\n");

/***/ }),

/***/ "./src/img/kernels.ts":
/*!****************************!*\
  !*** ./src/img/kernels.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Kernels\": () => /* binding */ Kernels\n/* harmony export */ });\n/* harmony import */ var _data_float_matrix__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../data/float-matrix */ \"./src/data/float-matrix.ts\");\n\r\n// kernels\r\nclass Kernels {\r\n    // inspired from https://github.com/yuta1984/CannyJS/blob/master/canny.js\r\n    static generateGaussianKernel(sigmma, size) {\r\n        // messy, probably auto-generated\r\n        var e, gaussian, i, j, kernel, s, sum, x, y, _i, _j, _k, _l, _ref, _ref1, _ref2, _ref3;\r\n        s = sigmma;\r\n        e = 2.718;\r\n        kernel = new _data_float_matrix__WEBPACK_IMPORTED_MODULE_0__.FloatMatrix(size, size);\r\n        sum = 0;\r\n        for (i = _i = 0, _ref = size - 1; 0 <= _ref ? _i <= _ref : _i >= _ref; i = 0 <= _ref ? ++_i : --_i) {\r\n            x = -(size - 1) / 2 + i;\r\n            for (j = _j = 0, _ref1 = size - 1; 0 <= _ref1 ? _j <= _ref1 : _j >= _ref1; j = 0 <= _ref1 ? ++_j : --_j) {\r\n                y = -(size - 1) / 2 + j;\r\n                gaussian = (1 / (2 * Math.PI * s * s)) * Math.pow(e, -(x * x + y * y) / (2 * s * s));\r\n                kernel.set(i, j, gaussian);\r\n                sum += gaussian;\r\n            }\r\n        }\r\n        for (i = _k = 0, _ref2 = size - 1; 0 <= _ref2 ? _k <= _ref2 : _k >= _ref2; i = 0 <= _ref2 ? ++_k : --_k) {\r\n            for (j = _l = 0, _ref3 = size - 1; 0 <= _ref3 ? _l <= _ref3 : _l >= _ref3; j = 0 <= _ref3 ? ++_l : --_l) {\r\n                kernel.set(i, j, kernel.get(i, j) / sum);\r\n            }\r\n        }\r\n        return kernel;\r\n    }\r\n}\r\nKernels.SmoothKernel = new _data_float_matrix__WEBPACK_IMPORTED_MODULE_0__.FloatMatrix(3, 3, [1, 1, 1, 1, 1, 1, 1, 1, 1]).forEachValue((i) => (i * 1) / 9);\r\nKernels.SmoothKernel5 = new _data_float_matrix__WEBPACK_IMPORTED_MODULE_0__.FloatMatrix(5, 5, [\r\n    1,\r\n    1,\r\n    1,\r\n    1,\r\n    1,\r\n    1,\r\n    1,\r\n    1,\r\n    1,\r\n    1,\r\n    1,\r\n    1,\r\n    1,\r\n    1,\r\n    1,\r\n    1,\r\n    1,\r\n    1,\r\n    1,\r\n    1,\r\n    1,\r\n    1,\r\n    1,\r\n    1,\r\n    1,\r\n]).forEachValue((v) => (v * 1) / 25);\r\nKernels.Gauss5 = new _data_float_matrix__WEBPACK_IMPORTED_MODULE_0__.FloatMatrix(5, 5, [\r\n    2,\r\n    4,\r\n    5,\r\n    4,\r\n    2,\r\n    4,\r\n    9,\r\n    12,\r\n    9,\r\n    4,\r\n    5,\r\n    12,\r\n    15,\r\n    12,\r\n    5,\r\n    4,\r\n    9,\r\n    12,\r\n    9,\r\n    4,\r\n    2,\r\n    4,\r\n    5,\r\n    4,\r\n    2,\r\n]).forEachValue((v) => (v * 1) / 159);\r\nKernels.TestKernel = new _data_float_matrix__WEBPACK_IMPORTED_MODULE_0__.FloatMatrix(3, 3, [1, 0, -1, 0, 0, 0, -1, 0, 1]);\r\nKernels.SobelLeft = new _data_float_matrix__WEBPACK_IMPORTED_MODULE_0__.FloatMatrix(3, 3, [1, 2, 1, 0, 0, 0, -1, -2, -1]);\r\nKernels.SobelRight = new _data_float_matrix__WEBPACK_IMPORTED_MODULE_0__.FloatMatrix(3, 3, [-1, -2, -1, 0, 0, 0, 1, 2, 1]);\r\nKernels.SobelUp = new _data_float_matrix__WEBPACK_IMPORTED_MODULE_0__.FloatMatrix(3, 3, [1, 0, -1, 2, 0, -2, 1, 0, -1]);\r\nKernels.SobelDown = new _data_float_matrix__WEBPACK_IMPORTED_MODULE_0__.FloatMatrix(3, 3, [-1, 0, 1, -2, 0, 2, -1, 0, 1]);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9nZW9uLWVuZ2luZS8uL3NyYy9pbWcva2VybmVscy50cz8zNmYzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7O0FBQW1EO0FBRW5ELFVBQVU7QUFFSCxNQUFNLE9BQU87SUFxRWhCLHlFQUF5RTtJQUN6RSxNQUFNLENBQUMsc0JBQXNCLENBQUMsTUFBYyxFQUFFLElBQVk7UUFDdEQsaUNBQWlDO1FBQ2pDLElBQUksQ0FBQyxFQUFFLFFBQVEsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLE1BQU0sRUFBRSxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLElBQUksRUFBRSxLQUFLLEVBQUUsS0FBSyxFQUFFLEtBQUssQ0FBQztRQUN2RixDQUFDLEdBQUcsTUFBTSxDQUFDO1FBQ1gsQ0FBQyxHQUFHLEtBQUssQ0FBQztRQUNWLE1BQU0sR0FBRyxJQUFJLDJEQUFXLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQ3JDLEdBQUcsR0FBRyxDQUFDLENBQUM7UUFDUixLQUFLLENBQUMsR0FBRyxFQUFFLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxJQUFJLEdBQUcsQ0FBQyxFQUFFLENBQUMsSUFBSSxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsSUFBSSxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsSUFBSSxJQUFJLEVBQUUsQ0FBQyxHQUFHLENBQUMsSUFBSSxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsRUFBRTtZQUNoRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLElBQUksR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQ3hCLEtBQUssQ0FBQyxHQUFHLEVBQUUsR0FBRyxDQUFDLEVBQUUsS0FBSyxHQUFHLElBQUksR0FBRyxDQUFDLEVBQUUsQ0FBQyxJQUFJ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RXJCLGNBQU0sR0FBRyxJQUFJLDJEQUFXLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRTtJQUMzQyxDQUFDO0lBQ0QsQ0FBQztJQUNELENBQUM7SUFDRCxDQUFDO0lBQ0QsQ0FBQztJQUNELENBQUM7SUFDRCxDQUFDO0lBQ0QsRUFBRTtJQUNGLENBQUM7SUFDRCxDQUFDO0lBQ0QsQ0FBQztJQUNELEVBQUU7SUFDRixFQUFFO0lBQ0YsRUFBRTtJQUNGLENBQUM7SUFDRCxDQUFDO0lBQ0QsQ0FBQztJQUNELEVBQUU7SUFDRixDQUFDO0lBQ0QsQ0FBQztJQUNELENBQUM7SUFDRCxDQUFDO0lBQ0QsQ0FBQztJQUNELENBQUM7SUFDRCxDQUFDO0NBQ0osQ0FBQyxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUM7QUFFdEIsa0JBQVUsR0FBRyxJQUFJLDJEQUFXLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFFbEUsaUJBQVMsR0FBRyxJQUFJLDJEQUFXLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUVsRSxrQkFBVSxHQUFHLElBQUksMkRBQVcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDO0FBRW5FLGVBQU8sR0FBRyxJQUFJLDJEQUFXLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUVoRSxpQkFBUyxHQUFHLElBQUksMkRBQVcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDIiwiZmlsZSI6Ii4vc3JjL2ltZy9rZXJuZWxzLnRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRmxvYXRNYXRyaXggfSBmcm9tIFwiLi4vZGF0YS9mbG9hdC1tYXRyaXhcIjtcblxuLy8ga2VybmVsc1xuXG5leHBvcnQgY2xhc3MgS2VybmVscyB7XG4gICAgc3RhdGljIHJlYWRvbmx5IFNtb290aEtlcm5lbCA9IG5ldyBGbG9hdE1hdHJpeCgzLCAzLCBbMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMV0pLmZvckVhY2hWYWx1ZSgoaSkgPT4gKGkgKiAxKSAvIDkpO1xuXG4gICAgc3RhdGljIHJlYWRvbmx5IFNtb290aEtlcm5lbDUgPSBuZXcgRmxvYXRNYXRyaXgoNSwgNSwgW1xuICAgICAgICAxLFxuICAgICAgICAxLFxuICAgICAgICAxLFxuICAgICAgICAxLFxuICAgICAgICAxLFxuICAgICAgICAxLFxuICAgICAgICAxLFxuICAgICAgICAxLFxuICAgICAgICAxLFxuICAgICAgICAxLFxuICAgICAgICAxLFxuICAgICAgICAxLFxuICAgICAgICAxLFxuICAgICAgICAxLFxuICAgICAgICAxLFxuICAgICAgICAxLFxuICAgICAgICAxLFxuICAgICAgICAxLFxuICAgICAgICAxLFxuICAgICAgICAxLFxuICAgICAgICAxLFxuICAgICAgICAxLFxuICAgICAgICAxLFxuICAgICAgICAxLFxuICAgICAgICAxLFxuICAgIF0pLmZvckVhY2hWYWx1ZSgodikgPT4gKHYgKiAxKSAvIDI1KTtcblxuICAgIHN0YXRpYyByZWFkb25seSBHYXVzczUgPSBuZXcgRmxvYXRNYXRyaXgoNSwgNSwgW1xuICAgICAgICAyLFxuICAgICAgICA0LFxuICAgICAgICA1LFxuICAgICAgICA0LFxuICAgICAgICAyLFxuICAgICAgICA0LFxuICAgICAgICA5LFxuICAgICAgICAxMixcbiAgICAgICAgOSxcbiAgICAgICAgNCxcbiAgICAgICAgNSxcbiAgICAgICAgMTIsXG4gICAgICAgIDE1LFxuICAgICAgICAxMixcbiAgICAgICAgNSxcbiAgICAgICAgNCxcbiAgICAgICAgOSxcbiAgICAgICAgMTIsXG4gICAgICAgIDksXG4gICAgICAgIDQsXG4gICAgICAgIDIsXG4gICAgICAgIDQsXG4gICAgICAgIDUsXG4gICAgICAgIDQsXG4gICAgICAgIDIsXG4gICAgXSkuZm9yRWFjaFZhbHVlKCh2KSA9PiAodiAqIDEpIC8gMTU5KTtcblxuICAgIHN0YXRpYyByZWFkb25seSBUZXN0S2VybmVsID0gbmV3IEZsb2F0TWF0cml4KDMsIDMsIFsxLCAwLCAtMSwgMCwgMCwgMCwgLTEsIDAsIDFdKTtcblxuICAgIHN0YXRpYyByZWFkb25seSBTb2JlbExlZnQgPSBuZXcgRmxvYXRNYXRyaXgoMywgMywgWzEsIDIsIDEsIDAsIDAsIDAsIC0xLCAtMiwgLTFdKTtcblxuICAgIHN0YXRpYyByZWFkb25seSBTb2JlbFJpZ2h0ID0gbmV3IEZsb2F0TWF0cml4KDMsIDMsIFstMSwgLTIsIC0xLCAwLCAwLCAwLCAxLCAyLCAxXSk7XG5cbiAgICBzdGF0aWMgcmVhZG9ubHkgU29iZWxVcCA9IG5ldyBGbG9hdE1hdHJpeCgzLCAzLCBbMSwgMCwgLTEsIDIsIDAsIC0yLCAxLCAwLCAtMV0pO1xuXG4gICAgc3RhdGljIHJlYWRvbmx5IFNvYmVsRG93biA9IG5ldyBGbG9hdE1hdHJpeCgzLCAzLCBbLTEsIDAsIDEsIC0yLCAwLCAyLCAtMSwgMCwgMV0pO1xuXG4gICAgLy8gaW5zcGlyZWQgZnJvbSBodHRwczovL2dpdGh1Yi5jb20veXV0YTE5ODQvQ2FubnlKUy9ibG9iL21hc3Rlci9jYW5ueS5qc1xuICAgIHN0YXRpYyBnZW5lcmF0ZUdhdXNzaWFuS2VybmVsKHNpZ21tYTogbnVtYmVyLCBzaXplOiBudW1iZXIpIHtcbiAgICAgICAgLy8gbWVzc3ksIHByb2JhYmx5IGF1dG8tZ2VuZXJhdGVkXG4gICAgICAgIHZhciBlLCBnYXVzc2lhbiwgaSwgaiwga2VybmVsLCBzLCBzdW0sIHgsIHksIF9pLCBfaiwgX2ssIF9sLCBfcmVmLCBfcmVmMSwgX3JlZjIsIF9yZWYzO1xuICAgICAgICBzID0gc2lnbW1hO1xuICAgICAgICBlID0gMi43MTg7XG4gICAgICAgIGtlcm5lbCA9IG5ldyBGbG9hdE1hdHJpeChzaXplLCBzaXplKTtcbiAgICAgICAgc3VtID0gMDtcbiAgICAgICAgZm9yIChpID0gX2kgPSAwLCBfcmVmID0gc2l6ZSAtIDE7IDAgPD0gX3JlZiA/IF9pIDw9IF9yZWYgOiBfaSA+PSBfcmVmOyBpID0gMCA8PSBfcmVmID8gKytfaSA6IC0tX2kpIHtcbiAgICAgICAgICAgIHggPSAtKHNpemUgLSAxKSAvIDIgKyBpO1xuICAgICAgICAgICAgZm9yIChqID0gX2ogPSAwLCBfcmVmMSA9IHNpemUgLSAxOyAwIDw9IF9yZWYxID8gX2ogPD0gX3JlZjEgOiBfaiA+PSBfcmVmMTsgaiA9IDAgPD0gX3JlZjEgPyArK19qIDogLS1faikge1xuICAgICAgICAgICAgICAgIHkgPSAtKHNpemUgLSAxKSAvIDIgKyBqO1xuICAgICAgICAgICAgICAgIGdhdXNzaWFuID0gKDEgLyAoMiAqIE1hdGguUEkgKiBzICogcykpICogTWF0aC5wb3coZSwgLSh4ICogeCArIHkgKiB5KSAvICgyICogcyAqIHMpKTtcbiAgICAgICAgICAgICAgICBrZXJuZWwuc2V0KGksIGosIGdhdXNzaWFuKTtcbiAgICAgICAgICAgICAgICBzdW0gKz0gZ2F1c3NpYW47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChpID0gX2sgPSAwLCBfcmVmMiA9IHNpemUgLSAxOyAwIDw9IF9yZWYyID8gX2sgPD0gX3JlZjIgOiBfayA+PSBfcmVmMjsgaSA9IDAgPD0gX3JlZjIgPyArK19rIDogLS1faykge1xuICAgICAgICAgICAgZm9yIChqID0gX2wgPSAwLCBfcmVmMyA9IHNpemUgLSAxOyAwIDw9IF9yZWYzID8gX2wgPD0gX3JlZjMgOiBfbCA+PSBfcmVmMzsgaiA9IDAgPD0gX3JlZjMgPyArK19sIDogLS1fbCkge1xuICAgICAgICAgICAgICAgIGtlcm5lbC5zZXQoaSwgaiwga2VybmVsLmdldChpLCBqKSAvIHN1bSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGtlcm5lbDtcbiAgICB9XG59XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/img/kernels.ts\n");

/***/ }),

/***/ "./src/lib.ts":
/*!********************!*\
  !*** ./src/lib.ts ***!
  \********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Perlin\": () => /* reexport safe */ _algorithms_perlin_noise__WEBPACK_IMPORTED_MODULE_1__.Perlin,\n/* harmony export */   \"App\": () => /* reexport safe */ _app_app__WEBPACK_IMPORTED_MODULE_2__.App,\n/* harmony export */   \"SwapApp\": () => /* reexport safe */ _app_swap_app__WEBPACK_IMPORTED_MODULE_3__.SwapApp,\n/* harmony export */   \"FloatMatrix\": () => /* reexport safe */ _data_float_matrix__WEBPACK_IMPORTED_MODULE_4__.FloatMatrix,\n/* harmony export */   \"HashTable\": () => /* reexport safe */ _data_hash_table__WEBPACK_IMPORTED_MODULE_5__.HashTable,\n/* harmony export */   \"IntCube\": () => /* reexport safe */ _data_int_cube__WEBPACK_IMPORTED_MODULE_6__.IntCube,\n/* harmony export */   \"IntMatrix\": () => /* reexport safe */ _data_int_matrix__WEBPACK_IMPORTED_MODULE_7__.IntMatrix,\n/* harmony export */   \"LinkedList\": () => /* reexport safe */ _data_linked_list__WEBPACK_IMPORTED_MODULE_8__.LinkedList,\n/* harmony export */   \"Vector2Array\": () => /* reexport safe */ _data_vector_array__WEBPACK_IMPORTED_MODULE_9__.Vector2Array,\n/* harmony export */   \"Vector3Array\": () => /* reexport safe */ _data_vector_array__WEBPACK_IMPORTED_MODULE_9__.Vector3Array,\n/* harmony export */   \"getGeneralFloatMatrix\": () => /* reexport safe */ _data_vector_array__WEBPACK_IMPORTED_MODULE_9__.getGeneralFloatMatrix,\n/* harmony export */   \"Circle2\": () => /* reexport safe */ _geo_circle2__WEBPACK_IMPORTED_MODULE_10__.Circle2,\n/* harmony export */   \"Circle3\": () => /* reexport safe */ _geo_circle3__WEBPACK_IMPORTED_MODULE_11__.Circle3,\n/* harmony export */   \"Cube\": () => /* reexport safe */ _geo_cube__WEBPACK_IMPORTED_MODULE_12__.Cube,\n/* harmony export */   \"Geo\": () => /* reexport safe */ _geo_geo__WEBPACK_IMPORTED_MODULE_13__.Geo,\n/* harmony export */   \"LineCurve2\": () => /* reexport safe */ _geo_line__WEBPACK_IMPORTED_MODULE_15__.LineCurve2,\n/* harmony export */   \"Plane\": () => /* reexport safe */ _geo_plane__WEBPACK_IMPORTED_MODULE_16__.Plane,\n/* harmony export */   \"Polyline\": () => /* reexport safe */ _geo_polyline__WEBPACK_IMPORTED_MODULE_17__.Polyline,\n/* harmony export */   \"Rectangle2\": () => /* reexport safe */ _geo_rectangle__WEBPACK_IMPORTED_MODULE_18__.Rectangle2,\n/* harmony export */   \"Rectangle3\": () => /* reexport safe */ _geo_rectangle__WEBPACK_IMPORTED_MODULE_18__.Rectangle3,\n/* harmony export */   \"Triangle2\": () => /* reexport safe */ _geo_triangle__WEBPACK_IMPORTED_MODULE_19__.Triangle2,\n/* harmony export */   \"Triangle3\": () => /* reexport safe */ _geo_triangle__WEBPACK_IMPORTED_MODULE_19__.Triangle3,\n/* harmony export */   \"GeonImage\": () => /* reexport safe */ _img_Image__WEBPACK_IMPORTED_MODULE_20__.GeonImage,\n/* harmony export */   \"Kernels\": () => /* reexport safe */ _img_kernels__WEBPACK_IMPORTED_MODULE_21__.Kernels,\n/* harmony export */   \"Const\": () => /* reexport safe */ _math_const__WEBPACK_IMPORTED_MODULE_22__.Const,\n/* harmony export */   \"Domain\": () => /* reexport safe */ _math_domain__WEBPACK_IMPORTED_MODULE_23__.Domain,\n/* harmony export */   \"Domain2\": () => /* reexport safe */ _math_domain__WEBPACK_IMPORTED_MODULE_23__.Domain2,\n/* harmony export */   \"Domain3\": () => /* reexport safe */ _math_domain__WEBPACK_IMPORTED_MODULE_23__.Domain3,\n/* harmony export */   \"GeonMath\": () => /* reexport safe */ _math_math__WEBPACK_IMPORTED_MODULE_24__.GeonMath,\n/* harmony export */   \"Matrix3\": () => /* reexport safe */ _math_matrix__WEBPACK_IMPORTED_MODULE_25__.Matrix3,\n/* harmony export */   \"Matrix4\": () => /* reexport safe */ _math_matrix__WEBPACK_IMPORTED_MODULE_25__.Matrix4,\n/* harmony export */   \"Quaternion\": () => /* reexport safe */ _math_quaternion__WEBPACK_IMPORTED_MODULE_26__.Quaternion,\n/* harmony export */   \"Ray\": () => /* reexport safe */ _math_ray__WEBPACK_IMPORTED_MODULE_27__.Ray,\n/* harmony export */   \"Stat\": () => /* reexport safe */ _math_statistics__WEBPACK_IMPORTED_MODULE_28__.Stat,\n/* harmony export */   \"Util\": () => /* reexport safe */ _math_util__WEBPACK_IMPORTED_MODULE_29__.Util,\n/* harmony export */   \"Vector2\": () => /* reexport safe */ _math_vector__WEBPACK_IMPORTED_MODULE_30__.Vector2,\n/* harmony export */   \"Vector3\": () => /* reexport safe */ _math_vector__WEBPACK_IMPORTED_MODULE_30__.Vector3,\n/* harmony export */   \"Graph\": () => /* reexport safe */ _mesh_graph__WEBPACK_IMPORTED_MODULE_31__.Graph,\n/* harmony export */   \"LineArray\": () => /* reexport safe */ _mesh_line_array__WEBPACK_IMPORTED_MODULE_32__.LineArray,\n/* harmony export */   \"getDefaultIndices\": () => /* reexport safe */ _mesh_line_array__WEBPACK_IMPORTED_MODULE_32__.getDefaultIndices,\n/* harmony export */   \"Mesh\": () => /* reexport safe */ _mesh_mesh__WEBPACK_IMPORTED_MODULE_33__.Mesh,\n/* harmony export */   \"MeshType\": () => /* reexport safe */ _mesh_render_mesh__WEBPACK_IMPORTED_MODULE_34__.MeshType,\n/* harmony export */   \"NormalKind\": () => /* reexport safe */ _mesh_render_mesh__WEBPACK_IMPORTED_MODULE_34__.NormalKind,\n/* harmony export */   \"Renderable\": () => /* reexport safe */ _mesh_render_mesh__WEBPACK_IMPORTED_MODULE_34__.Renderable,\n/* harmony export */   \"meshFromObj\": () => /* reexport safe */ _mesh_render_mesh__WEBPACK_IMPORTED_MODULE_34__.meshFromObj,\n/* harmony export */   \"TopoMesh\": () => /* reexport safe */ _mesh_topo_mesh__WEBPACK_IMPORTED_MODULE_35__.TopoMesh,\n/* harmony export */   \"BillBoardRenderer\": () => /* reexport safe */ _render_billboard_renderer__WEBPACK_IMPORTED_MODULE_36__.BillBoardRenderer,\n/* harmony export */   \"TextRenderer\": () => /* reexport safe */ _render_billboard_renderer__WEBPACK_IMPORTED_MODULE_36__.TextRenderer,\n/* harmony export */   \"Camera\": () => /* reexport safe */ _render_camera__WEBPACK_IMPORTED_MODULE_37__.Camera,\n/* harmony export */   \"DotRenderer2\": () => /* reexport safe */ _render_dot_renderer2__WEBPACK_IMPORTED_MODULE_38__.DotRenderer2,\n/* harmony export */   \"DotRenderer3\": () => /* reexport safe */ _render_dot_renderer3__WEBPACK_IMPORTED_MODULE_39__.DotRenderer3,\n/* harmony export */   \"LineRenderer\": () => /* reexport safe */ _render_line_renderer__WEBPACK_IMPORTED_MODULE_40__.LineRenderer,\n/* harmony export */   \"MeshDebugRenderer\": () => /* reexport safe */ _render_mesh_debug_renderer__WEBPACK_IMPORTED_MODULE_41__.MeshDebugRenderer,\n/* harmony export */   \"NormalRenderer\": () => /* reexport safe */ _render_mesh_normals_renderer__WEBPACK_IMPORTED_MODULE_42__.NormalRenderer,\n/* harmony export */   \"RectangleRenderer\": () => /* reexport safe */ _render_rectangle_renderer__WEBPACK_IMPORTED_MODULE_43__.RectangleRenderer,\n/* harmony export */   \"DrawSpeed\": () => /* reexport safe */ _render_renderer__WEBPACK_IMPORTED_MODULE_44__.DrawSpeed,\n/* harmony export */   \"Renderer\": () => /* reexport safe */ _render_renderer__WEBPACK_IMPORTED_MODULE_44__.Renderer,\n/* harmony export */   \"ShadedMeshRenderer\": () => /* reexport safe */ _render_shaded_mesh_renderer__WEBPACK_IMPORTED_MODULE_45__.ShadedMeshRenderer,\n/* harmony export */   \"SimpleMeshRenderer\": () => /* reexport safe */ _render_simple_mesh_renderer__WEBPACK_IMPORTED_MODULE_46__.SimpleMeshRenderer,\n/* harmony export */   \"TextureMeshRenderer\": () => /* reexport safe */ _render_texture_mesh_renderer__WEBPACK_IMPORTED_MODULE_47__.TextureMeshRenderer,\n/* harmony export */   \"addDropFileEventListeners\": () => /* reexport safe */ _system_domwrappers__WEBPACK_IMPORTED_MODULE_48__.addDropFileEventListeners,\n/* harmony export */   \"loadImageFromFile\": () => /* reexport safe */ _system_domwrappers__WEBPACK_IMPORTED_MODULE_48__.loadImageFromFile,\n/* harmony export */   \"loadJSONFromFile\": () => /* reexport safe */ _system_domwrappers__WEBPACK_IMPORTED_MODULE_48__.loadJSONFromFile,\n/* harmony export */   \"loadTextFromFile\": () => /* reexport safe */ _system_domwrappers__WEBPACK_IMPORTED_MODULE_48__.loadTextFromFile,\n/* harmony export */   \"FpsCounter\": () => /* reexport safe */ _system_fpsCounter__WEBPACK_IMPORTED_MODULE_49__.FpsCounter,\n/* harmony export */   \"InputState\": () => /* reexport safe */ _system_input_state__WEBPACK_IMPORTED_MODULE_50__.InputState,\n/* harmony export */   \"EnumParameter\": () => /* reexport safe */ _system_ui__WEBPACK_IMPORTED_MODULE_51__.EnumParameter,\n/* harmony export */   \"Parameter\": () => /* reexport safe */ _system_ui__WEBPACK_IMPORTED_MODULE_51__.Parameter,\n/* harmony export */   \"UI\": () => /* reexport safe */ _system_ui__WEBPACK_IMPORTED_MODULE_51__.UI,\n/* harmony export */   \"Core\": () => /* reexport safe */ _system_core__WEBPACK_IMPORTED_MODULE_52__.Core\n/* harmony export */ });\n/* harmony import */ var _algorithms_marching_cubes__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./algorithms/marching-cubes */ \"./src/algorithms/marching-cubes.ts\");\n/* harmony import */ var _algorithms_perlin_noise__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./algorithms/perlin-noise */ \"./src/algorithms/perlin-noise.ts\");\n/* harmony import */ var _app_app__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./app/app */ \"./src/app/app.ts\");\n/* harmony import */ var _app_swap_app__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/swap-app */ \"./src/app/swap-app.ts\");\n/* harmony import */ var _data_float_matrix__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./data/float-matrix */ \"./src/data/float-matrix.ts\");\n/* harmony import */ var _data_hash_table__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./data/hash-table */ \"./src/data/hash-table.ts\");\n/* harmony import */ var _data_int_cube__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./data/int-cube */ \"./src/data/int-cube.ts\");\n/* harmony import */ var _data_int_matrix__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./data/int-matrix */ \"./src/data/int-matrix.ts\");\n/* harmony import */ var _data_linked_list__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./data/linked-list */ \"./src/data/linked-list.ts\");\n/* harmony import */ var _data_vector_array__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./data/vector-array */ \"./src/data/vector-array.ts\");\n/* harmony import */ var _geo_circle2__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./geo/circle2 */ \"./src/geo/circle2.ts\");\n/* harmony import */ var _geo_circle3__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./geo/circle3 */ \"./src/geo/circle3.ts\");\n/* harmony import */ var _geo_cube__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./geo/cube */ \"./src/geo/cube.ts\");\n/* harmony import */ var _geo_geo__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./geo/geo */ \"./src/geo/geo.ts\");\n/* harmony import */ var _geo_intersect__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./geo/intersect */ \"./src/geo/intersect.ts\");\n/* harmony import */ var _geo_line__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./geo/line */ \"./src/geo/line.ts\");\n/* harmony import */ var _geo_plane__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./geo/plane */ \"./src/geo/plane.ts\");\n/* harmony import */ var _geo_polyline__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./geo/polyline */ \"./src/geo/polyline.ts\");\n/* harmony import */ var _geo_rectangle__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./geo/rectangle */ \"./src/geo/rectangle.ts\");\n/* harmony import */ var _geo_triangle__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./geo/triangle */ \"./src/geo/triangle.ts\");\n/* harmony import */ var _img_Image__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./img/Image */ \"./src/img/Image.ts\");\n/* harmony import */ var _img_kernels__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./img/kernels */ \"./src/img/kernels.ts\");\n/* harmony import */ var _math_const__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./math/const */ \"./src/math/const.ts\");\n/* harmony import */ var _math_domain__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./math/domain */ \"./src/math/domain.ts\");\n/* harmony import */ var _math_math__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./math/math */ \"./src/math/math.ts\");\n/* harmony import */ var _math_matrix__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./math/matrix */ \"./src/math/matrix.ts\");\n/* harmony import */ var _math_quaternion__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./math/quaternion */ \"./src/math/quaternion.ts\");\n/* harmony import */ var _math_ray__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./math/ray */ \"./src/math/ray.ts\");\n/* harmony import */ var _math_statistics__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ./math/statistics */ \"./src/math/statistics.ts\");\n/* harmony import */ var _math_util__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ./math/util */ \"./src/math/util.ts\");\n/* harmony import */ var _math_vector__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ./math/vector */ \"./src/math/vector.ts\");\n/* harmony import */ var _mesh_graph__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ./mesh/graph */ \"./src/mesh/graph.ts\");\n/* harmony import */ var _mesh_line_array__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ./mesh/line-array */ \"./src/mesh/line-array.ts\");\n/* harmony import */ var _mesh_mesh__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ./mesh/mesh */ \"./src/mesh/mesh.ts\");\n/* harmony import */ var _mesh_render_mesh__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ./mesh/render-mesh */ \"./src/mesh/render-mesh.ts\");\n/* harmony import */ var _mesh_topo_mesh__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ./mesh/topo-mesh */ \"./src/mesh/topo-mesh.ts\");\n/* harmony import */ var _render_billboard_renderer__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! ./render/billboard-renderer */ \"./src/render/billboard-renderer.ts\");\n/* harmony import */ var _render_camera__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! ./render/camera */ \"./src/render/camera.ts\");\n/* harmony import */ var _render_dot_renderer2__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! ./render/dot-renderer2 */ \"./src/render/dot-renderer2.ts\");\n/* harmony import */ var _render_dot_renderer3__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(/*! ./render/dot-renderer3 */ \"./src/render/dot-renderer3.ts\");\n/* harmony import */ var _render_line_renderer__WEBPACK_IMPORTED_MODULE_40__ = __webpack_require__(/*! ./render/line-renderer */ \"./src/render/line-renderer.ts\");\n/* harmony import */ var _render_mesh_debug_renderer__WEBPACK_IMPORTED_MODULE_41__ = __webpack_require__(/*! ./render/mesh-debug-renderer */ \"./src/render/mesh-debug-renderer.ts\");\n/* harmony import */ var _render_mesh_normals_renderer__WEBPACK_IMPORTED_MODULE_42__ = __webpack_require__(/*! ./render/mesh-normals-renderer */ \"./src/render/mesh-normals-renderer.ts\");\n/* harmony import */ var _render_rectangle_renderer__WEBPACK_IMPORTED_MODULE_43__ = __webpack_require__(/*! ./render/rectangle-renderer */ \"./src/render/rectangle-renderer.ts\");\n/* harmony import */ var _render_renderer__WEBPACK_IMPORTED_MODULE_44__ = __webpack_require__(/*! ./render/renderer */ \"./src/render/renderer.ts\");\n/* harmony import */ var _render_shaded_mesh_renderer__WEBPACK_IMPORTED_MODULE_45__ = __webpack_require__(/*! ./render/shaded-mesh-renderer */ \"./src/render/shaded-mesh-renderer.ts\");\n/* harmony import */ var _render_simple_mesh_renderer__WEBPACK_IMPORTED_MODULE_46__ = __webpack_require__(/*! ./render/simple-mesh-renderer */ \"./src/render/simple-mesh-renderer.ts\");\n/* harmony import */ var _render_texture_mesh_renderer__WEBPACK_IMPORTED_MODULE_47__ = __webpack_require__(/*! ./render/texture-mesh-renderer */ \"./src/render/texture-mesh-renderer.ts\");\n/* harmony import */ var _system_domwrappers__WEBPACK_IMPORTED_MODULE_48__ = __webpack_require__(/*! ./system/domwrappers */ \"./src/system/domwrappers.ts\");\n/* harmony import */ var _system_fpsCounter__WEBPACK_IMPORTED_MODULE_49__ = __webpack_require__(/*! ./system/fpsCounter */ \"./src/system/fpsCounter.ts\");\n/* harmony import */ var _system_input_state__WEBPACK_IMPORTED_MODULE_50__ = __webpack_require__(/*! ./system/input-state */ \"./src/system/input-state.ts\");\n/* harmony import */ var _system_ui__WEBPACK_IMPORTED_MODULE_51__ = __webpack_require__(/*! ./system/ui */ \"./src/system/ui.ts\");\n/* harmony import */ var _system_core__WEBPACK_IMPORTED_MODULE_52__ = __webpack_require__(/*! ./system/core */ \"./src/system/core.ts\");\n// purpose: make sure the entire library is callable from one point.\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n// export * from \"./render/scene\";\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9nZW9uLWVuZ2luZS8uL3NyYy9saWIudHM/ODRmOCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxvRUFBb0U7QUFFeEI7QUFDRjtBQUVoQjtBQUNLO0FBRUs7QUFDRjtBQUNGO0FBQ0U7QUFDQztBQUNDO0FBRU47QUFDQTtBQUNIO0FBQ0Q7QUFDTTtBQUNMO0FBQ0M7QUFDRztBQUNDO0FBQ0Q7QUFFSDtBQUNFO0FBRUQ7QUFDQztBQUNGO0FBQ0U7QUFDSTtBQUNQO0FBQ087QUFDTjtBQUNFO0FBRUQ7QUFDSztBQUNOO0FBQ087QUFDRjtBQUVXO0FBQ1o7QUFDTztBQUNBO0FBQ0E7QUFDTTtBQUNFO0FBQ0g7QUFDVjtBQUNsQyxrQ0FBa0M7QUFDWTtBQUNBO0FBQ0M7QUFFVjtBQUNEO0FBQ0M7QUFDVDtBQUNFIiwiZmlsZSI6Ii4vc3JjL2xpYi50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIHB1cnBvc2U6IG1ha2Ugc3VyZSB0aGUgZW50aXJlIGxpYnJhcnkgaXMgY2FsbGFibGUgZnJvbSBvbmUgcG9pbnQuXG5cbmV4cG9ydCAqIGZyb20gXCIuL2FsZ29yaXRobXMvbWFyY2hpbmctY3ViZXNcIjtcbmV4cG9ydCAqIGZyb20gXCIuL2FsZ29yaXRobXMvcGVybGluLW5vaXNlXCI7XG5cbmV4cG9ydCAqIGZyb20gXCIuL2FwcC9hcHBcIjtcbmV4cG9ydCAqIGZyb20gXCIuL2FwcC9zd2FwLWFwcFwiO1xuXG5leHBvcnQgKiBmcm9tIFwiLi9kYXRhL2Zsb2F0LW1hdHJpeFwiO1xuZXhwb3J0ICogZnJvbSBcIi4vZGF0YS9oYXNoLXRhYmxlXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9kYXRhL2ludC1jdWJlXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9kYXRhL2ludC1tYXRyaXhcIjtcbmV4cG9ydCAqIGZyb20gXCIuL2RhdGEvbGlua2VkLWxpc3RcIjtcbmV4cG9ydCAqIGZyb20gXCIuL2RhdGEvdmVjdG9yLWFycmF5XCI7XG5cbmV4cG9ydCAqIGZyb20gXCIuL2dlby9jaXJjbGUyXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9nZW8vY2lyY2xlM1wiO1xuZXhwb3J0ICogZnJvbSBcIi4vZ2VvL2N1YmVcIjtcbmV4cG9ydCAqIGZyb20gXCIuL2dlby9nZW9cIjtcbmV4cG9ydCAqIGZyb20gXCIuL2dlby9pbnRlcnNlY3RcIjtcbmV4cG9ydCAqIGZyb20gXCIuL2dlby9saW5lXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9nZW8vcGxhbmVcIjtcbmV4cG9ydCAqIGZyb20gXCIuL2dlby9wb2x5bGluZVwiO1xuZXhwb3J0ICogZnJvbSBcIi4vZ2VvL3JlY3RhbmdsZVwiO1xuZXhwb3J0ICogZnJvbSBcIi4vZ2VvL3RyaWFuZ2xlXCI7XG5cbmV4cG9ydCAqIGZyb20gXCIuL2ltZy9JbWFnZVwiO1xuZXhwb3J0ICogZnJvbSBcIi4vaW1nL2tlcm5lbHNcIjtcblxuZXhwb3J0ICogZnJvbSBcIi4vbWF0aC9jb25zdFwiO1xuZXhwb3J0ICogZnJvbSBcIi4vbWF0aC9kb21haW5cIjtcbmV4cG9ydCAqIGZyb20gXCIuL21hdGgvbWF0aFwiO1xuZXhwb3J0ICogZnJvbSBcIi4vbWF0aC9tYXRyaXhcIjtcbmV4cG9ydCAqIGZyb20gXCIuL21hdGgvcXVhdGVybmlvblwiO1xuZXhwb3J0ICogZnJvbSBcIi4vbWF0aC9yYXlcIjtcbmV4cG9ydCAqIGZyb20gXCIuL21hdGgvc3RhdGlzdGljc1wiO1xuZXhwb3J0ICogZnJvbSBcIi4vbWF0aC91dGlsXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9tYXRoL3ZlY3RvclwiO1xuXG5leHBvcnQgKiBmcm9tIFwiLi9tZXNoL2dyYXBoXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9tZXNoL2xpbmUtYXJyYXlcIjtcbmV4cG9ydCAqIGZyb20gXCIuL21lc2gvbWVzaFwiO1xuZXhwb3J0ICogZnJvbSBcIi4vbWVzaC9yZW5kZXItbWVzaFwiO1xuZXhwb3J0ICogZnJvbSBcIi4vbWVzaC90b3BvLW1lc2hcIjtcblxuZXhwb3J0ICogZnJvbSBcIi4vcmVuZGVyL2JpbGxib2FyZC1yZW5kZXJlclwiO1xuZXhwb3J0ICogZnJvbSBcIi4vcmVuZGVyL2NhbWVyYVwiO1xuZXhwb3J0ICogZnJvbSBcIi4vcmVuZGVyL2RvdC1yZW5kZXJlcjJcIjtcbmV4cG9ydCAqIGZyb20gXCIuL3JlbmRlci9kb3QtcmVuZGVyZXIzXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9yZW5kZXIvbGluZS1yZW5kZXJlclwiO1xuZXhwb3J0ICogZnJvbSBcIi4vcmVuZGVyL21lc2gtZGVidWctcmVuZGVyZXJcIjtcbmV4cG9ydCAqIGZyb20gXCIuL3JlbmRlci9tZXNoLW5vcm1hbHMtcmVuZGVyZXJcIjtcbmV4cG9ydCAqIGZyb20gXCIuL3JlbmRlci9yZWN0YW5nbGUtcmVuZGVyZXJcIjtcbmV4cG9ydCAqIGZyb20gXCIuL3JlbmRlci9yZW5kZXJlclwiO1xuLy8gZXhwb3J0ICogZnJvbSBcIi4vcmVuZGVyL3NjZW5lXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9yZW5kZXIvc2hhZGVkLW1lc2gtcmVuZGVyZXJcIjtcbmV4cG9ydCAqIGZyb20gXCIuL3JlbmRlci9zaW1wbGUtbWVzaC1yZW5kZXJlclwiO1xuZXhwb3J0ICogZnJvbSBcIi4vcmVuZGVyL3RleHR1cmUtbWVzaC1yZW5kZXJlclwiO1xuXG5leHBvcnQgKiBmcm9tIFwiLi9zeXN0ZW0vZG9td3JhcHBlcnNcIjtcbmV4cG9ydCAqIGZyb20gXCIuL3N5c3RlbS9mcHNDb3VudGVyXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9zeXN0ZW0vaW5wdXQtc3RhdGVcIjtcbmV4cG9ydCAqIGZyb20gXCIuL3N5c3RlbS91aVwiO1xuZXhwb3J0ICogZnJvbSBcIi4vc3lzdGVtL2NvcmVcIjtcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/lib.ts\n");

/***/ }),

/***/ "./src/math/const.ts":
/*!***************************!*\
  !*** ./src/math/const.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Const\": () => /* binding */ Const\n/* harmony export */ });\n// name:    const.ts\r\n// author:  Jos Feenstra\r\n// purpose: Certain math constances\r\n// todo:    These are somewhat like the settings of the entire application. This could be expanded upon (json's, in-app functionalitiy)\r\nclass Const {\r\n    static IsRouglyZero(value) {\r\n        return Math.abs(value) < this.TOLERANCE;\r\n    }\r\n}\r\nConst.TOLERANCE = 0.0001; // tolerance used for determining if 1 value is the same as some other value, relatively speaking\r\nConst.TOL_SQUARED = Math.pow(Const.TOLERANCE, 2);\r\nConst.MAX_U16 = 65536;\r\n// ----- Line Render Settings -----\r\nConst.PLANE_RENDER_LINECOUNT = 9;\r\nConst.PLANE_RENDER_LINEDISTANCE = 0.3;\r\nConst.CIRCLE_SEGMENTS = 100;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9nZW9uLWVuZ2luZS8uL3NyYy9tYXRoL2NvbnN0LnRzP2Y2NDIiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7OztBQUFBLG9CQUFvQjtBQUNwQix3QkFBd0I7QUFDeEIsbUNBQW1DO0FBQ25DLHVJQUF1STtBQUVoSSxNQUFNLEtBQUs7SUFZZCxNQUFNLENBQUMsWUFBWSxDQUFDLEtBQWE7UUFDN0IsT0FBTyxJQUFJLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUM7SUFDNUMsQ0FBQzs7QUFiTSxlQUFTLEdBQUcsTUFBTSxDQUFDLENBQUMsaUdBQWlHO0FBQ3JILGlCQUFXLEdBQUcsY0FBSyxDQUFDLFNBQVMsRUFBSSxDQUFDLEVBQUM7QUFFbkMsYUFBTyxHQUFHLEtBQUssQ0FBQztBQUV2QixtQ0FBbUM7QUFDNUIsNEJBQXNCLEdBQUcsQ0FBQyxDQUFDO0FBQzNCLCtCQUF5QixHQUFHLEdBQUcsQ0FBQztBQUVoQyxxQkFBZSxHQUFHLEdBQUcsQ0FBQyIsImZpbGUiOiIuL3NyYy9tYXRoL2NvbnN0LnRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gbmFtZTogICAgY29uc3QudHNcbi8vIGF1dGhvcjogIEpvcyBGZWVuc3RyYVxuLy8gcHVycG9zZTogQ2VydGFpbiBtYXRoIGNvbnN0YW5jZXNcbi8vIHRvZG86ICAgIFRoZXNlIGFyZSBzb21ld2hhdCBsaWtlIHRoZSBzZXR0aW5ncyBvZiB0aGUgZW50aXJlIGFwcGxpY2F0aW9uLiBUaGlzIGNvdWxkIGJlIGV4cGFuZGVkIHVwb24gKGpzb24ncywgaW4tYXBwIGZ1bmN0aW9uYWxpdGl5KVxuXG5leHBvcnQgY2xhc3MgQ29uc3Qge1xuICAgIHN0YXRpYyBUT0xFUkFOQ0UgPSAwLjAwMDE7IC8vIHRvbGVyYW5jZSB1c2VkIGZvciBkZXRlcm1pbmluZyBpZiAxIHZhbHVlIGlzIHRoZSBzYW1lIGFzIHNvbWUgb3RoZXIgdmFsdWUsIHJlbGF0aXZlbHkgc3BlYWtpbmdcbiAgICBzdGF0aWMgVE9MX1NRVUFSRUQgPSBDb25zdC5UT0xFUkFOQ0UgKiogMjtcblxuICAgIHN0YXRpYyBNQVhfVTE2ID0gNjU1MzY7XG5cbiAgICAvLyAtLS0tLSBMaW5lIFJlbmRlciBTZXR0aW5ncyAtLS0tLVxuICAgIHN0YXRpYyBQTEFORV9SRU5ERVJfTElORUNPVU5UID0gOTtcbiAgICBzdGF0aWMgUExBTkVfUkVOREVSX0xJTkVESVNUQU5DRSA9IDAuMztcblxuICAgIHN0YXRpYyBDSVJDTEVfU0VHTUVOVFMgPSAxMDA7XG5cbiAgICBzdGF0aWMgSXNSb3VnbHlaZXJvKHZhbHVlOiBudW1iZXIpIHtcbiAgICAgICAgcmV0dXJuIE1hdGguYWJzKHZhbHVlKSA8IHRoaXMuVE9MRVJBTkNFO1xuICAgIH1cbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/math/const.ts\n");

/***/ }),

/***/ "./src/math/domain.ts":
/*!****************************!*\
  !*** ./src/math/domain.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Domain\": () => /* binding */ Domain,\n/* harmony export */   \"Domain2\": () => /* binding */ Domain2,\n/* harmony export */   \"Domain3\": () => /* binding */ Domain3\n/* harmony export */ });\n/* harmony import */ var _data_vector_array__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../data/vector-array */ \"./src/data/vector-array.ts\");\n/* harmony import */ var _vector__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./vector */ \"./src/math/vector.ts\");\n// domain.ts\r\n//\r\n// author: Jos Feenstra\r\n// purpose: general representation of a domain / range / bound of numbers\r\n//\r\n\r\n\r\nclass Domain {\r\n    constructor(t0 = 0.0, t1 = 1.0) {\r\n        // if (t0 > t1) console.error(\"created a domain with negative size.\");\r\n        // if (t0 == t1) console.warn(\"created a domain with size is 0.0. could cause problems\");\r\n        this.t0 = t0;\r\n        this.t1 = t1;\r\n    }\r\n    static fromRadius(r) {\r\n        return new Domain(-r, r);\r\n    }\r\n    static fromInclude(data) {\r\n        // create a new domain which bounds all parsed values\r\n        let min = Number.MAX_VALUE;\r\n        let max = Number.MIN_VALUE;\r\n        for (let i = 0; i < data.length; i++) {\r\n            if (data[i] < min)\r\n                min = data[i];\r\n            if (data[i] > max)\r\n                max = data[i];\r\n        }\r\n        return new Domain(min, max);\r\n    }\r\n    offset(t0Offset, t1Offset) {\r\n        this.t0 += t0Offset;\r\n        this.t1 += t1Offset;\r\n        return this;\r\n    }\r\n    includes(value) {\r\n        // note: including t0, including t1\r\n        return value >= this.t0 && value <= this.t1;\r\n    }\r\n    size() {\r\n        // the size or length of this domain\r\n        return this.t1 - this.t0;\r\n    }\r\n    normalize(value) {\r\n        // normalize a parameter\r\n        return (value - this.t0) / this.size();\r\n    }\r\n    elevate(t) {\r\n        // elevate a normalized parameter to the parameter space of this domain\r\n        return t * this.size() + this.t0;\r\n    }\r\n    remap(value, other = new Domain()) {\r\n        // normalize a value, then elevate it to a new domain\r\n        let norm = this.normalize(value);\r\n        return other.elevate(norm);\r\n    }\r\n    *iter(count) {\r\n        // iterate over this Domain 'count' number of times\r\n        let step = this.size() / count;\r\n        for (let i = this.t0; i < this.t1; i += step) {\r\n            yield i;\r\n        }\r\n    }\r\n    *iterStep(step) {\r\n        // iterate over this domain with a stepsize of 'step'\r\n        for (let i = this.t0; i < this.t1; i += step) {\r\n            yield i;\r\n        }\r\n    }\r\n    // comform a number to the bound\r\n    comform(value) {\r\n        if (value < this.t0) {\r\n            return this.t0;\r\n        }\r\n        else if (value > this.t1) {\r\n            return this.t1;\r\n        }\r\n        else {\r\n            return value;\r\n        }\r\n    }\r\n}\r\nclass Domain2 {\r\n    constructor(x = new Domain(), y = new Domain()) {\r\n        this.x = x;\r\n        this.y = y;\r\n    }\r\n    static fromRadius(r) {\r\n        return new Domain2(Domain.fromRadius(r), Domain.fromRadius(r));\r\n    }\r\n    static fromBounds(x0, x1, y0, y1) {\r\n        return new Domain2(new Domain(x0, x1), new Domain(y0, y1));\r\n    }\r\n    static fromInclude(data) {\r\n        // note : could be quicker by going verbose, this now iterates over data 4 times\r\n        return new Domain2(Domain.fromInclude(data.getColumn(0)), Domain.fromInclude(data.getColumn(1)));\r\n    }\r\n    offset(xXyYoffset) {\r\n        let off = xXyYoffset;\r\n        if (off.length != 4)\r\n            throw \"need 4 values\";\r\n        this.x.offset(off[0], off[1]);\r\n        this.y.offset(off[2], off[3]);\r\n        return this;\r\n    }\r\n    includes(value) {\r\n        // note: including t0, including t1\r\n        return this.x.includes(value.x) && this.y.includes(value.y);\r\n    }\r\n    size() {\r\n        // the size or length of this domain\r\n        return new _vector__WEBPACK_IMPORTED_MODULE_1__.Vector2(this.x.size(), this.y.size());\r\n    }\r\n    normalize(value) {\r\n        // normalize a parameter\r\n        return new _vector__WEBPACK_IMPORTED_MODULE_1__.Vector2(this.x.normalize(value.x), this.y.normalize(value.y));\r\n    }\r\n    elevate(t) {\r\n        // elevate a normalized parameter to the parameter space of this domain\r\n        return new _vector__WEBPACK_IMPORTED_MODULE_1__.Vector2(this.x.elevate(t.x), this.y.elevate(t.y));\r\n    }\r\n    remap(value, other = new Domain2()) {\r\n        // normalize a value, then elevate it to a new domain\r\n        let norm = this.normalize(value);\r\n        return other.elevate(norm);\r\n    }\r\n    corners() {\r\n        // render the extends of this boundary / domain\r\n        let dim = 2;\r\n        let corners = Math.pow(2, dim);\r\n        let data = [];\r\n        for (let x of [this.x.t0, this.x.t1]) {\r\n            for (let y of [this.y.t0, this.y.t1]) {\r\n                data.push(new _vector__WEBPACK_IMPORTED_MODULE_1__.Vector2(x, y));\r\n            }\r\n        }\r\n        return data;\r\n    }\r\n}\r\nclass Domain3 {\r\n    constructor(x = new Domain(), y = new Domain(), z = new Domain()) {\r\n        this.x = x;\r\n        this.y = y;\r\n        this.z = z;\r\n    }\r\n    static fromBounds(x0, x1, y0, y1, z0, z1) {\r\n        return new Domain3(new Domain(x0, x1), new Domain(y0, y1), new Domain(z0, z1));\r\n    }\r\n    static fromRadius(r) {\r\n        return new Domain3(Domain.fromRadius(r), Domain.fromRadius(r), Domain.fromRadius(r));\r\n    }\r\n    static fromRadii(rx, ry, rz) {\r\n        return new Domain3(Domain.fromRadius(rx), Domain.fromRadius(ry), Domain.fromRadius(rz));\r\n    }\r\n    static fromInclude(data) {\r\n        // note : could be quicker by going verbose, this now iterates over data 6 times\r\n        return new Domain3(Domain.fromInclude(data.getColumn(0)), Domain.fromInclude(data.getColumn(1)), Domain.fromInclude(data.getColumn(2)));\r\n    }\r\n    offset(xXyYoffset) {\r\n        let off = xXyYoffset;\r\n        if (off.length != 6)\r\n            throw \"need 6 values\";\r\n        this.x.offset(off[0], off[1]);\r\n        this.y.offset(off[2], off[3]);\r\n        this.z.offset(off[4], off[5]);\r\n        return this;\r\n    }\r\n    includes(value) {\r\n        // note: including t0, including t1\r\n        return this.x.includes(value.x) && this.y.includes(value.y) && this.z.includes(value.z);\r\n    }\r\n    size() {\r\n        // the size or length of this domain\r\n        return new _vector__WEBPACK_IMPORTED_MODULE_1__.Vector3(this.x.size(), this.y.size(), this.z.size());\r\n    }\r\n    normalize(value) {\r\n        // normalize a parameter\r\n        return new _vector__WEBPACK_IMPORTED_MODULE_1__.Vector3(this.x.normalize(value.x), this.y.normalize(value.y), this.z.normalize(value.z));\r\n    }\r\n    elevate(t) {\r\n        // elevate a normalized parameter to the parameter space of this domain\r\n        return new _vector__WEBPACK_IMPORTED_MODULE_1__.Vector3(this.x.elevate(t.x), this.y.elevate(t.y), this.z.elevate(t.z));\r\n    }\r\n    remap(value, other = new Domain3()) {\r\n        // normalize a value, then elevate it to a new domain\r\n        let norm = this.normalize(value);\r\n        return other.elevate(norm);\r\n    }\r\n    remapAll(values, other = new Domain3()) {\r\n        // normalize a value, then elevate it to a new domain\r\n        let newValues = new _data_vector_array__WEBPACK_IMPORTED_MODULE_0__.Vector3Array(values.count());\r\n        for (let i = 0; i < values.count(); i++) {\r\n            let norm = this.normalize(values.getVector(i));\r\n            newValues.setVector(i, other.elevate(norm));\r\n        }\r\n        return newValues;\r\n    }\r\n    corners(matrix) {\r\n        // render the extends of this boundary / domain\r\n        let dim = 3;\r\n        let corners = 2 ^ dim;\r\n        let data = [];\r\n        for (let x of [this.x.t0, this.x.t1]) {\r\n            for (let y of [this.y.t0, this.y.t1]) {\r\n                for (let z of [this.z.t0, this.z.t1]) {\r\n                    data.push(matrix.multiplyVector(new _vector__WEBPACK_IMPORTED_MODULE_1__.Vector3(x, y, z)));\r\n                }\r\n            }\r\n        }\r\n        return data;\r\n    }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9nZW9uLWVuZ2luZS8uL3NyYy9tYXRoL2RvbWFpbi50cz84YTA2Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUEsWUFBWTtBQUNaLEVBQUU7QUFDRix1QkFBdUI7QUFDdkIseUVBQXlFO0FBQ3pFLEVBQUU7QUFHZ0U7QUFFdEI7QUFFckMsTUFBTSxNQUFNO0lBTWYsWUFBWSxLQUFhLEdBQUcsRUFBRSxLQUFhLEdBQUc7UUFDMUMsc0VBQXNFO1FBQ3RFLHlGQUF5RjtRQUN6RixJQUFJLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQztRQUNiLElBQUksQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDO0lBQ2pCLENBQUM7SUFFRCxNQUFNLENBQUMsVUFBVSxDQUFDLENBQVM7UUFDdkIsT0FBTyxJQUFJLE1BQU0sQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUM3QixDQUFDO0lBRUQsTUFBTSxDQUFDLFdBQVcsQ0FBQyxJQUFrQjtRQUNqQyxxREFBcUQ7UUFDckQsSUFBSSxHQUFHLEdBQUcsTUFBTSxDQUFDLFNBQVMsQ0FBQztRQUMzQixJQUFJLEdBQUcsR0FBRyxNQUFNLENBQUMsU0FBUyxDQUFDO1FBRTNCLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxJQUFJLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFO1lBQ2xDLElBQUksSUFBSSxDQUFDLENBQUMsQ0FBQyxHQUFHLEdBQUc7Z0JBQUUsR0FBRyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUNqQyxJQUFJLElBQUksQ0FBQyxDQUFDLENBQUMsR0FBRyxHQUFHO2dCQUFFLEdBQUcsR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7U0FDcEM7UUFDRCxPQUFPLElBQUksTUFBTSxDQUFDLEdBQUcsRUFBRSxHQUFHLENBQUMsQ0FBQztJQUNoQyxDQUFDO0lBRUQsTUFBTSxDQUFDLFFBQWdCLEVBQUUsUUFBZ0I7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c0NvbnRlbnQiOlsiLy8gZG9tYWluLnRzXG4vL1xuLy8gYXV0aG9yOiBKb3MgRmVlbnN0cmFcbi8vIHB1cnBvc2U6IGdlbmVyYWwgcmVwcmVzZW50YXRpb24gb2YgYSBkb21haW4gLyByYW5nZSAvIGJvdW5kIG9mIG51bWJlcnNcbi8vXG5cbmltcG9ydCB7IEZsb2F0TWF0cml4IH0gZnJvbSBcIi4uL2RhdGEvZmxvYXQtbWF0cml4XCI7XG5pbXBvcnQgeyBWZWN0b3IyQXJyYXksIFZlY3RvcjNBcnJheSB9IGZyb20gXCIuLi9kYXRhL3ZlY3Rvci1hcnJheVwiO1xuaW1wb3J0IHsgTWF0cml4NCB9IGZyb20gXCIuL21hdHJpeFwiO1xuaW1wb3J0IHsgVmVjdG9yMiwgVmVjdG9yMyB9IGZyb20gXCIuL3ZlY3RvclwiO1xuXG5leHBvcnQgY2xhc3MgRG9tYWluIHtcbiAgICAvLyBub3RlOiBpbmNsdWRpbmcgdDAsIGluY2x1ZGluZyB0MVxuXG4gICAgdDA6IG51bWJlcjtcbiAgICB0MTogbnVtYmVyO1xuXG4gICAgY29uc3RydWN0b3IodDA6IG51bWJlciA9IDAuMCwgdDE6IG51bWJlciA9IDEuMCkge1xuICAgICAgICAvLyBpZiAodDAgPiB0MSkgY29uc29sZS5lcnJvcihcImNyZWF0ZWQgYSBkb21haW4gd2l0aCBuZWdhdGl2ZSBzaXplLlwiKTtcbiAgICAgICAgLy8gaWYgKHQwID09IHQxKSBjb25zb2xlLndhcm4oXCJjcmVhdGVkIGEgZG9tYWluIHdpdGggc2l6ZSBpcyAwLjAuIGNvdWxkIGNhdXNlIHByb2JsZW1zXCIpO1xuICAgICAgICB0aGlzLnQwID0gdDA7XG4gICAgICAgIHRoaXMudDEgPSB0MTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZnJvbVJhZGl1cyhyOiBudW1iZXIpOiBEb21haW4ge1xuICAgICAgICByZXR1cm4gbmV3IERvbWFpbigtciwgcik7XG4gICAgfVxuXG4gICAgc3RhdGljIGZyb21JbmNsdWRlKGRhdGE6IEZsb2F0MzJBcnJheSk6IERvbWFpbiB7XG4gICAgICAgIC8vIGNyZWF0ZSBhIG5ldyBkb21haW4gd2hpY2ggYm91bmRzIGFsbCBwYXJzZWQgdmFsdWVzXG4gICAgICAgIGxldCBtaW4gPSBOdW1iZXIuTUFYX1ZBTFVFO1xuICAgICAgICBsZXQgbWF4ID0gTnVtYmVyLk1JTl9WQUxVRTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChkYXRhW2ldIDwgbWluKSBtaW4gPSBkYXRhW2ldO1xuICAgICAgICAgICAgaWYgKGRhdGFbaV0gPiBtYXgpIG1heCA9IGRhdGFbaV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBEb21haW4obWluLCBtYXgpO1xuICAgIH1cblxuICAgIG9mZnNldCh0ME9mZnNldDogbnVtYmVyLCB0MU9mZnNldDogbnVtYmVyKSB7XG4gICAgICAgIHRoaXMudDAgKz0gdDBPZmZzZXQ7XG4gICAgICAgIHRoaXMudDEgKz0gdDFPZmZzZXQ7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGluY2x1ZGVzKHZhbHVlOiBudW1iZXIpOiBib29sZWFuIHtcbiAgICAgICAgLy8gbm90ZTogaW5jbHVkaW5nIHQwLCBpbmNsdWRpbmcgdDFcbiAgICAgICAgcmV0dXJuIHZhbHVlID49IHRoaXMudDAgJiYgdmFsdWUgPD0gdGhpcy50MTtcbiAgICB9XG5cbiAgICBzaXplKCk6IG51bWJlciB7XG4gICAgICAgIC8vIHRoZSBzaXplIG9yIGxlbmd0aCBvZiB0aGlzIGRvbWFpblxuICAgICAgICByZXR1cm4gdGhpcy50MSAtIHRoaXMudDA7XG4gICAgfVxuXG4gICAgbm9ybWFsaXplKHZhbHVlOiBudW1iZXIpOiBudW1iZXIge1xuICAgICAgICAvLyBub3JtYWxpemUgYSBwYXJhbWV0ZXJcbiAgICAgICAgcmV0dXJuICh2YWx1ZSAtIHRoaXMudDApIC8gdGhpcy5zaXplKCk7XG4gICAgfVxuXG4gICAgZWxldmF0ZSh0OiBudW1iZXIpOiBudW1iZXIge1xuICAgICAgICAvLyBlbGV2YXRlIGEgbm9ybWFsaXplZCBwYXJhbWV0ZXIgdG8gdGhlIHBhcmFtZXRlciBzcGFjZSBvZiB0aGlzIGRvbWFpblxuICAgICAgICByZXR1cm4gdCAqIHRoaXMuc2l6ZSgpICsgdGhpcy50MDtcbiAgICB9XG5cbiAgICByZW1hcCh2YWx1ZTogbnVtYmVyLCBvdGhlcjogRG9tYWluID0gbmV3IERvbWFpbigpKTogbnVtYmVyIHtcbiAgICAgICAgLy8gbm9ybWFsaXplIGEgdmFsdWUsIHRoZW4gZWxldmF0ZSBpdCB0byBhIG5ldyBkb21haW5cbiAgICAgICAgbGV0IG5vcm0gPSB0aGlzLm5vcm1hbGl6ZSh2YWx1ZSk7XG4gICAgICAgIHJldHVybiBvdGhlci5lbGV2YXRlKG5vcm0pO1xuICAgIH1cblxuICAgICppdGVyKGNvdW50OiBudW1iZXIpOiBHZW5lcmF0b3I8bnVtYmVyPiB7XG4gICAgICAgIC8vIGl0ZXJhdGUgb3ZlciB0aGlzIERvbWFpbiAnY291bnQnIG51bWJlciBvZiB0aW1lc1xuICAgICAgICBsZXQgc3RlcCA9IHRoaXMuc2l6ZSgpIC8gY291bnQ7XG4gICAgICAgIGZvciAobGV0IGkgPSB0aGlzLnQwOyBpIDwgdGhpcy50MTsgaSArPSBzdGVwKSB7XG4gICAgICAgICAgICB5aWVsZCBpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgKml0ZXJTdGVwKHN0ZXA6IG51bWJlcik6IEdlbmVyYXRvcjxudW1iZXI+IHtcbiAgICAgICAgLy8gaXRlcmF0ZSBvdmVyIHRoaXMgZG9tYWluIHdpdGggYSBzdGVwc2l6ZSBvZiAnc3RlcCdcbiAgICAgICAgZm9yIChsZXQgaSA9IHRoaXMudDA7IGkgPCB0aGlzLnQxOyBpICs9IHN0ZXApIHtcbiAgICAgICAgICAgIHlpZWxkIGk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBjb21mb3JtIGEgbnVtYmVyIHRvIHRoZSBib3VuZFxuICAgIGNvbWZvcm0odmFsdWU6IG51bWJlcikge1xuICAgICAgICBpZiAodmFsdWUgPCB0aGlzLnQwKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy50MDtcbiAgICAgICAgfSBlbHNlIGlmICh2YWx1ZSA+IHRoaXMudDEpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnQxO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgRG9tYWluMiB7XG4gICAgLy8gMkQgZG9tYWluLiBsb2dpYyBjYXNjYWRlcyBkb3duIHRvIHRoZSAxIGRpbWVudGlvbmFsIERvbWFpbi5cblxuICAgIHg6IERvbWFpbjtcbiAgICB5OiBEb21haW47XG5cbiAgICBjb25zdHJ1Y3Rvcih4OiBEb21haW4gPSBuZXcgRG9tYWluKCksIHk6IERvbWFpbiA9IG5ldyBEb21haW4oKSkge1xuICAgICAgICB0aGlzLnggPSB4O1xuICAgICAgICB0aGlzLnkgPSB5O1xuICAgIH1cblxuICAgIHN0YXRpYyBmcm9tUmFkaXVzKHI6IG51bWJlcik6IERvbWFpbjIge1xuICAgICAgICByZXR1cm4gbmV3IERvbWFpbjIoRG9tYWluLmZyb21SYWRpdXMociksIERvbWFpbi5mcm9tUmFkaXVzKHIpKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZnJvbUJvdW5kcyh4MDogbnVtYmVyLCB4MTogbnVtYmVyLCB5MDogbnVtYmVyLCB5MTogbnVtYmVyKTogRG9tYWluMiB7XG4gICAgICAgIHJldHVybiBuZXcgRG9tYWluMihuZXcgRG9tYWluKHgwLCB4MSksIG5ldyBEb21haW4oeTAsIHkxKSk7XG4gICAgfVxuXG4gICAgc3RhdGljIGZyb21JbmNsdWRlKGRhdGE6IFZlY3RvcjJBcnJheSB8IEZsb2F0TWF0cml4KTogRG9tYWluMiB7XG4gICAgICAgIC8vIG5vdGUgOiBjb3VsZCBiZSBxdWlja2VyIGJ5IGdvaW5nIHZlcmJvc2UsIHRoaXMgbm93IGl0ZXJhdGVzIG92ZXIgZGF0YSA0IHRpbWVzXG4gICAgICAgIHJldHVybiBuZXcgRG9tYWluMihEb21haW4uZnJvbUluY2x1ZGUoZGF0YS5nZXRDb2x1bW4oMCkpLCBEb21haW4uZnJvbUluY2x1ZGUoZGF0YS5nZXRDb2x1bW4oMSkpKTtcbiAgICB9XG5cbiAgICBvZmZzZXQoeFh5WW9mZnNldDogbnVtYmVyW10pIHtcbiAgICAgICAgbGV0IG9mZiA9IHhYeVlvZmZzZXQ7XG4gICAgICAgIGlmIChvZmYubGVuZ3RoICE9IDQpIHRocm93IFwibmVlZCA0IHZhbHVlc1wiO1xuXG4gICAgICAgIHRoaXMueC5vZmZzZXQob2ZmWzBdLCBvZmZbMV0pO1xuICAgICAgICB0aGlzLnkub2Zmc2V0KG9mZlsyXSwgb2ZmWzNdKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgaW5jbHVkZXModmFsdWU6IFZlY3RvcjIpOiBib29sZWFuIHtcbiAgICAgICAgLy8gbm90ZTogaW5jbHVkaW5nIHQwLCBpbmNsdWRpbmcgdDFcbiAgICAgICAgcmV0dXJuIHRoaXMueC5pbmNsdWRlcyh2YWx1ZS54KSAmJiB0aGlzLnkuaW5jbHVkZXModmFsdWUueSk7XG4gICAgfVxuXG4gICAgc2l6ZSgpOiBWZWN0b3IyIHtcbiAgICAgICAgLy8gdGhlIHNpemUgb3IgbGVuZ3RoIG9mIHRoaXMgZG9tYWluXG4gICAgICAgIHJldHVybiBuZXcgVmVjdG9yMih0aGlzLnguc2l6ZSgpLCB0aGlzLnkuc2l6ZSgpKTtcbiAgICB9XG5cbiAgICBub3JtYWxpemUodmFsdWU6IFZlY3RvcjIpOiBWZWN0b3IyIHtcbiAgICAgICAgLy8gbm9ybWFsaXplIGEgcGFyYW1ldGVyXG4gICAgICAgIHJldHVybiBuZXcgVmVjdG9yMih0aGlzLngubm9ybWFsaXplKHZhbHVlLngpLCB0aGlzLnkubm9ybWFsaXplKHZhbHVlLnkpKTtcbiAgICB9XG5cbiAgICBlbGV2YXRlKHQ6IFZlY3RvcjIpOiBWZWN0b3IyIHtcbiAgICAgICAgLy8gZWxldmF0ZSBhIG5vcm1hbGl6ZWQgcGFyYW1ldGVyIHRvIHRoZSBwYXJhbWV0ZXIgc3BhY2Ugb2YgdGhpcyBkb21haW5cbiAgICAgICAgcmV0dXJuIG5ldyBWZWN0b3IyKHRoaXMueC5lbGV2YXRlKHQueCksIHRoaXMueS5lbGV2YXRlKHQueSkpO1xuICAgIH1cblxuICAgIHJlbWFwKHZhbHVlOiBWZWN0b3IyLCBvdGhlcjogRG9tYWluMiA9IG5ldyBEb21haW4yKCkpOiBWZWN0b3IyIHtcbiAgICAgICAgLy8gbm9ybWFsaXplIGEgdmFsdWUsIHRoZW4gZWxldmF0ZSBpdCB0byBhIG5ldyBkb21haW5cbiAgICAgICAgbGV0IG5vcm0gPSB0aGlzLm5vcm1hbGl6ZSh2YWx1ZSk7XG4gICAgICAgIHJldHVybiBvdGhlci5lbGV2YXRlKG5vcm0pO1xuICAgIH1cblxuICAgIGNvcm5lcnMoKTogVmVjdG9yMltdIHtcbiAgICAgICAgLy8gcmVuZGVyIHRoZSBleHRlbmRzIG9mIHRoaXMgYm91bmRhcnkgLyBkb21haW5cbiAgICAgICAgbGV0IGRpbSA9IDI7XG4gICAgICAgIGxldCBjb3JuZXJzID0gMiAqKiBkaW07XG4gICAgICAgIGxldCBkYXRhID0gW107XG4gICAgICAgIGZvciAobGV0IHggb2YgW3RoaXMueC50MCwgdGhpcy54LnQxXSkge1xuICAgICAgICAgICAgZm9yIChsZXQgeSBvZiBbdGhpcy55LnQwLCB0aGlzLnkudDFdKSB7XG4gICAgICAgICAgICAgICAgZGF0YS5wdXNoKG5ldyBWZWN0b3IyKHgsIHkpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZGF0YTtcbiAgICB9XG5cbiAgICAvLyAqaXRlcihjb3VudFg6IG51bWJlciwgY291bnRZOiBudW1iZXIpIDogR2VuZXJhdG9yPFZlY3RvcjIsIHZvaWQsIHVua25vd24+IHtcbiAgICAvLyAgICAgLy8gaXRlcmF0ZSBvdmVyIHRoaXMgRG9tYWluICdjb3VudCcgbnVtYmVyIG9mIHRpbWVzXG4gICAgLy8gICAgIGZvciAoY29uc3QgeSBpbiB0aGlzLnkuaXRlcihjb3VudFkpKSB7XG4gICAgLy8gICAgICAgICBmb3IgKGNvbnN0IHggaW4gdGhpcy54Lml0ZXIoY291bnRYKSkge1xuICAgIC8vICAgICAgICAgICAgIC8vIHlpZWxkIG5ldyBWZWN0b3IyKHgsIHkpO1xuICAgIC8vICAgICAgICAgfVxuICAgIC8vICAgICB9XG4gICAgLy8gfVxuXG4gICAgLy8gKml0ZXJTdGVwKHNpemVYOiBudW1iZXIsIHNpemVZOiBudW1iZXIpIDogR2VuZXJhdG9yPFZlY3RvcjIsIHZvaWQsIHVua25vd24+IHtcbiAgICAvLyAgICAgLy8gaXRlcmF0ZSBvdmVyIHRoaXMgZG9tYWluIHdpdGggYSBzdGVwc2l6ZSBvZiAnc3RlcCdcbiAgICAvLyAgICAgZm9yIChsZXQgeSBpbiB0aGlzLnkuaXRlclN0ZXAoc2l6ZVkpKSB7XG4gICAgLy8gICAgICAgICBmb3IgKGxldCB4IGluIHRoaXMueC5pdGVyU3RlcChzaXplWCkpIHtcbiAgICAvLyAgICAgICAgICAgICAvLyB5aWVsZCBuZXcgVmVjdG9yMih4LCB5KTtcbiAgICAvLyAgICAgICAgIH1cbiAgICAvLyAgICAgfVxuICAgIC8vIH1cbn1cblxuZXhwb3J0IGNsYXNzIERvbWFpbjMge1xuICAgIHg6IERvbWFpbjtcbiAgICB5OiBEb21haW47XG4gICAgejogRG9tYWluO1xuXG4gICAgY29uc3RydWN0b3IoeDogRG9tYWluID0gbmV3IERvbWFpbigpLCB5OiBEb21haW4gPSBuZXcgRG9tYWluKCksIHo6IERvbWFpbiA9IG5ldyBEb21haW4oKSkge1xuICAgICAgICB0aGlzLnggPSB4O1xuICAgICAgICB0aGlzLnkgPSB5O1xuICAgICAgICB0aGlzLnogPSB6O1xuICAgIH1cblxuICAgIHN0YXRpYyBmcm9tQm91bmRzKHgwOiBudW1iZXIsIHgxOiBudW1iZXIsIHkwOiBudW1iZXIsIHkxOiBudW1iZXIsIHowOiBudW1iZXIsIHoxOiBudW1iZXIpOiBEb21haW4zIHtcbiAgICAgICAgcmV0dXJuIG5ldyBEb21haW4zKG5ldyBEb21haW4oeDAsIHgxKSwgbmV3IERvbWFpbih5MCwgeTEpLCBuZXcgRG9tYWluKHowLCB6MSkpO1xuICAgIH1cblxuICAgIHN0YXRpYyBmcm9tUmFkaXVzKHI6IG51bWJlcik6IERvbWFpbjMge1xuICAgICAgICByZXR1cm4gbmV3IERvbWFpbjMoRG9tYWluLmZyb21SYWRpdXMociksIERvbWFpbi5mcm9tUmFkaXVzKHIpLCBEb21haW4uZnJvbVJhZGl1cyhyKSk7XG4gICAgfVxuXG4gICAgc3RhdGljIGZyb21SYWRpaShyeDogbnVtYmVyLCByeTogbnVtYmVyLCByejogbnVtYmVyKTogRG9tYWluMyB7XG4gICAgICAgIHJldHVybiBuZXcgRG9tYWluMyhEb21haW4uZnJvbVJhZGl1cyhyeCksIERvbWFpbi5mcm9tUmFkaXVzKHJ5KSwgRG9tYWluLmZyb21SYWRpdXMocnopKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZnJvbUluY2x1ZGUoZGF0YTogVmVjdG9yM0FycmF5KTogRG9tYWluMyB7XG4gICAgICAgIC8vIG5vdGUgOiBjb3VsZCBiZSBxdWlja2VyIGJ5IGdvaW5nIHZlcmJvc2UsIHRoaXMgbm93IGl0ZXJhdGVzIG92ZXIgZGF0YSA2IHRpbWVzXG4gICAgICAgIHJldHVybiBuZXcgRG9tYWluMyhcbiAgICAgICAgICAgIERvbWFpbi5mcm9tSW5jbHVkZShkYXRhLmdldENvbHVtbigwKSksXG4gICAgICAgICAgICBEb21haW4uZnJvbUluY2x1ZGUoZGF0YS5nZXRDb2x1bW4oMSkpLFxuICAgICAgICAgICAgRG9tYWluLmZyb21JbmNsdWRlKGRhdGEuZ2V0Q29sdW1uKDIpKSxcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBvZmZzZXQoeFh5WW9mZnNldDogbnVtYmVyW10pIHtcbiAgICAgICAgbGV0IG9mZiA9IHhYeVlvZmZzZXQ7XG4gICAgICAgIGlmIChvZmYubGVuZ3RoICE9IDYpIHRocm93IFwibmVlZCA2IHZhbHVlc1wiO1xuXG4gICAgICAgIHRoaXMueC5vZmZzZXQob2ZmWzBdLCBvZmZbMV0pO1xuICAgICAgICB0aGlzLnkub2Zmc2V0KG9mZlsyXSwgb2ZmWzNdKTtcbiAgICAgICAgdGhpcy56Lm9mZnNldChvZmZbNF0sIG9mZls1XSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGluY2x1ZGVzKHZhbHVlOiBWZWN0b3IzKTogYm9vbGVhbiB7XG4gICAgICAgIC8vIG5vdGU6IGluY2x1ZGluZyB0MCwgaW5jbHVkaW5nIHQxXG4gICAgICAgIHJldHVybiB0aGlzLnguaW5jbHVkZXModmFsdWUueCkgJiYgdGhpcy55LmluY2x1ZGVzKHZhbHVlLnkpICYmIHRoaXMuei5pbmNsdWRlcyh2YWx1ZS56KTtcbiAgICB9XG5cbiAgICBzaXplKCk6IFZlY3RvcjMge1xuICAgICAgICAvLyB0aGUgc2l6ZSBvciBsZW5ndGggb2YgdGhpcyBkb21haW5cbiAgICAgICAgcmV0dXJuIG5ldyBWZWN0b3IzKHRoaXMueC5zaXplKCksIHRoaXMueS5zaXplKCksIHRoaXMuei5zaXplKCkpO1xuICAgIH1cblxuICAgIG5vcm1hbGl6ZSh2YWx1ZTogVmVjdG9yMyk6IFZlY3RvcjMge1xuICAgICAgICAvLyBub3JtYWxpemUgYSBwYXJhbWV0ZXJcbiAgICAgICAgcmV0dXJuIG5ldyBWZWN0b3IzKHRoaXMueC5ub3JtYWxpemUodmFsdWUueCksIHRoaXMueS5ub3JtYWxpemUodmFsdWUueSksIHRoaXMuei5ub3JtYWxpemUodmFsdWUueikpO1xuICAgIH1cblxuICAgIGVsZXZhdGUodDogVmVjdG9yMyk6IFZlY3RvcjMge1xuICAgICAgICAvLyBlbGV2YXRlIGEgbm9ybWFsaXplZCBwYXJhbWV0ZXIgdG8gdGhlIHBhcmFtZXRlciBzcGFjZSBvZiB0aGlzIGRvbWFpblxuICAgICAgICByZXR1cm4gbmV3IFZlY3RvcjModGhpcy54LmVsZXZhdGUodC54KSwgdGhpcy55LmVsZXZhdGUodC55KSwgdGhpcy56LmVsZXZhdGUodC56KSk7XG4gICAgfVxuXG4gICAgcmVtYXAodmFsdWU6IFZlY3RvcjMsIG90aGVyOiBEb21haW4zID0gbmV3IERvbWFpbjMoKSk6IFZlY3RvcjMge1xuICAgICAgICAvLyBub3JtYWxpemUgYSB2YWx1ZSwgdGhlbiBlbGV2YXRlIGl0IHRvIGEgbmV3IGRvbWFpblxuICAgICAgICBsZXQgbm9ybSA9IHRoaXMubm9ybWFsaXplKHZhbHVlKTtcbiAgICAgICAgcmV0dXJuIG90aGVyLmVsZXZhdGUobm9ybSk7XG4gICAgfVxuXG4gICAgcmVtYXBBbGwodmFsdWVzOiBWZWN0b3IzQXJyYXksIG90aGVyOiBEb21haW4zID0gbmV3IERvbWFpbjMoKSk6IFZlY3RvcjNBcnJheSB7XG4gICAgICAgIC8vIG5vcm1hbGl6ZSBhIHZhbHVlLCB0aGVuIGVsZXZhdGUgaXQgdG8gYSBuZXcgZG9tYWluXG4gICAgICAgIGxldCBuZXdWYWx1ZXMgPSBuZXcgVmVjdG9yM0FycmF5KHZhbHVlcy5jb3VudCgpKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB2YWx1ZXMuY291bnQoKTsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgbm9ybSA9IHRoaXMubm9ybWFsaXplKHZhbHVlcy5nZXRWZWN0b3IoaSkpO1xuICAgICAgICAgICAgbmV3VmFsdWVzLnNldFZlY3RvcihpLCBvdGhlci5lbGV2YXRlKG5vcm0pKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3VmFsdWVzO1xuICAgIH1cblxuICAgIGNvcm5lcnMobWF0cml4OiBNYXRyaXg0KTogVmVjdG9yM1tdIHtcbiAgICAgICAgLy8gcmVuZGVyIHRoZSBleHRlbmRzIG9mIHRoaXMgYm91bmRhcnkgLyBkb21haW5cbiAgICAgICAgbGV0IGRpbSA9IDM7XG4gICAgICAgIGxldCBjb3JuZXJzID0gMiBeIGRpbTtcbiAgICAgICAgbGV0IGRhdGEgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgeCBvZiBbdGhpcy54LnQwLCB0aGlzLngudDFdKSB7XG4gICAgICAgICAgICBmb3IgKGxldCB5IG9mIFt0aGlzLnkudDAsIHRoaXMueS50MV0pIHtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCB6IG9mIFt0aGlzLnoudDAsIHRoaXMuei50MV0pIHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YS5wdXNoKG1hdHJpeC5tdWx0aXBseVZlY3RvcihuZXcgVmVjdG9yMyh4LCB5LCB6KSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZGF0YTtcbiAgICB9XG59XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/math/domain.ts\n");

/***/ }),

/***/ "./src/math/math.ts":
/*!**************************!*\
  !*** ./src/math/math.ts ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"GeonMath\": () => /* binding */ GeonMath\n/* harmony export */ });\n// purpose: simple operations with only numbers\r\nclass GeonMath {\r\n    // make sure 'value' is more than 'lower', and less than 'upper'\r\n    static clamp(value, lower, upper) {\r\n        return Math.min(Math.max(value, lower), upper);\r\n    }\r\n    static fade(t) {\r\n        // Fade function as defined by Ken Perlin.  This eases coordinate values\r\n        // so that they will ease towards integral values.  This ends up smoothing\r\n        // the final output.\r\n        return t * t * t * (t * (t * 6 - 15) + 10); // 6t^5 - 15t^4 + 10t^3\r\n    }\r\n    static lerp(a, b, x) {\r\n        return a + x * (b - a);\r\n    }\r\n    static radToDeg(r) {\r\n        return (r * 180) / Math.PI;\r\n    }\r\n    static degToRad(d) {\r\n        return (d * Math.PI) / 180;\r\n    }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9nZW9uLWVuZ2luZS8uL3NyYy9tYXRoL21hdGgudHM/MDdkYyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O0FBQUEsK0NBQStDO0FBSXhDLE1BQU0sUUFBUTtJQUNqQixnRUFBZ0U7SUFDaEUsTUFBTSxDQUFDLEtBQUssQ0FBQyxLQUFhLEVBQUUsS0FBYSxFQUFFLEtBQWE7UUFDcEQsT0FBTyxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsS0FBSyxFQUFFLEtBQUssQ0FBQyxFQUFFLEtBQUssQ0FBQyxDQUFDO0lBQ25ELENBQUM7SUFFRCxNQUFNLENBQUMsSUFBSSxDQUFDLENBQVM7UUFDakIsd0VBQXdFO1FBQ3hFLDBFQUEwRTtRQUMxRSxvQkFBb0I7UUFDcEIsT0FBTyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsRUFBRSxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FBQyx1QkFBdUI7SUFDdkUsQ0FBQztJQUVELE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBUyxFQUFFLENBQVMsRUFBRSxDQUFTO1FBQ3ZDLE9BQU8sQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztJQUMzQixDQUFDO0lBRUQsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFTO1FBQ3JCLE9BQU8sQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLEdBQUcsSUFBSSxDQUFDLEVBQUUsQ0FBQztJQUMvQixDQUFDO0lBRUQsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFTO1FBQ3JCLE9BQU8sQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLEVBQUUsQ0FBQyxHQUFHLEdBQUcsQ0FBQztJQUMvQixDQUFDO0NBV0oiLCJmaWxlIjoiLi9zcmMvbWF0aC9tYXRoLnRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gcHVycG9zZTogc2ltcGxlIG9wZXJhdGlvbnMgd2l0aCBvbmx5IG51bWJlcnNcblxuaW1wb3J0IHsgQ29uc3QgfSBmcm9tIFwiLi9jb25zdFwiO1xuXG5leHBvcnQgY2xhc3MgR2Vvbk1hdGgge1xuICAgIC8vIG1ha2Ugc3VyZSAndmFsdWUnIGlzIG1vcmUgdGhhbiAnbG93ZXInLCBhbmQgbGVzcyB0aGFuICd1cHBlcidcbiAgICBzdGF0aWMgY2xhbXAodmFsdWU6IG51bWJlciwgbG93ZXI6IG51bWJlciwgdXBwZXI6IG51bWJlcikge1xuICAgICAgICByZXR1cm4gTWF0aC5taW4oTWF0aC5tYXgodmFsdWUsIGxvd2VyKSwgdXBwZXIpO1xuICAgIH1cblxuICAgIHN0YXRpYyBmYWRlKHQ6IG51bWJlcik6IG51bWJlciB7XG4gICAgICAgIC8vIEZhZGUgZnVuY3Rpb24gYXMgZGVmaW5lZCBieSBLZW4gUGVybGluLiAgVGhpcyBlYXNlcyBjb29yZGluYXRlIHZhbHVlc1xuICAgICAgICAvLyBzbyB0aGF0IHRoZXkgd2lsbCBlYXNlIHRvd2FyZHMgaW50ZWdyYWwgdmFsdWVzLiAgVGhpcyBlbmRzIHVwIHNtb290aGluZ1xuICAgICAgICAvLyB0aGUgZmluYWwgb3V0cHV0LlxuICAgICAgICByZXR1cm4gdCAqIHQgKiB0ICogKHQgKiAodCAqIDYgLSAxNSkgKyAxMCk7IC8vIDZ0XjUgLSAxNXReNCArIDEwdF4zXG4gICAgfVxuXG4gICAgc3RhdGljIGxlcnAoYTogbnVtYmVyLCBiOiBudW1iZXIsIHg6IG51bWJlcik6IG51bWJlciB7XG4gICAgICAgIHJldHVybiBhICsgeCAqIChiIC0gYSk7XG4gICAgfVxuXG4gICAgc3RhdGljIHJhZFRvRGVnKHI6IG51bWJlcikge1xuICAgICAgICByZXR1cm4gKHIgKiAxODApIC8gTWF0aC5QSTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZGVnVG9SYWQoZDogbnVtYmVyKSB7XG4gICAgICAgIHJldHVybiAoZCAqIE1hdGguUEkpIC8gMTgwO1xuICAgIH1cblxuICAgIC8vIC8qKlxuICAgIC8vICAqIHJldHVybiB0cnVlIGlmIGEgaXMgcm91Z2x5IHRoZSBzYW1lIHZhbHVlIGFzIGIuXG4gICAgLy8gICogdXNlcyB0aGUgcHJlZGVmaW5lZCB0b2xlcmFuY2VcbiAgICAvLyAgKi9cbiAgICAvLyBzdGF0aWMgaXNSb3VnaGx5KGE6IG51bWJlciwgYjogbnVtYmVyKSA6IGJvb2xlYW4ge1xuICAgIC8vIFx0aWYgKCgoYSAtIGIpIDwgQ29uc3QuVE9MRVJBTkNFIHx8IChhIC0gYikgPCBDb25zdC5UT0xFUkFOQ0UpKVxuICAgIC8vIFx0XHRyZXR1cm4gdHJ1ZTtcbiAgICAvLyBcdHJldHVybiBmYWxzZTtcbiAgICAvLyB9XG59XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/math/math.ts\n");

/***/ }),

/***/ "./src/math/matrix.ts":
/*!****************************!*\
  !*** ./src/math/matrix.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Matrix3\": () => /* binding */ Matrix3,\n/* harmony export */   \"Matrix4\": () => /* binding */ Matrix4\n/* harmony export */ });\n/* harmony import */ var _data_float_matrix__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../data/float-matrix */ \"./src/data/float-matrix.ts\");\n/* harmony import */ var _vector__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./vector */ \"./src/math/vector.ts\");\n// matrix\r\n// author: Jos Feenstra\r\n// TODO: FIX MATRIX4 !!!\r\n// NOTE:\r\n\r\n\r\n// 3x3 matrix of floats used for 2d math\r\n// inspired by Gregg Tavares.\r\nclass Matrix3 extends _data_float_matrix__WEBPACK_IMPORTED_MODULE_0__.FloatMatrix {\r\n    constructor(data = []) {\r\n        super(3, 3, data);\r\n    }\r\n    static newIdentity() {\r\n        return new Matrix3([1, 0, 0, 0, 1, 0, 0, 0, 1]);\r\n    }\r\n    static newProjection(width, height) {\r\n        // Note: This matrix flips the Y axis so 0 is at the top.\r\n        return new Matrix3([2 / width, 0, 0, 0, -2 / height, 0, -1, 1, 1]);\r\n    }\r\n    static newTranslation(dx, dy) {\r\n        return new Matrix3([1, 0, 0, 0, 1, 0, dx, dy, 1]);\r\n    }\r\n    // angle in radians\r\n    static newRotation(r) {\r\n        var c = Math.cos(r);\r\n        var s = Math.sin(r);\r\n        return new Matrix3([c, -s, 0, s, c, 0, 0, 0, 1]);\r\n    }\r\n    static newScalar(sx, sy) {\r\n        return new Matrix3([sx, 0, 0, 0, sy, 0, 0, 0, 1]);\r\n    }\r\n    toMat4() {\r\n        let d = this.data;\r\n        return new Matrix4([d[0], d[1], 0, d[2], d[3], d[4], 0, d[5], 0, 0, 1, 0, d[6], d[7], 0, d[8]]);\r\n    }\r\n    project(width, height) {\r\n        return this.multiply(Matrix3.newProjection(width, height));\r\n    }\r\n    translateN(dx, dy) {\r\n        return this.multiply(Matrix3.newTranslation(dx, dy));\r\n    }\r\n    translate(v) {\r\n        return this.multiply(Matrix3.newTranslation(v.x, v.y));\r\n    }\r\n    rotate(r) {\r\n        return this.multiply(Matrix3.newRotation(r));\r\n    }\r\n    scale(sx, sy) {\r\n        return this.multiply(Matrix3.newScalar(sx, sy));\r\n    }\r\n    // multiply two m3's\r\n    multiply(other) {\r\n        let a = this.data;\r\n        let b = other.data;\r\n        var a00 = a[0 * 3 + 0];\r\n        var a01 = a[0 * 3 + 1];\r\n        var a02 = a[0 * 3 + 2];\r\n        var a10 = a[1 * 3 + 0];\r\n        var a11 = a[1 * 3 + 1];\r\n        var a12 = a[1 * 3 + 2];\r\n        var a20 = a[2 * 3 + 0];\r\n        var a21 = a[2 * 3 + 1];\r\n        var a22 = a[2 * 3 + 2];\r\n        var b00 = b[0 * 3 + 0];\r\n        var b01 = b[0 * 3 + 1];\r\n        var b02 = b[0 * 3 + 2];\r\n        var b10 = b[1 * 3 + 0];\r\n        var b11 = b[1 * 3 + 1];\r\n        var b12 = b[1 * 3 + 2];\r\n        var b20 = b[2 * 3 + 0];\r\n        var b21 = b[2 * 3 + 1];\r\n        var b22 = b[2 * 3 + 2];\r\n        return new Matrix3([\r\n            b00 * a00 + b01 * a10 + b02 * a20,\r\n            b00 * a01 + b01 * a11 + b02 * a21,\r\n            b00 * a02 + b01 * a12 + b02 * a22,\r\n            b10 * a00 + b11 * a10 + b12 * a20,\r\n            b10 * a01 + b11 * a11 + b12 * a21,\r\n            b10 * a02 + b11 * a12 + b12 * a22,\r\n            b20 * a00 + b21 * a10 + b22 * a20,\r\n            b20 * a01 + b21 * a11 + b22 * a21,\r\n            b20 * a02 + b21 * a12 + b22 * a22,\r\n        ]);\r\n    }\r\n    // transform a vector. RECYCLE IT\r\n    transformVector(v) {\r\n        let m = this.data;\r\n        let v0 = v.x;\r\n        let v1 = v.y;\r\n        let d = v0 * m[0 * 3 + 2] + v1 * m[1 * 3 + 2] + m[2 * 3 + 2];\r\n        v.x = (v0 * m[0 * 3 + 0] + v1 * m[1 * 3 + 0] + m[2 * 3 + 0]) / d;\r\n        v.y = (v0 * m[0 * 3 + 1] + v1 * m[1 * 3 + 1] + m[2 * 3 + 1]) / d;\r\n        return v;\r\n    }\r\n    // return the inverse of this matrix\r\n    inverse() {\r\n        // ive got no idea what is happening here,\r\n        // but apparantly, this is how you inverse a 3x3 matrix.\r\n        let m = this.data;\r\n        var t00 = m[1 * 3 + 1] * m[2 * 3 + 2] - m[1 * 3 + 2] * m[2 * 3 + 1];\r\n        var t10 = m[0 * 3 + 1] * m[2 * 3 + 2] - m[0 * 3 + 2] * m[2 * 3 + 1];\r\n        var t20 = m[0 * 3 + 1] * m[1 * 3 + 2] - m[0 * 3 + 2] * m[1 * 3 + 1];\r\n        // discriminant\r\n        var d = 1.0 / (m[0 * 3 + 0] * t00 - m[1 * 3 + 0] * t10 + m[2 * 3 + 0] * t20);\r\n        this.setData([\r\n            d * t00,\r\n            -d * t10,\r\n            d * t20,\r\n            -d * (m[1 * 3 + 0] * m[2 * 3 + 2] - m[1 * 3 + 2] * m[2 * 3 + 0]),\r\n            d * (m[0 * 3 + 0] * m[2 * 3 + 2] - m[0 * 3 + 2] * m[2 * 3 + 0]),\r\n            -d * (m[0 * 3 + 0] * m[1 * 3 + 2] - m[0 * 3 + 2] * m[1 * 3 + 0]),\r\n            d * (m[1 * 3 + 0] * m[2 * 3 + 1] - m[1 * 3 + 1] * m[2 * 3 + 0]),\r\n            -d * (m[0 * 3 + 0] * m[2 * 3 + 1] - m[0 * 3 + 1] * m[2 * 3 + 0]),\r\n            d * (m[0 * 3 + 0] * m[1 * 3 + 1] - m[0 * 3 + 1] * m[1 * 3 + 0]),\r\n        ]);\r\n        return this;\r\n    }\r\n}\r\n// 4x4 matrix of floats used for 3d math\r\n// inspired by Gregg Tavares.\r\nclass Matrix4 extends _data_float_matrix__WEBPACK_IMPORTED_MODULE_0__.FloatMatrix {\r\n    constructor(data = []) {\r\n        super(4, 4, data);\r\n    }\r\n    static newIdentity() {\r\n        return new Matrix4([1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1]);\r\n    }\r\n    static newCopy(other) {\r\n        let result = new Matrix4();\r\n        for (let i = 0; i < 16; i++) {\r\n            result.data[i] = other.data[i];\r\n        }\r\n        return result;\r\n    }\r\n    clone() {\r\n        return Matrix4.newCopy(this);\r\n    }\r\n    multiplied(other) {\r\n        // NOTE: i swapped a and b, this makes more sense to me, but i could be wrong about it...\r\n        const a = other.data;\r\n        const b = this.data;\r\n        var b00 = b[0 * 4 + 0];\r\n        var b01 = b[0 * 4 + 1];\r\n        var b02 = b[0 * 4 + 2];\r\n        var b03 = b[0 * 4 + 3];\r\n        var b10 = b[1 * 4 + 0];\r\n        var b11 = b[1 * 4 + 1];\r\n        var b12 = b[1 * 4 + 2];\r\n        var b13 = b[1 * 4 + 3];\r\n        var b20 = b[2 * 4 + 0];\r\n        var b21 = b[2 * 4 + 1];\r\n        var b22 = b[2 * 4 + 2];\r\n        var b23 = b[2 * 4 + 3];\r\n        var b30 = b[3 * 4 + 0];\r\n        var b31 = b[3 * 4 + 1];\r\n        var b32 = b[3 * 4 + 2];\r\n        var b33 = b[3 * 4 + 3];\r\n        var a00 = a[0 * 4 + 0];\r\n        var a01 = a[0 * 4 + 1];\r\n        var a02 = a[0 * 4 + 2];\r\n        var a03 = a[0 * 4 + 3];\r\n        var a10 = a[1 * 4 + 0];\r\n        var a11 = a[1 * 4 + 1];\r\n        var a12 = a[1 * 4 + 2];\r\n        var a13 = a[1 * 4 + 3];\r\n        var a20 = a[2 * 4 + 0];\r\n        var a21 = a[2 * 4 + 1];\r\n        var a22 = a[2 * 4 + 2];\r\n        var a23 = a[2 * 4 + 3];\r\n        var a30 = a[3 * 4 + 0];\r\n        var a31 = a[3 * 4 + 1];\r\n        var a32 = a[3 * 4 + 2];\r\n        var a33 = a[3 * 4 + 3];\r\n        return new Matrix4([\r\n            b00 * a00 + b01 * a10 + b02 * a20 + b03 * a30,\r\n            b00 * a01 + b01 * a11 + b02 * a21 + b03 * a31,\r\n            b00 * a02 + b01 * a12 + b02 * a22 + b03 * a32,\r\n            b00 * a03 + b01 * a13 + b02 * a23 + b03 * a33,\r\n            b10 * a00 + b11 * a10 + b12 * a20 + b13 * a30,\r\n            b10 * a01 + b11 * a11 + b12 * a21 + b13 * a31,\r\n            b10 * a02 + b11 * a12 + b12 * a22 + b13 * a32,\r\n            b10 * a03 + b11 * a13 + b12 * a23 + b13 * a33,\r\n            b20 * a00 + b21 * a10 + b22 * a20 + b23 * a30,\r\n            b20 * a01 + b21 * a11 + b22 * a21 + b23 * a31,\r\n            b20 * a02 + b21 * a12 + b22 * a22 + b23 * a32,\r\n            b20 * a03 + b21 * a13 + b22 * a23 + b23 * a33,\r\n            b30 * a00 + b31 * a10 + b32 * a20 + b33 * a30,\r\n            b30 * a01 + b31 * a11 + b32 * a21 + b33 * a31,\r\n            b30 * a02 + b31 * a12 + b32 * a22 + b33 * a32,\r\n            b30 * a03 + b31 * a13 + b32 * a23 + b33 * a33,\r\n        ]);\r\n    }\r\n    multiply(other) {\r\n        this.data = this.multiplied(other).data;\r\n        return this;\r\n    }\r\n    transpose() {\r\n        let matrix = new Matrix4();\r\n        let res = matrix.data;\r\n        let old = this.data;\r\n        res[0] = old[0];\r\n        res[1] = old[4];\r\n        res[2] = old[8];\r\n        res[3] = old[12];\r\n        res[4] = old[1];\r\n        res[5] = old[5];\r\n        res[6] = old[9];\r\n        res[7] = old[13];\r\n        res[8] = old[2];\r\n        res[9] = old[6];\r\n        res[10] = old[10];\r\n        res[11] = old[14];\r\n        res[12] = old[3];\r\n        res[13] = old[7];\r\n        res[14] = old[11];\r\n        res[15] = old[15];\r\n        return matrix;\r\n    }\r\n    static newLookAt(cameraPosition, target, up) {\r\n        let matrix = new Matrix4();\r\n        let data = matrix.data;\r\n        let zAxis = cameraPosition.clone().sub(target).normalize();\r\n        let xAxis = up.clone().cross(up).normalize();\r\n        let yAxis = zAxis.clone().cross(xAxis).normalize();\r\n        data[0] = xAxis.x;\r\n        data[1] = xAxis.y;\r\n        data[2] = xAxis.z;\r\n        data[3] = 0;\r\n        data[4] = yAxis.x;\r\n        data[5] = yAxis.y;\r\n        data[6] = yAxis.z;\r\n        data[7] = 0;\r\n        data[8] = zAxis.x;\r\n        data[9] = zAxis.y;\r\n        data[10] = zAxis.z;\r\n        data[11] = 0;\r\n        data[12] = cameraPosition.x;\r\n        data[13] = cameraPosition.y;\r\n        data[14] = cameraPosition.z;\r\n        data[15] = 1;\r\n        return matrix;\r\n    }\r\n    /**\r\n     * Computes a 4-by-4 perspective transformation matrix given the angular height\r\n     * of the frustum, the aspect ratio, and the near and far clipping planes.  The\r\n     * arguments define a frustum extending in the negative z direction.  The given\r\n     * angle is the vertical angle of the frustum, and the horizontal angle is\r\n     * determined to produce the given aspect ratio.  The arguments near and far are\r\n     * the distances to the near and far clipping planes.  Note that near and far\r\n     * are not z coordinates, but rather they are distances along the negative\r\n     * z-axis.  The matrix generated sends the viewing frustum to the unit box.\r\n     * We assume a unit box extending from -1 to 1 in the x and y dimensions and\r\n     * from -1 to 1 in the z dimension.\r\n     * @param {number} fieldOfViewInRadians field of view in y axis.\r\n     * @param {number} aspect aspect of viewport (width / height)\r\n     * @param {number} near near Z clipping plane\r\n     * @param {number} far far Z clipping plane\r\n     * @param {Matrix4} [dst] optional matrix to store result\r\n     * @return {Matrix4} dst or a new matrix if none provided\r\n     */\r\n    static newPerspective(fov, aspect, near, far) {\r\n        let matrix = new Matrix4();\r\n        let data = matrix.data;\r\n        var f = Math.tan(Math.PI * 0.5 - 0.5 * fov);\r\n        var rangeInv = 1.0 / (near - far);\r\n        data[0] = f / aspect;\r\n        data[1] = 0;\r\n        data[2] = 0;\r\n        data[3] = 0;\r\n        data[4] = 0;\r\n        data[5] = f;\r\n        data[6] = 0;\r\n        data[7] = 0;\r\n        data[8] = 0;\r\n        data[9] = 0;\r\n        data[10] = (near + far) * rangeInv;\r\n        data[11] = -1;\r\n        data[12] = 0;\r\n        data[13] = 0;\r\n        data[14] = near * far * rangeInv * 2;\r\n        data[15] = 0;\r\n        return matrix;\r\n    }\r\n    /**\r\n     * Computes a 4-by-4 orthographic projection matrix given the coordinates of the\r\n     * planes defining the axis-aligned, box-shaped viewing volume.  The matrix\r\n     * generated sends that box to the unit box.  Note that although left and right\r\n     * are x coordinates and bottom and top are y coordinates, near and far\r\n     * are not z coordinates, but rather they are distances along the negative\r\n     * z-axis.  We assume a unit box extending from -1 to 1 in the x and y\r\n     * dimensions and from -1 to 1 in the z dimension.\r\n     * @param {number} left The x coordinate of the left plane of the box.\r\n     * @param {number} right The x coordinate of the right plane of the box.\r\n     * @param {number} bottom The y coordinate of the bottom plane of the box.\r\n     * @param {number} top The y coordinate of the right plane of the box.\r\n     * @param {number} near The negative z coordinate of the near plane of the box.\r\n     * @param {number} far The negative z coordinate of the far plane of the box.\r\n     * @param {Matrix4} [dst] optional matrix to store result\r\n     * @return {Matrix4} dst or a new matrix if none provided\r\n     */\r\n    static newOrthographic(left, right, bottom, top, near, far) {\r\n        let matrix = new Matrix4();\r\n        let dst = matrix.data;\r\n        dst[0] = 2 / (right - left);\r\n        dst[1] = 0;\r\n        dst[2] = 0;\r\n        dst[3] = 0;\r\n        dst[4] = 0;\r\n        dst[5] = 2 / (top - bottom);\r\n        dst[6] = 0;\r\n        dst[7] = 0;\r\n        dst[8] = 0;\r\n        dst[9] = 0;\r\n        dst[10] = 2 / (near - far);\r\n        dst[11] = 0;\r\n        dst[12] = (left + right) / (left - right);\r\n        dst[13] = (bottom + top) / (bottom - top);\r\n        dst[14] = (near + far) / (near - far);\r\n        dst[15] = 1;\r\n        return matrix;\r\n    }\r\n    /**\r\n     * Computes a 4-by-4 perspective transformation matrix given the left, right,\r\n     * top, bottom, near and far clipping planes. The arguments define a frustum\r\n     * extending in the negative z direction. The arguments near and far are the\r\n     * distances to the near and far clipping planes. Note that near and far are not\r\n     * z coordinates, but rather they are distances along the negative z-axis. The\r\n     * matrix generated sends the viewing frustum to the unit box. We assume a unit\r\n     * box extending from -1 to 1 in the x and y dimensions and from -1 to 1 in the z\r\n     * dimension.\r\n     * @param {number} left The x coordinate of the left plane of the box.\r\n     * @param {number} right The x coordinate of the right plane of the box.\r\n     * @param {number} bottom The y coordinate of the bottom plane of the box.\r\n     * @param {number} top The y coordinate of the right plane of the box.\r\n     * @param {number} near The negative z coordinate of the near plane of the box.\r\n     * @param {number} far The negative z coordinate of the far plane of the box.\r\n     * @param {Matrix4} [dst] optional matrix to store result\r\n     * @return {Matrix4} dst or a new matrix if none provided\r\n     */\r\n    static newFrustum(left, right, bottom, top, near, far) {\r\n        let matrix = new Matrix4();\r\n        let dst = matrix.data;\r\n        var dx = right - left;\r\n        var dy = top - bottom;\r\n        var dz = far - near;\r\n        dst[0] = (2 * near) / dx;\r\n        dst[1] = 0;\r\n        dst[2] = 0;\r\n        dst[3] = 0;\r\n        dst[4] = 0;\r\n        dst[5] = (2 * near) / dy;\r\n        dst[6] = 0;\r\n        dst[7] = 0;\r\n        dst[8] = (left + right) / dx;\r\n        dst[9] = (top + bottom) / dy;\r\n        dst[10] = -(far + near) / dz;\r\n        dst[11] = -1;\r\n        dst[12] = 0;\r\n        dst[13] = 0;\r\n        dst[14] = (-2 * near * far) / dz;\r\n        dst[15] = 0;\r\n        return matrix;\r\n    }\r\n    static newTranslation(tx, ty, tz) {\r\n        return new Matrix4([1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, tx, ty, tz, 1]);\r\n    }\r\n    static newXRotation(angleInRadians) {\r\n        var c = Math.cos(angleInRadians);\r\n        var s = Math.sin(angleInRadians);\r\n        return new Matrix4([1, 0, 0, 0, 0, c, -s, 0, 0, s, c, 0, 0, 0, 0, 1]);\r\n    }\r\n    static newYRotation(angleInRadians) {\r\n        var c = Math.cos(angleInRadians);\r\n        var s = Math.sin(angleInRadians);\r\n        return new Matrix4([c, 0, s, 0, 0, 1, 0, 0, -s, 0, c, 0, 0, 0, 0, 1]);\r\n    }\r\n    static newZRotation(angleInRadians) {\r\n        let matrix = new Matrix4();\r\n        let dst = matrix.data;\r\n        var c = Math.cos(angleInRadians);\r\n        var s = Math.sin(angleInRadians);\r\n        dst[0] = c;\r\n        dst[1] = s;\r\n        dst[2] = 0;\r\n        dst[3] = 0;\r\n        dst[4] = -s;\r\n        dst[5] = c;\r\n        dst[6] = 0;\r\n        dst[7] = 0;\r\n        dst[8] = 0;\r\n        dst[9] = 0;\r\n        dst[10] = 1;\r\n        dst[11] = 0;\r\n        dst[12] = 0;\r\n        dst[13] = 0;\r\n        dst[14] = 0;\r\n        dst[15] = 1;\r\n        return matrix;\r\n    }\r\n    /**\r\n     * Makes an rotation matrix around an arbitrary axis\r\n     * @param {Vector3} axis axis to rotate around\r\n     * @param {number} angleInRadians amount to rotate\r\n     * @return {Matrix4} dst or a new matrix if none provided\r\n     */\r\n    static newAxisRotation(axis, angleInRadians) {\r\n        let matrix = new Matrix4();\r\n        let dst = matrix.data;\r\n        let x = axis.x;\r\n        let y = axis.y;\r\n        let z = axis.z;\r\n        let n = Math.sqrt(x * x + y * y + z * z);\r\n        x /= n;\r\n        y /= n;\r\n        z /= n;\r\n        let xx = x * x;\r\n        let yy = y * y;\r\n        let zz = z * z;\r\n        let c = Math.cos(angleInRadians);\r\n        let s = Math.sin(angleInRadians);\r\n        let oneMinusCosine = 1 - c;\r\n        dst[0] = xx + (1 - xx) * c;\r\n        dst[1] = x * y * oneMinusCosine + z * s;\r\n        dst[2] = x * z * oneMinusCosine - y * s;\r\n        dst[3] = 0;\r\n        dst[4] = x * y * oneMinusCosine - z * s;\r\n        dst[5] = yy + (1 - yy) * c;\r\n        dst[6] = y * z * oneMinusCosine + x * s;\r\n        dst[7] = 0;\r\n        dst[8] = x * z * oneMinusCosine + y * s;\r\n        dst[9] = y * z * oneMinusCosine - x * s;\r\n        dst[10] = zz + (1 - zz) * c;\r\n        dst[11] = 0;\r\n        dst[12] = 0;\r\n        dst[13] = 0;\r\n        dst[14] = 0;\r\n        dst[15] = 1;\r\n        return matrix;\r\n    }\r\n    /**\r\n     * Multiply by an axis rotation matrix\r\n     * @param {Matrix4} m matrix to multiply\r\n     * @param {Vector3} axis axis to rotate around\r\n     * @param {number} angleInRadians amount to rotate\r\n     * @param {Matrix4} [dst] optional matrix to store result\r\n     * @return {Matrix4} dst or a new matrix if none provided\r\n     * @memberOf module:webgl-3d-math\r\n     */\r\n    axisRotate(axis, angleInRadians) {\r\n        // This is the optimized version of\r\n        // return multiply(m, axisRotation(axis, angleInRadians), dst);\r\n        let matrix = new Matrix4();\r\n        let dst = matrix.data;\r\n        let m = this.data;\r\n        var x = axis.x;\r\n        var y = axis.y;\r\n        var z = axis.z;\r\n        var n = Math.sqrt(x * x + y * y + z * z);\r\n        x /= n;\r\n        y /= n;\r\n        z /= n;\r\n        var xx = x * x;\r\n        var yy = y * y;\r\n        var zz = z * z;\r\n        var c = Math.cos(angleInRadians);\r\n        var s = Math.sin(angleInRadians);\r\n        var oneMinusCosine = 1 - c;\r\n        var r00 = xx + (1 - xx) * c;\r\n        var r01 = x * y * oneMinusCosine + z * s;\r\n        var r02 = x * z * oneMinusCosine - y * s;\r\n        var r10 = x * y * oneMinusCosine - z * s;\r\n        var r11 = yy + (1 - yy) * c;\r\n        var r12 = y * z * oneMinusCosine + x * s;\r\n        var r20 = x * z * oneMinusCosine + y * s;\r\n        var r21 = y * z * oneMinusCosine - x * s;\r\n        var r22 = zz + (1 - zz) * c;\r\n        var m00 = m[0];\r\n        var m01 = m[1];\r\n        var m02 = m[2];\r\n        var m03 = m[3];\r\n        var m10 = m[4];\r\n        var m11 = m[5];\r\n        var m12 = m[6];\r\n        var m13 = m[7];\r\n        var m20 = m[8];\r\n        var m21 = m[9];\r\n        var m22 = m[10];\r\n        var m23 = m[11];\r\n        dst[0] = r00 * m00 + r01 * m10 + r02 * m20;\r\n        dst[1] = r00 * m01 + r01 * m11 + r02 * m21;\r\n        dst[2] = r00 * m02 + r01 * m12 + r02 * m22;\r\n        dst[3] = r00 * m03 + r01 * m13 + r02 * m23;\r\n        dst[4] = r10 * m00 + r11 * m10 + r12 * m20;\r\n        dst[5] = r10 * m01 + r11 * m11 + r12 * m21;\r\n        dst[6] = r10 * m02 + r11 * m12 + r12 * m22;\r\n        dst[7] = r10 * m03 + r11 * m13 + r12 * m23;\r\n        dst[8] = r20 * m00 + r21 * m10 + r22 * m20;\r\n        dst[9] = r20 * m01 + r21 * m11 + r22 * m21;\r\n        dst[10] = r20 * m02 + r21 * m12 + r22 * m22;\r\n        dst[11] = r20 * m03 + r21 * m13 + r22 * m23;\r\n        if (m !== dst) {\r\n            dst[12] = m[12];\r\n            dst[13] = m[13];\r\n            dst[14] = m[14];\r\n            dst[15] = m[15];\r\n        }\r\n        return matrix;\r\n    }\r\n    // make a scaling matrix\r\n    static newScaler(sx, sy, sz) {\r\n        return new Matrix4([sx, 0, 0, 0, 0, sy, 0, 0, 0, 0, sz, 0, 0, 0, 0, 1]);\r\n    }\r\n    /**\r\n     * Multiply by a scaling matrix\r\n     * @param {Matrix4} m matrix to multiply\r\n     * @param {number} sx x scale.\r\n     * @param {number} sy y scale.\r\n     * @param {number} sz z scale.\r\n     * @param {Matrix4} [dst] optional matrix to store result\r\n     * @return {Matrix4} dst or a new matrix if none provided\r\n     * @memberOf module:webgl-3d-math\r\n     */\r\n    scale(sx, sy, sz) {\r\n        // This is the optimized version of\r\n        // return multiply(m, scaling(sx, sy, sz), dst);\r\n        let matrix = new Matrix4();\r\n        let dst = matrix.data;\r\n        let m = this.data;\r\n        dst[0] = sx * m[0 * 4 + 0];\r\n        dst[1] = sx * m[0 * 4 + 1];\r\n        dst[2] = sx * m[0 * 4 + 2];\r\n        dst[3] = sx * m[0 * 4 + 3];\r\n        dst[4] = sy * m[1 * 4 + 0];\r\n        dst[5] = sy * m[1 * 4 + 1];\r\n        dst[6] = sy * m[1 * 4 + 2];\r\n        dst[7] = sy * m[1 * 4 + 3];\r\n        dst[8] = sz * m[2 * 4 + 0];\r\n        dst[9] = sz * m[2 * 4 + 1];\r\n        dst[10] = sz * m[2 * 4 + 2];\r\n        dst[11] = sz * m[2 * 4 + 3];\r\n        if (m !== dst) {\r\n            dst[12] = m[12];\r\n            dst[13] = m[13];\r\n            dst[14] = m[14];\r\n            dst[15] = m[15];\r\n        }\r\n        return matrix;\r\n    }\r\n    /**\r\n     * creates a matrix from translation, quaternion, scale\r\n     * @param {Number[]} translation [x, y, z] translation\r\n     * @param {Number[]} quaternion [x, y, z, z] quaternion rotation\r\n     * @param {Number[]} scale [x, y, z] scale\r\n     * @param {Matrix4} [dst] optional matrix to store result\r\n     * @return {Matrix4} dst or a new matrix if none provided\r\n     */\r\n    newCompose(translation, quaternion, scale) {\r\n        let matrix = new Matrix4();\r\n        let dst = matrix.data;\r\n        const x = quaternion.x;\r\n        const y = quaternion.y;\r\n        const z = quaternion.z;\r\n        const w = quaternion.w;\r\n        const x2 = x + x;\r\n        const y2 = y + y;\r\n        const z2 = z + z;\r\n        const xx = x * x2;\r\n        const xy = x * y2;\r\n        const xz = x * z2;\r\n        const yy = y * y2;\r\n        const yz = y * z2;\r\n        const zz = z * z2;\r\n        const wx = w * x2;\r\n        const wy = w * y2;\r\n        const wz = w * z2;\r\n        const sx = scale.x;\r\n        const sy = scale.y;\r\n        const sz = scale.z;\r\n        dst[0] = (1 - (yy + zz)) * sx;\r\n        dst[1] = (xy + wz) * sx;\r\n        dst[2] = (xz - wy) * sx;\r\n        dst[3] = 0;\r\n        dst[4] = (xy - wz) * sy;\r\n        dst[5] = (1 - (xx + zz)) * sy;\r\n        dst[6] = (yz + wx) * sy;\r\n        dst[7] = 0;\r\n        dst[8] = (xz + wy) * sz;\r\n        dst[9] = (yz - wx) * sz;\r\n        dst[10] = (1 - (xx + yy)) * sz;\r\n        dst[11] = 0;\r\n        dst[12] = translation.x;\r\n        dst[13] = translation.y;\r\n        dst[14] = translation.z;\r\n        dst[15] = 1;\r\n        return matrix;\r\n    }\r\n    // quatFromRotationMatrix() {\r\n    //     // http://www.euclideanspace.com/maths/geometry/rotations/conversions/matrixToQuaternion/index.htm\r\n    //     // assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\r\n    //     const m11 = m[0];\r\n    //     const m12 = m[4];\r\n    //     const m13 = m[8];\r\n    //     const m21 = m[1];\r\n    //     const m22 = m[5];\r\n    //     const m23 = m[9];\r\n    //     const m31 = m[2];\r\n    //     const m32 = m[6];\r\n    //     const m33 = m[10];\r\n    //     const trace = m11 + m22 + m33;\r\n    //     if (trace > 0) {\r\n    //         const s = 0.5 / Math.sqrt(trace + 1);\r\n    //         dst[3] = 0.25 / s;\r\n    //         dst[0] = (m32 - m23) * s;\r\n    //         dst[1] = (m13 - m31) * s;\r\n    //         dst[2] = (m21 - m12) * s;\r\n    //     } else if (m11 > m22 && m11 > m33) {\r\n    //         const s = 2 * Math.sqrt(1 + m11 - m22 - m33);\r\n    //         dst[3] = (m32 - m23) / s;\r\n    //         dst[0] = 0.25 * s;\r\n    //         dst[1] = (m12 + m21) / s;\r\n    //         dst[2] = (m13 + m31) / s;\r\n    //     } else if (m22 > m33) {\r\n    //         const s = 2 * Math.sqrt(1 + m22 - m11 - m33);\r\n    //         dst[3] = (m13 - m31) / s;\r\n    //         dst[0] = (m12 + m21) / s;\r\n    //         dst[1] = 0.25 * s;\r\n    //         dst[2] = (m23 + m32) / s;\r\n    //     } else {\r\n    //         const s = 2 * Math.sqrt(1 + m33 - m11 - m22);\r\n    //         dst[3] = (m21 - m12) / s;\r\n    //         dst[0] = (m13 + m31) / s;\r\n    //         dst[1] = (m23 + m32) / s;\r\n    //         dst[2] = 0.25 * s;\r\n    //     }\r\n    // }\r\n    // decompose(mat, translation, quaternion, scale) {\r\n    //     let sx = m4.length(mat.slice(0, 3));\r\n    //     const sy = m4.length(mat.slice(4, 7));\r\n    //     const sz = m4.length(mat.slice(8, 11));\r\n    //     // if determinate is negative, we need to invert one scale\r\n    //     const det = determinate(mat);\r\n    //     if (det < 0) {\r\n    //         sx = -sx;\r\n    //     }\r\n    //     translation[0] = mat[12];\r\n    //     translation[1] = mat[13];\r\n    //     translation[2] = mat[14];\r\n    //     // scale the rotation part\r\n    //     const matrix = m4.copy(mat);\r\n    //     const invSX = 1 / sx;\r\n    //     const invSY = 1 / sy;\r\n    //     const invSZ = 1 / sz;\r\n    //     matrix[0] *= invSX;\r\n    //     matrix[1] *= invSX;\r\n    //     matrix[2] *= invSX;\r\n    //     matrix[4] *= invSY;\r\n    //     matrix[5] *= invSY;\r\n    //     matrix[6] *= invSY;\r\n    //     matrix[8] *= invSZ;\r\n    //     matrix[9] *= invSZ;\r\n    //     matrix[10] *= invSZ;\r\n    //     quatFromRotationMatrix(matrix, quaternion);\r\n    //     scale[0] = sx;\r\n    //     scale[1] = sy;\r\n    //     scale[2] = sz;\r\n    // }\r\n    determinate() {\r\n        let m = this.data;\r\n        var m00 = m[0 * 4 + 0];\r\n        var m01 = m[0 * 4 + 1];\r\n        var m02 = m[0 * 4 + 2];\r\n        var m03 = m[0 * 4 + 3];\r\n        var m10 = m[1 * 4 + 0];\r\n        var m11 = m[1 * 4 + 1];\r\n        var m12 = m[1 * 4 + 2];\r\n        var m13 = m[1 * 4 + 3];\r\n        var m20 = m[2 * 4 + 0];\r\n        var m21 = m[2 * 4 + 1];\r\n        var m22 = m[2 * 4 + 2];\r\n        var m23 = m[2 * 4 + 3];\r\n        var m30 = m[3 * 4 + 0];\r\n        var m31 = m[3 * 4 + 1];\r\n        var m32 = m[3 * 4 + 2];\r\n        var m33 = m[3 * 4 + 3];\r\n        var tmp_0 = m22 * m33;\r\n        var tmp_1 = m32 * m23;\r\n        var tmp_2 = m12 * m33;\r\n        var tmp_3 = m32 * m13;\r\n        var tmp_4 = m12 * m23;\r\n        var tmp_5 = m22 * m13;\r\n        var tmp_6 = m02 * m33;\r\n        var tmp_7 = m32 * m03;\r\n        var tmp_8 = m02 * m23;\r\n        var tmp_9 = m22 * m03;\r\n        var tmp_10 = m02 * m13;\r\n        var tmp_11 = m12 * m03;\r\n        var t0 = tmp_0 * m11 + tmp_3 * m21 + tmp_4 * m31 - (tmp_1 * m11 + tmp_2 * m21 + tmp_5 * m31);\r\n        var t1 = tmp_1 * m01 + tmp_6 * m21 + tmp_9 * m31 - (tmp_0 * m01 + tmp_7 * m21 + tmp_8 * m31);\r\n        var t2 = tmp_2 * m01 + tmp_7 * m11 + tmp_10 * m31 - (tmp_3 * m01 + tmp_6 * m11 + tmp_11 * m31);\r\n        var t3 = tmp_5 * m01 + tmp_8 * m11 + tmp_11 * m21 - (tmp_4 * m01 + tmp_9 * m11 + tmp_10 * m21);\r\n        return 1.0 / (m00 * t0 + m10 * t1 + m20 * t2 + m30 * t3);\r\n    }\r\n    inverse() {\r\n        let matrix = new Matrix4();\r\n        let dst = matrix.data;\r\n        let m = this.data;\r\n        var m00 = m[0 * 4 + 0];\r\n        var m01 = m[0 * 4 + 1];\r\n        var m02 = m[0 * 4 + 2];\r\n        var m03 = m[0 * 4 + 3];\r\n        var m10 = m[1 * 4 + 0];\r\n        var m11 = m[1 * 4 + 1];\r\n        var m12 = m[1 * 4 + 2];\r\n        var m13 = m[1 * 4 + 3];\r\n        var m20 = m[2 * 4 + 0];\r\n        var m21 = m[2 * 4 + 1];\r\n        var m22 = m[2 * 4 + 2];\r\n        var m23 = m[2 * 4 + 3];\r\n        var m30 = m[3 * 4 + 0];\r\n        var m31 = m[3 * 4 + 1];\r\n        var m32 = m[3 * 4 + 2];\r\n        var m33 = m[3 * 4 + 3];\r\n        var tmp_0 = m22 * m33;\r\n        var tmp_1 = m32 * m23;\r\n        var tmp_2 = m12 * m33;\r\n        var tmp_3 = m32 * m13;\r\n        var tmp_4 = m12 * m23;\r\n        var tmp_5 = m22 * m13;\r\n        var tmp_6 = m02 * m33;\r\n        var tmp_7 = m32 * m03;\r\n        var tmp_8 = m02 * m23;\r\n        var tmp_9 = m22 * m03;\r\n        var tmp_10 = m02 * m13;\r\n        var tmp_11 = m12 * m03;\r\n        var tmp_12 = m20 * m31;\r\n        var tmp_13 = m30 * m21;\r\n        var tmp_14 = m10 * m31;\r\n        var tmp_15 = m30 * m11;\r\n        var tmp_16 = m10 * m21;\r\n        var tmp_17 = m20 * m11;\r\n        var tmp_18 = m00 * m31;\r\n        var tmp_19 = m30 * m01;\r\n        var tmp_20 = m00 * m21;\r\n        var tmp_21 = m20 * m01;\r\n        var tmp_22 = m00 * m11;\r\n        var tmp_23 = m10 * m01;\r\n        var t0 = tmp_0 * m11 + tmp_3 * m21 + tmp_4 * m31 - (tmp_1 * m11 + tmp_2 * m21 + tmp_5 * m31);\r\n        var t1 = tmp_1 * m01 + tmp_6 * m21 + tmp_9 * m31 - (tmp_0 * m01 + tmp_7 * m21 + tmp_8 * m31);\r\n        var t2 = tmp_2 * m01 + tmp_7 * m11 + tmp_10 * m31 - (tmp_3 * m01 + tmp_6 * m11 + tmp_11 * m31);\r\n        var t3 = tmp_5 * m01 + tmp_8 * m11 + tmp_11 * m21 - (tmp_4 * m01 + tmp_9 * m11 + tmp_10 * m21);\r\n        var d = 1.0 / (m00 * t0 + m10 * t1 + m20 * t2 + m30 * t3);\r\n        dst[0] = d * t0;\r\n        dst[1] = d * t1;\r\n        dst[2] = d * t2;\r\n        dst[3] = d * t3;\r\n        dst[4] = d * (tmp_1 * m10 + tmp_2 * m20 + tmp_5 * m30 - (tmp_0 * m10 + tmp_3 * m20 + tmp_4 * m30));\r\n        dst[5] = d * (tmp_0 * m00 + tmp_7 * m20 + tmp_8 * m30 - (tmp_1 * m00 + tmp_6 * m20 + tmp_9 * m30));\r\n        dst[6] = d * (tmp_3 * m00 + tmp_6 * m10 + tmp_11 * m30 - (tmp_2 * m00 + tmp_7 * m10 + tmp_10 * m30));\r\n        dst[7] = d * (tmp_4 * m00 + tmp_9 * m10 + tmp_10 * m20 - (tmp_5 * m00 + tmp_8 * m10 + tmp_11 * m20));\r\n        dst[8] = d * (tmp_12 * m13 + tmp_15 * m23 + tmp_16 * m33 - (tmp_13 * m13 + tmp_14 * m23 + tmp_17 * m33));\r\n        dst[9] = d * (tmp_13 * m03 + tmp_18 * m23 + tmp_21 * m33 - (tmp_12 * m03 + tmp_19 * m23 + tmp_20 * m33));\r\n        dst[10] = d * (tmp_14 * m03 + tmp_19 * m13 + tmp_22 * m33 - (tmp_15 * m03 + tmp_18 * m13 + tmp_23 * m33));\r\n        dst[11] = d * (tmp_17 * m03 + tmp_20 * m13 + tmp_23 * m23 - (tmp_16 * m03 + tmp_21 * m13 + tmp_22 * m23));\r\n        dst[12] = d * (tmp_14 * m22 + tmp_17 * m32 + tmp_13 * m12 - (tmp_16 * m32 + tmp_12 * m12 + tmp_15 * m22));\r\n        dst[13] = d * (tmp_20 * m32 + tmp_12 * m02 + tmp_19 * m22 - (tmp_18 * m22 + tmp_21 * m32 + tmp_13 * m02));\r\n        dst[14] = d * (tmp_18 * m12 + tmp_23 * m32 + tmp_15 * m02 - (tmp_22 * m32 + tmp_14 * m02 + tmp_19 * m12));\r\n        dst[15] = d * (tmp_22 * m22 + tmp_16 * m02 + tmp_21 * m12 - (tmp_20 * m12 + tmp_23 * m22 + tmp_17 * m02));\r\n        return matrix;\r\n    }\r\n    multiplyVector(v) {\r\n        let data = new Array(3);\r\n        for (var i = 0; i < 3; ++i) {\r\n            data[i] = 0.0;\r\n            for (var j = 0; j < 4; ++j) {\r\n                data[i] += v.item(j) * this.get(j, i);\r\n            }\r\n        }\r\n        return new _vector__WEBPACK_IMPORTED_MODULE_1__.Vector3(data[0], data[1], data[2]);\r\n    }\r\n    multiplyVectors(other) {\r\n        // dumb way\r\n        for (let i = 0; i < this.count(); i++) {\r\n            let vec = other.getVector(i);\r\n            vec = this.multiplyVector(vec);\r\n            other.setVector(i, vec);\r\n        }\r\n        return other;\r\n        // smart way\r\n        // let matrix = new Vector3Array(other.count());\r\n        // // for every row\r\n        // for (var r = 0; r < other.count(); r++) {\r\n        //     // for every item in row\r\n        //     for (var c = 0; c < 3; ++c) {\r\n        //         let item = 0.0;\r\n        //         for (var j = 0; j < 4; ++j) {\r\n        //             item += other.get(r, c) * this.get(j, c);\r\n        //         }\r\n        //         matrix.set(r, c, item);\r\n        //     }\r\n        // }\r\n        // other.data = matrix.data;\r\n        return other;\r\n    }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9nZW9uLWVuZ2luZS8uL3NyYy9tYXRoL21hdHJpeC50cz81YTM4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQSxTQUFTO0FBQ1QsdUJBQXVCO0FBQ3ZCLHdCQUF3QjtBQUN4QixRQUFRO0FBRzJDO0FBRVA7QUFFNUMsd0NBQXdDO0FBQ3hDLDZCQUE2QjtBQUN0QixNQUFNLE9BQVEsU0FBUSwyREFBVztJQUNwQyxZQUFZLE9BQWlCLEVBQUU7UUFDM0IsS0FBSyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUM7SUFDdEIsQ0FBQztJQUVELE1BQU0sQ0FBQyxXQUFXO1FBQ2QsT0FBTyxJQUFJLE9BQU8sQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUNwRCxDQUFDO0lBRUQsTUFBTSxDQUFDLGFBQWEsQ0FBQyxLQUFhLEVBQUUsTUFBYztRQUM5Qyx5REFBeUQ7UUFDekQsT0FBTyxJQUFJLE9BQU8sQ0FBQyxDQUFDLENBQUMsR0FBRyxLQUFLLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEdBQUcsTUFBTSxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUN2RSxDQUFDO0lBRUQsTUFBTSxDQUFDLGNBQWMsQ0FBQyxFQUFVLEVBQUUsRUFBVTtRQUN4QyxPQUFPLElBQUksT0FBTyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ3RELENBQUM7SUFFRCxtQkFBbUI7SUFDbkIsTUFBTSxDQUFDLFdBQVcsQ0FBQyxDQUFTO1FBQ3hCLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDcEIsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNwQixPQUFPLElBQUksT0FBTyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDckQsQ0FBQztJQUVELE1BQU0sQ0FBQyxTQUFTLENBQUMsRUFBVSxFQUFFLEVBQVU7UUFDbkMsT0FBTyxJQUFJLE9BQU8sQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUN0RCxDQUFDO0lBRUQsTUFBTTtRQUNGLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUM7UUFDbEIsT0FBTyxJQUFJLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDcEcsQ0FBQztJQUVELE9BQU8sQ0FBQyxLQUFhLEVBQUUsTUFBYztRQUNqQyxPQUFPLElBQUksQ0FBQyxRQUFRLENBQUMsT0FBTyxDQUFDLGFBQWEsQ0FBQyxLQUFLLEVBQUUsTUFBTSxDQUFDLENBQUMsQ0FBQztJQUMvRCxDQUFDO0lBRUQsVUFBVSxDQUFDLEVBQVUsRUFBRSxFQUFVO1FBQzdCLE9BQU8sSUFBSSxDQUFDLFFBQVEsQ0FBQyxPQUFPLENBQUMsY0FBYyxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQ3pELENBQUM7SUFFRCxTQUFTLENBQUMsQ0FBVTtRQUNoQixPQUFPLElBQUksQ0FBQyxRQUFRLENBQUMsT0FBTyxDQUFDLGNBQWMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQzNELENBQUM7SUFFRCxNQUFNLENBQUMsQ0FBUztRQUNaLE9BQU8sSUFBSSxDQUFDLFFBQVEsQ0FBQyxPQUFPLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDakQsQ0FBQztJQUVELEtBQUssQ0FBQyxFQUFVLEVBQUUsRUFBVTtRQUN4QixPQUFPLElBQUksQ0FBQyxRQUFRLENBQUMsT0FBTyxDQUFDLFNBQVMsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUNwRCxDQUFDO0lBRUQsb0JBQW9CO0lBQ3BCLFFBQVEsQ0FBQyxLQUFjO1FBQ25CLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUM7UUFDbEIsSUFBSSxDQUFDLEdBQUcsS0FBSyxDQUFDLElBQUksQ0FBQztRQUVuQixJQUFJLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN2QixJQUFJLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN2QixJQUFJLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN2QixJQUFJLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN2QixJQUFJLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN2QixJQUFJLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN2QixJQUFJLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN2QixJQUFJLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN2QixJQUFJLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN2QixJQUFJLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN2QixJQUFJLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN2QixJQUFJLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN2QixJQUFJLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN2QixJQUFJLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN2QixJQUFJLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN2QixJQUFJLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN2QixJQUFJLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN2QixJQUFJLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUV2QixPQUFPLElBQUksT0FBTyxDQUFDO1lBQ2YsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHO1lBQ2pDLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRztZQUNqQyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUc7WUFDakMsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHO1lBQ2pDLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRztZQUNqQyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUc7WUFDakMsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHO1lBQ2pDLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRztZQUNqQyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUc7U0FDcEMsQ0FBQyxDQUFDO0lBQ1AsQ0FBQztJQUVELGlDQUFpQztJQUNqQyxlQUFlLENBQUMsQ0FBVTtRQUN0QixJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDO1FBQ2xCLElBQUksRUFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDYixJQUFJLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ2IsSUFBSSxDQUFDLEdBQUcsRUFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUM3RCxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUNqRSxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUNqRSxPQUFPLENBQUMsQ0FBQztJQUNiLENBQUM7SUFFRCxvQ0FBb0M7SUFDcEMsT0FBTztRQUNILDBDQUEwQztRQUMxQyx3REFBd0Q7UUFDeEQsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQztRQUNsQixJQUFJLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUNwRSxJQUFJLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUNwRSxJQUFJLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUVwRSxlQUFlO1FBQ2YsSUFBSSxDQUFDLEdBQUcsR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQztRQUM3RSxJQUFJLENBQUMsT0FBTyxDQUFDO1lBQ1QsQ0FBQyxHQUFHLEdBQUc7WUFDUCxDQUFDLENBQUMsR0FBRyxHQUFHO1lBQ1IsQ0FBQyxHQUFHLEdBQUc7WUFDUCxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1lBQ2hFLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1lBQy9ELENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7WUFDaEUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7WUFDL0QsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztZQUNoRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztTQUNsRSxDQUFDLENBQUM7UUFDSCxPQUFPLElBQUksQ0FBQztJQUNoQixDQUFDO0NBQ0o7QUFFRCx3Q0FBd0M7QUFDeEMsNkJBQTZCO0FBQ3RCLE1BQU0sT0FBUSxTQUFRLDJEQUFXO0lBQ3BDLFlBQVksT0FBaUIsRUFBRTtRQUMzQixLQUFLLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQztJQUN0QixDQUFDO0lBRUQsTUFBTSxDQUFDLFdBQVc7UUFDZCxPQUFPLElBQUksT0FBTyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUN6RSxDQUFDO0lBRUQsTUFBTSxDQUFDLE9BQU8sQ0FBQyxLQUFjO1FBQ3pCLElBQUksTUFBTSxHQUFHLElBQUksT0FBTyxFQUFFLENBQUM7UUFDM0IsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRTtZQUN6QixNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxHQUFHLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7U0FDbEM7UUFDRCxPQUFPLE1BQU0sQ0FBQztJQUNsQixDQUFDO0lBRUQsS0FBSztRQUNELE9BQU8sT0FBTyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUNqQyxDQUFDO0lBRUQsVUFBVSxDQUFDLEtBQWM7UUFDckIseUZBQXlGO1FBQ3pGLE1BQU0sQ0FBQyxHQUFHLEtBQUssQ0FBQyxJQUFJLENBQUM7UUFDckIsTUFBTSxDQUFDLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQztRQUVwQixJQUFJLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN2QixJQUFJLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN2QixJQUFJLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN2QixJQUFJLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN2QixJQUFJLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN2QixJQUFJLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN2QixJQUFJLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN2QixJQUFJLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN2QixJQUFJLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN2QixJQUFJLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN2QixJQUFJLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN2QixJQUFJLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN2QixJQUFJLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN2QixJQUFJLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN2QixJQUFJLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN2QixJQUFJLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN2QixJQUFJLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN2QixJQUFJLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN2QixJQUFJLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN2QixJQUFJLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN2QixJQUFJLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN2QixJQUFJLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN2QixJQUFJLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN2QixJQUFJLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN2QixJQUFJLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN2QixJQUFJLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN2QixJQUFJLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN2QixJQUFJLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN2QixJQUFJLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN2QixJQUFJLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN2QixJQUFJLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN2QixJQUFJLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUV2QixPQUFPLElBQUksT0FBTyxDQUFDO1lBQ2YsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUc7WUFDN0MsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUc7WUFDN0MsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUc7WUFDN0MsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUc7WUFDN0MsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUc7WUFDN0MsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUc7WUFDN0MsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUc7WUFDN0MsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUc7WUFDN0MsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUc7WUFDN0MsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUc7WUFDN0MsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUc7WUFDN0MsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUc7WUFDN0MsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUc7WUFDN0MsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUc7WUFDN0MsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUc7WUFDN0MsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUc7U0FDaEQsQ0FBQyxDQUFDO0lBQ1AsQ0FBQztJQUVELFFBQVEsQ0FBQyxLQUFjO1FBQ25CLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQyxLQUFLLENBQUMsQ0FBQyxJQUFJLENBQUM7UUFDeEMsT0FBTyxJQUFJLENBQUM7SUFDaEIsQ0FBQztJQUVELFNBQVM7UUFDTCxJQUFJLE1BQU0sR0FBRyxJ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UUFDWCxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ1gsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUNYLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDWCxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxHQUFHLE1BQU0sQ0FBQyxDQUFDO1FBQzVCLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDWCxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ1gsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUNYLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDWCxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsSUFBSSxHQUFHLEdBQUcsQ0FBQyxDQUFDO1FBQzNCLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDWixHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxJQUFJLEdBQUcsS0FBSyxDQUFDLEdBQUcsQ0FBQyxJQUFJLEdBQUcsS0FBSyxDQUFDLENBQUM7UUFDMUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsTUFBTSxHQUFHLEdBQUcsQ0FBQyxHQUFHLENBQUMsTUFBTSxHQUFHLEdBQUcsQ0FBQyxDQUFDO1FBQzFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLElBQUksR0FBRyxHQUFHLENBQUMsR0FBRyxDQUFDLElBQUksR0FBRyxHQUFHLENBQUMsQ0FBQztRQUN0QyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBRVosT0FBTyxNQUFNLENBQUM7SUFDbEIsQ0FBQztJQUVEOzs7Ozs7Ozs7Ozs7Ozs7OztPQWlCRztJQUNILE1BQU0sQ0FBQyxVQUFVLENBQUMsSUFBWSxFQUFFLEtBQWEsRUFBRSxNQUFjLEVBQUUsR0FBVyxFQUFFLElBQVksRUFBRSxHQUFXO1FBQ2pHLElBQUksTUFBTSxHQUFHLElBQUksT0FBTyxFQUFFLENBQUM7UUFDM0IsSUFBSSxHQUFHLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQztRQUV0QixJQUFJLEVBQUUsR0FBRyxLQUFLLEdBQUcsSUFBSSxDQUFDO1FBQ3RCLElBQUksRUFBRSxHQUFHLEdBQUcsR0FBRyxNQUFNLENBQUM7UUFDdEIsSUFBSSxFQUFFLEdBQUcsR0FBRyxHQUFHLElBQUksQ0FBQztRQUVwQixHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsRUFBRSxDQUFDO1FBQ3pCLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDWCxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ1gsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUNYLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDWCxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsRUFBRSxDQUFDO1FBQ3pCLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDWCxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ1gsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsSUFBSSxHQUFHLEtBQUssQ0FBQyxHQUFHLEVBQUUsQ0FBQztRQUM3QixHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEdBQUcsTUFBTSxDQUFDLEdBQUcsRUFBRSxDQUFDO1FBQzdCLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLElBQUksQ0FBQyxHQUFHLEVBQUUsQ0FBQztRQUM3QixHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDYixHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxD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QUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ2YsSUFBSSxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ2YsSUFBSSxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ2YsSUFBSSxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ2YsSUFBSSxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ2YsSUFBSSxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ2YsSUFBSSxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ2YsSUFBSSxHQUFHLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQ2hCLElBQUksR0FBRyxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUVoQixHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLENBQUM7UUFDM0MsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxDQUFDO1FBQzNDLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsQ0FBQztRQUMzQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLENBQUM7UUFDM0MsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxDQUFDO1FBQzNDLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsQ0FBQztRQUMzQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLENBQUM7UUFDM0MsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxDQUFDO1FBQzNDLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsQ0FBQztRQUMzQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLENBQUM7UUFDM0MsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxDQUFDO1FBQzVDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsQ0FBQztRQUU1QyxJQUFJLENBQUMsS0FBSyxHQUFHLEVBQUU7WUFDWCxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDO1lBQ2hCLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUM7WUFDaEIsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQztZQUNoQixHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDO1NBQ25CO1FBRUQsT0FBTyxNQUFNLENBQUM7SUFDbEIsQ0FBQztJQUVELHdCQUF3QjtJQUN4QixNQUFNLENBQUMsU0FBUyxDQUFDLEVBQVUsRUFBRSxFQUFVLEVBQUUsRUFBVTtRQUMvQyxPQUFPLElBQUksT0FBTyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUM1RSxDQUFDO0lBRUQ7Ozs7Ozs7OztPQVNHO0lBQ0gsS0FBSyxDQUFDLEVBQVUsRUFBRSxFQUFVLEVBQUUsRUFBVTtRQUNwQyxtQ0FBbUM7UUFDbkMsZ0RBQWdEO1FBRWhELElBQUksTUFBTSxHQUFHLElBQUksT0FBTyxFQUFFLENBQUM7UUFDM0IsSUFBSSxHQUFHLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQztRQUN0QixJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDO1FBRWxCLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDM0IsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUMzQixHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsRUFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQzNCLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDM0IsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUMzQixHQUFHLENBQUMs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QixHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUM7UUFDOUIsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxHQUFHLEVBQUUsQ0FBQztRQUN4QixHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDLEdBQUcsRUFBRSxDQUFDO1FBQ3hCLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7UUFFWCxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDLEdBQUcsRUFBRSxDQUFDO1FBQ3hCLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQztRQUM5QixHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDLEdBQUcsRUFBRSxDQUFDO1FBQ3hCLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7UUFFWCxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDLEdBQUcsRUFBRSxDQUFDO1FBQ3hCLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUMsR0FBRyxFQUFFLENBQUM7UUFDeEIsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDO1FBQy9CLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUM7UUFFWixHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsV0FBVyxDQUFDLENBQUMsQ0FBQztRQUN4QixHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsV0FBVyxDQUFDLENBQUMsQ0FBQztRQUN4QixHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsV0FBVyxDQUFDLENBQUMsQ0FBQztRQUN4QixHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBRVosT0FBTyxNQUFNLENBQUM7SUFDbEIsQ0FBQztJQUVELDZCQUE2QjtJQUM3Qix5R0FBeUc7SUFFekcsOEVBQThFO0lBQzlFLHdCQUF3QjtJQUN4Qix3QkFBd0I7SUFDeEIsd0JBQXdCO0lBQ3hCLHdCQUF3QjtJQUN4Qix3QkFBd0I7SUFDeEIsd0JBQXdCO0lBQ3hCLHdCQUF3QjtJQUN4Qix3QkFBd0I7SUFDeEIseUJBQXlCO0lBRXpCLHFDQUFxQztJQUVyQyx1QkFBdUI7SUFDdkIsZ0RBQWdEO0lBQ2hELDZCQUE2QjtJQUM3QixvQ0FBb0M7SUFDcEMsb0NBQW9DO0lBQ3BDLG9DQUFvQztJQUNwQywyQ0FBMkM7SUFDM0Msd0RBQXdEO0lBQ3hELG9DQUFvQztJQUNwQyw2QkFBNkI7SUFDN0Isb0NBQW9DO0lBQ3BDLG9DQUFvQztJQUNwQyw4QkFBOEI7SUFDOUIsd0RBQXdEO0lBQ3hELG9DQUFvQztJQUNwQyxvQ0FBb0M7SUFDcEMsNkJBQTZCO0lBQzdCLG9DQUFvQztJQUNwQyxlQUFlO0lBQ2Ysd0RBQXdEO0lBQ3hELG9DQUFvQztJQUNwQyxvQ0FBb0M7SUFDcEMsb0NBQW9DO0lBQ3BDLDZCQUE2QjtJQUM3QixRQUFRO0lBQ1IsSUFBSTtJQUVKLG1EQUFtRDtJQUNuRCwyQ0FBMkM7SUFDM0MsNkNBQTZDO0lBQzdDLDhDQUE4QztJQUU5QyxpRUFBaUU7SUFDakUsb0NBQW9DO0lBQ3BDLHFCQUFxQjtJQUNyQixvQkFBb0I7SUFDcEIsUUFBUTtJQUVSLGdDQUFnQztJQUNoQyxnQ0FBZ0M7SUFDaEMsZ0NBQWdDO0lBRWhDLGlDQUFpQztJQUNqQyxtQ0FBbUM7SUFFbkMsNEJBQTRCO0lBQzVCLDRCQUE0QjtJQUM1Qiw0QkFBNEI7SUFFNUIsMEJBQTBCO0lBQzFCLDBCQUEwQjtJQUMxQiwwQkFBMEI7SUFFMUIsMEJBQTBCO0lBQzFCLDBCQUEwQjtJQUMxQiwwQkFBMEI7SUFFMUIsMEJBQTBCO0lBQzFCLDBCQUEwQjtJQUMxQiwyQkFBMkI7SUFFM0Isa0RBQWtEO0lBRWxELHFCQUFxQjtJQUNyQixxQkFBcUI7SUFDckIscUJBQXFCO0lBQ3JCLElBQUk7SUFFSixXQUFXO1FBQ1AsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQztRQUVsQixJQUFJLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN2QixJQUFJLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN2QixJQUFJLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN2QixJQUFJLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN2QixJQUFJLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN2QixJQUFJLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN2QixJQUFJLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN2QixJQUFJLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN2QixJQUFJLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN2QixJQUFJLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN2QixJQUFJLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN2QixJQUFJLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN2QixJQUFJLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN2QixJQUFJLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN2QixJQUFJLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN2QixJQUFJLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN2QixJQUFJLEtBQUssR0FBRyxHQUFHLEdBQUcsR0FBRyxDQUFDO1FBQ3RCLElBQUksS0FBSyxHQUFHLEdBQUcsR0FBRyxHQUFHLENBQUM7UUFDdEIsSUFBSSxLQUFLLEdBQUcsR0FBRyxHQUFHLEdBQUcsQ0FBQztRQUN0QixJQUFJLEtBQUssR0FBRyxHQUFHLEdBQUcsR0FBRyxDQUFDO1FBQ3RCLElBQUksS0FBSyxHQUFHLEdBQUcsR0FBRyxHQUFHLENBQUM7UUFDdEIsSUFBSSxLQUFLLEdBQUcsR0FBRyxHQUFHLEdBQUcsQ0FBQztRQUN0QixJQUFJLEtBQUssR0FBRyxHQUFHLEdBQUcsR0FBRyxDQUFDO1FBQ3RCLElBQUksS0FBSyxHQUFHLEdBQUcsR0FBRyxHQUFHLENBQUM7UUFDdEIsSUFBSSxLQUFLLEdBQUcsR0FBRyxHQUFHLEdBQUcsQ0FBQztRQUN0QixJQUFJLEtBQUssR0FBRyxHQUFHLEdBQUcsR0FBRyxDQUFDO1FBQ3RCLElBQUksTUFBTSxHQUFHLEdBQUcsR0FBRyxHQUFHLENBQUM7UUFDdkIsSUFBSSxNQUFNLEdBQUcsR0FBRyxHQUFHLEdBQUcsQ0FBQztRQUV2QixJQUFJLEVBQUUsR0FBRyxLQUFLLEdBQUcsR0FBRyxHQUFHLEtBQUssR0FBRyxHQUFHLEdBQUcsS0FBSyxHQUFHLEdBQUcsR0FBRyxDQUFDLEtBQUssR0FBRyxHQUFHLEdBQUcsS0FBSyxHQUFHLEdBQUcsR0FBRyxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUM7UUFDN0YsSUFBSSxFQUFFLEdBQUcsS0FBSyxHQUFHLEdBQUcsR0FBRyxLQUFLLEdBQUcsR0FBRyxHQUFHLEtBQUssR0FBRyxHQUFHLEdBQUcsQ0FBQyxLQUFLLEdBQUcsR0FBRyxHQUFHLEtBQUssR0FBRyxHQUFHLEdBQUcsS0FBSyxHQUFHLEdBQUcsQ0FBQyxDQUFDO1FBQzdGLElBQUksRUFBRSxHQUFHLEtBQUssR0FBRyxHQUFHLEdBQUcsS0FBSyxHQUFHLEdBQUcsR0FBRyxNQUFNLEdBQUcsR0FBRyxHQUFHLENBQUMsS0FBSyxHQUFHLEdBQUcsR0FBRyxLQUFLLEdBQUcsR0FBRyxHQUFHLE1BQU0sR0FBRyxHQUFHLENBQUMsQ0FBQztRQUMvRixJQUFJLEVBQUUsR0FBRyxLQUFLLEdBQUcsR0FBRyxHQUFHLEtBQUssR0FBRyxHQUFHLEdBQUcsTUFBTSxHQUFHLEdBQUcsR0FBRyxDQUFDLEtBQUssR0FBRyxHQUFHLEdBQUcsS0FBSyxHQUFHLEdBQUcsR0FBRyxNQUFNLEdBQUcsR0FBRyxDQUFDLENBQUM7UUFFL0YsT0FBTyxHQUFHLEdBQUcsQ0FBQyxHQUFHLEdBQUcsRUFBRSxHQUFHLEdBQUcsR0FBRyxFQUFFLEdBQUcsR0FBRyxHQUFHLEVBQUUsR0FBRyxHQUFHLEdBQUcsRUFBRSxDQUFDLENBQUM7SUFDN0QsQ0FBQztJQUVELE9BQU87UUFDSCxJQUFJLE1BQU0sR0FBRyxJQUFJLE9BQU8sRUFBRSxDQUFDO1FBQzNCLElBQUksR0FBRyxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUM7UUFDdEIsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQztRQUVsQixJQUFJLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN2QixJQUFJLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN2QixJQUFJLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN2QixJQUFJLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN2QixJQUFJLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN2QixJQUFJLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN2QixJQUFJLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN2QixJQUFJLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN2QixJQUFJLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN2QixJQUFJLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN2QixJQUFJLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN2QixJQUFJLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN2QixJQUFJLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN2QixJQUFJLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN2QixJQUFJLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN2QixJQUFJLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN2QixJQUFJLEtBQUssR0FBRyxHQUFHLEdBQUcsR0FBRyxDQUFDO1FBQ3RCLElBQUksS0FBSyxHQUFHLEdBQUcsR0FBRyxHQUFHLENBQUM7UUFDdEIsSUFBSSxLQUFLLEdBQUcsR0FBRyxHQUFHLEdBQUcsQ0FBQztRQUN0QixJQUFJLEtBQUssR0FBRyxHQUFHLEdBQUcsR0FBRyxDQUFDO1FBQ3RCLElBQUksS0FBSyxHQUFHLEdBQUcsR0FBRyxHQUFHLENBQUM7UUFDdEIsSUFBSSxLQUFLLEdBQUcsR0FBRyxHQUFHLEdBQUcsQ0FBQztRQUN0QixJQUFJLEtBQUssR0FBRyxHQUFHLEdBQUcsR0FBRyxDQUFDO1FBQ3RCLElBQUksS0FBSyxHQUFHLEdBQUcsR0FBRyxHQUFHLENBQUM7UUFDdEIsSUFBSSxLQUFLLEdBQUcsR0FBRyxHQUFHLEdBQUcsQ0FBQztRQUN0QixJQUFJLEtBQUssR0FBRyxHQUFHLEdBQUcsR0FBRyxDQUFDO1FBQ3RCLElBQUksTUFBTSxHQUFHLEdBQUcsR0FBRyxHQUFHLENBQUM7UUFDdkIsSUFBSSxNQUFNLEdBQUcsR0FBRyxHQUFHLEdBQUcsQ0FBQztRQUN2QixJQUFJLE1BQU0sR0FBRyxHQUFHLEdBQUcsR0FBRyxDQUFDO1FBQ3ZCLElBQUksTUFBTSxHQUFHLEdBQUcsR0FBRyxHQUFHLENBQUM7UUFDdkIsSUFBSSxNQUFNLEdBQUcsR0FBRyxHQUFHLEdBQUcsQ0FBQztRQUN2QixJQUFJLE1BQU0sR0FBRyxHQUFHLEdBQUcsR0FBRyxDQUFDO1FBQ3ZCLElBQUksTUFBTSxHQUFHLEdBQUcsR0FBRyxHQUFHLENBQUM7UUFDdkIsSUFBSSxNQUFNLEdBQUcsR0FBRyxHQUFHLEdBQUcsQ0FBQztRQUN2QixJQUFJLE1BQU0sR0FBRyxHQUFHLEdBQUcsR0FBRyxDQUFDO1FBQ3ZCLElBQUksTUFBTSxHQUFHLEdBQUcsR0FBRyxHQUFHLENBQUM7UUFDdkIsSUFBSSxNQUFNLEdBQUcsR0FBRyxHQUFHLEdBQUcsQ0FBQztRQUN2QixJQUFJLE1BQU0sR0FBRyxHQUFHLEdBQUcsR0FBRyxDQUFDO1FBQ3ZCLElBQUksTUFBTSxHQUFHLEdBQUcsR0FBRyxHQUFHLENBQUM7UUFDdkIsSUFBSSxNQUFNLEdBQUcsR0FBRyxHQUFHLEdBQUcsQ0FBQztRQUV2QixJQUFJLEVBQUUsR0FBRyxLQUFLLEdBQUcsR0FBRyxHQUFHLEtBQUssR0FBRyxHQUFHLEdBQUcsS0FBSyxHQUFHLEdBQUcsR0FBRyxDQUFDLEtBQUssR0FBRyxHQUFHLEdBQUcsS0FBSyxHQUFHLEdBQUcsR0FBRyxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUM7UUFDN0YsSUFBSSxFQUFFLEdBQUcsS0FBSyxHQUFHLEdBQUcsR0FBRyxLQUFLLEdBQUcsR0FBRyxHQUFHLEtBQUssR0FBRyxHQUFHLEdBQUcsQ0FBQyxLQUFLLEdBQUcsR0FBRyxHQUFHLEtBQUssR0FBRyxHQUFHLEdBQUcsS0FBSyxHQUFHLEdBQUcsQ0FBQyxDQUFDO1FBQzdGLElBQUksRUFBRSxHQUFHLEtBQUssR0FBRyxHQUFHLEdBQUcsS0FBSyxHQUFHLEdBQUcsR0FBRyxNQUFNLEdBQUcsR0FBRyxHQUFHLENBQUMsS0FBSyxHQUFHLEdBQUcsR0FBRyxLQUFLLEdBQUcsR0FBRyxHQUFHLE1BQU0sR0FBRyxHQUFHLENBQUMsQ0FBQztRQUMvRixJQUFJLEVBQUUsR0FBRyxLQUFLLEdBQUcsR0FBRyxHQUFHLEtBQUssR0FBRyxHQUFHLEdBQUcsTUFBTSxHQUFHLEdBQUcsR0FBRyxDQUFDLEtBQUssR0FBRyxHQUFHLEdBQUcsS0FBSyxHQUFHLEdBQUcsR0FBRyxNQUFNLEdBQUcsR0FBRyxDQUFDLENBQUM7UUFFL0YsSUFBSSxDQUFDLEdBQUcsR0FBRyxHQUFHLENBQUMsR0FBRyxHQUFHLEVBQUUsR0FBRyxHQUFHLEdBQUcsRUFBRSxHQUFHLEdBQUcsR0FBRyxFQUFFLEdBQUcsR0FBRyxHQUFHLEVBQUUsQ0FBQyxDQUFDO1FBRTFELEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsRUFBRSxDQUFDO1FBQ2hCLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsRUFBRSxDQUFDO1FBQ2hCLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsRUFBRSxDQUFDO1FBQ2hCLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsRUFBRSxDQUFDO1FBQ2hCLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxLQUFLLEdBQUcsR0FBRyxHQUFHLEtBQUssR0FBRyxHQUFHLEdBQUcsS0FBSyxHQUFHLEdBQUcsR0FBRyxDQUFDLEtBQUssR0FBRyxHQUFHLEdBQUcsS0FBSyxHQUFHLEdBQUcsR0FBRyxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUNuRyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsS0FBSyxHQUFHLEdBQUcsR0FBRyxLQUFLLEdBQUcsR0FBRyxHQUFHLEtBQUssR0FBRyxHQUFHLEdBQUcsQ0FBQyxLQUFLLEdBQUcsR0FBRyxHQUFHLEtBQUssR0FBRyxHQUFHLEdBQUcsS0FBSyxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDbkcsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEtBQUssR0FBRyxHQUFHLEdBQUcsS0FBSyxHQUFHLEdBQUcsR0FBRyxNQUFNLEdBQUcsR0FBRyxHQUFHLENBQUMsS0FBSyxHQUFHLEdBQUcsR0FBRyxLQUFLLEdBQUcsR0FBRyxHQUFHLE1BQU0sR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ3JHLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxLQUFLLEdBQUcsR0FBRyxHQUFHLEtBQUssR0FBRyxHQUFHLEdBQUcsTUFBTSxHQUFHLEdBQUcsR0FBRyxDQUFDLEtBQUssR0FBRyxHQUFHLEdBQUcsS0FBSyxHQUFHLEdBQUcsR0FBRyxNQUFNLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUNyRyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsTUFBTSxHQUFHLEdBQUcsR0FBRyxNQUFNLEdBQUcsR0FBRyxHQUFHLE1BQU0sR0FBRyxHQUFHLEdBQUcsQ0FBQyxNQUFNLEdBQUcsR0FBRyxHQUFHLE1BQU0sR0FBRyxHQUFHLEdBQUcsTUFBTSxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDekcsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLE1BQU0sR0FBRyxHQUFHLEdBQUcsTUFBTSxHQUFHLEdBQUcsR0FBRyxNQUFNLEdBQUcsR0FBRyxHQUFHLENBQUMsTUFBTSxHQUFHLEdBQUcsR0FBRyxNQUFNLEdBQUcsR0FBRyxHQUFHLE1BQU0sR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ3pHLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxNQUFNLEdBQUcsR0FBRyxHQUFHLE1BQU0sR0FBRyxHQUFHLEdBQUcsTUFBTSxHQUFHLEdBQUcsR0FBRyxDQUFDLE1BQU0sR0FBRyxHQUFHLEdBQUcsTUFBTSxHQUFHLEdBQUcsR0FBRyxNQUFNLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUMxRyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsTUFBTSxHQUFHLEdBQUcsR0FBRyxNQUFNLEdBQUcsR0FBRyxHQUFHLE1BQU0sR0FBRyxHQUFHLEdBQUcsQ0FBQyxNQUFNLEdBQUcsR0FBRyxHQUFHLE1BQU0sR0FBRyxHQUFHLEdBQUcsTUFBTSxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDMUcsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLE1BQU0sR0FBRyxHQUFHLEdBQUcsTUFBTSxHQUFHLEdBQUcsR0FBRyxNQUFNLEdBQUcsR0FBRyxHQUFHLENBQUMsTUFBTSxHQUFHLEdBQUcsR0FBRyxNQUFNLEdBQUcsR0FBRyxHQUFHLE1BQU0sR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQzFHLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxNQUFNLEdBQUcsR0FBRyxHQUFHLE1BQU0sR0FBRyxHQUFHLEdBQUcsTUFBTSxHQUFHLEdBQUcsR0FBRyxDQUFDLE1BQU0sR0FBRyxHQUFHLEdBQUcsTUFBTSxHQUFHLEdBQUcsR0FBRyxNQUFNLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUMxRyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsTUFBTSxHQUFHLEdBQUcsR0FBRyxNQUFNLEdBQUcsR0FBRyxHQUFHLE1BQU0sR0FBRyxHQUFHLEdBQUcsQ0FBQyxNQUFNLEdBQUcsR0FBRyxHQUFHLE1BQU0sR0FBRyxHQUFHLEdBQUcsTUFBTSxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDMUcsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLE1BQU0sR0FBRyxHQUFHLEdBQUcsTUFBTSxHQUFHLEdBQUcsR0FBRyxNQUFNLEdBQUcsR0FBRyxHQUFHLENBQUMsTUFBTSxHQUFHLEdBQUcsR0FBRyxNQUFNLEdBQUcsR0FBRyxHQUFHLE1BQU0sR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBRTFHLE9BQU8sTUFBTSxDQUFDO0lBQ2xCLENBQUM7SUFFRCxjQUFjLENBQUMsQ0FBVTtRQUNyQixJQUFJLElBQUksR0FBRyxJQUFJLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUN4QixLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxFQUFFO1lBQ3hCLElBQUksQ0FBQyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUM7WUFDZCxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxFQUFFO2dCQUN4QixJQUFJLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQzthQUN6QztTQUNKO1FBQ0QsT0FBTyxJQUFJLDRDQUFPLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUNsRCxDQUFDO0lBRUQsZUFBZSxDQUFDLEtBQW1CO1FBQy9CLFdBQVc7UUFDWCxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLEtBQUssRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFO1lBQ25DLElBQUksR0FBRyxHQUFHLEtBQUssQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDN0IsR0FBRyxHQUFHLElBQUksQ0FBQyxjQUFjLENBQUMsR0FBRyxDQUFDLENBQUM7WUFDL0IsS0FBSyxDQUFDLFNBQVMsQ0FBQyxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUM7U0FDM0I7UUFDRCxPQUFPLEtBQUssQ0FBQztRQUViLFlBQVk7UUFDWixnREFBZ0Q7UUFDaEQsbUJBQW1CO1FBQ25CLDRDQUE0QztRQUU1QywrQkFBK0I7UUFDL0Isb0NBQW9DO1FBRXBDLDBCQUEwQjtRQUMxQix3Q0FBd0M7UUFDeEMsd0RBQXdEO1FBQ3hELFlBQVk7UUFDWixrQ0FBa0M7UUFDbEMsUUFBUTtRQUNSLElBQUk7UUFFSiw0QkFBNEI7UUFDNUIsT0FBTyxLQUFLLENBQUM7SUFDakIsQ0FBQztDQWlGSiIsImZpbGUiOiIuL3NyYy9tYXRoL21hdHJpeC50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIG1hdHJpeFxuLy8gYXV0aG9yOiBKb3MgRmVlbnN0cmFcbi8vIFRPRE86IEZJWCBNQVRSSVg0ICEhIVxuLy8gTk9URTpcblxuaW1wb3J0IHsgVmVjdG9yM0FycmF5IH0gZnJvbSBcIi4uL2RhdGEvdmVjdG9yLWFycmF5XCI7XG5pbXBvcnQgeyBGbG9hdE1hdHJpeCB9IGZyb20gXCIuLi9kYXRhL2Zsb2F0LW1hdHJpeFwiO1xuaW1wb3J0IHsgUXVhdGVybmlvbiB9IGZyb20gXCIuL3F1YXRlcm5pb25cIjtcbmltcG9ydCB7IFZlY3RvcjIsIFZlY3RvcjMgfSBmcm9tIFwiLi92ZWN0b3JcIjtcblxuLy8gM3gzIG1hdHJpeCBvZiBmbG9hdHMgdXNlZCBmb3IgMmQgbWF0aFxuLy8gaW5zcGlyZWQgYnkgR3JlZ2cgVGF2YXJlcy5cbmV4cG9ydCBjbGFzcyBNYXRyaXgzIGV4dGVuZHMgRmxvYXRNYXRyaXgge1xuICAgIGNvbnN0cnVjdG9yKGRhdGE6IG51bWJlcltdID0gW10pIHtcbiAgICAgICAgc3VwZXIoMywgMywgZGF0YSk7XG4gICAgfVxuXG4gICAgc3RhdGljIG5ld0lkZW50aXR5KCk6IE1hdHJpeDMge1xuICAgICAgICByZXR1cm4gbmV3IE1hdHJpeDMoWzEsIDAsIDAsIDAsIDEsIDAsIDAsIDAsIDFdKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgbmV3UHJvamVjdGlvbih3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlcik6IE1hdHJpeDMge1xuICAgICAgICAvLyBOb3RlOiBUaGlzIG1hdHJpeCBmbGlwcyB0aGUgWSBheGlzIHNvIDAgaXMgYXQgdGhlIHRvcC5cbiAgICAgICAgcmV0dXJuIG5ldyBNYXRyaXgzKFsyIC8gd2lkdGgsIDAsIDAsIDAsIC0yIC8gaGVpZ2h0LCAwLCAtMSwgMSwgMV0pO1xuICAgIH1cblxuICAgIHN0YXRpYyBuZXdUcmFuc2xhdGlvbihkeDogbnVtYmVyLCBkeTogbnVtYmVyKTogTWF0cml4MyB7XG4gICAgICAgIHJldHVybiBuZXcgTWF0cml4MyhbMSwgMCwgMCwgMCwgMSwgMCwgZHgsIGR5LCAxXSk7XG4gICAgfVxuXG4gICAgLy8gYW5nbGUgaW4gcmFkaWFuc1xuICAgIHN0YXRpYyBuZXdSb3RhdGlvbihyOiBudW1iZXIpOiBNYXRyaXgzIHtcbiAgICAgICAgdmFyIGMgPSBNYXRoLmNvcyhyKTtcbiAgICAgICAgdmFyIHMgPSBNYXRoLnNpbihyKTtcbiAgICAgICAgcmV0dXJuIG5ldyBNYXRyaXgzKFtjLCAtcywgMCwgcywgYywgMCwgMCwgMCwgMV0pO1xuICAgIH1cblxuICAgIHN0YXRpYyBuZXdTY2FsYXIoc3g6IG51bWJlciwgc3k6IG51bWJlcikge1xuICAgICAgICByZXR1cm4gbmV3IE1hdHJpeDMoW3N4LCAwLCAwLCAwLCBzeSwgMCwgMCwgMCwgMV0pO1xuICAgIH1cblxuICAgIHRvTWF0NCgpOiBNYXRyaXg0IHtcbiAgICAgICAgbGV0IGQgPSB0aGlzLmRhdGE7XG4gICAgICAgIHJldHVybiBuZXcgTWF0cml4NChbZFswXSwgZFsxXSwgMCwgZFsyXSwgZFszXSwgZFs0XSwgMCwgZFs1XSwgMCwgMCwgMSwgMCwgZFs2XSwgZFs3XSwgMCwgZFs4XV0pO1xuICAgIH1cblxuICAgIHByb2plY3Qod2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXIpOiBNYXRyaXgzIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubXVsdGlwbHkoTWF0cml4My5uZXdQcm9qZWN0aW9uKHdpZHRoLCBoZWlnaHQpKTtcbiAgICB9XG5cbiAgICB0cmFuc2xhdGVOKGR4OiBudW1iZXIsIGR5OiBudW1iZXIpOiBNYXRyaXgzIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubXVsdGlwbHkoTWF0cml4My5uZXdUcmFuc2xhdGlvbihkeCwgZHkpKTtcbiAgICB9XG5cbiAgICB0cmFuc2xhdGUodjogVmVjdG9yMik6IE1hdHJpeDMge1xuICAgICAgICByZXR1cm4gdGhpcy5tdWx0aXBseShNYXRyaXgzLm5ld1RyYW5zbGF0aW9uKHYueCwgdi55KSk7XG4gICAgfVxuXG4gICAgcm90YXRlKHI6IG51bWJlcik6IE1hdHJpeDMge1xuICAgICAgICByZXR1cm4gdGhpcy5tdWx0aXBseShNYXRyaXgzLm5ld1JvdGF0aW9uKHIpKTtcbiAgICB9XG5cbiAgICBzY2FsZShzeDogbnVtYmVyLCBzeTogbnVtYmVyKTogTWF0cml4MyB7XG4gICAgICAgIHJldHVybiB0aGlzLm11bHRpcGx5KE1hdHJpeDMubmV3U2NhbGFyKHN4LCBzeSkpO1xuICAgIH1cblxuICAgIC8vIG11bHRpcGx5IHR3byBtMydzXG4gICAgbXVsdGlwbHkob3RoZXI6IE1hdHJpeDMpOiBNYXRyaXgzIHtcbiAgICAgICAgbGV0IGEgPSB0aGlzLmRhdGE7XG4gICAgICAgIGxldCBiID0gb3RoZXIuZGF0YTtcblxuICAgICAgICB2YXIgYTAwID0gYVswICogMyArIDBdO1xuICAgICAgICB2YXIgYTAxID0gYVswICogMyArIDFdO1xuICAgICAgICB2YXIgYTAyID0gYVswICogMyArIDJdO1xuICAgICAgICB2YXIgYTEwID0gYVsxICogMyArIDBdO1xuICAgICAgICB2YXIgYTExID0gYVsxICogMyArIDFdO1xuICAgICAgICB2YXIgYTEyID0gYVsxICogMyArIDJdO1xuICAgICAgICB2YXIgYTIwID0gYVsyICogMyArIDBdO1xuICAgICAgICB2YXIgYTIxID0gYVsyICogMyArIDFdO1xuICAgICAgICB2YXIgYTIyID0gYVsyICogMyArIDJdO1xuICAgICAgICB2YXIgYjAwID0gYlswICogMyArIDBdO1xuICAgICAgICB2YXIgYjAxID0gYlswICogMyArIDFdO1xuICAgICAgICB2YXIgYjAyID0gYlswICogMyArIDJdO1xuICAgICAgICB2YXIgYjEwID0gYlsxICogMyArIDBdO1xuICAgICAgICB2YXIgYjExID0gYlsxICogMyArIDFdO1xuICAgICAgICB2YXIgYjEyID0gYlsxICogMyArIDJdO1xuICAgICAgICB2YXIgYjIwID0gYlsyICogMyArIDBdO1xuICAgICAgICB2YXIgYjIxID0gYlsyICogMyArIDFdO1xuICAgICAgICB2YXIgYjIyID0gYlsyICogMyArIDJdO1xuXG4gICAgICAgIHJldHVybiBuZXcgTWF0cml4MyhbXG4gICAgICAgICAgICBiMDAgKiBhMDAgKyBiMDEgKiBhMTAgKyBiMDIgKiBhMjAsXG4gICAgICAgICAgICBiMDAgKiBhMDEgKyBiMDEgKiBhMTEgKyBiMDIgKiBhMjEsXG4gICAgICAgICAgICBiMDAgKiBhMDIgKyBiMDEgKiBhMTIgKyBiMDIgKiBhMjIsXG4gICAgICAgICAgICBiMTAgKiBhMDAgKyBiMTEgKiBhMTAgKyBiMTIgKiBhMjAsXG4gICAgICAgICAgICBiMTAgKiBhMDEgKyBiMTEgKiBhMTEgKyBiMTIgKiBhMjEsXG4gICAgICAgICAgICBiMTAgKiBhMDIgKyBiMTEgKiBhMTIgKyBiMTIgKiBhMjIsXG4gICAgICAgICAgICBiMjAgKiBhMDAgKyBiMjEgKiBhMTAgKyBiMjIgKiBhMjAsXG4gICAgICAgICAgICBiMjAgKiBhMDEgKyBiMjEgKiBhMTEgKyBiMjIgKiBhMjEsXG4gICAgICAgICAgICBiMjAgKiBhMDIgKyBiMjEgKiBhMTIgKyBiMjIgKiBhMjIsXG4gICAgICAgIF0pO1xuICAgIH1cblxuICAgIC8vIHRyYW5zZm9ybSBhIHZlY3Rvci4gUkVDWUNMRSBJVFxuICAgIHRyYW5zZm9ybVZlY3Rvcih2OiBWZWN0b3IyKTogVmVjdG9yMiB7XG4gICAgICAgIGxldCBtID0gdGhpcy5kYXRhO1xuICAgICAgICBsZXQgdjAgPSB2Lng7XG4gICAgICAgIGxldCB2MSA9IHYueTtcbiAgICAgICAgbGV0IGQgPSB2MCAqIG1bMCAqIDMgKyAyXSArIHYxICogbVsxICogMyArIDJdICsgbVsyICogMyArIDJdO1xuICAgICAgICB2LnggPSAodjAgKiBtWzAgKiAzICsgMF0gKyB2MSAqIG1bMSAqIDMgKyAwXSArIG1bMiAqIDMgKyAwXSkgLyBkO1xuICAgICAgICB2LnkgPSAodjAgKiBtWzAgKiAzICsgMV0gKyB2MSAqIG1bMSAqIDMgKyAxXSArIG1bMiAqIDMgKyAxXSkgLyBkO1xuICAgICAgICByZXR1cm4gdjtcbiAgICB9XG5cbiAgICAvLyByZXR1cm4gdGhlIGludmVyc2Ugb2YgdGhpcyBtYXRyaXhcbiAgICBpbnZlcnNlKCk6IE1hdHJpeDMge1xuICAgICAgICAvLyBpdmUgZ290IG5vIGlkZWEgd2hhdCBpcyBoYXBwZW5pbmcgaGVyZSxcbiAgICAgICAgLy8gYnV0IGFwcGFyYW50bHksIHRoaXMgaXMgaG93IHlvdSBpbnZlcnNlIGEgM3gzIG1hdHJpeC5cbiAgICAgICAgbGV0IG0gPSB0aGlzLmRhdGE7XG4gICAgICAgIHZhciB0MDAgPSBtWzEgKiAzICsgMV0gKiBtWzIgKiAzICsgMl0gLSBtWzEgKiAzICsgMl0gKiBtWzIgKiAzICsgMV07XG4gICAgICAgIHZhciB0MTAgPSBtWzAgKiAzICsgMV0gKiBtWzIgKiAzICsgMl0gLSBtWzAgKiAzICsgMl0gKiBtWzIgKiAzICsgMV07XG4gICAgICAgIHZhciB0MjAgPSBtWzAgKiAzICsgMV0gKiBtWzEgKiAzICsgMl0gLSBtWzAgKiAzICsgMl0gKiBtWzEgKiAzICsgMV07XG5cbiAgICAgICAgLy8gZGlzY3JpbWluYW50XG4gICAgICAgIHZhciBkID0gMS4wIC8gKG1bMCAqIDMgKyAwXSAqIHQwMCAtIG1bMSAqIDMgKyAwXSAqIHQxMCArIG1bMiAqIDMgKyAwXSAqIHQyMCk7XG4gICAgICAgIHRoaXMuc2V0RGF0YShbXG4gICAgICAgICAgICBkICogdDAwLFxuICAgICAgICAgICAgLWQgKiB0MTAsXG4gICAgICAgICAgICBkICogdDIwLFxuICAgICAgICAgICAgLWQgKiAobVsxICogMyArIDBdICogbVsyICogMyArIDJdIC0gbVsxICogMyArIDJdICogbVsyICogMyArIDBdKSxcbiAgICAgICAgICAgIGQgKiAobVswICogMyArIDBdICogbVsyICogMyArIDJdIC0gbVswICogMyArIDJdICogbVsyICogMyArIDBdKSxcbiAgICAgICAgICAgIC1kICogKG1bMCAqIDMgKyAwXSAqIG1bMSAqIDMgKyAyXSAtIG1bMCAqIDMgKyAyXSAqIG1bMSAqIDMgKyAwXSksXG4gICAgICAgICAgICBkICogKG1bMSAqIDMgKyAwXSAqIG1bMiAqIDMgKyAxXSAtIG1bMSAqIDMgKyAxXSAqIG1bMiAqIDMgKyAwXSksXG4gICAgICAgICAgICAtZCAqIChtWzAgKiAzICsgMF0gKiBtWzIgKiAzICsgMV0gLSBtWzAgKiAzICsgMV0gKiBtWzIgKiAzICsgMF0pLFxuICAgICAgICAgICAgZCAqIChtWzAgKiAzICsgMF0gKiBtWzEgKiAzICsgMV0gLSBtWzAgKiAzICsgMV0gKiBtWzEgKiAzICsgMF0pLFxuICAgICAgICBdKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxufVxuXG4vLyA0eDQgbWF0cml4IG9mIGZsb2F0cyB1c2VkIGZvciAzZCBtYXRoXG4vLyBpbnNwaXJlZCBieSBHcmVnZyBUYXZhcmVzLlxuZXhwb3J0IGNsYXNzIE1hdHJpeDQgZXh0ZW5kcyBGbG9hdE1hdHJpeCB7XG4gICAgY29uc3RydWN0b3IoZGF0YTogbnVtYmVyW10gPSBbXSkge1xuICAgICAgICBzdXBlcig0LCA0LCBkYXRhKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgbmV3SWRlbnRpdHkoKSB7XG4gICAgICAgIHJldHVybiBuZXcgTWF0cml4NChbMSwgMCwgMCwgMCwgMCwgMSwgMCwgMCwgMCwgMCwgMSwgMCwgMCwgMCwgMCwgMV0pO1xuICAgIH1cblxuICAgIHN0YXRpYyBuZXdDb3B5KG90aGVyOiBNYXRyaXg0KTogTWF0cml4NCB7XG4gICAgICAgIGxldCByZXN1bHQgPSBuZXcgTWF0cml4NCgpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDE2OyBpKyspIHtcbiAgICAgICAgICAgIHJlc3VsdC5kYXRhW2ldID0gb3RoZXIuZGF0YVtpXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIGNsb25lKCk6IE1hdHJpeDQge1xuICAgICAgICByZXR1cm4gTWF0cml4NC5uZXdDb3B5KHRoaXMpO1xuICAgIH1cblxuICAgIG11bHRpcGxpZWQob3RoZXI6IE1hdHJpeDQpIHtcbiAgICAgICAgLy8gTk9URTogaSBzd2FwcGVkIGEgYW5kIGIsIHRoaXMgbWFrZXMgbW9yZSBzZW5zZSB0byBtZSwgYnV0IGkgY291bGQgYmUgd3JvbmcgYWJvdXQgaXQuLi5cbiAgICAgICAgY29uc3QgYSA9IG90aGVyLmRhdGE7XG4gICAgICAgIGNvbnN0IGIgPSB0aGlzLmRhdGE7XG5cbiAgICAgICAgdmFyIGIwMCA9IGJbMCAqIDQgKyAwXTtcbiAgICAgICAgdmFyIGIwMSA9IGJbMCAqIDQgKyAxXTtcbiAgICAgICAgdmFyIGIwMiA9IGJbMCAqIDQgKyAyXTtcbiAgICAgICAgdmFyIGIwMyA9IGJbMCAqIDQgKyAzXTtcbiAgICAgICAgdmFyIGIxMCA9IGJbMSAqIDQgKyAwXTtcbiAgICAgICAgdmFyIGIxMSA9IGJbMSAqIDQgKyAxXTtcbiAgICAgICAgdmFyIGIxMiA9IGJbMSAqIDQgKyAyXTtcbiAgICAgICAgdmFyIGIxMyA9IGJbMSAqIDQgKyAzXTtcbiAgICAgICAgdmFyIGIyMCA9IGJbMiAqIDQgKyAwXTtcbiAgICAgICAgdmFyIGIyMSA9IGJbMiAqIDQgKyAxXTtcbiAgICAgICAgdmFyIGIyMiA9IGJbMiAqIDQgKyAyXTtcbiAgICAgICAgdmFyIGIyMyA9IGJbMiAqIDQgKyAzXTtcbiAgICAgICAgdmFyIGIzMCA9IGJbMyAqIDQgKyAwXTtcbiAgICAgICAgdmFyIGIzMSA9IGJbMyAqIDQgKyAxXTtcbiAgICAgICAgdmFyIGIzMiA9IGJbMyAqIDQgKyAyXTtcbiAgICAgICAgdmFyIGIzMyA9IGJbMyAqIDQgKyAzXTtcbiAgICAgICAgdmFyIGEwMCA9IGFbMCAqIDQgKyAwXTtcbiAgICAgICAgdmFyIGEwMSA9IGFbMCAqIDQgKyAxXTtcbiAgICAgICAgdmFyIGEwMiA9IGFbMCAqIDQgKyAyXTtcbiAgICAgICAgdmFyIGEwMyA9IGFbMCAqIDQgKyAzXTtcbiAgICAgICAgdmFyIGExMCA9IGFbMSAqIDQgKyAwXTtcbiAgICAgICAgdmFyIGExMSA9IGFbMSAqIDQgKyAxXTtcbiAgICAgICAgdmFyIGExMiA9IGFbMSAqIDQgKyAyXTtcbiAgICAgICAgdmFyIGExMyA9IGFbMSAqIDQgKyAzXTtcbiAgICAgICAgdmFyIGEyMCA9IGFbMiAqIDQgKyAwXTtcbiAgICAgICAgdmFyIGEyMSA9IGFbMiAqIDQgKyAxXTtcbiAgICAgICAgdmFyIGEyMiA9IGFbMiAqIDQgKyAyXTtcbiAgICAgICAgdmFyIGEyMyA9IGFbMiAqIDQgKyAzXTtcbiAgICAgICAgdmFyIGEzMCA9IGFbMyAqIDQgKyAwXTtcbiAgICAgICAgdmFyIGEzMSA9IGFbMyAqIDQgKyAxXTtcbiAgICAgICAgdmFyIGEzMiA9IGFbMyAqIDQgKyAyXTtcbiAgICAgICAgdmFyIGEzMyA9IGFbMyAqIDQgKyAzXTtcblxuICAgICAgICByZXR1cm4gbmV3IE1hdHJpeDQoW1xuICAgICAgICAgICAgYjAwICogYTAwICsgYjAxICogYTEwICsgYjAyICogYTIwICsgYjAzICogYTMwLFxuICAgICAgICAgICAgYjAwICogYTAxICsgYjAxICogYTExICsgYjAyICogYTIxICsgYjAzICogYTMxLFxuICAgICAgICAgICAgYjAwICogYTAyICsgYjAxICogYTEyICsgYjAyICogYTIyICsgYjAzICogYTMyLFxuICAgICAgICAgICAgYjAwICogYTAzICsgYjAxICogYTEzICsgYjAyICogYTIzICsgYjAzICogYTMzLFxuICAgICAgICAgICAgYjEwICogYTAwICsgYjExICogYTEwICsgYjEyICogYTIwICsgYjEzICogYTMwLFxuICAgICAgICAgICAgYjEwICogYTAxICsgYjExICogYTExICsgYjEyICogYTIxICsgYjEzICogYTMxLFxuICAgICAgICAgICAgYjEwICogYTAyICsgYjExICogYTEyICsgYjEyICogYTIyICsgYjEzICogYTMyLFxuICAgICAgICAgICAgYjEwICogYTAzICsgYjExICogYTEzICsgYjEyICogYTIzICsgYjEzICogYTMzLFxuICAgICAgICAgICAgYjIwICogYTAwICsgYjIxICogYTEwICsgYjIyICogYTIwICsgYjIzICogYTMwLFxuICAgICAgICAgICAgYjIwICogYTAxICsgYjIxICogYTExICsgYjIyICogYTIxICsgYjIzICogYTMxLFxuICAgICAgICAgICAgYjIwICogYTAyICsgYjIxICogYTEyICsgYjIyICogYTIyICsgYjIzICogYTMyLFxuICAgICAgICAgICAgYjIwICogYTAzICsgYjIxICogYTEzICsgYjIyICogYTIzICsgYjIzICogYTMzLFxuICAgICAgICAgICAgYjMwICogYTAwICsgYjMxICogYTEwICsgYjMyICogYTIwICsgYjMzICogYTMwLFxuICAgICAgICAgICAgYjMwICogYTAxICsgYjMxICogYTExICsgYjMyICogYTIxICsgYjMzICogYTMxLFxuICAgICAgICAgICAgYjMwICogYTAyICsgYjMxICogYTEyICsgYjMyICogYTIyICsgYjMzICogYTMyLFxuICAgICAgICAgICAgYjMwICogYTAzICsgYjMxICogYTEzICsgYjMyICogYTIzICsgYjMzICogYTMzLFxuICAgICAgICBdKTtcbiAgICB9XG5cbiAgICBtdWx0aXBseShvdGhlcjogTWF0cml4NCkge1xuICAgICAgICB0aGlzLmRhdGEgPSB0aGlzLm11bHRpcGxpZWQob3RoZXIpLmRhdGE7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIHRyYW5zcG9zZSgpOiBNYXRyaXg0IHtcbiAgICAgICAgbGV0IG1hdHJpeCA9IG5ldyBNYXRyaXg0KCk7XG5cbiAgICAgICAgbGV0IHJlcyA9IG1hdHJpeC5kYXRhO1xuICAgICAgICBsZXQgb2xkID0gdGhpcy5kYXRhO1xuXG4gICAgICAgIHJlc1swXSA9IG9sZFswXTtcbiAgICAgICAgcmVzWzFdID0gb2xkWzRdO1xuICAgICAgICByZXNbMl0gPSBvbGRbOF07XG4gICAgICAgIHJlc1szXSA9IG9sZFsxMl07XG4gICAgICAgIHJlc1s0XSA9IG9sZFsxXTtcbiAgICAgICAgcmVzWzVdID0gb2xkWzVdO1xuICAgICAgICByZXNbNl0gPSBvbGRbOV07XG4gICAgICAgIHJlc1s3XSA9IG9sZFsxM107XG4gICAgICAgIHJlc1s4XSA9IG9sZFsyXTtcbiAgICAgICAgcmVzWzldID0gb2xkWzZdO1xuICAgICAgICByZXNbMTBdID0gb2xkWzEwXTtcbiAgICAgICAgcmVzWzExXSA9IG9sZFsxNF07XG4gICAgICAgIHJlc1sxMl0gPSBvbGRbM107XG4gICAgICAgIHJlc1sxM10gPSBvbGRbN107XG4gICAgICAgIHJlc1sxNF0gPSBvbGRbMTFdO1xuICAgICAgICByZXNbMTVdID0gb2xkWzE1XTtcblxuICAgICAgICByZXR1cm4gbWF0cml4O1xuICAgIH1cblxuICAgIHN0YXRpYyBuZXdMb29rQXQoY2FtZXJhUG9zaXRpb246IFZlY3RvcjMsIHRhcmdldDogVmVjdG9yMywgdXA6IFZlY3RvcjMpOiBNYXRyaXg0IHtcbiAgICAgICAgbGV0IG1hdHJpeCA9IG5ldyBNYXRyaXg0KCk7XG4gICAgICAgIGxldCBkYXRhID0gbWF0cml4LmRhdGE7XG4gICAgICAgIGxldCB6QXhpcyA9IGNhbWVyYVBvc2l0aW9uLmNsb25lKCkuc3ViKHRhcmdldCkubm9ybWFsaXplKCk7XG4gICAgICAgIGxldCB4QXhpcyA9IHVwLmNsb25lKCkuY3Jvc3ModXApLm5vcm1hbGl6ZSgpO1xuICAgICAgICBsZXQgeUF4aXMgPSB6QXhpcy5jbG9uZSgpLmNyb3NzKHhBeGlzKS5ub3JtYWxpemUoKTtcblxuICAgICAgICBkYXRhWzBdID0geEF4aXMueDtcbiAgICAgICAgZGF0YVsxXSA9IHhBeGlzLnk7XG4gICAgICAgIGRhdGFbMl0gPSB4QXhpcy56O1xuICAgICAgICBkYXRhWzNdID0gMDtcbiAgICAgICAgZGF0YVs0XSA9IHlBeGlzLng7XG4gICAgICAgIGRhdGFbNV0gPSB5QXhpcy55O1xuICAgICAgICBkYXRhWzZdID0geUF4aXMuejtcbiAgICAgICAgZGF0YVs3XSA9IDA7XG4gICAgICAgIGRhdGFbOF0gPSB6QXhpcy54O1xuICAgICAgICBkYXRhWzldID0gekF4aXMueTtcbiAgICAgICAgZGF0YVsxMF0gPSB6QXhpcy56O1xuICAgICAgICBkYXRhWzExXSA9IDA7XG4gICAgICAgIGRhdGFbMTJdID0gY2FtZXJhUG9zaXRpb24ueDtcbiAgICAgICAgZGF0YVsxM10gPSBjYW1lcmFQb3NpdGlvbi55O1xuICAgICAgICBkYXRhWzE0XSA9IGNhbWVyYVBvc2l0aW9uLno7XG4gICAgICAgIGRhdGFbMTVdID0gMTtcblxuICAgICAgICByZXR1cm4gbWF0cml4O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbXB1dGVzIGEgNC1ieS00IHBlcnNwZWN0aXZlIHRyYW5zZm9ybWF0aW9uIG1hdHJpeCBnaXZlbiB0aGUgYW5ndWxhciBoZWlnaHRcbiAgICAgKiBvZiB0aGUgZnJ1c3R1bSwgdGhlIGFzcGVjdCByYXRpbywgYW5kIHRoZSBuZWFyIGFuZCBmYXIgY2xpcHBpbmcgcGxhbmVzLiAgVGhlXG4gICAgICogYXJndW1lbnRzIGRlZmluZSBhIGZydXN0dW0gZXh0ZW5kaW5nIGluIHRoZSBuZWdhdGl2ZSB6IGRpcmVjdGlvbi4gIFRoZSBnaXZlblxuICAgICAqIGFuZ2xlIGlzIHRoZSB2ZXJ0aWNhbCBhbmdsZSBvZiB0aGUgZnJ1c3R1bSwgYW5kIHRoZSBob3Jpem9udGFsIGFuZ2xlIGlzXG4gICAgICogZGV0ZXJtaW5lZCB0byBwcm9kdWNlIHRoZSBnaXZlbiBhc3BlY3QgcmF0aW8uICBUaGUgYXJndW1lbnRzIG5lYXIgYW5kIGZhciBhcmVcbiAgICAgKiB0aGUgZGlzdGFuY2VzIHRvIHRoZSBuZWFyIGFuZCBmYXIgY2xpcHBpbmcgcGxhbmVzLiAgTm90ZSB0aGF0IG5lYXIgYW5kIGZhclxuICAgICAqIGFyZSBub3QgeiBjb29yZGluYXRlcywgYnV0IHJhdGhlciB0aGV5IGFyZSBkaXN0YW5jZXMgYWxvbmcgdGhlIG5lZ2F0aXZlXG4gICAgICogei1heGlzLiAgVGhlIG1hdHJpeCBnZW5lcmF0ZWQgc2VuZHMgdGhlIHZpZXdpbmcgZnJ1c3R1bSB0byB0aGUgdW5pdCBib3guXG4gICAgICogV2UgYXNzdW1lIGEgdW5pdCBib3ggZXh0ZW5kaW5nIGZyb20gLTEgdG8gMSBpbiB0aGUgeCBhbmQgeSBkaW1lbnNpb25zIGFuZFxuICAgICAqIGZyb20gLTEgdG8gMSBpbiB0aGUgeiBkaW1lbnNpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGZpZWxkT2ZWaWV3SW5SYWRpYW5zIGZpZWxkIG9mIHZpZXcgaW4geSBheGlzLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBhc3BlY3QgYXNwZWN0IG9mIHZpZXdwb3J0ICh3aWR0aCAvIGhlaWdodClcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbmVhciBuZWFyIFogY2xpcHBpbmcgcGxhbmVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZmFyIGZhciBaIGNsaXBwaW5nIHBsYW5lXG4gICAgICogQHBhcmFtIHtNYXRyaXg0fSBbZHN0XSBvcHRpb25hbCBtYXRyaXggdG8gc3RvcmUgcmVzdWx0XG4gICAgICogQHJldHVybiB7TWF0cml4NH0gZHN0IG9yIGEgbmV3IG1hdHJpeCBpZiBub25lIHByb3ZpZGVkXG4gICAgICovXG4gICAgc3RhdGljIG5ld1BlcnNwZWN0aXZlKGZvdjogbnVtYmVyLCBhc3BlY3Q6IG51bWJlciwgbmVhcjogbnVtYmVyLCBmYXI6IG51bWJlcik6IE1hdHJpeDQge1xuICAgICAgICBsZXQgbWF0cml4ID0gbmV3IE1hdHJpeDQoKTtcbiAgICAgICAgbGV0IGRhdGEgPSBtYXRyaXguZGF0YTtcblxuICAgICAgICB2YXIgZiA9IE1hdGgudGFuKE1hdGguUEkgKiAwLjUgLSAwLjUgKiBmb3YpO1xuICAgICAgICB2YXIgcmFuZ2VJbnYgPSAxLjAgLyAobmVhciAtIGZhcik7XG5cbiAgICAgICAgZGF0YVswXSA9IGYgLyBhc3BlY3Q7XG4gICAgICAgIGRhdGFbMV0gPSAwO1xuICAgICAgICBkYXRhWzJdID0gMDtcbiAgICAgICAgZGF0YVszXSA9IDA7XG4gICAgICAgIGRhdGFbNF0gPSAwO1xuICAgICAgICBkYXRhWzVdID0gZjtcbiAgICAgICAgZGF0YVs2XSA9IDA7XG4gICAgICAgIGRhdGFbN10gPSAwO1xuICAgICAgICBkYXRhWzhdID0gMDtcbiAgICAgICAgZGF0YVs5XSA9IDA7XG4gICAgICAgIGRhdGFbMTBdID0gKG5lYXIgKyBmYXIpICogcmFuZ2VJbnY7XG4gICAgICAgIGRhdGFbMTFdID0gLTE7XG4gICAgICAgIGRhdGFbMTJdID0gMDtcbiAgICAgICAgZGF0YVsxM10gPSAwO1xuICAgICAgICBkYXRhWzE0XSA9IG5lYXIgKiBmYXIgKiByYW5nZUludiAqIDI7XG4gICAgICAgIGRhdGFbMTVdID0gMDtcblxuICAgICAgICByZXR1cm4gbWF0cml4O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbXB1dGVzIGEgNC1ieS00IG9ydGhvZ3JhcGhpYyBwcm9qZWN0aW9uIG1hdHJpeCBnaXZlbiB0aGUgY29vcmRpbmF0ZXMgb2YgdGhlXG4gICAgICogcGxhbmVzIGRlZmluaW5nIHRoZSBheGlzLWFsaWduZWQsIGJveC1zaGFwZWQgdmlld2luZyB2b2x1bWUuICBUaGUgbWF0cml4XG4gICAgICogZ2VuZXJhdGVkIHNlbmRzIHRoYXQgYm94IHRvIHRoZSB1bml0IGJveC4gIE5vdGUgdGhhdCBhbHRob3VnaCBsZWZ0IGFuZCByaWdodFxuICAgICAqIGFyZSB4IGNvb3JkaW5hdGVzIGFuZCBib3R0b20gYW5kIHRvcCBhcmUgeSBjb29yZGluYXRlcywgbmVhciBhbmQgZmFyXG4gICAgICogYXJlIG5vdCB6IGNvb3JkaW5hdGVzLCBidXQgcmF0aGVyIHRoZXkgYXJlIGRpc3RhbmNlcyBhbG9uZyB0aGUgbmVnYXRpdmVcbiAgICAgKiB6LWF4aXMuICBXZSBhc3N1bWUgYSB1bml0IGJveCBleHRlbmRpbmcgZnJvbSAtMSB0byAxIGluIHRoZSB4IGFuZCB5XG4gICAgICogZGltZW5zaW9ucyBhbmQgZnJvbSAtMSB0byAxIGluIHRoZSB6IGRpbWVuc2lvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbGVmdCBUaGUgeCBjb29yZGluYXRlIG9mIHRoZSBsZWZ0IHBsYW5lIG9mIHRoZSBib3guXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJpZ2h0IFRoZSB4IGNvb3JkaW5hdGUgb2YgdGhlIHJpZ2h0IHBsYW5lIG9mIHRoZSBib3guXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGJvdHRvbSBUaGUgeSBjb29yZGluYXRlIG9mIHRoZSBib3R0b20gcGxhbmUgb2YgdGhlIGJveC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdG9wIFRoZSB5IGNvb3JkaW5hdGUgb2YgdGhlIHJpZ2h0IHBsYW5lIG9mIHRoZSBib3guXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG5lYXIgVGhlIG5lZ2F0aXZlIHogY29vcmRpbmF0ZSBvZiB0aGUgbmVhciBwbGFuZSBvZiB0aGUgYm94LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBmYXIgVGhlIG5lZ2F0aXZlIHogY29vcmRpbmF0ZSBvZiB0aGUgZmFyIHBsYW5lIG9mIHRoZSBib3guXG4gICAgICogQHBhcmFtIHtNYXRyaXg0fSBbZHN0XSBvcHRpb25hbCBtYXRyaXggdG8gc3RvcmUgcmVzdWx0XG4gICAgICogQHJldHVybiB7TWF0cml4NH0gZHN0IG9yIGEgbmV3IG1hdHJpeCBpZiBub25lIHByb3ZpZGVkXG4gICAgICovXG4gICAgc3RhdGljIG5ld09ydGhvZ3JhcGhpYyhcbiAgICAgICAgbGVmdDogbnVtYmVyLFxuICAgICAgICByaWdodDogbnVtYmVyLFxuICAgICAgICBib3R0b206IG51bWJlcixcbiAgICAgICAgdG9wOiBudW1iZXIsXG4gICAgICAgIG5lYXI6IG51bWJlcixcbiAgICAgICAgZmFyOiBudW1iZXIsXG4gICAgKTogTWF0cml4NCB7XG4gICAgICAgIGxldCBtYXRyaXggPSBuZXcgTWF0cml4NCgpO1xuICAgICAgICBsZXQgZHN0ID0gbWF0cml4LmRhdGE7XG5cbiAgICAgICAgZHN0WzBdID0gMiAvIChyaWdodCAtIGxlZnQpO1xuICAgICAgICBkc3RbMV0gPSAwO1xuICAgICAgICBkc3RbMl0gPSAwO1xuICAgICAgICBkc3RbM10gPSAwO1xuICAgICAgICBkc3RbNF0gPSAwO1xuICAgICAgICBkc3RbNV0gPSAyIC8gKHRvcCAtIGJvdHRvbSk7XG4gICAgICAgIGRzdFs2XSA9IDA7XG4gICAgICAgIGRzdFs3XSA9IDA7XG4gICAgICAgIGRzdFs4XSA9IDA7XG4gICAgICAgIGRzdFs5XSA9IDA7XG4gICAgICAgIGRzdFsxMF0gPSAyIC8gKG5lYXIgLSBmYXIpO1xuICAgICAgICBkc3RbMTFdID0gMDtcbiAgICAgICAgZHN0WzEyXSA9IChsZWZ0ICsgcmlnaHQpIC8gKGxlZnQgLSByaWdodCk7XG4gICAgICAgIGRzdFsxM10gPSAoYm90dG9tICsgdG9wKSAvIChib3R0b20gLSB0b3ApO1xuICAgICAgICBkc3RbMTRdID0gKG5lYXIgKyBmYXIpIC8gKG5lYXIgLSBmYXIpO1xuICAgICAgICBkc3RbMTVdID0gMTtcblxuICAgICAgICByZXR1cm4gbWF0cml4O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbXB1dGVzIGEgNC1ieS00IHBlcnNwZWN0aXZlIHRyYW5zZm9ybWF0aW9uIG1hdHJpeCBnaXZlbiB0aGUgbGVmdCwgcmlnaHQsXG4gICAgICogdG9wLCBib3R0b20sIG5lYXIgYW5kIGZhciBjbGlwcGluZyBwbGFuZXMuIFRoZSBhcmd1bWVudHMgZGVmaW5lIGEgZnJ1c3R1bVxuICAgICAqIGV4dGVuZGluZyBpbiB0aGUgbmVnYXRpdmUgeiBkaXJlY3Rpb24uIFRoZSBhcmd1bWVudHMgbmVhciBhbmQgZmFyIGFyZSB0aGVcbiAgICAgKiBkaXN0YW5jZXMgdG8gdGhlIG5lYXIgYW5kIGZhciBjbGlwcGluZyBwbGFuZXMuIE5vdGUgdGhhdCBuZWFyIGFuZCBmYXIgYXJlIG5vdFxuICAgICAqIHogY29vcmRpbmF0ZXMsIGJ1dCByYXRoZXIgdGhleSBhcmUgZGlzdGFuY2VzIGFsb25nIHRoZSBuZWdhdGl2ZSB6LWF4aXMuIFRoZVxuICAgICAqIG1hdHJpeCBnZW5lcmF0ZWQgc2VuZHMgdGhlIHZpZXdpbmcgZnJ1c3R1bSB0byB0aGUgdW5pdCBib3guIFdlIGFzc3VtZSBhIHVuaXRcbiAgICAgKiBib3ggZXh0ZW5kaW5nIGZyb20gLTEgdG8gMSBpbiB0aGUgeCBhbmQgeSBkaW1lbnNpb25zIGFuZCBmcm9tIC0xIHRvIDEgaW4gdGhlIHpcbiAgICAgKiBkaW1lbnNpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGxlZnQgVGhlIHggY29vcmRpbmF0ZSBvZiB0aGUgbGVmdCBwbGFuZSBvZiB0aGUgYm94LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByaWdodCBUaGUgeCBjb29yZGluYXRlIG9mIHRoZSByaWdodCBwbGFuZSBvZiB0aGUgYm94LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBib3R0b20gVGhlIHkgY29vcmRpbmF0ZSBvZiB0aGUgYm90dG9tIHBsYW5lIG9mIHRoZSBib3guXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHRvcCBUaGUgeSBjb29yZGluYXRlIG9mIHRoZSByaWdodCBwbGFuZSBvZiB0aGUgYm94LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBuZWFyIFRoZSBuZWdhdGl2ZSB6IGNvb3JkaW5hdGUgb2YgdGhlIG5lYXIgcGxhbmUgb2YgdGhlIGJveC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZmFyIFRoZSBuZWdhdGl2ZSB6IGNvb3JkaW5hdGUgb2YgdGhlIGZhciBwbGFuZSBvZiB0aGUgYm94LlxuICAgICAqIEBwYXJhbSB7TWF0cml4NH0gW2RzdF0gb3B0aW9uYWwgbWF0cml4IHRvIHN0b3JlIHJlc3VsdFxuICAgICAqIEByZXR1cm4ge01hdHJpeDR9IGRzdCBvciBhIG5ldyBtYXRyaXggaWYgbm9uZSBwcm92aWRlZFxuICAgICAqL1xuICAgIHN0YXRpYyBuZXdGcnVzdHVtKGxlZnQ6IG51bWJlciwgcmlnaHQ6IG51bWJlciwgYm90dG9tOiBudW1iZXIsIHRvcDogbnVtYmVyLCBuZWFyOiBudW1iZXIsIGZhcjogbnVtYmVyKTogTWF0cml4NCB7XG4gICAgICAgIGxldCBtYXRyaXggPSBuZXcgTWF0cml4NCgpO1xuICAgICAgICBsZXQgZHN0ID0gbWF0cml4LmRhdGE7XG5cbiAgICAgICAgdmFyIGR4ID0gcmlnaHQgLSBsZWZ0O1xuICAgICAgICB2YXIgZHkgPSB0b3AgLSBib3R0b207XG4gICAgICAgIHZhciBkeiA9IGZhciAtIG5lYXI7XG5cbiAgICAgICAgZHN0WzBdID0gKDIgKiBuZWFyKSAvIGR4O1xuICAgICAgICBkc3RbMV0gPSAwO1xuICAgICAgICBkc3RbMl0gPSAwO1xuICAgICAgICBkc3RbM10gPSAwO1xuICAgICAgICBkc3RbNF0gPSAwO1xuICAgICAgICBkc3RbNV0gPSAoMiAqIG5lYXIpIC8gZHk7XG4gICAgICAgIGRzdFs2XSA9IDA7XG4gICAgICAgIGRzdFs3XSA9IDA7XG4gICAgICAgIGRzdFs4XSA9IChsZWZ0ICsgcmlnaHQpIC8gZHg7XG4gICAgICAgIGRzdFs5XSA9ICh0b3AgKyBib3R0b20pIC8gZHk7XG4gICAgICAgIGRzdFsxMF0gPSAtKGZhciArIG5lYXIpIC8gZHo7XG4gICAgICAgIGRzdFsxMV0gPSAtMTtcbiAgICAgICAgZHN0WzEyXSA9IDA7XG4gICAgICAgIGRzdFsxM10gPSAwO1xuICAgICAgICBkc3RbMTRdID0gKC0yICogbmVhciAqIGZhcikgLyBkejtcbiAgICAgICAgZHN0WzE1XSA9IDA7XG5cbiAgICAgICAgcmV0dXJuIG1hdHJpeDtcbiAgICB9XG5cbiAgICBzdGF0aWMgbmV3VHJhbnNsYXRpb24odHg6IG51bWJlciwgdHk6IG51bWJlciwgdHo6IG51bWJlcik6IE1hdHJpeDQge1xuICAgICAgICByZXR1cm4gbmV3IE1hdHJpeDQoWzEsIDAsIDAsIDAsIDAsIDEsIDAsIDAsIDAsIDAsIDEsIDAsIHR4LCB0eSwgdHosIDFdKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgbmV3WFJvdGF0aW9uKGFuZ2xlSW5SYWRpYW5zOiBudW1iZXIpOiBNYXRyaXg0IHtcbiAgICAgICAgdmFyIGMgPSBNYXRoLmNvcyhhbmdsZUluUmFkaWFucyk7XG4gICAgICAgIHZhciBzID0gTWF0aC5zaW4oYW5nbGVJblJhZGlhbnMpO1xuXG4gICAgICAgIHJldHVybiBuZXcgTWF0cml4NChbMSwgMCwgMCwgMCwgMCwgYywgLXMsIDAsIDAsIHMsIGMsIDAsIDAsIDAsIDAsIDFdKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgbmV3WVJvdGF0aW9uKGFuZ2xlSW5SYWRpYW5zOiBudW1iZXIpOiBNYXRyaXg0IHtcbiAgICAgICAgdmFyIGMgPSBNYXRoLmNvcyhhbmdsZUluUmFkaWFucyk7XG4gICAgICAgIHZhciBzID0gTWF0aC5zaW4oYW5nbGVJblJhZGlhbnMpO1xuXG4gICAgICAgIHJldHVybiBuZXcgTWF0cml4NChbYywgMCwgcywgMCwgMCwgMSwgMCwgMCwgLXMsIDAsIGMsIDAsIDAsIDAsIDAsIDFdKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgbmV3WlJvdGF0aW9uKGFuZ2xlSW5SYWRpYW5zOiBudW1iZXIpIHtcbiAgICAgICAgbGV0IG1hdHJpeCA9IG5ldyBNYXRyaXg0KCk7XG4gICAgICAgIGxldCBkc3QgPSBtYXRyaXguZGF0YTtcblxuICAgICAgICB2YXIgYyA9IE1hdGguY29zKGFuZ2xlSW5SYWRpYW5zKTtcbiAgICAgICAgdmFyIHMgPSBNYXRoLnNpbihhbmdsZUluUmFkaWFucyk7XG5cbiAgICAgICAgZHN0WzBdID0gYztcbiAgICAgICAgZHN0WzFdID0gcztcbiAgICAgICAgZHN0WzJdID0gMDtcbiAgICAgICAgZHN0WzNdID0gMDtcbiAgICAgICAgZHN0WzRdID0gLXM7XG4gICAgICAgIGRzdFs1XSA9IGM7XG4gICAgICAgIGRzdFs2XSA9IDA7XG4gICAgICAgIGRzdFs3XSA9IDA7XG4gICAgICAgIGRzdFs4XSA9IDA7XG4gICAgICAgIGRzdFs5XSA9IDA7XG4gICAgICAgIGRzdFsxMF0gPSAxO1xuICAgICAgICBkc3RbMTFdID0gMDtcbiAgICAgICAgZHN0WzEyXSA9IDA7XG4gICAgICAgIGRzdFsxM10gPSAwO1xuICAgICAgICBkc3RbMTRdID0gMDtcbiAgICAgICAgZHN0WzE1XSA9IDE7XG5cbiAgICAgICAgcmV0dXJuIG1hdHJpeDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBNYWtlcyBhbiByb3RhdGlvbiBtYXRyaXggYXJvdW5kIGFuIGFyYml0cmFyeSBheGlzXG4gICAgICogQHBhcmFtIHtWZWN0b3IzfSBheGlzIGF4aXMgdG8gcm90YXRlIGFyb3VuZFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBhbmdsZUluUmFkaWFucyBhbW91bnQgdG8gcm90YXRlXG4gICAgICogQHJldHVybiB7TWF0cml4NH0gZHN0IG9yIGEgbmV3IG1hdHJpeCBpZiBub25lIHByb3ZpZGVkXG4gICAgICovXG4gICAgc3RhdGljIG5ld0F4aXNSb3RhdGlvbihheGlzOiBWZWN0b3IzLCBhbmdsZUluUmFkaWFuczogbnVtYmVyKSB7XG4gICAgICAgIGxldCBtYXRyaXggPSBuZXcgTWF0cml4NCgpO1xuICAgICAgICBsZXQgZHN0ID0gbWF0cml4LmRhdGE7XG5cbiAgICAgICAgbGV0IHggPSBheGlzLng7XG4gICAgICAgIGxldCB5ID0gYXhpcy55O1xuICAgICAgICBsZXQgeiA9IGF4aXMuejtcbiAgICAgICAgbGV0IG4gPSBNYXRoLnNxcnQoeCAqIHggKyB5ICogeSArIHogKiB6KTtcbiAgICAgICAgeCAvPSBuO1xuICAgICAgICB5IC89IG47XG4gICAgICAgIHogLz0gbjtcbiAgICAgICAgbGV0IHh4ID0geCAqIHg7XG4gICAgICAgIGxldCB5eSA9IHkgKiB5O1xuICAgICAgICBsZXQgenogPSB6ICogejtcbiAgICAgICAgbGV0IGMgPSBNYXRoLmNvcyhhbmdsZUluUmFkaWFucyk7XG4gICAgICAgIGxldCBzID0gTWF0aC5zaW4oYW5nbGVJblJhZGlhbnMpO1xuICAgICAgICBsZXQgb25lTWludXNDb3NpbmUgPSAxIC0gYztcblxuICAgICAgICBkc3RbMF0gPSB4eCArICgxIC0geHgpICogYztcbiAgICAgICAgZHN0WzFdID0geCAqIHkgKiBvbmVNaW51c0Nvc2luZSArIHogKiBzO1xuICAgICAgICBkc3RbMl0gPSB4ICogeiAqIG9uZU1pbnVzQ29zaW5lIC0geSAqIHM7XG4gICAgICAgIGRzdFszXSA9IDA7XG4gICAgICAgIGRzdFs0XSA9IHggKiB5ICogb25lTWludXNDb3NpbmUgLSB6ICogcztcbiAgICAgICAgZHN0WzVdID0geXkgKyAoMSAtIHl5KSAqIGM7XG4gICAgICAgIGRzdFs2XSA9IHkgKiB6ICogb25lTWludXNDb3NpbmUgKyB4ICogcztcbiAgICAgICAgZHN0WzddID0gMDtcbiAgICAgICAgZHN0WzhdID0geCAqIHogKiBvbmVNaW51c0Nvc2luZSArIHkgKiBzO1xuICAgICAgICBkc3RbOV0gPSB5ICogeiAqIG9uZU1pbnVzQ29zaW5lIC0geCAqIHM7XG4gICAgICAgIGRzdFsxMF0gPSB6eiArICgxIC0genopICogYztcbiAgICAgICAgZHN0WzExXSA9IDA7XG4gICAgICAgIGRzdFsxMl0gPSAwO1xuICAgICAgICBkc3RbMTNdID0gMDtcbiAgICAgICAgZHN0WzE0XSA9IDA7XG4gICAgICAgIGRzdFsxNV0gPSAxO1xuXG4gICAgICAgIHJldHVybiBtYXRyaXg7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTXVsdGlwbHkgYnkgYW4gYXhpcyByb3RhdGlvbiBtYXRyaXhcbiAgICAgKiBAcGFyYW0ge01hdHJpeDR9IG0gbWF0cml4IHRvIG11bHRpcGx5XG4gICAgICogQHBhcmFtIHtWZWN0b3IzfSBheGlzIGF4aXMgdG8gcm90YXRlIGFyb3VuZFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBhbmdsZUluUmFkaWFucyBhbW91bnQgdG8gcm90YXRlXG4gICAgICogQHBhcmFtIHtNYXRyaXg0fSBbZHN0XSBvcHRpb25hbCBtYXRyaXggdG8gc3RvcmUgcmVzdWx0XG4gICAgICogQHJldHVybiB7TWF0cml4NH0gZHN0IG9yIGEgbmV3IG1hdHJpeCBpZiBub25lIHByb3ZpZGVkXG4gICAgICogQG1lbWJlck9mIG1vZHVsZTp3ZWJnbC0zZC1tYXRoXG4gICAgICovXG4gICAgYXhpc1JvdGF0ZShheGlzOiBWZWN0b3IzLCBhbmdsZUluUmFkaWFuczogbnVtYmVyKTogTWF0cml4NCB7XG4gICAgICAgIC8vIFRoaXMgaXMgdGhlIG9wdGltaXplZCB2ZXJzaW9uIG9mXG4gICAgICAgIC8vIHJldHVybiBtdWx0aXBseShtLCBheGlzUm90YXRpb24oYXhpcywgYW5nbGVJblJhZGlhbnMpLCBkc3QpO1xuICAgICAgICBsZXQgbWF0cml4ID0gbmV3IE1hdHJpeDQoKTtcbiAgICAgICAgbGV0IGRzdCA9IG1hdHJpeC5kYXRhO1xuICAgICAgICBsZXQgbSA9IHRoaXMuZGF0YTtcblxuICAgICAgICB2YXIgeCA9IGF4aXMueDtcbiAgICAgICAgdmFyIHkgPSBheGlzLnk7XG4gICAgICAgIHZhciB6ID0gYXhpcy56O1xuICAgICAgICB2YXIgbiA9IE1hdGguc3FydCh4ICogeCArIHkgKiB5ICsgeiAqIHopO1xuICAgICAgICB4IC89IG47XG4gICAgICAgIHkgLz0gbjtcbiAgICAgICAgeiAvPSBuO1xuICAgICAgICB2YXIgeHggPSB4ICogeDtcbiAgICAgICAgdmFyIHl5ID0geSAqIHk7XG4gICAgICAgIHZhciB6eiA9IHogKiB6O1xuICAgICAgICB2YXIgYyA9IE1hdGguY29zKGFuZ2xlSW5SYWRpYW5zKTtcbiAgICAgICAgdmFyIHMgPSBNYXRoLnNpbihhbmdsZUluUmFkaWFucyk7XG4gICAgICAgIHZhciBvbmVNaW51c0Nvc2luZSA9IDEgLSBjO1xuXG4gICAgICAgIHZhciByMDAgPSB4eCArICgxIC0geHgpICogYztcbiAgICAgICAgdmFyIHIwMSA9IHggKiB5ICogb25lTWludXNDb3NpbmUgKyB6ICogcztcbiAgICAgICAgdmFyIHIwMiA9IHggKiB6ICogb25lTWludXNDb3NpbmUgLSB5ICogcztcbiAgICAgICAgdmFyIHIxMCA9IHggKiB5ICogb25lTWludXNDb3NpbmUgLSB6ICogcztcbiAgICAgICAgdmFyIHIxMSA9IHl5ICsgKDEgLSB5eSkgKiBjO1xuICAgICAgICB2YXIgcjEyID0geSAqIHogKiBvbmVNaW51c0Nvc2luZSArIHggKiBzO1xuICAgICAgICB2YXIgcjIwID0geCAqIHogKiBvbmVNaW51c0Nvc2luZSArIHkgKiBzO1xuICAgICAgICB2YXIgcjIxID0geSAqIHogKiBvbmVNaW51c0Nvc2luZSAtIHggKiBzO1xuICAgICAgICB2YXIgcjIyID0genogKyAoMSAtIHp6KSAqIGM7XG5cbiAgICAgICAgdmFyIG0wMCA9IG1bMF07XG4gICAgICAgIHZhciBtMDEgPSBtWzFdO1xuICAgICAgICB2YXIgbTAyID0gbVsyXTtcbiAgICAgICAgdmFyIG0wMyA9IG1bM107XG4gICAgICAgIHZhciBtMTAgPSBtWzRdO1xuICAgICAgICB2YXIgbTExID0gbVs1XTtcbiAgICAgICAgdmFyIG0xMiA9IG1bNl07XG4gICAgICAgIHZhciBtMTMgPSBtWzddO1xuICAgICAgICB2YXIgbTIwID0gbVs4XTtcbiAgICAgICAgdmFyIG0yMSA9IG1bOV07XG4gICAgICAgIHZhciBtMjIgPSBtWzEwXTtcbiAgICAgICAgdmFyIG0yMyA9IG1bMTFdO1xuXG4gICAgICAgIGRzdFswXSA9IHIwMCAqIG0wMCArIHIwMSAqIG0xMCArIHIwMiAqIG0yMDtcbiAgICAgICAgZHN0WzFdID0gcjAwICogbTAxICsgcjAxICogbTExICsgcjAyICogbTIxO1xuICAgICAgICBkc3RbMl0gPSByMDAgKiBtMDIgKyByMDEgKiBtMTIgKyByMDIgKiBtMjI7XG4gICAgICAgIGRzdFszXSA9IHIwMCAqIG0wMyArIHIwMSAqIG0xMyArIHIwMiAqIG0yMztcbiAgICAgICAgZHN0WzRdID0gcjEwICogbTAwICsgcjExICogbTEwICsgcjEyICogbTIwO1xuICAgICAgICBkc3RbNV0gPSByMTAgKiBtMDEgKyByMTEgKiBtMTEgKyByMTIgKiBtMjE7XG4gICAgICAgIGRzdFs2XSA9IHIxMCAqIG0wMiArIHIxMSAqIG0xMiArIHIxMiAqIG0yMjtcbiAgICAgICAgZHN0WzddID0gcjEwICogbTAzICsgcjExICogbTEzICsgcjEyICogbTIzO1xuICAgICAgICBkc3RbOF0gPSByMjAgKiBtMDAgKyByMjEgKiBtMTAgKyByMjIgKiBtMjA7XG4gICAgICAgIGRzdFs5XSA9IHIyMCAqIG0wMSArIHIyMSAqIG0xMSArIHIyMiAqIG0yMTtcbiAgICAgICAgZHN0WzEwXSA9IHIyMCAqIG0wMiArIHIyMSAqIG0xMiArIHIyMiAqIG0yMjtcbiAgICAgICAgZHN0WzExXSA9IHIyMCAqIG0wMyArIHIyMSAqIG0xMyArIHIyMiAqIG0yMztcblxuICAgICAgICBpZiAobSAhPT0gZHN0KSB7XG4gICAgICAgICAgICBkc3RbMTJdID0gbVsxMl07XG4gICAgICAgICAgICBkc3RbMTNdID0gbVsxM107XG4gICAgICAgICAgICBkc3RbMTRdID0gbVsxNF07XG4gICAgICAgICAgICBkc3RbMTVdID0gbVsxNV07XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbWF0cml4O1xuICAgIH1cblxuICAgIC8vIG1ha2UgYSBzY2FsaW5nIG1hdHJpeFxuICAgIHN0YXRpYyBuZXdTY2FsZXIoc3g6IG51bWJlciwgc3k6IG51bWJlciwgc3o6IG51bWJlcik6IE1hdHJpeDQge1xuICAgICAgICByZXR1cm4gbmV3IE1hdHJpeDQoW3N4LCAwLCAwLCAwLCAwLCBzeSwgMCwgMCwgMCwgMCwgc3osIDAsIDAsIDAsIDAsIDFdKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBNdWx0aXBseSBieSBhIHNjYWxpbmcgbWF0cml4XG4gICAgICogQHBhcmFtIHtNYXRyaXg0fSBtIG1hdHJpeCB0byBtdWx0aXBseVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzeCB4IHNjYWxlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzeSB5IHNjYWxlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzeiB6IHNjYWxlLlxuICAgICAqIEBwYXJhbSB7TWF0cml4NH0gW2RzdF0gb3B0aW9uYWwgbWF0cml4IHRvIHN0b3JlIHJlc3VsdFxuICAgICAqIEByZXR1cm4ge01hdHJpeDR9IGRzdCBvciBhIG5ldyBtYXRyaXggaWYgbm9uZSBwcm92aWRlZFxuICAgICAqIEBtZW1iZXJPZiBtb2R1bGU6d2ViZ2wtM2QtbWF0aFxuICAgICAqL1xuICAgIHNjYWxlKHN4OiBudW1iZXIsIHN5OiBudW1iZXIsIHN6OiBudW1iZXIpOiBNYXRyaXg0IHtcbiAgICAgICAgLy8gVGhpcyBpcyB0aGUgb3B0aW1pemVkIHZlcnNpb24gb2ZcbiAgICAgICAgLy8gcmV0dXJuIG11bHRpcGx5KG0sIHNjYWxpbmcoc3gsIHN5LCBzeiksIGRzdCk7XG5cbiAgICAgICAgbGV0IG1hdHJpeCA9IG5ldyBNYXRyaXg0KCk7XG4gICAgICAgIGxldCBkc3QgPSBtYXRyaXguZGF0YTtcbiAgICAgICAgbGV0IG0gPSB0aGlzLmRhdGE7XG5cbiAgICAgICAgZHN0WzBdID0gc3ggKiBtWzAgKiA0ICsgMF07XG4gICAgICAgIGRzdFsxXSA9IHN4ICogbVswICogNCArIDFdO1xuICAgICAgICBkc3RbMl0gPSBzeCAqIG1bMCAqIDQgKyAyXTtcbiAgICAgICAgZHN0WzNdID0gc3ggKiBtWzAgKiA0ICsgM107XG4gICAgICAgIGRzdFs0XSA9IHN5ICogbVsxICogNCArIDBdO1xuICAgICAgICBkc3RbNV0gPSBzeSAqIG1bMSAqIDQgKyAxXTtcbiAgICAgICAgZHN0WzZdID0gc3kgKiBtWzEgKiA0ICsgMl07XG4gICAgICAgIGRzdFs3XSA9IHN5ICogbVsxICogNCArIDNdO1xuICAgICAgICBkc3RbOF0gPSBzeiAqIG1bMiAqIDQgKyAwXTtcbiAgICAgICAgZHN0WzldID0gc3ogKiBtWzIgKiA0ICsgMV07XG4gICAgICAgIGRzdFsxMF0gPSBzeiAqIG1bMiAqIDQgKyAyXTtcbiAgICAgICAgZHN0WzExXSA9IHN6ICogbVsyICogNCArIDNdO1xuXG4gICAgICAgIGlmIChtICE9PSBkc3QpIHtcbiAgICAgICAgICAgIGRzdFsxMl0gPSBtWzEyXTtcbiAgICAgICAgICAgIGRzdFsxM10gPSBtWzEzXTtcbiAgICAgICAgICAgIGRzdFsxNF0gPSBtWzE0XTtcbiAgICAgICAgICAgIGRzdFsxNV0gPSBtWzE1XTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBtYXRyaXg7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogY3JlYXRlcyBhIG1hdHJpeCBmcm9tIHRyYW5zbGF0aW9uLCBxdWF0ZXJuaW9uLCBzY2FsZVxuICAgICAqIEBwYXJhbSB7TnVtYmVyW119IHRyYW5zbGF0aW9uIFt4LCB5LCB6XSB0cmFuc2xhdGlvblxuICAgICAqIEBwYXJhbSB7TnVtYmVyW119IHF1YXRlcm5pb24gW3gsIHksIHosIHpdIHF1YXRlcm5pb24gcm90YXRpb25cbiAgICAgKiBAcGFyYW0ge051bWJlcltdfSBzY2FsZSBbeCwgeSwgel0gc2NhbGVcbiAgICAgKiBAcGFyYW0ge01hdHJpeDR9IFtkc3RdIG9wdGlvbmFsIG1hdHJpeCB0byBzdG9yZSByZXN1bHRcbiAgICAgKiBAcmV0dXJuIHtNYXRyaXg0fSBkc3Qgb3IgYSBuZXcgbWF0cml4IGlmIG5vbmUgcHJvdmlkZWRcbiAgICAgKi9cbiAgICBuZXdDb21wb3NlKHRyYW5zbGF0aW9uOiBWZWN0b3IzLCBxdWF0ZXJuaW9uOiBRdWF0ZXJuaW9uLCBzY2FsZTogVmVjdG9yMyk6IE1hdHJpeDQge1xuICAgICAgICBsZXQgbWF0cml4ID0gbmV3IE1hdHJpeDQoKTtcbiAgICAgICAgbGV0IGRzdCA9IG1hdHJpeC5kYXRhO1xuXG4gICAgICAgIGNvbnN0IHggPSBxdWF0ZXJuaW9uLng7XG4gICAgICAgIGNvbnN0IHkgPSBxdWF0ZXJuaW9uLnk7XG4gICAgICAgIGNvbnN0IHogPSBxdWF0ZXJuaW9uLno7XG4gICAgICAgIGNvbnN0IHcgPSBxdWF0ZXJuaW9uLnc7XG5cbiAgICAgICAgY29uc3QgeDIgPSB4ICsgeDtcbiAgICAgICAgY29uc3QgeTIgPSB5ICsgeTtcbiAgICAgICAgY29uc3QgejIgPSB6ICsgejtcblxuICAgICAgICBjb25zdCB4eCA9IHggKiB4MjtcbiAgICAgICAgY29uc3QgeHkgPSB4ICogeTI7XG4gICAgICAgIGNvbnN0IHh6ID0geCAqIHoyO1xuXG4gICAgICAgIGNvbnN0IHl5ID0geSAqIHkyO1xuICAgICAgICBjb25zdCB5eiA9IHkgKiB6MjtcbiAgICAgICAgY29uc3QgenogPSB6ICogejI7XG5cbiAgICAgICAgY29uc3Qgd3ggPSB3ICogeDI7XG4gICAgICAgIGNvbnN0IHd5ID0gdyAqIHkyO1xuICAgICAgICBjb25zdCB3eiA9IHcgKiB6MjtcblxuICAgICAgICBjb25zdCBzeCA9IHNjYWxlLng7XG4gICAgICAgIGNvbnN0IHN5ID0gc2NhbGUueTtcbiAgICAgICAgY29uc3Qgc3ogPSBzY2FsZS56O1xuXG4gICAgICAgIGRzdFswXSA9ICgxIC0gKHl5ICsgenopKSAqIHN4O1xuICAgICAgICBkc3RbMV0gPSAoeHkgKyB3eikgKiBzeDtcbiAgICAgICAgZHN0WzJdID0gKHh6IC0gd3kpICogc3g7XG4gICAgICAgIGRzdFszXSA9IDA7XG5cbiAgICAgICAgZHN0WzRdID0gKHh5IC0gd3opICogc3k7XG4gICAgICAgIGRzdFs1XSA9ICgxIC0gKHh4ICsgenopKSAqIHN5O1xuICAgICAgICBkc3RbNl0gPSAoeXogKyB3eCkgKiBzeTtcbiAgICAgICAgZHN0WzddID0gMDtcblxuICAgICAgICBkc3RbOF0gPSAoeHogKyB3eSkgKiBzejtcbiAgICAgICAgZHN0WzldID0gKHl6IC0gd3gpICogc3o7XG4gICAgICAgIGRzdFsxMF0gPSAoMSAtICh4eCArIHl5KSkgKiBzejtcbiAgICAgICAgZHN0WzExXSA9IDA7XG5cbiAgICAgICAgZHN0WzEyXSA9IHRyYW5zbGF0aW9uLng7XG4gICAgICAgIGRzdFsxM10gPSB0cmFuc2xhdGlvbi55O1xuICAgICAgICBkc3RbMTRdID0gdHJhbnNsYXRpb24uejtcbiAgICAgICAgZHN0WzE1XSA9IDE7XG5cbiAgICAgICAgcmV0dXJuIG1hdHJpeDtcbiAgICB9XG5cbiAgICAvLyBxdWF0RnJvbVJvdGF0aW9uTWF0cml4KCkge1xuICAgIC8vICAgICAvLyBodHRwOi8vd3d3LmV1Y2xpZGVhbnNwYWNlLmNvbS9tYXRocy9nZW9tZXRyeS9yb3RhdGlvbnMvY29udmVyc2lvbnMvbWF0cml4VG9RdWF0ZXJuaW9uL2luZGV4Lmh0bVxuXG4gICAgLy8gICAgIC8vIGFzc3VtZXMgdGhlIHVwcGVyIDN4MyBvZiBtIGlzIGEgcHVyZSByb3RhdGlvbiBtYXRyaXggKGkuZSwgdW5zY2FsZWQpXG4gICAgLy8gICAgIGNvbnN0IG0xMSA9IG1bMF07XG4gICAgLy8gICAgIGNvbnN0IG0xMiA9IG1bNF07XG4gICAgLy8gICAgIGNvbnN0IG0xMyA9IG1bOF07XG4gICAgLy8gICAgIGNvbnN0IG0yMSA9IG1bMV07XG4gICAgLy8gICAgIGNvbnN0IG0yMiA9IG1bNV07XG4gICAgLy8gICAgIGNvbnN0IG0yMyA9IG1bOV07XG4gICAgLy8gICAgIGNvbnN0IG0zMSA9IG1bMl07XG4gICAgLy8gICAgIGNvbnN0IG0zMiA9IG1bNl07XG4gICAgLy8gICAgIGNvbnN0IG0zMyA9IG1bMTBdO1xuXG4gICAgLy8gICAgIGNvbnN0IHRyYWNlID0gbTExICsgbTIyICsgbTMzO1xuXG4gICAgLy8gICAgIGlmICh0cmFjZSA+IDApIHtcbiAgICAvLyAgICAgICAgIGNvbnN0IHMgPSAwLjUgLyBNYXRoLnNxcnQodHJhY2UgKyAxKTtcbiAgICAvLyAgICAgICAgIGRzdFszXSA9IDAuMjUgLyBzO1xuICAgIC8vICAgICAgICAgZHN0WzBdID0gKG0zMiAtIG0yMykgKiBzO1xuICAgIC8vICAgICAgICAgZHN0WzFdID0gKG0xMyAtIG0zMSkgKiBzO1xuICAgIC8vICAgICAgICAgZHN0WzJdID0gKG0yMSAtIG0xMikgKiBzO1xuICAgIC8vICAgICB9IGVsc2UgaWYgKG0xMSA+IG0yMiAmJiBtMTEgPiBtMzMpIHtcbiAgICAvLyAgICAgICAgIGNvbnN0IHMgPSAyICogTWF0aC5zcXJ0KDEgKyBtMTEgLSBtMjIgLSBtMzMpO1xuICAgIC8vICAgICAgICAgZHN0WzNdID0gKG0zMiAtIG0yMykgLyBzO1xuICAgIC8vICAgICAgICAgZHN0WzBdID0gMC4yNSAqIHM7XG4gICAgLy8gICAgICAgICBkc3RbMV0gPSAobTEyICsgbTIxKSAvIHM7XG4gICAgLy8gICAgICAgICBkc3RbMl0gPSAobTEzICsgbTMxKSAvIHM7XG4gICAgLy8gICAgIH0gZWxzZSBpZiAobTIyID4gbTMzKSB7XG4gICAgLy8gICAgICAgICBjb25zdCBzID0gMiAqIE1hdGguc3FydCgxICsgbTIyIC0gbTExIC0gbTMzKTtcbiAgICAvLyAgICAgICAgIGRzdFszXSA9IChtMTMgLSBtMzEpIC8gcztcbiAgICAvLyAgICAgICAgIGRzdFswXSA9IChtMTIgKyBtMjEpIC8gcztcbiAgICAvLyAgICAgICAgIGRzdFsxXSA9IDAuMjUgKiBzO1xuICAgIC8vICAgICAgICAgZHN0WzJdID0gKG0yMyArIG0zMikgLyBzO1xuICAgIC8vICAgICB9IGVsc2Uge1xuICAgIC8vICAgICAgICAgY29uc3QgcyA9IDIgKiBNYXRoLnNxcnQoMSArIG0zMyAtIG0xMSAtIG0yMik7XG4gICAgLy8gICAgICAgICBkc3RbM10gPSAobTIxIC0gbTEyKSAvIHM7XG4gICAgLy8gICAgICAgICBkc3RbMF0gPSAobTEzICsgbTMxKSAvIHM7XG4gICAgLy8gICAgICAgICBkc3RbMV0gPSAobTIzICsgbTMyKSAvIHM7XG4gICAgLy8gICAgICAgICBkc3RbMl0gPSAwLjI1ICogcztcbiAgICAvLyAgICAgfVxuICAgIC8vIH1cblxuICAgIC8vIGRlY29tcG9zZShtYXQsIHRyYW5zbGF0aW9uLCBxdWF0ZXJuaW9uLCBzY2FsZSkge1xuICAgIC8vICAgICBsZXQgc3ggPSBtNC5sZW5ndGgobWF0LnNsaWNlKDAsIDMpKTtcbiAgICAvLyAgICAgY29uc3Qgc3kgPSBtNC5sZW5ndGgobWF0LnNsaWNlKDQsIDcpKTtcbiAgICAvLyAgICAgY29uc3Qgc3ogPSBtNC5sZW5ndGgobWF0LnNsaWNlKDgsIDExKSk7XG5cbiAgICAvLyAgICAgLy8gaWYgZGV0ZXJtaW5hdGUgaXMgbmVnYXRpdmUsIHdlIG5lZWQgdG8gaW52ZXJ0IG9uZSBzY2FsZVxuICAgIC8vICAgICBjb25zdCBkZXQgPSBkZXRlcm1pbmF0ZShtYXQpO1xuICAgIC8vICAgICBpZiAoZGV0IDwgMCkge1xuICAgIC8vICAgICAgICAgc3ggPSAtc3g7XG4gICAgLy8gICAgIH1cblxuICAgIC8vICAgICB0cmFuc2xhdGlvblswXSA9IG1hdFsxMl07XG4gICAgLy8gICAgIHRyYW5zbGF0aW9uWzFdID0gbWF0WzEzXTtcbiAgICAvLyAgICAgdHJhbnNsYXRpb25bMl0gPSBtYXRbMTRdO1xuXG4gICAgLy8gICAgIC8vIHNjYWxlIHRoZSByb3RhdGlvbiBwYXJ0XG4gICAgLy8gICAgIGNvbnN0IG1hdHJpeCA9IG00LmNvcHkobWF0KTtcblxuICAgIC8vICAgICBjb25zdCBpbnZTWCA9IDEgLyBzeDtcbiAgICAvLyAgICAgY29uc3QgaW52U1kgPSAxIC8gc3k7XG4gICAgLy8gICAgIGNvbnN0IGludlNaID0gMSAvIHN6O1xuXG4gICAgLy8gICAgIG1hdHJpeFswXSAqPSBpbnZTWDtcbiAgICAvLyAgICAgbWF0cml4WzFdICo9IGludlNYO1xuICAgIC8vICAgICBtYXRyaXhbMl0gKj0gaW52U1g7XG5cbiAgICAvLyAgICAgbWF0cml4WzRdICo9IGludlNZO1xuICAgIC8vICAgICBtYXRyaXhbNV0gKj0gaW52U1k7XG4gICAgLy8gICAgIG1hdHJpeFs2XSAqPSBpbnZTWTtcblxuICAgIC8vICAgICBtYXRyaXhbOF0gKj0gaW52U1o7XG4gICAgLy8gICAgIG1hdHJpeFs5XSAqPSBpbnZTWjtcbiAgICAvLyAgICAgbWF0cml4WzEwXSAqPSBpbnZTWjtcblxuICAgIC8vICAgICBxdWF0RnJvbVJvdGF0aW9uTWF0cml4KG1hdHJpeCwgcXVhdGVybmlvbik7XG5cbiAgICAvLyAgICAgc2NhbGVbMF0gPSBzeDtcbiAgICAvLyAgICAgc2NhbGVbMV0gPSBzeTtcbiAgICAvLyAgICAgc2NhbGVbMl0gPSBzejtcbiAgICAvLyB9XG5cbiAgICBkZXRlcm1pbmF0ZSgpOiBudW1iZXIge1xuICAgICAgICBsZXQgbSA9IHRoaXMuZGF0YTtcblxuICAgICAgICB2YXIgbTAwID0gbVswICogNCArIDBdO1xuICAgICAgICB2YXIgbTAxID0gbVswICogNCArIDFdO1xuICAgICAgICB2YXIgbTAyID0gbVswICogNCArIDJdO1xuICAgICAgICB2YXIgbTAzID0gbVswICogNCArIDNdO1xuICAgICAgICB2YXIgbTEwID0gbVsxICogNCArIDBdO1xuICAgICAgICB2YXIgbTExID0gbVsxICogNCArIDFdO1xuICAgICAgICB2YXIgbTEyID0gbVsxICogNCArIDJdO1xuICAgICAgICB2YXIgbTEzID0gbVsxICogNCArIDNdO1xuICAgICAgICB2YXIgbTIwID0gbVsyICogNCArIDBdO1xuICAgICAgICB2YXIgbTIxID0gbVsyICogNCArIDFdO1xuICAgICAgICB2YXIgbTIyID0gbVsyICogNCArIDJdO1xuICAgICAgICB2YXIgbTIzID0gbVsyICogNCArIDNdO1xuICAgICAgICB2YXIgbTMwID0gbVszICogNCArIDBdO1xuICAgICAgICB2YXIgbTMxID0gbVszICogNCArIDFdO1xuICAgICAgICB2YXIgbTMyID0gbVszICogNCArIDJdO1xuICAgICAgICB2YXIgbTMzID0gbVszICogNCArIDNdO1xuICAgICAgICB2YXIgdG1wXzAgPSBtMjIgKiBtMzM7XG4gICAgICAgIHZhciB0bXBfMSA9IG0zMiAqIG0yMztcbiAgICAgICAgdmFyIHRtcF8yID0gbTEyICogbTMzO1xuICAgICAgICB2YXIgdG1wXzMgPSBtMzIgKiBtMTM7XG4gICAgICAgIHZhciB0bXBfNCA9IG0xMiAqIG0yMztcbiAgICAgICAgdmFyIHRtcF81ID0gbTIyICogbTEzO1xuICAgICAgICB2YXIgdG1wXzYgPSBtMDIgKiBtMzM7XG4gICAgICAgIHZhciB0bXBfNyA9IG0zMiAqIG0wMztcbiAgICAgICAgdmFyIHRtcF84ID0gbTAyICogbTIzO1xuICAgICAgICB2YXIgdG1wXzkgPSBtMjIgKiBtMDM7XG4gICAgICAgIHZhciB0bXBfMTAgPSBtMDIgKiBtMTM7XG4gICAgICAgIHZhciB0bXBfMTEgPSBtMTIgKiBtMDM7XG5cbiAgICAgICAgdmFyIHQwID0gdG1wXzAgKiBtMTEgKyB0bXBfMyAqIG0yMSArIHRtcF80ICogbTMxIC0gKHRtcF8xICogbTExICsgdG1wXzIgKiBtMjEgKyB0bXBfNSAqIG0zMSk7XG4gICAgICAgIHZhciB0MSA9IHRtcF8xICogbTAxICsgdG1wXzYgKiBtMjEgKyB0bXBfOSAqIG0zMSAtICh0bXBfMCAqIG0wMSArIHRtcF83ICogbTIxICsgdG1wXzggKiBtMzEpO1xuICAgICAgICB2YXIgdDIgPSB0bXBfMiAqIG0wMSArIHRtcF83ICogbTExICsgdG1wXzEwICogbTMxIC0gKHRtcF8zICogbTAxICsgdG1wXzYgKiBtMTEgKyB0bXBfMTEgKiBtMzEpO1xuICAgICAgICB2YXIgdDMgPSB0bXBfNSAqIG0wMSArIHRtcF84ICogbTExICsgdG1wXzExICogbTIxIC0gKHRtcF80ICogbTAxICsgdG1wXzkgKiBtMTEgKyB0bXBfMTAgKiBtMjEpO1xuXG4gICAgICAgIHJldHVybiAxLjAgLyAobTAwICogdDAgKyBtMTAgKiB0MSArIG0yMCAqIHQyICsgbTMwICogdDMpO1xuICAgIH1cblxuICAgIGludmVyc2UoKTogTWF0cml4NCB7XG4gICAgICAgIGxldCBtYXRyaXggPSBuZXcgTWF0cml4NCgpO1xuICAgICAgICBsZXQgZHN0ID0gbWF0cml4LmRhdGE7XG4gICAgICAgIGxldCBtID0gdGhpcy5kYXRhO1xuXG4gICAgICAgIHZhciBtMDAgPSBtWzAgKiA0ICsgMF07XG4gICAgICAgIHZhciBtMDEgPSBtWzAgKiA0ICsgMV07XG4gICAgICAgIHZhciBtMDIgPSBtWzAgKiA0ICsgMl07XG4gICAgICAgIHZhciBtMDMgPSBtWzAgKiA0ICsgM107XG4gICAgICAgIHZhciBtMTAgPSBtWzEgKiA0ICsgMF07XG4gICAgICAgIHZhciBtMTEgPSBtWzEgKiA0ICsgMV07XG4gICAgICAgIHZhciBtMTIgPSBtWzEgKiA0ICsgMl07XG4gICAgICAgIHZhciBtMTMgPSBtWzEgKiA0ICsgM107XG4gICAgICAgIHZhciBtMjAgPSBtWzIgKiA0ICsgMF07XG4gICAgICAgIHZhciBtMjEgPSBtWzIgKiA0ICsgMV07XG4gICAgICAgIHZhciBtMjIgPSBtWzIgKiA0ICsgMl07XG4gICAgICAgIHZhciBtMjMgPSBtWzIgKiA0ICsgM107XG4gICAgICAgIHZhciBtMzAgPSBtWzMgKiA0ICsgMF07XG4gICAgICAgIHZhciBtMzEgPSBtWzMgKiA0ICsgMV07XG4gICAgICAgIHZhciBtMzIgPSBtWzMgKiA0ICsgMl07XG4gICAgICAgIHZhciBtMzMgPSBtWzMgKiA0ICsgM107XG4gICAgICAgIHZhciB0bXBfMCA9IG0yMiAqIG0zMztcbiAgICAgICAgdmFyIHRtcF8xID0gbTMyICogbTIzO1xuICAgICAgICB2YXIgdG1wXzIgPSBtMTIgKiBtMzM7XG4gICAgICAgIHZhciB0bXBfMyA9IG0zMiAqIG0xMztcbiAgICAgICAgdmFyIHRtcF80ID0gbTEyICogbTIzO1xuICAgICAgICB2YXIgdG1wXzUgPSBtMjIgKiBtMTM7XG4gICAgICAgIHZhciB0bXBfNiA9IG0wMiAqIG0zMztcbiAgICAgICAgdmFyIHRtcF83ID0gbTMyICogbTAzO1xuICAgICAgICB2YXIgdG1wXzggPSBtMDIgKiBtMjM7XG4gICAgICAgIHZhciB0bXBfOSA9IG0yMiAqIG0wMztcbiAgICAgICAgdmFyIHRtcF8xMCA9IG0wMiAqIG0xMztcbiAgICAgICAgdmFyIHRtcF8xMSA9IG0xMiAqIG0wMztcbiAgICAgICAgdmFyIHRtcF8xMiA9IG0yMCAqIG0zMTtcbiAgICAgICAgdmFyIHRtcF8xMyA9IG0zMCAqIG0yMTtcbiAgICAgICAgdmFyIHRtcF8xNCA9IG0xMCAqIG0zMTtcbiAgICAgICAgdmFyIHRtcF8xNSA9IG0zMCAqIG0xMTtcbiAgICAgICAgdmFyIHRtcF8xNiA9IG0xMCAqIG0yMTtcbiAgICAgICAgdmFyIHRtcF8xNyA9IG0yMCAqIG0xMTtcbiAgICAgICAgdmFyIHRtcF8xOCA9IG0wMCAqIG0zMTtcbiAgICAgICAgdmFyIHRtcF8xOSA9IG0zMCAqIG0wMTtcbiAgICAgICAgdmFyIHRtcF8yMCA9IG0wMCAqIG0yMTtcbiAgICAgICAgdmFyIHRtcF8yMSA9IG0yMCAqIG0wMTtcbiAgICAgICAgdmFyIHRtcF8yMiA9IG0wMCAqIG0xMTtcbiAgICAgICAgdmFyIHRtcF8yMyA9IG0xMCAqIG0wMTtcblxuICAgICAgICB2YXIgdDAgPSB0bXBfMCAqIG0xMSArIHRtcF8zICogbTIxICsgdG1wXzQgKiBtMzEgLSAodG1wXzEgKiBtMTEgKyB0bXBfMiAqIG0yMSArIHRtcF81ICogbTMxKTtcbiAgICAgICAgdmFyIHQxID0gdG1wXzEgKiBtMDEgKyB0bXBfNiAqIG0yMSArIHRtcF85ICogbTMxIC0gKHRtcF8wICogbTAxICsgdG1wXzcgKiBtMjEgKyB0bXBfOCAqIG0zMSk7XG4gICAgICAgIHZhciB0MiA9IHRtcF8yICogbTAxICsgdG1wXzcgKiBtMTEgKyB0bXBfMTAgKiBtMzEgLSAodG1wXzMgKiBtMDEgKyB0bXBfNiAqIG0xMSArIHRtcF8xMSAqIG0zMSk7XG4gICAgICAgIHZhciB0MyA9IHRtcF81ICogbTAxICsgdG1wXzggKiBtMTEgKyB0bXBfMTEgKiBtMjEgLSAodG1wXzQgKiBtMDEgKyB0bXBfOSAqIG0xMSArIHRtcF8xMCAqIG0yMSk7XG5cbiAgICAgICAgdmFyIGQgPSAxLjAgLyAobTAwICogdDAgKyBtMTAgKiB0MSArIG0yMCAqIHQyICsgbTMwICogdDMpO1xuXG4gICAgICAgIGRzdFswXSA9IGQgKiB0MDtcbiAgICAgICAgZHN0WzFdID0gZCAqIHQxO1xuICAgICAgICBkc3RbMl0gPSBkICogdDI7XG4gICAgICAgIGRzdFszXSA9IGQgKiB0MztcbiAgICAgICAgZHN0WzRdID0gZCAqICh0bXBfMSAqIG0xMCArIHRtcF8yICogbTIwICsgdG1wXzUgKiBtMzAgLSAodG1wXzAgKiBtMTAgKyB0bXBfMyAqIG0yMCArIHRtcF80ICogbTMwKSk7XG4gICAgICAgIGRzdFs1XSA9IGQgKiAodG1wXzAgKiBtMDAgKyB0bXBfNyAqIG0yMCArIHRtcF84ICogbTMwIC0gKHRtcF8xICogbTAwICsgdG1wXzYgKiBtMjAgKyB0bXBfOSAqIG0zMCkpO1xuICAgICAgICBkc3RbNl0gPSBkICogKHRtcF8zICogbTAwICsgdG1wXzYgKiBtMTAgKyB0bXBfMTEgKiBtMzAgLSAodG1wXzIgKiBtMDAgKyB0bXBfNyAqIG0xMCArIHRtcF8xMCAqIG0zMCkpO1xuICAgICAgICBkc3RbN10gPSBkICogKHRtcF80ICogbTAwICsgdG1wXzkgKiBtMTAgKyB0bXBfMTAgKiBtMjAgLSAodG1wXzUgKiBtMDAgKyB0bXBfOCAqIG0xMCArIHRtcF8xMSAqIG0yMCkpO1xuICAgICAgICBkc3RbOF0gPSBkICogKHRtcF8xMiAqIG0xMyArIHRtcF8xNSAqIG0yMyArIHRtcF8xNiAqIG0zMyAtICh0bXBfMTMgKiBtMTMgKyB0bXBfMTQgKiBtMjMgKyB0bXBfMTcgKiBtMzMpKTtcbiAgICAgICAgZHN0WzldID0gZCAqICh0bXBfMTMgKiBtMDMgKyB0bXBfMTggKiBtMjMgKyB0bXBfMjEgKiBtMzMgLSAodG1wXzEyICogbTAzICsgdG1wXzE5ICogbTIzICsgdG1wXzIwICogbTMzKSk7XG4gICAgICAgIGRzdFsxMF0gPSBkICogKHRtcF8xNCAqIG0wMyArIHRtcF8xOSAqIG0xMyArIHRtcF8yMiAqIG0zMyAtICh0bXBfMTUgKiBtMDMgKyB0bXBfMTggKiBtMTMgKyB0bXBfMjMgKiBtMzMpKTtcbiAgICAgICAgZHN0WzExXSA9IGQgKiAodG1wXzE3ICogbTAzICsgdG1wXzIwICogbTEzICsgdG1wXzIzICogbTIzIC0gKHRtcF8xNiAqIG0wMyArIHRtcF8yMSAqIG0xMyArIHRtcF8yMiAqIG0yMykpO1xuICAgICAgICBkc3RbMTJdID0gZCAqICh0bXBfMTQgKiBtMjIgKyB0bXBfMTcgKiBtMzIgKyB0bXBfMTMgKiBtMTIgLSAodG1wXzE2ICogbTMyICsgdG1wXzEyICogbTEyICsgdG1wXzE1ICogbTIyKSk7XG4gICAgICAgIGRzdFsxM10gPSBkICogKHRtcF8yMCAqIG0zMiArIHRtcF8xMiAqIG0wMiArIHRtcF8xOSAqIG0yMiAtICh0bXBfMTggKiBtMjIgKyB0bXBfMjEgKiBtMzIgKyB0bXBfMTMgKiBtMDIpKTtcbiAgICAgICAgZHN0WzE0XSA9IGQgKiAodG1wXzE4ICogbTEyICsgdG1wXzIzICogbTMyICsgdG1wXzE1ICogbTAyIC0gKHRtcF8yMiAqIG0zMiArIHRtcF8xNCAqIG0wMiArIHRtcF8xOSAqIG0xMikpO1xuICAgICAgICBkc3RbMTVdID0gZCAqICh0bXBfMjIgKiBtMjIgKyB0bXBfMTYgKiBtMDIgKyB0bXBfMjEgKiBtMTIgLSAodG1wXzIwICogbTEyICsgdG1wXzIzICogbTIyICsgdG1wXzE3ICogbTAyKSk7XG5cbiAgICAgICAgcmV0dXJuIG1hdHJpeDtcbiAgICB9XG5cbiAgICBtdWx0aXBseVZlY3Rvcih2OiBWZWN0b3IzKTogVmVjdG9yMyB7XG4gICAgICAgIGxldCBkYXRhID0gbmV3IEFycmF5KDMpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDM7ICsraSkge1xuICAgICAgICAgICAgZGF0YVtpXSA9IDAuMDtcbiAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgNDsgKytqKSB7XG4gICAgICAgICAgICAgICAgZGF0YVtpXSArPSB2Lml0ZW0oaikgKiB0aGlzLmdldChqLCBpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFZlY3RvcjMoZGF0YVswXSwgZGF0YVsxXSwgZGF0YVsyXSk7XG4gICAgfVxuXG4gICAgbXVsdGlwbHlWZWN0b3JzKG90aGVyOiBWZWN0b3IzQXJyYXkpOiBWZWN0b3IzQXJyYXkge1xuICAgICAgICAvLyBkdW1iIHdheVxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuY291bnQoKTsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgdmVjID0gb3RoZXIuZ2V0VmVjdG9yKGkpO1xuICAgICAgICAgICAgdmVjID0gdGhpcy5tdWx0aXBseVZlY3Rvcih2ZWMpO1xuICAgICAgICAgICAgb3RoZXIuc2V0VmVjdG9yKGksIHZlYyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG90aGVyO1xuXG4gICAgICAgIC8vIHNtYXJ0IHdheVxuICAgICAgICAvLyBsZXQgbWF0cml4ID0gbmV3IFZlY3RvcjNBcnJheShvdGhlci5jb3VudCgpKTtcbiAgICAgICAgLy8gLy8gZm9yIGV2ZXJ5IHJvd1xuICAgICAgICAvLyBmb3IgKHZhciByID0gMDsgciA8IG90aGVyLmNvdW50KCk7IHIrKykge1xuXG4gICAgICAgIC8vICAgICAvLyBmb3IgZXZlcnkgaXRlbSBpbiByb3dcbiAgICAgICAgLy8gICAgIGZvciAodmFyIGMgPSAwOyBjIDwgMzsgKytjKSB7XG5cbiAgICAgICAgLy8gICAgICAgICBsZXQgaXRlbSA9IDAuMDtcbiAgICAgICAgLy8gICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IDQ7ICsraikge1xuICAgICAgICAvLyAgICAgICAgICAgICBpdGVtICs9IG90aGVyLmdldChyLCBjKSAqIHRoaXMuZ2V0KGosIGMpO1xuICAgICAgICAvLyAgICAgICAgIH1cbiAgICAgICAgLy8gICAgICAgICBtYXRyaXguc2V0KHIsIGMsIGl0ZW0pO1xuICAgICAgICAvLyAgICAgfVxuICAgICAgICAvLyB9XG5cbiAgICAgICAgLy8gb3RoZXIuZGF0YSA9IG1hdHJpeC5kYXRhO1xuICAgICAgICByZXR1cm4gb3RoZXI7XG4gICAgfVxuXG4gICAgLy8gLyoqXG4gICAgLy8gICogVGFrZXMgYSA0LWJ5LTQgbWF0cml4IGFuZCBhIHZlY3RvciB3aXRoIDMgZW50cmllcyxcbiAgICAvLyAgKiBpbnRlcnByZXRzIHRoZSB2ZWN0b3IgYXMgYSBwb2ludCwgdHJhbnNmb3JtcyB0aGF0IHBvaW50IGJ5IHRoZSBtYXRyaXgsIGFuZFxuICAgIC8vICAqIHJldHVybnMgdGhlIHJlc3VsdCBhcyBhIHZlY3RvciB3aXRoIDMgZW50cmllcy5cbiAgICAvLyAgKiBAcGFyYW0ge01hdHJpeDR9IG0gVGhlIG1hdHJpeC5cbiAgICAvLyAgKiBAcGFyYW0ge1ZlY3RvcjN9IHYgVGhlIHBvaW50LlxuICAgIC8vICAqIEBwYXJhbSB7VmVjdG9yNH0gZHN0IG9wdGlvbmFsIHZlY3RvcjQgdG8gc3RvcmUgcmVzdWx0XG4gICAgLy8gICogQHJldHVybiB7VmVjdG9yNH0gZHN0IG9yIG5ldyBWZWN0b3I0IGlmIG5vdCBwcm92aWRlZFxuICAgIC8vICAqIEBtZW1iZXJPZiBtb2R1bGU6d2ViZ2wtM2QtbWF0aFxuICAgIC8vICAqL1xuICAgIC8vIGZ1bmN0aW9uIHRyYW5zZm9ybVBvaW50KG0sIHYsIGRzdCkge1xuICAgIC8vICAgICBkc3QgPSBkc3QgfHwgbmV3IE1hdFR5cGUoMyk7XG4gICAgLy8gICAgIHZhciB2MCA9IHZbMF07XG4gICAgLy8gICAgIHZhciB2MSA9IHZbMV07XG4gICAgLy8gICAgIHZhciB2MiA9IHZbMl07XG4gICAgLy8gICAgIHZhciBkID0gdjAgKiBtWzAgKiA0ICsgM10gKyB2MSAqIG1bMSAqIDQgKyAzXSArIHYyICogbVsyICogNCArIDNdICsgbVszICogNCArIDNdO1xuXG4gICAgLy8gICAgIGRzdFswXSA9ICh2MCAqIG1bMCAqIDQgKyAwXSArIHYxICogbVsxICogNCArIDBdICsgdjIgKiBtWzIgKiA0ICsgMF0gKyBtWzMgKiA0ICsgMF0pIC8gZDtcbiAgICAvLyAgICAgZHN0WzFdID0gKHYwICogbVswICogNCArIDFdICsgdjEgKiBtWzEgKiA0ICsgMV0gKyB2MiAqIG1bMiAqIDQgKyAxXSArIG1bMyAqIDQgKyAxXSkgLyBkO1xuICAgIC8vICAgICBkc3RbMl0gPSAodjAgKiBtWzAgKiA0ICsgMl0gKyB2MSAqIG1bMSAqIDQgKyAyXSArIHYyICogbVsyICogNCArIDJdICsgbVszICogNCArIDJdKSAvIGQ7XG5cbiAgICAvLyAgICAgcmV0dXJuIGRzdDtcbiAgICAvLyB9XG5cbiAgICAvLyAvKipcbiAgICAvLyAgKiBUYWtlcyBhIDQtYnktNCBtYXRyaXggYW5kIGEgdmVjdG9yIHdpdGggMyBlbnRyaWVzLCBpbnRlcnByZXRzIHRoZSB2ZWN0b3IgYXMgYVxuICAgIC8vICAqIGRpcmVjdGlvbiwgdHJhbnNmb3JtcyB0aGF0IGRpcmVjdGlvbiBieSB0aGUgbWF0cml4LCBhbmQgcmV0dXJucyB0aGUgcmVzdWx0O1xuICAgIC8vICAqIGFzc3VtZXMgdGhlIHRyYW5zZm9ybWF0aW9uIG9mIDMtZGltZW5zaW9uYWwgc3BhY2UgcmVwcmVzZW50ZWQgYnkgdGhlIG1hdHJpeFxuICAgIC8vICAqIGlzIHBhcmFsbGVsLXByZXNlcnZpbmcsIGkuZS4gYW55IGNvbWJpbmF0aW9uIG9mIHJvdGF0aW9uLCBzY2FsaW5nIGFuZFxuICAgIC8vICAqIHRyYW5zbGF0aW9uLCBidXQgbm90IGEgcGVyc3BlY3RpdmUgZGlzdG9ydGlvbi4gUmV0dXJucyBhIHZlY3RvciB3aXRoIDNcbiAgICAvLyAgKiBlbnRyaWVzLlxuICAgIC8vICAqIEBwYXJhbSB7TWF0cml4NH0gbSBUaGUgbWF0cml4LlxuICAgIC8vICAqIEBwYXJhbSB7VmVjdG9yM30gdiBUaGUgZGlyZWN0aW9uLlxuICAgIC8vICAqIEBwYXJhbSB7VmVjdG9yNH0gZHN0IG9wdGlvbmFsIHZlY3RvcjQgdG8gc3RvcmUgcmVzdWx0XG4gICAgLy8gICogQHJldHVybiB7VmVjdG9yNH0gZHN0IG9yIG5ldyBWZWN0b3I0IGlmIG5vdCBwcm92aWRlZFxuICAgIC8vICAqIEBtZW1iZXJPZiBtb2R1bGU6d2ViZ2wtM2QtbWF0aFxuICAgIC8vICAqL1xuICAgIC8vIGZ1bmN0aW9uIHRyYW5zZm9ybURpcmVjdGlvbihtLCB2LCBkc3QpIHtcbiAgICAvLyAgICAgZHN0ID0gZHN0IHx8IG5ldyBNYXRUeXBlKDMpO1xuXG4gICAgLy8gICAgIHZhciB2MCA9IHZbMF07XG4gICAgLy8gICAgIHZhciB2MSA9IHZbMV07XG4gICAgLy8gICAgIHZhciB2MiA9IHZbMl07XG5cbiAgICAvLyAgICAgZHN0WzBdID0gdjAgKiBtWzAgKiA0ICsgMF0gKyB2MSAqIG1bMSAqIDQgKyAwXSArIHYyICogbVsyICogNCArIDBdO1xuICAgIC8vICAgICBkc3RbMV0gPSB2MCAqIG1bMCAqIDQgKyAxXSArIHYxICogbVsxICogNCArIDFdICsgdjIgKiBtWzIgKiA0ICsgMV07XG4gICAgLy8gICAgIGRzdFsyXSA9IHYwICogbVswICogNCArIDJdICsgdjEgKiBtWzEgKiA0ICsgMl0gKyB2MiAqIG1bMiAqIDQgKyAyXTtcblxuICAgIC8vICAgICByZXR1cm4gZHN0O1xuICAgIC8vIH1cblxuICAgIC8vIC8qKlxuICAgIC8vICAqIFRha2VzIGEgNC1ieS00IG1hdHJpeCBtIGFuZCBhIHZlY3RvciB2IHdpdGggMyBlbnRyaWVzLCBpbnRlcnByZXRzIHRoZSB2ZWN0b3JcbiAgICAvLyAgKiBhcyBhIG5vcm1hbCB0byBhIHN1cmZhY2UsIGFuZCBjb21wdXRlcyBhIHZlY3RvciB3aGljaCBpcyBub3JtYWwgdXBvblxuICAgIC8vICAqIHRyYW5zZm9ybWluZyB0aGF0IHN1cmZhY2UgYnkgdGhlIG1hdHJpeC4gVGhlIGVmZmVjdCBvZiB0aGlzIGZ1bmN0aW9uIGlzIHRoZVxuICAgIC8vICAqIHNhbWUgYXMgdHJhbnNmb3JtaW5nIHYgKGFzIGEgZGlyZWN0aW9uKSBieSB0aGUgaW52ZXJzZS10cmFuc3Bvc2Ugb2YgbS4gIFRoaXNcbiAgICAvLyAgKiBmdW5jdGlvbiBhc3N1bWVzIHRoZSB0cmFuc2Zvcm1hdGlvbiBvZiAzLWRpbWVuc2lvbmFsIHNwYWNlIHJlcHJlc2VudGVkIGJ5IHRoZVxuICAgIC8vICAqIG1hdHJpeCBpcyBwYXJhbGxlbC1wcmVzZXJ2aW5nLCBpLmUuIGFueSBjb21iaW5hdGlvbiBvZiByb3RhdGlvbiwgc2NhbGluZyBhbmRcbiAgICAvLyAgKiB0cmFuc2xhdGlvbiwgYnV0IG5vdCBhIHBlcnNwZWN0aXZlIGRpc3RvcnRpb24uICBSZXR1cm5zIGEgdmVjdG9yIHdpdGggM1xuICAgIC8vICAqIGVudHJpZXMuXG4gICAgLy8gICogQHBhcmFtIHtNYXRyaXg0fSBtIFRoZSBtYXRyaXguXG4gICAgLy8gICogQHBhcmFtIHtWZWN0b3IzfSB2IFRoZSBub3JtYWwuXG4gICAgLy8gICogQHBhcmFtIHtWZWN0b3IzfSBbZHN0XSBUaGUgZGlyZWN0aW9uLlxuICAgIC8vICAqIEByZXR1cm4ge1ZlY3RvcjN9IFRoZSB0cmFuc2Zvcm1lZCBkaXJlY3Rpb24uXG4gICAgLy8gICogQG1lbWJlck9mIG1vZHVsZTp3ZWJnbC0zZC1tYXRoXG4gICAgLy8gICovXG4gICAgLy8gZnVuY3Rpb24gdHJhbnNmb3JtTm9ybWFsKG0sIHYsIGRzdCkge1xuICAgIC8vICAgICBkc3QgPSBkc3QgfHwgbmV3IE1hdFR5cGUoMyk7XG4gICAgLy8gICAgIHZhciBtaSA9IGludmVyc2UobSk7XG4gICAgLy8gICAgIHZhciB2MCA9IHZbMF07XG4gICAgLy8gICAgIHZhciB2MSA9IHZbMV07XG4gICAgLy8gICAgIHZhciB2MiA9IHZbMl07XG5cbiAgICAvLyAgICAgZHN0WzBdID0gdjAgKiBtaVswICogNCArIDBdICsgdjEgKiBtaVswICogNCArIDFdICsgdjIgKiBtaVswICogNCArIDJdO1xuICAgIC8vICAgICBkc3RbMV0gPSB2MCAqIG1pWzEgKiA0ICsgMF0gKyB2MSAqIG1pWzEgKiA0ICsgMV0gKyB2MiAqIG1pWzEgKiA0ICsgMl07XG4gICAgLy8gICAgIGRzdFsyXSA9IHYwICogbWlbMiAqIDQgKyAwXSArIHYxICogbWlbMiAqIDQgKyAxXSArIHYyICogbWlbMiAqIDQgKyAyXTtcblxuICAgIC8vICAgICByZXR1cm4gZHN0O1xuICAgIC8vIH1cbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/math/matrix.ts\n");

/***/ }),

/***/ "./src/math/quaternion.ts":
/*!********************************!*\
  !*** ./src/math/quaternion.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Quaternion\": () => /* binding */ Quaternion\n/* harmony export */ });\n// author: Jos Feenstra\r\n// purpose: Quaternion to be used for rotation\r\nclass Quaternion {\r\n    constructor(x, y, z, w) {\r\n        this.x = x;\r\n        this.y = y;\r\n        this.z = z;\r\n        this.w = w;\r\n    }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9nZW9uLWVuZ2luZS8uL3NyYy9tYXRoL3F1YXRlcm5pb24udHM/ZGU1YSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O0FBQUEsdUJBQXVCO0FBQ3ZCLDhDQUE4QztBQUV2QyxNQUFNLFVBQVU7SUFNbkIsWUFBWSxDQUFTLEVBQUUsQ0FBUyxFQUFFLENBQVMsRUFBRSxDQUFTO1FBQ2xELElBQUksQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ1gsSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDWCxJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUNYLElBQUksQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQ2YsQ0FBQztDQUNKIiwiZmlsZSI6Ii4vc3JjL21hdGgvcXVhdGVybmlvbi50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIGF1dGhvcjogSm9zIEZlZW5zdHJhXG4vLyBwdXJwb3NlOiBRdWF0ZXJuaW9uIHRvIGJlIHVzZWQgZm9yIHJvdGF0aW9uXG5cbmV4cG9ydCBjbGFzcyBRdWF0ZXJuaW9uIHtcbiAgICB4OiBudW1iZXI7XG4gICAgeTogbnVtYmVyO1xuICAgIHo6IG51bWJlcjtcbiAgICB3OiBudW1iZXI7XG5cbiAgICBjb25zdHJ1Y3Rvcih4OiBudW1iZXIsIHk6IG51bWJlciwgejogbnVtYmVyLCB3OiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy54ID0geDtcbiAgICAgICAgdGhpcy55ID0geTtcbiAgICAgICAgdGhpcy56ID0gejtcbiAgICAgICAgdGhpcy53ID0gdztcbiAgICB9XG59XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/math/quaternion.ts\n");

/***/ }),

/***/ "./src/math/ray.ts":
/*!*************************!*\
  !*** ./src/math/ray.ts ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Ray\": () => /* binding */ Ray\n/* harmony export */ });\n/* harmony import */ var _mesh_line_array__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../mesh/line-array */ \"./src/mesh/line-array.ts\");\n// author:  Jos Feenstra\r\n// purpose: infinite Ray used for projection and similar actions\r\n// notes:   found some nice examples at https://www.cs.princeton.edu/courses/archive/fall00/cs426/lectures/raycast/sld004.htm\r\n\r\nclass Ray {\r\n    // i do this to force intent : from points, or from normal. Both vector3, so otherwise confusing\r\n    constructor(origin, normal) {\r\n        this.origin = origin;\r\n        this.normal = normal.normalize();\r\n    }\r\n    static fromNormal(origin, normal) {\r\n        return new Ray(origin, normal);\r\n    }\r\n    static fromPoints(origin, through) {\r\n        return new Ray(origin, through.subbed(origin).normalize());\r\n    }\r\n    at(t) {\r\n        return this.origin.added(this.normal.scaled(t));\r\n    }\r\n    xPlane(plane) {\r\n        // ray : pt = rOrigin + t * rNormal\r\n        // plane : a, b, c, d -> pNormal(a, b, c) , d\r\n        // plane : P . N + d = 0;\r\n        // substitute for p:\r\n        // t = -(rOrigin . N + d) / (V . N)\r\n        let ray = this; // to be clear\r\n        return -(ray.origin.dot(plane.normal) + plane.d) / ray.normal.dot(plane.normal);\r\n    }\r\n    toLine(length) {\r\n        let toPoint = this.at(length);\r\n        return _mesh_line_array__WEBPACK_IMPORTED_MODULE_0__.LineArray.fromLines([this.origin, toPoint]);\r\n    }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9nZW9uLWVuZ2luZS8uL3NyYy9tYXRoL3JheS50cz8xYTgxIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUEsd0JBQXdCO0FBQ3hCLGdFQUFnRTtBQUNoRSw2SEFBNkg7QUFFOUU7QUFJeEMsTUFBTSxHQUFHO0lBSVosZ0dBQWdHO0lBQ2hHLFlBQW9CLE1BQWUsRUFBRSxNQUFlO1FBQ2hELElBQUksQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDO1FBQ3JCLElBQUksQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDLFNBQVMsRUFBRSxDQUFDO0lBQ3JDLENBQUM7SUFFRCxNQUFNLENBQUMsVUFBVSxDQUFDLE1BQWUsRUFBRSxNQUFlO1FBQzlDLE9BQU8sSUFBSSxHQUFHLENBQUMsTUFBTSxFQUFFLE1BQU0sQ0FBQyxDQUFDO0lBQ25DLENBQUM7SUFFRCxNQUFNLENBQUMsVUFBVSxDQUFDLE1BQWUsRUFBRSxPQUFnQjtRQUMvQyxPQUFPLElBQUksR0FBRyxDQUFDLE1BQU0sRUFBRSxPQUFPLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDLFNBQVMsRUFBRSxDQUFDLENBQUM7SUFDL0QsQ0FBQztJQUVELEVBQUUsQ0FBQyxDQUFTO1FBQ1IsT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ3BELENBQUM7SUFFRCxNQUFNLENBQUMsS0FBWTtRQUNmLG1DQUFtQztRQUNuQyw2Q0FBNkM7UUFDN0MseUJBQXlCO1FBQ3pCLG9CQUFvQjtRQUNwQixtQ0FBbUM7UUFFbkMsSUFBSSxHQUFHLEdBQUcsSUFBSSxDQUFDLENBQUMsY0FBYztRQUM5QixPQUFPLENBQUMsQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLEdBQUcsS0FBSyxDQUFDLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsQ0FBQztJQUNwRixDQUFDO0lBRUQsTUFBTSxDQUFDLE1BQWM7UUFDakIsSUFBSSxPQUFPLEdBQUcsSUFBSSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUM5QixPQUFPLGlFQUFtQixDQUFDLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBRSxPQUFPLENBQUMsQ0FBQyxDQUFDO0lBQ3ZELENBQUM7Q0FDSiIsImZpbGUiOiIuL3NyYy9tYXRoL3JheS50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIGF1dGhvcjogIEpvcyBGZWVuc3RyYVxuLy8gcHVycG9zZTogaW5maW5pdGUgUmF5IHVzZWQgZm9yIHByb2plY3Rpb24gYW5kIHNpbWlsYXIgYWN0aW9uc1xuLy8gbm90ZXM6ICAgZm91bmQgc29tZSBuaWNlIGV4YW1wbGVzIGF0IGh0dHBzOi8vd3d3LmNzLnByaW5jZXRvbi5lZHUvY291cnNlcy9hcmNoaXZlL2ZhbGwwMC9jczQyNi9sZWN0dXJlcy9yYXljYXN0L3NsZDAwNC5odG1cblxuaW1wb3J0IHsgTGluZUFycmF5IH0gZnJvbSBcIi4uL21lc2gvbGluZS1hcnJheVwiO1xuaW1wb3J0IHsgUGxhbmUgfSBmcm9tIFwiLi4vZ2VvL3BsYW5lXCI7XG5pbXBvcnQgeyBWZWN0b3IzIH0gZnJvbSBcIi4vdmVjdG9yXCI7XG5cbmV4cG9ydCBjbGFzcyBSYXkge1xuICAgIG9yaWdpbjogVmVjdG9yMztcbiAgICBub3JtYWw6IFZlY3RvcjM7XG5cbiAgICAvLyBpIGRvIHRoaXMgdG8gZm9yY2UgaW50ZW50IDogZnJvbSBwb2ludHMsIG9yIGZyb20gbm9ybWFsLiBCb3RoIHZlY3RvcjMsIHNvIG90aGVyd2lzZSBjb25mdXNpbmdcbiAgICBwcml2YXRlIGNvbnN0cnVjdG9yKG9yaWdpbjogVmVjdG9yMywgbm9ybWFsOiBWZWN0b3IzKSB7XG4gICAgICAgIHRoaXMub3JpZ2luID0gb3JpZ2luO1xuICAgICAgICB0aGlzLm5vcm1hbCA9IG5vcm1hbC5ub3JtYWxpemUoKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZnJvbU5vcm1hbChvcmlnaW46IFZlY3RvcjMsIG5vcm1hbDogVmVjdG9yMyk6IFJheSB7XG4gICAgICAgIHJldHVybiBuZXcgUmF5KG9yaWdpbiwgbm9ybWFsKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZnJvbVBvaW50cyhvcmlnaW46IFZlY3RvcjMsIHRocm91Z2g6IFZlY3RvcjMpOiBSYXkge1xuICAgICAgICByZXR1cm4gbmV3IFJheShvcmlnaW4sIHRocm91Z2guc3ViYmVkKG9yaWdpbikubm9ybWFsaXplKCkpO1xuICAgIH1cblxuICAgIGF0KHQ6IG51bWJlcik6IFZlY3RvcjMge1xuICAgICAgICByZXR1cm4gdGhpcy5vcmlnaW4uYWRkZWQodGhpcy5ub3JtYWwuc2NhbGVkKHQpKTtcbiAgICB9XG5cbiAgICB4UGxhbmUocGxhbmU6IFBsYW5lKTogbnVtYmVyIHtcbiAgICAgICAgLy8gcmF5IDogcHQgPSByT3JpZ2luICsgdCAqIHJOb3JtYWxcbiAgICAgICAgLy8gcGxhbmUgOiBhLCBiLCBjLCBkIC0+IHBOb3JtYWwoYSwgYiwgYykgLCBkXG4gICAgICAgIC8vIHBsYW5lIDogUCAuIE4gKyBkID0gMDtcbiAgICAgICAgLy8gc3Vic3RpdHV0ZSBmb3IgcDpcbiAgICAgICAgLy8gdCA9IC0ock9yaWdpbiAuIE4gKyBkKSAvIChWIC4gTilcblxuICAgICAgICBsZXQgcmF5ID0gdGhpczsgLy8gdG8gYmUgY2xlYXJcbiAgICAgICAgcmV0dXJuIC0ocmF5Lm9yaWdpbi5kb3QocGxhbmUubm9ybWFsKSArIHBsYW5lLmQpIC8gcmF5Lm5vcm1hbC5kb3QocGxhbmUubm9ybWFsKTtcbiAgICB9XG5cbiAgICB0b0xpbmUobGVuZ3RoOiBudW1iZXIpOiBMaW5lQXJyYXkge1xuICAgICAgICBsZXQgdG9Qb2ludCA9IHRoaXMuYXQobGVuZ3RoKTtcbiAgICAgICAgcmV0dXJuIExpbmVBcnJheS5mcm9tTGluZXMoW3RoaXMub3JpZ2luLCB0b1BvaW50XSk7XG4gICAgfVxufVxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/math/ray.ts\n");

/***/ }),

/***/ "./src/math/statistics.ts":
/*!********************************!*\
  !*** ./src/math/statistics.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Stat\": () => /* binding */ Stat\n/* harmony export */ });\n/* harmony import */ var _data_float_matrix__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../data/float-matrix */ \"./src/data/float-matrix.ts\");\n// name:    statistics.ts\r\n// author:  Jos Feenstra\r\n// purpose: functionality and documentation of variance,\r\n//          covariance, eigen vectors, least squares, and other\r\n//          statistical operations.\r\n// source:  been a while since I did this,\r\n//          https://datascienceplus.com/understanding-the-covariance-matrix/\r\n//          https://wiki.pathmind.com/eigenvector\r\n//          used to make sure the basics are correct :).\r\n// notes:   Whats the difference between a Principal Component and an Eigen vector?\r\n//          \"Because eigenvectors trace the principal lines of force, and the axes of greatest variance and covariance illustrate where the data is most susceptible to change.\"\r\n\r\nclass Stat {\r\n    // calculate sum\r\n    static sum(x) {\r\n        let sum = 0;\r\n        for (let i = 0; i < x.length; i++) {\r\n            sum += x[i];\r\n        }\r\n        return sum;\r\n    }\r\n    // calculate average\r\n    static mean(x) {\r\n        return this.sum(x) / x.length;\r\n    }\r\n    // calculate variance\r\n    static variance(x) {\r\n        //σ^2x = (1/n−1) * n∑i=1 (x[i] – xAvr)^2\r\n        let n = x.length;\r\n        let avr = this.mean(x);\r\n        let sum = 0;\r\n        for (let i = 0; i < n; i++) {\r\n            sum += Math.pow((x[i] - avr), 2);\r\n        }\r\n        return sum / (n - 1);\r\n    }\r\n    // calculate the standard deviation\r\n    static deviation(x) {\r\n        return Math.pow(this.variance(x), 0.5);\r\n    }\r\n    // calculate covariance\r\n    static covariance(x, y) {\r\n        if (x.length != y.length)\r\n            throw \"this is not how covariance works...\";\r\n        let n = x.length;\r\n        let xAvr = this.mean(x);\r\n        let yAvr = this.mean(y);\r\n        let sum = 0;\r\n        for (let i = 0; i < n; i++) {\r\n            sum += (x[i] - xAvr) * (y[i] - yAvr);\r\n        }\r\n        return sum / (n - 1); // losing one degree of freedom\r\n    }\r\n    // calculate variance / covariance matrix\r\n    static cov(matrix) {\r\n        let size = matrix._width;\r\n        let cov = new _data_float_matrix__WEBPACK_IMPORTED_MODULE_0__.FloatMatrix(size, size);\r\n        let columns = Array(size);\r\n        for (let i = 0; i < size; i++) {\r\n            columns[i] = matrix.getColumn(i);\r\n        }\r\n        // matrix is symmertical, so only run through one half\r\n        for (let i = 0; i < size; i++) {\r\n            for (let j = i; j < size; j++) {\r\n                let value = this.covariance(columns[i], columns[j]);\r\n                cov.set(i, j, value);\r\n                cov.set(j, i, value);\r\n            }\r\n        }\r\n        return cov;\r\n    }\r\n    static eig(A) {\r\n        let results = this.svd(A);\r\n        return [results[1], results[2]];\r\n    }\r\n    /**\r\n     * Single Value Decomposition.\r\n     * Can be used for Eigen Value Decomposition\r\n     * from G. H. Golub and C. Reinsch, Numer. Math. 14, 403-420 (1970).\r\n     * Taken from numeric.js. not yet cleaned & optimized.\r\n     * https://en.wikipedia.org/wiki/Singular_value_decomposition\r\n     * @param  {FloatMatrix} A matrix to decompose, such as a covariance matrix\r\n     * @returns [U, ∑, V]\r\n     * U -> during EVD, these are the eigen vectors of A transposed, if im not mistaken\r\n     * ∑ -> during EVD, this are the eigen values\r\n     * V -> during EVD, the columns are eigen vectors\r\n     */\r\n    static svd(A) {\r\n        var prec = Math.pow(2, -52); // assumes double prec\r\n        var tolerance = 1e-64 / prec;\r\n        var itmax = 50;\r\n        var c = 0;\r\n        var i = 0;\r\n        var j = 0;\r\n        var k = 0;\r\n        var l = 0;\r\n        var u = A.clone().toNative();\r\n        var m = u.length;\r\n        var n = u[0].length;\r\n        if (m < n)\r\n            throw \"Need more rows than columns\";\r\n        var e = new Array(n);\r\n        var q = new Array(n);\r\n        for (i = 0; i < n; i++)\r\n            e[i] = q[i] = 0.0;\r\n        var v = rep([n, n], 0);\r\n        function pythag(a, b) {\r\n            a = Math.abs(a);\r\n            b = Math.abs(b);\r\n            if (a > b)\r\n                return a * Math.sqrt(1.0 + (b * b) / a / a);\r\n            else if (b == 0.0)\r\n                return a;\r\n            return b * Math.sqrt(1.0 + (a * a) / b / b);\r\n        }\r\n        //rep function, [JF] : dont know what this does exactly...\r\n        function rep(s, v, k = 0) {\r\n            let n = s[k];\r\n            let ret = Array(n);\r\n            let i;\r\n            if (k === s.length - 1) {\r\n                for (i = n - 2; i >= 0; i -= 2) {\r\n                    ret[i + 1] = v;\r\n                    ret[i] = v;\r\n                }\r\n                if (i === -1) {\r\n                    ret[0] = v;\r\n                }\r\n                return ret;\r\n            }\r\n            for (i = n - 1; i >= 0; i--) {\r\n                ret[i] = rep(s, v, k + 1);\r\n            }\r\n            return ret;\r\n        }\r\n        //Householder's reduction to bidiagonal form\r\n        var f = 0.0;\r\n        var g = 0.0;\r\n        var h = 0.0;\r\n        var x = 0.0;\r\n        var y = 0.0;\r\n        var z = 0.0;\r\n        var s = 0.0;\r\n        for (i = 0; i < n; i++) {\r\n            e[i] = g;\r\n            s = 0.0;\r\n            l = i + 1;\r\n            for (j = i; j < m; j++)\r\n                s += u[j][i] * u[j][i];\r\n            if (s <= tolerance)\r\n                g = 0.0;\r\n            else {\r\n                f = u[i][i];\r\n                g = Math.sqrt(s);\r\n                if (f >= 0.0)\r\n                    g = -g;\r\n                h = f * g - s;\r\n                u[i][i] = f - g;\r\n                for (j = l; j < n; j++) {\r\n                    s = 0.0;\r\n                    for (k = i; k < m; k++)\r\n                        s += u[k][i] * u[k][j];\r\n                    f = s / h;\r\n                    for (k = i; k < m; k++)\r\n                        u[k][j] += f * u[k][i];\r\n                }\r\n            }\r\n            q[i] = g;\r\n            s = 0.0;\r\n            for (j = l; j < n; j++)\r\n                s = s + u[i][j] * u[i][j];\r\n            if (s <= tolerance)\r\n                g = 0.0;\r\n            else {\r\n                f = u[i][i + 1];\r\n                g = Math.sqrt(s);\r\n                if (f >= 0.0)\r\n                    g = -g;\r\n                h = f * g - s;\r\n                u[i][i + 1] = f - g;\r\n                for (j = l; j < n; j++)\r\n                    e[j] = u[i][j] / h;\r\n                for (j = l; j < m; j++) {\r\n                    s = 0.0;\r\n                    for (k = l; k < n; k++)\r\n                        s += u[j][k] * u[i][k];\r\n                    for (k = l; k < n; k++)\r\n                        u[j][k] += s * e[k];\r\n                }\r\n            }\r\n            y = Math.abs(q[i]) + Math.abs(e[i]);\r\n            if (y > x)\r\n                x = y;\r\n        }\r\n        // accumulation of right hand gtransformations\r\n        for (i = n - 1; i != -1; i += -1) {\r\n            if (g != 0.0) {\r\n                h = g * u[i][i + 1];\r\n                for (j = l; j < n; j++)\r\n                    v[j][i] = u[i][j] / h;\r\n                for (j = l; j < n; j++) {\r\n                    s = 0.0;\r\n                    for (k = l; k < n; k++)\r\n                        s += u[i][k] * v[k][j];\r\n                    for (k = l; k < n; k++)\r\n                        v[k][j] += s * v[k][i];\r\n                }\r\n            }\r\n            for (j = l; j < n; j++) {\r\n                v[i][j] = 0;\r\n                v[j][i] = 0;\r\n            }\r\n            v[i][i] = 1;\r\n            g = e[i];\r\n            l = i;\r\n        }\r\n        // accumulation of left hand transformations\r\n        for (i = n - 1; i != -1; i += -1) {\r\n            l = i + 1;\r\n            g = q[i];\r\n            for (j = l; j < n; j++)\r\n                u[i][j] = 0;\r\n            if (g != 0.0) {\r\n                h = u[i][i] * g;\r\n                for (j = l; j < n; j++) {\r\n                    s = 0.0;\r\n                    for (k = l; k < m; k++)\r\n                        s += u[k][i] * u[k][j];\r\n                    f = s / h;\r\n                    for (k = i; k < m; k++)\r\n                        u[k][j] += f * u[k][i];\r\n                }\r\n                for (j = i; j < m; j++)\r\n                    u[j][i] = u[j][i] / g;\r\n            }\r\n            else\r\n                for (j = i; j < m; j++)\r\n                    u[j][i] = 0;\r\n            u[i][i] += 1;\r\n        }\r\n        // diagonalization of the bidiagonal form\r\n        prec = prec * x;\r\n        for (k = n - 1; k != -1; k += -1) {\r\n            for (var iteration = 0; iteration < itmax; iteration++) {\r\n                // test f splitting\r\n                var test_convergence = false;\r\n                for (l = k; l != -1; l += -1) {\r\n                    if (Math.abs(e[l]) <= prec) {\r\n                        test_convergence = true;\r\n                        break;\r\n                    }\r\n                    if (Math.abs(q[l - 1]) <= prec)\r\n                        break;\r\n                }\r\n                if (!test_convergence) {\r\n                    // cancellation of e[l] if l>0\r\n                    c = 0.0;\r\n                    s = 1.0;\r\n                    var l1 = l - 1;\r\n                    for (i = l; i < k + 1; i++) {\r\n                        f = s * e[i];\r\n                        e[i] = c * e[i];\r\n                        if (Math.abs(f) <= prec)\r\n                            break;\r\n                        g = q[i];\r\n                        h = pythag(f, g);\r\n                        q[i] = h;\r\n                        c = g / h;\r\n                        s = -f / h;\r\n                        for (j = 0; j < m; j++) {\r\n                            y = u[j][l1];\r\n                            z = u[j][i];\r\n                            u[j][l1] = y * c + z * s;\r\n                            u[j][i] = -y * s + z * c;\r\n                        }\r\n                    }\r\n                }\r\n                // test f convergence\r\n                z = q[k];\r\n                if (l == k) {\r\n                    //convergence\r\n                    if (z < 0.0) {\r\n                        //q[k] is made non-negative\r\n                        q[k] = -z;\r\n                        for (j = 0; j < n; j++)\r\n                            v[j][k] = -v[j][k];\r\n                    }\r\n                    break; //break out of iteration loop and move on to next k value\r\n                }\r\n                if (iteration >= itmax - 1)\r\n                    throw \"Error: no convergence.\";\r\n                // shift from bottom 2x2 minor\r\n                x = q[l];\r\n                y = q[k - 1];\r\n                g = e[k - 1];\r\n                h = e[k];\r\n                f = ((y - z) * (y + z) + (g - h) * (g + h)) / (2.0 * h * y);\r\n                g = pythag(f, 1.0);\r\n                if (f < 0.0)\r\n                    f = ((x - z) * (x + z) + h * (y / (f - g) - h)) / x;\r\n                else\r\n                    f = ((x - z) * (x + z) + h * (y / (f + g) - h)) / x;\r\n                // next QR transformation\r\n                c = 1.0;\r\n                s = 1.0;\r\n                for (i = l + 1; i < k + 1; i++) {\r\n                    g = e[i];\r\n                    y = q[i];\r\n                    h = s * g;\r\n                    g = c * g;\r\n                    z = pythag(f, h);\r\n                    e[i - 1] = z;\r\n                    c = f / z;\r\n                    s = h / z;\r\n                    f = x * c + g * s;\r\n                    g = -x * s + g * c;\r\n                    h = y * s;\r\n                    y = y * c;\r\n                    for (j = 0; j < n; j++) {\r\n                        x = v[j][i - 1];\r\n                        z = v[j][i];\r\n                        v[j][i - 1] = x * c + z * s;\r\n                        v[j][i] = -x * s + z * c;\r\n                    }\r\n                    z = pythag(f, h);\r\n                    q[i - 1] = z;\r\n                    c = f / z;\r\n                    s = h / z;\r\n                    f = c * g + s * y;\r\n                    x = -s * g + c * y;\r\n                    for (j = 0; j < m; j++) {\r\n                        y = u[j][i - 1];\r\n                        z = u[j][i];\r\n                        u[j][i - 1] = y * c + z * s;\r\n                        u[j][i] = -y * s + z * c;\r\n                    }\r\n                }\r\n                e[l] = 0.0;\r\n                e[k] = f;\r\n                q[k] = x;\r\n            }\r\n        }\r\n        for (i = 0; i < q.length; i++)\r\n            if (q[i] < prec)\r\n                q[i] = 0;\r\n        //sort eigenvalues\r\n        var temp;\r\n        for (i = 0; i < n; i++) {\r\n            for (j = i - 1; j >= 0; j--) {\r\n                if (q[j] < q[i]) {\r\n                    c = q[j];\r\n                    q[j] = q[i];\r\n                    q[i] = c;\r\n                    for (k = 0; k < u.length; k++) {\r\n                        temp = u[k][i];\r\n                        u[k][i] = u[k][j];\r\n                        u[k][j] = temp;\r\n                    }\r\n                    for (k = 0; k < v.length; k++) {\r\n                        temp = v[k][i];\r\n                        v[k][i] = v[k][j];\r\n                        v[k][j] = temp;\r\n                    }\r\n                    i = j;\r\n                }\r\n            }\r\n        }\r\n        return [_data_float_matrix__WEBPACK_IMPORTED_MODULE_0__.FloatMatrix.fromNative(u), new Float32Array(q), _data_float_matrix__WEBPACK_IMPORTED_MODULE_0__.FloatMatrix.fromNative(v)];\r\n    }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9nZW9uLWVuZ2luZS8uL3NyYy9tYXRoL3N0YXRpc3RpY3MudHM/MzRiNiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7OztBQUFBLHlCQUF5QjtBQUN6Qix3QkFBd0I7QUFDeEIsd0RBQXdEO0FBQ3hELCtEQUErRDtBQUMvRCxtQ0FBbUM7QUFFbkMsMENBQTBDO0FBQzFDLDRFQUE0RTtBQUM1RSxpREFBaUQ7QUFDakQsd0RBQXdEO0FBQ3hELG1GQUFtRjtBQUNuRixnTEFBZ0w7QUFFN0g7QUFFNUMsTUFBTSxJQUFJO0lBQ2IsZ0JBQWdCO0lBQ2hCLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBMEI7UUFDakMsSUFBSSxHQUFHLEdBQUcsQ0FBQyxDQUFDO1FBQ1osS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7WUFDL0IsR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztTQUNmO1FBQ0QsT0FBTyxHQUFHLENBQUM7SUFDZixDQUFDO0lBRUQsb0JBQW9CO0lBQ3BCLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBMEI7UUFDbEMsT0FBTyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxNQUFNLENBQUM7SUFDbEMsQ0FBQztJQUVELHFCQUFxQjtJQUNyQixNQUFNLENBQUMsUUFBUSxDQUFDLENBQTBCO1FBQ3RDLHdDQUF3QztRQUN4QyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsTUFBTSxDQUFDO1FBQ2pCLElBQUksR0FBRyxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFFdkIsSUFBSSxHQUFHLEdBQUcsQ0FBQyxDQUFDO1FBQ1osS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRTtZQUN4QixHQUFHLElBQUksVUFBQyxD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QUNELENBQUMsR0FBRyxDQUFDLENBQUM7aUJBQ1Q7YUFDSjtTQUNKO1FBRUQsT0FBTyxDQUFDLHNFQUFzQixDQUFDLENBQUMsQ0FBQyxFQUFFLElBQUksWUFBWSxDQUFDLENBQUMsQ0FBQyxFQUFFLHNFQUFzQixDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDdkYsQ0FBQztDQUNKIiwiZmlsZSI6Ii4vc3JjL21hdGgvc3RhdGlzdGljcy50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIG5hbWU6ICAgIHN0YXRpc3RpY3MudHNcbi8vIGF1dGhvcjogIEpvcyBGZWVuc3RyYVxuLy8gcHVycG9zZTogZnVuY3Rpb25hbGl0eSBhbmQgZG9jdW1lbnRhdGlvbiBvZiB2YXJpYW5jZSxcbi8vICAgICAgICAgIGNvdmFyaWFuY2UsIGVpZ2VuIHZlY3RvcnMsIGxlYXN0IHNxdWFyZXMsIGFuZCBvdGhlclxuLy8gICAgICAgICAgc3RhdGlzdGljYWwgb3BlcmF0aW9ucy5cblxuLy8gc291cmNlOiAgYmVlbiBhIHdoaWxlIHNpbmNlIEkgZGlkIHRoaXMsXG4vLyAgICAgICAgICBodHRwczovL2RhdGFzY2llbmNlcGx1cy5jb20vdW5kZXJzdGFuZGluZy10aGUtY292YXJpYW5jZS1tYXRyaXgvXG4vLyAgICAgICAgICBodHRwczovL3dpa2kucGF0aG1pbmQuY29tL2VpZ2VudmVjdG9yXG4vLyAgICAgICAgICB1c2VkIHRvIG1ha2Ugc3VyZSB0aGUgYmFzaWNzIGFyZSBjb3JyZWN0IDopLlxuLy8gbm90ZXM6ICAgV2hhdHMgdGhlIGRpZmZlcmVuY2UgYmV0d2VlbiBhIFByaW5jaXBhbCBDb21wb25lbnQgYW5kIGFuIEVpZ2VuIHZlY3Rvcj9cbi8vICAgICAgICAgIFwiQmVjYXVzZSBlaWdlbnZlY3RvcnMgdHJhY2UgdGhlIHByaW5jaXBhbCBsaW5lcyBvZiBmb3JjZSwgYW5kIHRoZSBheGVzIG9mIGdyZWF0ZXN0IHZhcmlhbmNlIGFuZCBjb3ZhcmlhbmNlIGlsbHVzdHJhdGUgd2hlcmUgdGhlIGRhdGEgaXMgbW9zdCBzdXNjZXB0aWJsZSB0byBjaGFuZ2UuXCJcblxuaW1wb3J0IHsgRmxvYXRNYXRyaXggfSBmcm9tIFwiLi4vZGF0YS9mbG9hdC1tYXRyaXhcIjtcblxuZXhwb3J0IGNsYXNzIFN0YXQge1xuICAgIC8vIGNhbGN1bGF0ZSBzdW1cbiAgICBzdGF0aWMgc3VtKHg6IG51bWJlcltdIHwgRmxvYXQzMkFycmF5KSB7XG4gICAgICAgIGxldCBzdW0gPSAwO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHgubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHN1bSArPSB4W2ldO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdW07XG4gICAgfVxuXG4gICAgLy8gY2FsY3VsYXRlIGF2ZXJhZ2VcbiAgICBzdGF0aWMgbWVhbih4OiBudW1iZXJbXSB8IEZsb2F0MzJBcnJheSkge1xuICAgICAgICByZXR1cm4gdGhpcy5zdW0oeCkgLyB4Lmxlbmd0aDtcbiAgICB9XG5cbiAgICAvLyBjYWxjdWxhdGUgdmFyaWFuY2VcbiAgICBzdGF0aWMgdmFyaWFuY2UoeDogbnVtYmVyW10gfCBGbG9hdDMyQXJyYXkpIHtcbiAgICAgICAgLy/Pg14yeCA9ICgxL27iiJIxKSAqIG7iiJFpPTEgKHhbaV0g4oCTIHhBdnIpXjJcbiAgICAgICAgbGV0IG4gPSB4Lmxlbmd0aDtcbiAgICAgICAgbGV0IGF2ciA9IHRoaXMubWVhbih4KTtcblxuICAgICAgICBsZXQgc3VtID0gMDtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgICAgIHN1bSArPSAoeFtpXSAtIGF2cikgKiogMjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3VtIC8gKG4gLSAxKTtcbiAgICB9XG5cbiAgICAvLyBjYWxjdWxhdGUgdGhlIHN0YW5kYXJkIGRldmlhdGlvblxuICAgIHN0YXRpYyBkZXZpYXRpb24oeDogbnVtYmVyW10gfCBGbG9hdDMyQXJyYXkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmFyaWFuY2UoeCkgKiogMC41O1xuICAgIH1cblxuICAgIC8vIGNhbGN1bGF0ZSBjb3ZhcmlhbmNlXG4gICAgc3RhdGljIGNvdmFyaWFuY2UoeDogbnVtYmVyW10gfCBGbG9hdDMyQXJyYXksIHk6IG51bWJlcltdIHwgRmxvYXQzMkFycmF5KSB7XG4gICAgICAgIGlmICh4Lmxlbmd0aCAhPSB5Lmxlbmd0aCkgdGhyb3cgXCJ0aGlzIGlzIG5vdCBob3cgY292YXJpYW5jZSB3b3Jrcy4uLlwiO1xuICAgICAgICBsZXQgbiA9IHgubGVuZ3RoO1xuICAgICAgICBsZXQgeEF2ciA9IHRoaXMubWVhbih4KTtcbiAgICAgICAgbGV0IHlBdnIgPSB0aGlzLm1lYW4oeSk7XG5cbiAgICAgICAgbGV0IHN1bSA9IDA7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgICAgICBzdW0gKz0gKHhbaV0gLSB4QXZyKSAqICh5W2ldIC0geUF2cik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN1bSAvIChuIC0gMSk7IC8vIGxvc2luZyBvbmUgZGVncmVlIG9mIGZyZWVkb21cbiAgICB9XG5cbiAgICAvLyBjYWxjdWxhdGUgdmFyaWFuY2UgLyBjb3ZhcmlhbmNlIG1hdHJpeFxuICAgIHN0YXRpYyBjb3YobWF0cml4OiBGbG9hdE1hdHJpeCkge1xuICAgICAgICBsZXQgc2l6ZSA9IG1hdHJpeC5fd2lkdGg7XG4gICAgICAgIGxldCBjb3YgPSBuZXcgRmxvYXRNYXRyaXgoc2l6ZSwgc2l6ZSk7XG5cbiAgICAgICAgbGV0IGNvbHVtbnMgPSBBcnJheTxGbG9hdDMyQXJyYXk+KHNpemUpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNpemU7IGkrKykge1xuICAgICAgICAgICAgY29sdW1uc1tpXSA9IG1hdHJpeC5nZXRDb2x1bW4oaSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBtYXRyaXggaXMgc3ltbWVydGljYWwsIHNvIG9ubHkgcnVuIHRocm91Z2ggb25lIGhhbGZcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzaXplOyBpKyspIHtcbiAgICAgICAgICAgIGZvciAobGV0IGogPSBpOyBqIDwgc2l6ZTsgaisrKSB7XG4gICAgICAgICAgICAgICAgbGV0IHZhbHVlID0gdGhpcy5jb3ZhcmlhbmNlKGNvbHVtbnNbaV0sIGNvbHVtbnNbal0pO1xuICAgICAgICAgICAgICAgIGNvdi5zZXQoaSwgaiwgdmFsdWUpO1xuICAgICAgICAgICAgICAgIGNvdi5zZXQoaiwgaSwgdmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjb3Y7XG4gICAgfVxuXG4gICAgc3RhdGljIGVpZyhBOiBGbG9hdE1hdHJpeCk6IFtGbG9hdDMyQXJyYXksIEZsb2F0TWF0cml4XSB7XG4gICAgICAgIGxldCByZXN1bHRzID0gdGhpcy5zdmQoQSk7XG4gICAgICAgIHJldHVybiBbcmVzdWx0c1sxXSwgcmVzdWx0c1syXV07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2luZ2xlIFZhbHVlIERlY29tcG9zaXRpb24uXG4gICAgICogQ2FuIGJlIHVzZWQgZm9yIEVpZ2VuIFZhbHVlIERlY29tcG9zaXRpb25cbiAgICAgKiBmcm9tIEcuIEguIEdvbHViIGFuZCBDLiBSZWluc2NoLCBOdW1lci4gTWF0aC4gMTQsIDQwMy00MjAgKDE5NzApLlxuICAgICAqIFRha2VuIGZyb20gbnVtZXJpYy5qcy4gbm90IHlldCBjbGVhbmVkICYgb3B0aW1pemVkLlxuICAgICAqIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1Npbmd1bGFyX3ZhbHVlX2RlY29tcG9zaXRpb25cbiAgICAgKiBAcGFyYW0gIHtGbG9hdE1hdHJpeH0gQSBtYXRyaXggdG8gZGVjb21wb3NlLCBzdWNoIGFzIGEgY292YXJpYW5jZSBtYXRyaXhcbiAgICAgKiBAcmV0dXJucyBbVSwg4oiRLCBWXVxuICAgICAqIFUgLT4gZHVyaW5nIEVWRCwgdGhlc2UgYXJlIHRoZSBlaWdlbiB2ZWN0b3JzIG9mIEEgdHJhbnNwb3NlZCwgaWYgaW0gbm90IG1pc3Rha2VuXG4gICAgICog4oiRIC0+IGR1cmluZyBFVkQsIHRoaXMgYXJlIHRoZSBlaWdlbiB2YWx1ZXNcbiAgICAgKiBWIC0+IGR1cmluZyBFVkQsIHRoZSBjb2x1bW5zIGFyZSBlaWdlbiB2ZWN0b3JzXG4gICAgICovXG4gICAgc3RhdGljIHN2ZChBOiBGbG9hdE1hdHJpeCk6IFtGbG9hdE1hdHJpeCwgRmxvYXQzMkFycmF5LCBGbG9hdE1hdHJpeF0ge1xuICAgICAgICB2YXIgcHJlYyA9IE1hdGgucG93KDIsIC01Mik7IC8vIGFzc3VtZXMgZG91YmxlIHByZWNcbiAgICAgICAgdmFyIHRvbGVyYW5jZSA9IDFlLTY0IC8gcHJlYztcbiAgICAgICAgdmFyIGl0bWF4ID0gNTA7XG4gICAgICAgIHZhciBjID0gMDtcbiAgICAgICAgdmFyIGkgPSAwO1xuICAgICAgICB2YXIgaiA9IDA7XG4gICAgICAgIHZhciBrID0gMDtcbiAgICAgICAgdmFyIGwgPSAwO1xuXG4gICAgICAgIHZhciB1ID0gQS5jbG9uZSgpLnRvTmF0aXZlKCk7XG4gICAgICAgIHZhciBtID0gdS5sZW5ndGg7XG5cbiAgICAgICAgdmFyIG4gPSB1WzBdLmxlbmd0aDtcblxuICAgICAgICBpZiAobSA8IG4pIHRocm93IFwiTmVlZCBtb3JlIHJvd3MgdGhhbiBjb2x1bW5zXCI7XG5cbiAgICAgICAgdmFyIGUgPSBuZXcgQXJyYXkobik7XG4gICAgICAgIHZhciBxID0gbmV3IEFycmF5KG4pO1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbjsgaSsrKSBlW2ldID0gcVtpXSA9IDAuMDtcbiAgICAgICAgdmFyIHYgPSByZXAoW24sIG5dLCAwKTtcblxuICAgICAgICBmdW5jdGlvbiBweXRoYWcoYTogbnVtYmVyLCBiOiBudW1iZXIpIHtcbiAgICAgICAgICAgIGEgPSBNYXRoLmFicyhhKTtcbiAgICAgICAgICAgIGIgPSBNYXRoLmFicyhiKTtcbiAgICAgICAgICAgIGlmIChhID4gYikgcmV0dXJuIGEgKiBNYXRoLnNxcnQoMS4wICsgKGIgKiBiKSAvIGEgLyBhKTtcbiAgICAgICAgICAgIGVsc2UgaWYgKGIgPT0gMC4wKSByZXR1cm4gYTtcbiAgICAgICAgICAgIHJldHVybiBiICogTWF0aC5zcXJ0KDEuMCArIChhICogYSkgLyBiIC8gYik7XG4gICAgICAgIH1cblxuICAgICAgICAvL3JlcCBmdW5jdGlvbiwgW0pGXSA6IGRvbnQga25vdyB3aGF0IHRoaXMgZG9lcyBleGFjdGx5Li4uXG4gICAgICAgIGZ1bmN0aW9uIHJlcChzOiBBcnJheTxudW1iZXI+LCB2OiBudW1iZXIsIGsgPSAwKSB7XG4gICAgICAgICAgICBsZXQgbiA9IHNba107XG4gICAgICAgICAgICBsZXQgcmV0ID0gQXJyYXkobik7XG4gICAgICAgICAgICBsZXQgaTtcbiAgICAgICAgICAgIGlmIChrID09PSBzLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgICAgICBmb3IgKGkgPSBuIC0gMjsgaSA+PSAwOyBpIC09IDIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0W2kgKyAxXSA9IHY7XG4gICAgICAgICAgICAgICAgICAgIHJldFtpXSA9IHY7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChpID09PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICByZXRbMF0gPSB2O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gcmV0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yIChpID0gbiAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICAgICAgcmV0W2ldID0gcmVwKHMsIHYsIGsgKyAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZXQ7XG4gICAgICAgIH1cblxuICAgICAgICAvL0hvdXNlaG9sZGVyJ3MgcmVkdWN0aW9uIHRvIGJpZGlhZ29uYWwgZm9ybVxuXG4gICAgICAgIHZhciBmID0gMC4wO1xuICAgICAgICB2YXIgZyA9IDAuMDtcbiAgICAgICAgdmFyIGggPSAwLjA7XG4gICAgICAgIHZhciB4ID0gMC4wO1xuICAgICAgICB2YXIgeSA9IDAuMDtcbiAgICAgICAgdmFyIHogPSAwLjA7XG4gICAgICAgIHZhciBzID0gMC4wO1xuXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgICAgIGVbaV0gPSBnO1xuICAgICAgICAgICAgcyA9IDAuMDtcbiAgICAgICAgICAgIGwgPSBpICsgMTtcbiAgICAgICAgICAgIGZvciAoaiA9IGk7IGogPCBtOyBqKyspIHMgKz0gdVtqXVtpXSAqIHVbal1baV07XG4gICAgICAgICAgICBpZiAocyA8PSB0b2xlcmFuY2UpIGcgPSAwLjA7XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBmID0gdVtpXVtpXTtcbiAgICAgICAgICAgICAgICBnID0gTWF0aC5zcXJ0KHMpO1xuICAgICAgICAgICAgICAgIGlmIChmID49IDAuMCkgZyA9IC1nO1xuICAgICAgICAgICAgICAgIGggPSBmICogZyAtIHM7XG4gICAgICAgICAgICAgICAgdVtpXVtpXSA9IGYgLSBnO1xuICAgICAgICAgICAgICAgIGZvciAoaiA9IGw7IGogPCBuOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgcyA9IDAuMDtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChrID0gaTsgayA8IG07IGsrKykgcyArPSB1W2tdW2ldICogdVtrXVtqXTtcbiAgICAgICAgICAgICAgICAgICAgZiA9IHMgLyBoO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGsgPSBpOyBrIDwgbTsgaysrKSB1W2tdW2pdICs9IGYgKiB1W2tdW2ldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHFbaV0gPSBnO1xuICAgICAgICAgICAgcyA9IDAuMDtcbiAgICAgICAgICAgIGZvciAoaiA9IGw7IGogPCBuOyBqKyspIHMgPSBzICsgdVtpXVtqXSAqIHVbaV1bal07XG4gICAgICAgICAgICBpZiAocyA8PSB0b2xlcmFuY2UpIGcgPSAwLjA7XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBmID0gdVtpXVtpICsgMV07XG4gICAgICAgICAgICAgICAgZyA9IE1hdGguc3FydChzKTtcbiAgICAgICAgICAgICAgICBpZiAoZiA+PSAwLjApIGcgPSAtZztcbiAgICAgICAgICAgICAgICBoID0gZiAqIGcgLSBzO1xuICAgICAgICAgICAgICAgIHVbaV1baSArIDFdID0gZiAtIGc7XG4gICAgICAgICAgICAgICAgZm9yIChqID0gbDsgaiA8IG47IGorKykgZVtqXSA9IHVbaV1bal0gLyBoO1xuICAgICAgICAgICAgICAgIGZvciAoaiA9IGw7IGogPCBtOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgcyA9IDAuMDtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChrID0gbDsgayA8IG47IGsrKykgcyArPSB1W2pdW2tdICogdVtpXVtrXTtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChrID0gbDsgayA8IG47IGsrKykgdVtqXVtrXSArPSBzICogZVtrXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB5ID0gTWF0aC5hYnMocVtpXSkgKyBNYXRoLmFicyhlW2ldKTtcbiAgICAgICAgICAgIGlmICh5ID4geCkgeCA9IHk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBhY2N1bXVsYXRpb24gb2YgcmlnaHQgaGFuZCBndHJhbnNmb3JtYXRpb25zXG4gICAgICAgIGZvciAoaSA9IG4gLSAxOyBpICE9IC0xOyBpICs9IC0xKSB7XG4gICAgICAgICAgICBpZiAoZyAhPSAwLjApIHtcbiAgICAgICAgICAgICAgICBoID0gZyAqIHVbaV1baSArIDFdO1xuICAgICAgICAgICAgICAgIGZvciAoaiA9IGw7IGogPCBuOyBqKyspIHZbal1baV0gPSB1W2ldW2pdIC8gaDtcbiAgICAgICAgICAgICAgICBmb3IgKGogPSBsOyBqIDwgbjsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgIHMgPSAwLjA7XG4gICAgICAgICAgICAgICAgICAgIGZvciAoayA9IGw7IGsgPCBuOyBrKyspIHMgKz0gdVtpXVtrXSAqIHZba11bal07XG4gICAgICAgICAgICAgICAgICAgIGZvciAoayA9IGw7IGsgPCBuOyBrKyspIHZba11bal0gKz0gcyAqIHZba11baV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yIChqID0gbDsgaiA8IG47IGorKykge1xuICAgICAgICAgICAgICAgIHZbaV1bal0gPSAwO1xuICAgICAgICAgICAgICAgIHZbal1baV0gPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdltpXVtpXSA9IDE7XG4gICAgICAgICAgICBnID0gZVtpXTtcbiAgICAgICAgICAgIGwgPSBpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gYWNjdW11bGF0aW9uIG9mIGxlZnQgaGFuZCB0cmFuc2Zvcm1hdGlvbnNcbiAgICAgICAgZm9yIChpID0gbiAtIDE7IGkgIT0gLTE7IGkgKz0gLTEpIHtcbiAgICAgICAgICAgIGwgPSBpICsgMTtcbiAgICAgICAgICAgIGcgPSBxW2ldO1xuICAgICAgICAgICAgZm9yIChqID0gbDsgaiA8IG47IGorKykgdVtpXVtqXSA9IDA7XG4gICAgICAgICAgICBpZiAoZyAhPSAwLjApIHtcbiAgICAgICAgICAgICAgICBoID0gdVtpXVtpXSAqIGc7XG4gICAgICAgICAgICAgICAgZm9yIChqID0gbDsgaiA8IG47IGorKykge1xuICAgICAgICAgICAgICAgICAgICBzID0gMC4wO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGsgPSBsOyBrIDwgbTsgaysrKSBzICs9IHVba11baV0gKiB1W2tdW2pdO1xuICAgICAgICAgICAgICAgICAgICBmID0gcyAvIGg7XG4gICAgICAgICAgICAgICAgICAgIGZvciAoayA9IGk7IGsgPCBtOyBrKyspIHVba11bal0gKz0gZiAqIHVba11baV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZvciAoaiA9IGk7IGogPCBtOyBqKyspIHVbal1baV0gPSB1W2pdW2ldIC8gZztcbiAgICAgICAgICAgIH0gZWxzZSBmb3IgKGogPSBpOyBqIDwgbTsgaisrKSB1W2pdW2ldID0gMDtcbiAgICAgICAgICAgIHVbaV1baV0gKz0gMTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGRpYWdvbmFsaXphdGlvbiBvZiB0aGUgYmlkaWFnb25hbCBmb3JtXG4gICAgICAgIHByZWMgPSBwcmVjICogeDtcbiAgICAgICAgZm9yIChrID0gbiAtIDE7IGsgIT0gLTE7IGsgKz0gLTEpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGl0ZXJhdGlvbiA9IDA7IGl0ZXJhdGlvbiA8IGl0bWF4OyBpdGVyYXRpb24rKykge1xuICAgICAgICAgICAgICAgIC8vIHRlc3QgZiBzcGxpdHRpbmdcbiAgICAgICAgICAgICAgICB2YXIgdGVzdF9jb252ZXJnZW5jZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGZvciAobCA9IGs7IGwgIT0gLTE7IGwgKz0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKE1hdGguYWJzKGVbbF0pIDw9IHByZWMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlc3RfY29udmVyZ2VuY2UgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKE1hdGguYWJzKHFbbCAtIDFdKSA8PSBwcmVjKSBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCF0ZXN0X2NvbnZlcmdlbmNlKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGNhbmNlbGxhdGlvbiBvZiBlW2xdIGlmIGw+MFxuICAgICAgICAgICAgICAgICAgICBjID0gMC4wO1xuICAgICAgICAgICAgICAgICAgICBzID0gMS4wO1xuICAgICAgICAgICAgICAgICAgICB2YXIgbDEgPSBsIC0gMTtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChpID0gbDsgaSA8IGsgKyAxOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGYgPSBzICogZVtpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVbaV0gPSBjICogZVtpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChNYXRoLmFicyhmKSA8PSBwcmVjKSBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGcgPSBxW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgaCA9IHB5dGhhZyhmLCBnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHFbaV0gPSBoO1xuICAgICAgICAgICAgICAgICAgICAgICAgYyA9IGcgLyBoO1xuICAgICAgICAgICAgICAgICAgICAgICAgcyA9IC1mIC8gaDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoaiA9IDA7IGogPCBtOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB5ID0gdVtqXVtsMV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeiA9IHVbal1baV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdVtqXVtsMV0gPSB5ICogYyArIHogKiBzO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVbal1baV0gPSAteSAqIHMgKyB6ICogYztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyB0ZXN0IGYgY29udmVyZ2VuY2VcbiAgICAgICAgICAgICAgICB6ID0gcVtrXTtcbiAgICAgICAgICAgICAgICBpZiAobCA9PSBrKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vY29udmVyZ2VuY2VcbiAgICAgICAgICAgICAgICAgICAgaWYgKHogPCAwLjApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vcVtrXSBpcyBtYWRlIG5vbi1uZWdhdGl2ZVxuICAgICAgICAgICAgICAgICAgICAgICAgcVtrXSA9IC16O1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChqID0gMDsgaiA8IG47IGorKykgdltqXVtrXSA9IC12W2pdW2tdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrOyAvL2JyZWFrIG91dCBvZiBpdGVyYXRpb24gbG9vcCBhbmQgbW92ZSBvbiB0byBuZXh0IGsgdmFsdWVcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGl0ZXJhdGlvbiA+PSBpdG1heCAtIDEpIHRocm93IFwiRXJyb3I6IG5vIGNvbnZlcmdlbmNlLlwiO1xuICAgICAgICAgICAgICAgIC8vIHNoaWZ0IGZyb20gYm90dG9tIDJ4MiBtaW5vclxuICAgICAgICAgICAgICAgIHggPSBxW2xdO1xuICAgICAgICAgICAgICAgIHkgPSBxW2sgLSAxXTtcbiAgICAgICAgICAgICAgICBnID0gZVtrIC0gMV07XG4gICAgICAgICAgICAgICAgaCA9IGVba107XG4gICAgICAgICAgICAgICAgZiA9ICgoeSAtIHopICogKHkgKyB6KSArIChnIC0gaCkgKiAoZyArIGgpKSAvICgyLjAgKiBoICogeSk7XG4gICAgICAgICAgICAgICAgZyA9IHB5dGhhZyhmLCAxLjApO1xuICAgICAgICAgICAgICAgIGlmIChmIDwgMC4wKSBmID0gKCh4IC0geikgKiAoeCArIHopICsgaCAqICh5IC8gKGYgLSBnKSAtIGgpKSAvIHg7XG4gICAgICAgICAgICAgICAgZWxzZSBmID0gKCh4IC0geikgKiAoeCArIHopICsgaCAqICh5IC8gKGYgKyBnKSAtIGgpKSAvIHg7XG4gICAgICAgICAgICAgICAgLy8gbmV4dCBRUiB0cmFuc2Zvcm1hdGlvblxuICAgICAgICAgICAgICAgIGMgPSAxLjA7XG4gICAgICAgICAgICAgICAgcyA9IDEuMDtcbiAgICAgICAgICAgICAgICBmb3IgKGkgPSBsICsgMTsgaSA8IGsgKyAxOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgZyA9IGVbaV07XG4gICAgICAgICAgICAgICAgICAgIHkgPSBxW2ldO1xuICAgICAgICAgICAgICAgICAgICBoID0gcyAqIGc7XG4gICAgICAgICAgICAgICAgICAgIGcgPSBjICogZztcbiAgICAgICAgICAgICAgICAgICAgeiA9IHB5dGhhZyhmLCBoKTtcbiAgICAgICAgICAgICAgICAgICAgZVtpIC0gMV0gPSB6O1xuICAgICAgICAgICAgICAgICAgICBjID0gZiAvIHo7XG4gICAgICAgICAgICAgICAgICAgIHMgPSBoIC8gejtcbiAgICAgICAgICAgICAgICAgICAgZiA9IHggKiBjICsgZyAqIHM7XG4gICAgICAgICAgICAgICAgICAgIGcgPSAteCAqIHMgKyBnICogYztcbiAgICAgICAgICAgICAgICAgICAgaCA9IHkgKiBzO1xuICAgICAgICAgICAgICAgICAgICB5ID0geSAqIGM7XG4gICAgICAgICAgICAgICAgICAgIGZvciAoaiA9IDA7IGogPCBuOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHggPSB2W2pdW2kgLSAxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHogPSB2W2pdW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgdltqXVtpIC0gMV0gPSB4ICogYyArIHogKiBzO1xuICAgICAgICAgICAgICAgICAgICAgICAgdltqXVtpXSA9IC14ICogcyArIHogKiBjO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHogPSBweXRoYWcoZiwgaCk7XG4gICAgICAgICAgICAgICAgICAgIHFbaSAtIDFdID0gejtcbiAgICAgICAgICAgICAgICAgICAgYyA9IGYgLyB6O1xuICAgICAgICAgICAgICAgICAgICBzID0gaCAvIHo7XG4gICAgICAgICAgICAgICAgICAgIGYgPSBjICogZyArIHMgKiB5O1xuICAgICAgICAgICAgICAgICAgICB4ID0gLXMgKiBnICsgYyAqIHk7XG4gICAgICAgICAgICAgICAgICAgIGZvciAoaiA9IDA7IGogPCBtOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHkgPSB1W2pdW2kgLSAxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHogPSB1W2pdW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgdVtqXVtpIC0gMV0gPSB5ICogYyArIHogKiBzO1xuICAgICAgICAgICAgICAgICAgICAgICAgdVtqXVtpXSA9IC15ICogcyArIHogKiBjO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVbbF0gPSAwLjA7XG4gICAgICAgICAgICAgICAgZVtrXSA9IGY7XG4gICAgICAgICAgICAgICAgcVtrXSA9IHg7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgcS5sZW5ndGg7IGkrKykgaWYgKHFbaV0gPCBwcmVjKSBxW2ldID0gMDtcblxuICAgICAgICAvL3NvcnQgZWlnZW52YWx1ZXNcbiAgICAgICAgdmFyIHRlbXA7XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgICAgIGZvciAoaiA9IGkgLSAxOyBqID49IDA7IGotLSkge1xuICAgICAgICAgICAgICAgIGlmIChxW2pdIDwgcVtpXSkge1xuICAgICAgICAgICAgICAgICAgICBjID0gcVtqXTtcbiAgICAgICAgICAgICAgICAgICAgcVtqXSA9IHFbaV07XG4gICAgICAgICAgICAgICAgICAgIHFbaV0gPSBjO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGsgPSAwOyBrIDwgdS5sZW5ndGg7IGsrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcCA9IHVba11baV07XG4gICAgICAgICAgICAgICAgICAgICAgICB1W2tdW2ldID0gdVtrXVtqXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHVba11bal0gPSB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGZvciAoayA9IDA7IGsgPCB2Lmxlbmd0aDsgaysrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wID0gdltrXVtpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZba11baV0gPSB2W2tdW2pdO1xuICAgICAgICAgICAgICAgICAgICAgICAgdltrXVtqXSA9IHRlbXA7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaSA9IGo7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIFtGbG9hdE1hdHJpeC5mcm9tTmF0aXZlKHUpLCBuZXcgRmxvYXQzMkFycmF5KHEpLCBGbG9hdE1hdHJpeC5mcm9tTmF0aXZlKHYpXTtcbiAgICB9XG59XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/math/statistics.ts\n");

/***/ }),

/***/ "./src/math/util.ts":
/*!**************************!*\
  !*** ./src/math/util.ts ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Util\": () => /* binding */ Util\n/* harmony export */ });\nclass Util {\r\n    static range(n) {\r\n        let array = [];\r\n        for (let i = 0; i < n; i++) {\r\n            array.push(i);\r\n        }\r\n        return array;\r\n    }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9nZW9uLWVuZ2luZS8uL3NyYy9tYXRoL3V0aWwudHM/ODBlNiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O0FBQU8sTUFBTSxJQUFJO0lBQ2IsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFTO1FBQ2xCLElBQUksS0FBSyxHQUFhLEVBQUUsQ0FBQztRQUN6QixLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFO1lBQ3hCLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7U0FDakI7UUFDRCxPQUFPLEtBQUssQ0FBQztJQUNqQixDQUFDO0NBQ0oiLCJmaWxlIjoiLi9zcmMvbWF0aC91dGlsLnRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNsYXNzIFV0aWwge1xuICAgIHN0YXRpYyByYW5nZShuOiBudW1iZXIpOiBudW1iZXJbXSB7XG4gICAgICAgIGxldCBhcnJheTogbnVtYmVyW10gPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgICAgIGFycmF5LnB1c2goaSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFycmF5O1xuICAgIH1cbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/math/util.ts\n");

/***/ }),

/***/ "./src/math/vector.ts":
/*!****************************!*\
  !*** ./src/math/vector.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Vector3\": () => /* binding */ Vector3,\n/* harmony export */   \"Vector2\": () => /* binding */ Vector2\n/* harmony export */ });\n/* harmony import */ var _const__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./const */ \"./src/math/const.ts\");\n/* harmony import */ var _math__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./math */ \"./src/math/math.ts\");\n/* harmony import */ var _matrix__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./matrix */ \"./src/math/matrix.ts\");\n/* harmony import */ var _util__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./util */ \"./src/math/util.ts\");\n// author: \tJos Feenstra\r\n// inspiration from Three.js\r\n// note: \trecycle the class as much as possble, building a new class is expensive,\r\n// \t\t\tespecially in javascript\r\n// todo: \tBIJ NADER INZIEN: dont go the copy route. rewrite this in a more functional way creating new classes is expensive, but we really need immutable vectors.\r\n// \t\t\tthese types of consistent vectors are only useful in niche cases, and complitate a lot of common cases.\r\n\r\n\r\n\r\n\r\nclass Vector3 {\r\n    // #region constructors\r\n    constructor(x, y, z) {\r\n        this.x = x;\r\n        this.y = y;\r\n        this.z = z;\r\n    }\r\n    static new(x, y, z) {\r\n        return new Vector3(x, y, z);\r\n    }\r\n    static calculateWheelOrder(vectors, ihat, jhat) {\r\n        // console.log(\"wheel order\");\r\n        // console.log(\"hats\", ihat, jhat)\r\n        let angles = [];\r\n        vectors.forEach((v) => {\r\n            angles.push(new Vector2(v.dot(ihat), v.dot(jhat)).angle());\r\n        });\r\n        // console.log(\"angles\", angles);\r\n        let ids = _util__WEBPACK_IMPORTED_MODULE_3__.Util.range(vectors.length);\r\n        ids.sort((a, b) => {\r\n            return angles[a] - angles[b];\r\n        });\r\n        return ids;\r\n    }\r\n    static fromLerp(v1, v2, alpha) {\r\n        return new Vector3(v1.x + (v2.x - v1.x) * alpha, v1.y + (v2.y - v1.y) * alpha, v1.z + (v2.z - v1.z) * alpha);\r\n    }\r\n    static fromArray(a) {\r\n        return new Vector3(a[0], a[1], a[2]);\r\n    }\r\n    static fromRandom() {\r\n        return new Vector3(Math.random(), Math.random(), Math.random());\r\n    }\r\n    static fromSphere(radius, theta, phi) {\r\n        const sinPhiRadius = Math.sin(phi) * radius;\r\n        return this.constructor(sinPhiRadius * Math.sin(theta), Math.cos(phi) * radius, sinPhiRadius * Math.cos(theta));\r\n    }\r\n    static fromCylinder(radius, theta, height) {\r\n        return this.constructor(radius * Math.sin(theta), height, radius * Math.cos(theta));\r\n    }\r\n    static fromLerpWeights(p1, p2, tP1, tP2, t) {\r\n        if (Math.abs(t - tP1) < 0.00001)\r\n            return p1;\r\n        if (Math.abs(t - tP2) < 0.00001)\r\n            return p2;\r\n        if (Math.abs(tP1 - tP2) < 0.00001)\r\n            return p1;\r\n        let mu = (t - tP1) / (tP2 - tP1);\r\n        return new Vector3(p1.x + mu * (p2.x - p1.x), p1.y + mu * (p2.y - p1.y), p1.z + mu * (p2.z - p1.z));\r\n    }\r\n    // #endregion\r\n    // #region defaults\r\n    static zero() {\r\n        return new Vector3(0, 0, 0);\r\n    }\r\n    static unitX() {\r\n        return new Vector3(1, 0, 0);\r\n    }\r\n    static unitY() {\r\n        return new Vector3(0, 1, 0);\r\n    }\r\n    static unitZ() {\r\n        return new Vector3(0, 0, 1);\r\n    }\r\n    // #endregion\r\n    // #region basics\r\n    toArray() {\r\n        return new Float32Array([this.x, this.y, this.z]);\r\n    }\r\n    set(x, y, z) {\r\n        this.x = x;\r\n        this.y = y;\r\n        this.z = z;\r\n        return this;\r\n    }\r\n    equals(v) {\r\n        return v.x === this.x && v.y === this.y && v.z === this.z;\r\n    }\r\n    toString() {\r\n        return `Vector3(${this.x}, ${this.y}, ${this.z})`;\r\n    }\r\n    toVector2() {\r\n        return new Vector2(this.x, this.y);\r\n    }\r\n    clone() {\r\n        return new Vector3(this.x, this.y, this.z);\r\n    }\r\n    copy(v) {\r\n        this.x = v.x;\r\n        this.y = v.y;\r\n        this.z = v.z;\r\n        return this;\r\n    }\r\n    to2D() {\r\n        return new Vector2(this.x, this.y);\r\n    }\r\n    // #endregion\r\n    // #region math like vector2\r\n    largestValue() {\r\n        return Math.max(this.x, this.y, this.z);\r\n    }\r\n    added(v) {\r\n        return new Vector3(this.x + v.x, this.y + v.y, this.z + v.z);\r\n    }\r\n    add(v) {\r\n        this.x += v.x;\r\n        this.y += v.y;\r\n        this.z += v.z;\r\n        return this;\r\n    }\r\n    subbed(v) {\r\n        return new Vector3(this.x - v.x, this.y - v.y, this.z - v.z);\r\n    }\r\n    sub(v) {\r\n        (this.x -= v.x), (this.y -= v.y), (this.z -= v.z);\r\n        return this;\r\n    }\r\n    item(i) {\r\n        switch (i) {\r\n            case 0:\r\n                return this.x;\r\n            case 1:\r\n                return this.y;\r\n            case 2:\r\n                return this.z;\r\n            case 3:\r\n                return 1;\r\n            default:\r\n                throw \"nope\";\r\n        }\r\n    }\r\n    scaled(v) {\r\n        return new Vector3(this.x * v, this.y * v, this.z * v);\r\n    }\r\n    scale(v) {\r\n        this.x *= v;\r\n        this.y *= v;\r\n        this.z *= v;\r\n        return this;\r\n    }\r\n    mul(v) {\r\n        this.x *= v.x;\r\n        this.y *= v.y;\r\n        this.z *= v.z;\r\n        return this;\r\n    }\r\n    multiplied(v) {\r\n        return new Vector3(this.x * v.x, this.y * v.y, this.z * v.z);\r\n    }\r\n    divVector(v) {\r\n        return new Vector3(this.x / v.x, this.y / v.y, this.z / v.z);\r\n    }\r\n    divided(value) {\r\n        return new Vector3(this.x / value, this.y / value, this.z / value);\r\n    }\r\n    div(value) {\r\n        (this.x /= value), (this.y /= value), (this.z /= value);\r\n        return this;\r\n    }\r\n    minimumed(other) {\r\n        return new Vector3(Math.min(this.x, other.x), Math.min(this.y, other.y), Math.min(this.z, other.z));\r\n    }\r\n    maximumed(other) {\r\n        return new Vector3(Math.max(this.x, other.x), Math.max(this.y, other.y), Math.max(this.z, other.z));\r\n    }\r\n    clamped(min, max) {\r\n        return new Vector3(Math.max(min.x, Math.min(max.x, this.x)), Math.max(min.y, Math.min(max.y, this.y)), Math.max(min.z, Math.min(max.z, this.z)));\r\n    }\r\n    clampScalared(min, max) {\r\n        return new Vector3(_math__WEBPACK_IMPORTED_MODULE_1__.GeonMath.clamp(this.x, min, max), _math__WEBPACK_IMPORTED_MODULE_1__.GeonMath.clamp(this.y, min, max), _math__WEBPACK_IMPORTED_MODULE_1__.GeonMath.clamp(this.z, min, max));\r\n    }\r\n    clampLengthed(min, max) {\r\n        const length = this.length();\r\n        return this.div(length || 1).scale(Math.max(min, Math.min(max, length)));\r\n    }\r\n    floored() {\r\n        return new Vector3(Math.floor(this.x), Math.floor(this.y), Math.floor(this.z));\r\n    }\r\n    ceiled() {\r\n        return new Vector3(Math.ceil(this.x), Math.ceil(this.y), Math.ceil(this.z));\r\n    }\r\n    rounded() {\r\n        return new Vector3(Math.round(this.x), Math.round(this.y), Math.round(this.z));\r\n    }\r\n    roundedToZero() {\r\n        return new Vector3(this.x < 0 ? Math.ceil(this.x) : Math.floor(this.x), this.y < 0 ? Math.ceil(this.y) : Math.floor(this.y), this.z < 0 ? Math.ceil(this.z) : Math.floor(this.z));\r\n    }\r\n    negate() {\r\n        this.x = -this.x;\r\n        this.y = -this.y;\r\n        this.z = -this.z;\r\n        return this;\r\n    }\r\n    negated() {\r\n        return new Vector3(-this.x, -this.y, -this.z);\r\n    }\r\n    angle(other, normal) {\r\n        let thisProjected = this.subbed(normal.scaled(this.dot(normal)));\r\n        let otherProjected = other.subbed(normal.scaled(other.dot(normal)));\r\n        console.log(thisProjected);\r\n        console.log(otherProjected);\r\n        return 0;\r\n    }\r\n    dot(v) {\r\n        return this.x * v.x + this.y * v.y + this.z * v.z;\r\n    }\r\n    cross(other) {\r\n        const ax = this.x, ay = this.y, az = this.z;\r\n        const bx = other.x, by = other.y, bz = other.z;\r\n        return new Vector3(ay * bz - az * by, az * bx - ax * bz, ax * by - ay * bx);\r\n    }\r\n    getLengthSquared() {\r\n        return this.x * this.x + this.y * this.y + this.z * this.z;\r\n    }\r\n    length() {\r\n        return Math.sqrt(this.getLengthSquared());\r\n    }\r\n    manhat() {\r\n        return Math.abs(this.x) + Math.abs(this.y) + Math.abs(this.z);\r\n    }\r\n    normalize() {\r\n        return this.div(this.length() || 1);\r\n    }\r\n    normalized() {\r\n        return this.divided(this.length() || 1);\r\n    }\r\n    isNormal() {\r\n        return Math.abs(this.length() - 1) < _const__WEBPACK_IMPORTED_MODULE_0__.Const.TOLERANCE;\r\n    }\r\n    disTo(v) {\r\n        return Math.sqrt(this.disToSquared(v));\r\n    }\r\n    disToSquared(v) {\r\n        const dx = this.x - v.x, dy = this.y - v.y, dz = this.z - v.z;\r\n        return dx * dx + dy * dy + dz * dz;\r\n    }\r\n    disToManhat(v) {\r\n        return Math.abs(this.x - v.x) + Math.abs(this.y - v.y) + Math.abs(this.z - v.z);\r\n    }\r\n    setLength(length) {\r\n        return this.normalize().scale(length);\r\n    }\r\n    lerp(other, alpha) {\r\n        return new Vector3((other.x - this.x) * alpha, (other.y - this.y) * alpha, (other.z - this.z) * alpha);\r\n    }\r\n    // #endregion\r\n    // #region math specific\r\n    projectOnVector(other) {\r\n        // use dot product to project this vector on the other vector\r\n        const denominator = other.getLengthSquared();\r\n        if (denominator === 0)\r\n            return this.set(0, 0, 0);\r\n        const scalar = other.dot(this) / denominator;\r\n        return this.copy(other).scale(scalar);\r\n    }\r\n    projectedOnPlane(normal) {\r\n        // project a vector\r\n        _vector.copy(this).projectOnVector(normal);\r\n        return this.minimumed(_vector);\r\n    }\r\n    mirrored(normal) {\r\n        // mirror incident vector off plane orthogonal to normal\r\n        // normal is assumed to have unit length\r\n        return this.minimumed(_vector.copy(normal).scale(2 * this.dot(normal)));\r\n    }\r\n    rotated(axis, angle) {\r\n        let mat = _matrix__WEBPACK_IMPORTED_MODULE_2__.Matrix4.newAxisRotation(axis, angle);\r\n        return mat.multiplyVector(this);\r\n    }\r\n}\r\nconst _vector = new Vector3(0, 0, 0);\r\nclass Vector2 {\r\n    constructor(x, y) {\r\n        this.x = x;\r\n        this.y = y;\r\n    }\r\n    // --- factories & other statics\r\n    static fromArray(a) {\r\n        return new Vector2(a[0], a[1]);\r\n    }\r\n    static fromLerp(v1, v2, alpha) {\r\n        return new Vector2(v1.x + (v2.x - v1.x) * alpha, v1.y + (v2.y - v1.y) * alpha);\r\n    }\r\n    static fromRandom() {\r\n        return new Vector2(Math.random(), Math.random());\r\n    }\r\n    static fromRandomAngle() {\r\n        let alpha = Math.random() * Math.PI * 2;\r\n        return new Vector2(Math.cos(alpha), Math.sin(alpha));\r\n    }\r\n    // static from2Pt(from: Vector2, to: Vector2) : Vector2 {\r\n    // \treturn new Vector2(\r\n    // \t\tfrom.x - to.x,\r\n    // \t\tfrom.y - to.y\r\n    // \t)\r\n    // }\r\n    static fromCircle(center, radius, theta) {\r\n        return new Vector2(center.x + radius * Math.sin(theta), center.y + radius * Math.cos(theta));\r\n    }\r\n    static fromCopy(other) {\r\n        return this.zero().copy(other);\r\n    }\r\n    static zero() {\r\n        return new Vector2(0, 0);\r\n    }\r\n    static NaN() {\r\n        return new Vector2(NaN, NaN);\r\n    }\r\n    static fromCircumcenter(a, b, c) {\r\n        const asum = a.squareSum();\r\n        const bsum = b.squareSum();\r\n        const csum = c.squareSum();\r\n        // sort of cross product\r\n        let d = 2 * (a.x * (b.y - c.y) + b.x * (c.y - a.y) + c.x * (a.y - b.y));\r\n        // if this triangle has no circumcenter?\r\n        if (d < 0.000001)\r\n            return Vector2.NaN();\r\n        let x = (asum * (b.y - c.y) + bsum * (c.y - a.y) + csum * (a.y - b.y)) / d;\r\n        let y = (asum * (c.x - b.x) + bsum * (a.x - c.x) + csum * (b.x - a.x)) / d;\r\n        return new Vector2(x, y);\r\n    }\r\n    static getSign(a, b, c) {\r\n        // test half plane relationship\r\n        // <0 : point on first half\r\n        // 0  : points collinear\r\n        // >0 : point on second half\r\n        return (a.x - c.x) * (b.y - c.y) - (b.x - c.x) * (a.y - c.y);\r\n    }\r\n    // --- basics\r\n    to3D() {\r\n        return new Vector3(this.x, this.y, 0);\r\n    }\r\n    set(x, y) {\r\n        this.x = x;\r\n        this.y = y;\r\n        return this;\r\n    }\r\n    roughlyEquals(v, tol) {\r\n        return Math.abs(this.x - v.x) < tol && Math.abs(this.y - v.y) < tol;\r\n    }\r\n    equals(v) {\r\n        return v.x === this.x && v.y === this.y;\r\n    }\r\n    toString() {\r\n        return `Vector2(${this.x}, ${this.y})`;\r\n    }\r\n    clone() {\r\n        return new Vector2(this.x, this.y);\r\n    }\r\n    copy(v) {\r\n        this.x = v.x;\r\n        this.y = v.y;\r\n        return this;\r\n    }\r\n    // --- math\r\n    add(v) {\r\n        this.x += v.x;\r\n        this.y += v.y;\r\n        return this;\r\n    }\r\n    added(v) {\r\n        return new Vector2(this.x + v.x, this.y + v.y);\r\n    }\r\n    addn(arg0, arg1) {\r\n        this.x += arg0;\r\n        this.y += arg1;\r\n        return this;\r\n    }\r\n    sub(v) {\r\n        this.x -= v.x;\r\n        this.y -= v.y;\r\n        return this;\r\n    }\r\n    subbed(v) {\r\n        return new Vector2(this.x - v.x, this.y - v.y);\r\n    }\r\n    mul(v) {\r\n        this.x *= v.x;\r\n        this.y *= v.y;\r\n        return this;\r\n    }\r\n    scale(v) {\r\n        this.x *= v;\r\n        this.y *= v;\r\n        return this;\r\n    }\r\n    scaled(v) {\r\n        return new Vector2(this.x * v, this.y * v);\r\n    }\r\n    divVector(v) {\r\n        this.x /= v.x;\r\n        this.y /= v.y;\r\n        return this;\r\n    }\r\n    div(v) {\r\n        this.x /= v;\r\n        this.y /= v;\r\n        return this;\r\n    }\r\n    dived(v) {\r\n        return new Vector2(this.x / v, this.y / v);\r\n    }\r\n    minimum(other) {\r\n        this.x = Math.min(this.x, other.x);\r\n        this.y = Math.min(this.y, other.y);\r\n        return this;\r\n    }\r\n    maximum(other) {\r\n        this.x = Math.max(this.x, other.x);\r\n        this.y = Math.max(this.y, other.y);\r\n        return this;\r\n    }\r\n    clamp(min, max) {\r\n        // assumes min < max, componentwise\r\n        this.x = Math.max(min.x, Math.min(max.x, this.x));\r\n        this.y = Math.max(min.y, Math.min(max.y, this.y));\r\n        return this;\r\n    }\r\n    clampScalar(minVal, maxVal) {\r\n        this.x = Math.max(minVal, Math.min(maxVal, this.x));\r\n        this.y = Math.max(minVal, Math.min(maxVal, this.y));\r\n        return this;\r\n    }\r\n    clampLength(min, max) {\r\n        const length = this.length();\r\n        return this.div(length || 1).scale(Math.max(min, Math.min(max, length)));\r\n    }\r\n    floor() {\r\n        this.x = Math.floor(this.x);\r\n        this.y = Math.floor(this.y);\r\n        return this;\r\n    }\r\n    ceil() {\r\n        this.x = Math.ceil(this.x);\r\n        this.y = Math.ceil(this.y);\r\n        return this;\r\n    }\r\n    round() {\r\n        this.x = Math.round(this.x);\r\n        this.y = Math.round(this.y);\r\n        return this;\r\n    }\r\n    roundToZero() {\r\n        this.x = this.x < 0 ? Math.ceil(this.x) : Math.floor(this.x);\r\n        this.y = this.y < 0 ? Math.ceil(this.y) : Math.floor(this.y);\r\n        return this;\r\n    }\r\n    negate() {\r\n        this.x = -this.x;\r\n        this.y = -this.y;\r\n        return this;\r\n    }\r\n    dot(v) {\r\n        return this.x * v.x + this.y * v.y;\r\n    }\r\n    cross(v) {\r\n        return this.x * v.y - this.y * v.x; // ????\r\n    }\r\n    squareSum() {\r\n        return this.x * this.x + this.y * this.y;\r\n    }\r\n    length() {\r\n        return Math.sqrt(this.lengthSquared());\r\n    }\r\n    lengthSquared() {\r\n        return this.x * this.x + this.y * this.y;\r\n    }\r\n    manhat() {\r\n        return Math.abs(this.x) + Math.abs(this.y);\r\n    }\r\n    normalize() {\r\n        return this.div(this.length() || 1);\r\n    }\r\n    normalized() {\r\n        return this.dived(this.length() || 1);\r\n    }\r\n    angle() {\r\n        // computes the angle in radians with respect to the positive x-axis\r\n        const angle = Math.atan2(-this.y, -this.x) + Math.PI;\r\n        return angle;\r\n    }\r\n    disTo(v) {\r\n        return Math.sqrt(this.disToSquared(v));\r\n    }\r\n    disToSquared(v) {\r\n        let dx = this.x - v.x;\r\n        let dy = this.y - v.y;\r\n        return dx * dx + dy * dy;\r\n    }\r\n    disToManhat(v) {\r\n        return Math.abs(this.x - v.x) + Math.abs(this.y - v.y);\r\n    }\r\n    setLength(length) {\r\n        return this.normalize().scale(length);\r\n    }\r\n    lerp(other, alpha) {\r\n        return new Vector2(this.x + (other.x - this.x) * alpha, this.y + (other.y - this.y) * alpha);\r\n    }\r\n    // calculate the 'triangle sign' of three points. Can be used to determine clockwise & counter clockwise\r\n    sign(b, c) {\r\n        return (this.x - c.x) * (b.y - c.y) - (b.x - c.x) * (this.y - c.y);\r\n    }\r\n    // use dot product to project this vector on the other vector\r\n    projectOnVector(other) {\r\n        const denominator = other.lengthSquared();\r\n        if (denominator === 0)\r\n            return this.set(0, 0);\r\n        const scalar = other.dot(this) / denominator;\r\n        return this.copy(other).scale(scalar);\r\n    }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9nZW9uLWVuZ2luZS8uL3NyYy9tYXRoL3ZlY3Rvci50cz9kZDEwIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBLHdCQUF3QjtBQUN4Qiw0QkFBNEI7QUFDNUIsa0ZBQWtGO0FBQ2xGLDhCQUE4QjtBQUM5QixrS0FBa0s7QUFDbEssNkdBQTZHO0FBRTdFO0FBQ0U7QUFDQztBQUNMO0FBRXZCLE1BQU0sT0FBTztJQUNoQix1QkFBdUI7SUFDdkIsWUFBbUIsQ0FBUyxFQUFTLENBQVMsRUFBUyxDQUFTO1FBQTdDLE1BQUMsR0FBRCxDQUFDLENBQVE7UUFBUyxNQUFDLEdBQUQsQ0FBQyxDQUFRO1FBQVMsTUFBQyxHQUFELENBQUMsQ0FBUTtJQUFHLENBQUM7SUFFcEUsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFTLEVBQUUsQ0FBUyxFQUFFLENBQVM7UUFDdEMsT0FBTyxJQUFJLE9BQU8sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQ2hDLENBQUM7SUFFRCxNQUFNLENBQUMsbUJBQW1CLENBQUMsT0FBa0IsRUFBRSxJQUFhLEVBQUUsSUFBYTtRQUN2RSw4QkFBOEI7UUFDOUIsa0NBQWtDO1FBRWxDLElBQUksTUFBTSxHQUFhLEVBQUUsQ0FBQztRQUMxQixPQUFPLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUU7WUFDbEIsTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLE9BQU8sQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxDQUFDO1FBQy9ELENBQUMsQ0FBQyxDQUFDO1FBQ0gsaUNBQWlDO1FBRWpDLElBQUksR0FBRyxHQUFhLDZDQUFVLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQy9DLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVB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QyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUNuRixDQUFDO0lBRUQsTUFBTTtRQUNGLE9BQU8sSUFBSSxPQUFPLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUNoRixDQUFDO0lBRUQsT0FBTztRQUNILE9BQU8sSUFBSSxPQUFPLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUNuRixDQUFDO0lBRUQsYUFBYTtRQUNULE9BQU8sSUFBSSxPQUFPLENBQ2QsSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsRUFDbkQsSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsRUFDbkQsSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FB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QU0sRUFBRSxJQUFJLENBQUMsR0FBRyxDQUFDLE1BQU0sRUFBRSxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNwRCxPQUFPLElBQUksQ0FBQztJQUNoQixDQUFDO0lBRUQsV0FBVyxDQUFDLEdBQVcsRUFBRSxHQUFXO1FBQ2hDLE1BQU0sTUFBTSxHQUFHLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQztRQUM3QixPQUFPLElBQUksQ0FBQyxHQUFHLENBQUMsTUFBTSxJQUFJLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLEdBQUcsRUFBRSxJQUFJLENBQUMsR0FBRyxDQUFDLEdBQUcsRUFBRSxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDN0UsQ0FBQztJQUVELEtBQUs7UUFDRCxJQUFJLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQzVCLElBQUksQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDNUIsT0FBTyxJQUFJLENBQUM7SUFDaEIsQ0FBQztJQUVELElBQUk7UUFDQSxJQUFJLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQzNCLElBQUksQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDM0IsT0FBTyxJQUFJLENBQUM7SUFDaEIsQ0FBQztJQUVELEtBQUs7UUFDRCxJQUFJLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQzVCLElBQUksQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDNUIsT0FBTyxJQUFJLENBQUM7SUFDaEIsQ0FBQztJQUVELFdBQVc7UUFDUCxJQUFJLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDN0QsSUFBSSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQzdELE9BQU8sSUFBSSxDQUFDO0lBQ2hCLENBQUM7SUFFRCxNQUFNO1FBQ0YsSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7UUFDakIsSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7UUFDakIsT0FBTyxJQUFJLENBQUM7SUFDaEIsQ0FBQztJQUVELEdBQUcsQ0FBQyxDQUFVO1FBQ1YsT0FBTyxJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ3ZDLENBQUM7SUFFRCxLQUFLLENBQUMsQ0FBVTtRQUNaLE9BQU8sSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLE9BQU87SUFDL0MsQ0FBQztJQUVELFNBQVM7UUFDTCxPQUFPLElBQUksQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUM7SUFDN0MsQ0FBQztJQUVELE1BQU07UUFDRixPQUFPLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLGFBQWEsRUFBRSxDQUFDLENBQUM7SUFDM0MsQ0FBQztJQUVELGFBQWE7UUFDVCxPQUFPLElBQUksQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUM7SUFDN0MsQ0FBQztJQUVELE1BQU07UUFDRixPQUFPLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQy9DLENBQUM7SUFFRCxTQUFTO1FBQ0wsT0FBTyxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsSUFBSSxDQUFDLENBQUMsQ0FBQztJQUN4QyxDQUFDO0lBRUQsVUFBVTtRQUNOLE9BQU8sSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFLElBQUksQ0FBQyxDQUFDLENBQUM7SUFDMUMsQ0FBQztJQUVELEtBQUs7UUFDRCxvRUFBb0U7UUFDcEUsTUFBTSxLQUFLLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLEVBQUUsQ0FBQztRQUNyRCxPQUFPLEtBQUssQ0FBQztJQUNqQixDQUFDO0lBRUQsS0FBSyxDQUFDLENBQVU7UUFDWixPQUFPLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQzNDLENBQUM7SUFFRCxZQUFZLENBQUMsQ0FBVTtRQUNuQixJQUFJLEVBQUUsR0FBRyxJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDdEIsSUFBSSxFQUFFLEdBQUcsSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ3RCLE9BQU8sRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxDQUFDO0lBQzdCLENBQUM7SUFFRCxXQUFXLENBQUMsQ0FBVTtRQUNsQixPQUFPLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUMzRCxDQUFDO0lBRUQsU0FBUyxDQUFDLE1BQWM7UUFDcEIsT0FBTyxJQUFJLENBQUMsU0FBUyxFQUFFLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxDQUFDO0lBQzFDLENBQUM7SUFFRCxJQUFJLENBQUMsS0FBYyxFQUFFLEtBQWE7UUFDOUIsT0FBTyxJQUFJLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLEdBQUcsS0FBSyxFQUFFLElBQUksQ0FBQyxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsR0FBRyxLQUFLLENBQUMsQ0FBQztJQUNqRyxDQUFDO0lBRUQsd0dBQXdHO0lBQ3hHLElBQUksQ0FBQyxDQUFVLEVBQUUsQ0FBVTtRQUN2QixPQUFPLENBQUMsSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDdkUsQ0FBQztJQUVELDZEQUE2RDtJQUM3RCxlQUFlLENBQUMsS0FBYztRQUMxQixNQUFNLFdBQVcsR0FBRyxLQUFLLENBQUMsYUFBYSxFQUFFLENBQUM7UUFDMUMsSUFBSSxXQUFXLEtBQUssQ0FBQztZQUFFLE9BQU8sSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7UUFDN0MsTUFBTSxNQUFNLEdBQUcsS0FBSyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxXQUFXLENBQUM7UUFDN0MsT0FBTyxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsQ0FBQztJQUMxQyxDQUFDO0NBQ0oiLCJmaWxlIjoiLi9zcmMvbWF0aC92ZWN0b3IudHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBhdXRob3I6IFx0Sm9zIEZlZW5zdHJhXG4vLyBpbnNwaXJhdGlvbiBmcm9tIFRocmVlLmpzXG4vLyBub3RlOiBcdHJlY3ljbGUgdGhlIGNsYXNzIGFzIG11Y2ggYXMgcG9zc2JsZSwgYnVpbGRpbmcgYSBuZXcgY2xhc3MgaXMgZXhwZW5zaXZlLFxuLy8gXHRcdFx0ZXNwZWNpYWxseSBpbiBqYXZhc2NyaXB0XG4vLyB0b2RvOiBcdEJJSiBOQURFUiBJTlpJRU46IGRvbnQgZ28gdGhlIGNvcHkgcm91dGUuIHJld3JpdGUgdGhpcyBpbiBhIG1vcmUgZnVuY3Rpb25hbCB3YXkgY3JlYXRpbmcgbmV3IGNsYXNzZXMgaXMgZXhwZW5zaXZlLCBidXQgd2UgcmVhbGx5IG5lZWQgaW1tdXRhYmxlIHZlY3RvcnMuXG4vLyBcdFx0XHR0aGVzZSB0eXBlcyBvZiBjb25zaXN0ZW50IHZlY3RvcnMgYXJlIG9ubHkgdXNlZnVsIGluIG5pY2hlIGNhc2VzLCBhbmQgY29tcGxpdGF0ZSBhIGxvdCBvZiBjb21tb24gY2FzZXMuXG5cbmltcG9ydCB7IENvbnN0IH0gZnJvbSBcIi4vY29uc3RcIjtcbmltcG9ydCB7IEdlb25NYXRoIH0gZnJvbSBcIi4vbWF0aFwiO1xuaW1wb3J0IHsgTWF0cml4NCB9IGZyb20gXCIuL21hdHJpeFwiO1xuaW1wb3J0IHsgVXRpbCB9IGZyb20gXCIuL3V0aWxcIjtcblxuZXhwb3J0IGNsYXNzIFZlY3RvcjMge1xuICAgIC8vICNyZWdpb24gY29uc3RydWN0b3JzXG4gICAgY29uc3RydWN0b3IocHVibGljIHg6IG51bWJlciwgcHVibGljIHk6IG51bWJlciwgcHVibGljIHo6IG51bWJlcikge31cblxuICAgIHN0YXRpYyBuZXcoeDogbnVtYmVyLCB5OiBudW1iZXIsIHo6IG51bWJlcikge1xuICAgICAgICByZXR1cm4gbmV3IFZlY3RvcjMoeCwgeSwgeik7XG4gICAgfVxuXG4gICAgc3RhdGljIGNhbGN1bGF0ZVdoZWVsT3JkZXIodmVjdG9yczogVmVjdG9yM1tdLCBpaGF0OiBWZWN0b3IzLCBqaGF0OiBWZWN0b3IzKTogbnVtYmVyW10ge1xuICAgICAgICAvLyBjb25zb2xlLmxvZyhcIndoZWVsIG9yZGVyXCIpO1xuICAgICAgICAvLyBjb25zb2xlLmxvZyhcImhhdHNcIiwgaWhhdCwgamhhdClcblxuICAgICAgICBsZXQgYW5nbGVzOiBudW1iZXJbXSA9IFtdO1xuICAgICAgICB2ZWN0b3JzLmZvckVhY2goKHYpID0+IHtcbiAgICAgICAgICAgIGFuZ2xlcy5wdXNoKG5ldyBWZWN0b3IyKHYuZG90KGloYXQpLCB2LmRvdChqaGF0KSkuYW5nbGUoKSk7XG4gICAgICAgIH0pO1xuICAgICAgICAvLyBjb25zb2xlLmxvZyhcImFuZ2xlc1wiLCBhbmdsZXMpO1xuXG4gICAgICAgIGxldCBpZHM6IG51bWJlcltdID0gVXRpbC5yYW5nZSh2ZWN0b3JzLmxlbmd0aCk7XG4gICAgICAgIGlkcy5zb3J0KChhLCBiKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gYW5nbGVzW2FdIC0gYW5nbGVzW2JdO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGlkcztcbiAgICB9XG5cbiAgICBzdGF0aWMgZnJvbUxlcnAodjE6IFZlY3RvcjMsIHYyOiBWZWN0b3IzLCBhbHBoYTogbnVtYmVyKTogVmVjdG9yMyB7XG4gICAgICAgIHJldHVybiBuZXcgVmVjdG9yMyh2MS54ICsgKHYyLnggLSB2MS54KSAqIGFscGhhLCB2MS55ICsgKHYyLnkgLSB2MS55KSAqIGFscGhhLCB2MS56ICsgKHYyLnogLSB2MS56KSAqIGFscGhhKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZnJvbUFycmF5KGE6IEZsb2F0MzJBcnJheSB8IG51bWJlcltdIHwgQXJyYXk8bnVtYmVyPik6IFZlY3RvcjMge1xuICAgICAgICByZXR1cm4gbmV3IFZlY3RvcjMoYVswXSwgYVsxXSwgYVsyXSk7XG4gICAgfVxuXG4gICAgc3RhdGljIGZyb21SYW5kb20oKTogVmVjdG9yMyB7XG4gICAgICAgIHJldHVybiBuZXcgVmVjdG9yMyhNYXRoLnJhbmRvbSgpLCBNYXRoLnJhbmRvbSgpLCBNYXRoLnJhbmRvbSgpKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZnJvbVNwaGVyZShyYWRpdXM6IG51bWJlciwgdGhldGE6IG51bWJlciwgcGhpOiBudW1iZXIpOiBWZWN0b3IzIHtcbiAgICAgICAgY29uc3Qgc2luUGhpUmFkaXVzID0gTWF0aC5zaW4ocGhpKSAqIHJhZGl1cztcbiAgICAgICAgcmV0dXJuIHRoaXMuY29uc3RydWN0b3Ioc2luUGhpUmFkaXVzICogTWF0aC5zaW4odGhldGEpLCBNYXRoLmNvcyhwaGkpICogcmFkaXVzLCBzaW5QaGlSYWRpdXMgKiBNYXRoLmNvcyh0aGV0YSkpO1xuICAgIH1cblxuICAgIHN0YXRpYyBmcm9tQ3lsaW5kZXIocmFkaXVzOiBudW1iZXIsIHRoZXRhOiBudW1iZXIsIGhlaWdodDogbnVtYmVyKTogVmVjdG9yMyB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnN0cnVjdG9yKHJhZGl1cyAqIE1hdGguc2luKHRoZXRhKSwgaGVpZ2h0LCByYWRpdXMgKiBNYXRoLmNvcyh0aGV0YSkpO1xuICAgIH1cblxuICAgIHN0YXRpYyBmcm9tTGVycFdlaWdodHMocDE6IFZlY3RvcjMsIHAyOiBWZWN0b3IzLCB0UDE6IG51bWJlciwgdFAyOiBudW1iZXIsIHQ6IG51bWJlcikge1xuICAgICAgICBpZiAoTWF0aC5hYnModCAtIHRQMSkgPCAwLjAwMDAxKSByZXR1cm4gcDE7XG4gICAgICAgIGlmIChNYXRoLmFicyh0IC0gdFAyKSA8IDAuMDAwMDEpIHJldHVybiBwMjtcbiAgICAgICAgaWYgKE1hdGguYWJzKHRQMSAtIHRQMikgPCAwLjAwMDAxKSByZXR1cm4gcDE7XG4gICAgICAgIGxldCBtdSA9ICh0IC0gdFAxKSAvICh0UDIgLSB0UDEpO1xuXG4gICAgICAgIHJldHVybiBuZXcgVmVjdG9yMyhwMS54ICsgbXUgKiAocDIueCAtIHAxLngpLCBwMS55ICsgbXUgKiAocDIueSAtIHAxLnkpLCBwMS56ICsgbXUgKiAocDIueiAtIHAxLnopKTtcbiAgICB9XG5cbiAgICAvLyAjZW5kcmVnaW9uXG4gICAgLy8gI3JlZ2lvbiBkZWZhdWx0c1xuXG4gICAgc3RhdGljIHplcm8oKSB7XG4gICAgICAgIHJldHVybiBuZXcgVmVjdG9yMygwLCAwLCAwKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgdW5pdFgoKSB7XG4gICAgICAgIHJldHVybiBuZXcgVmVjdG9yMygxLCAwLCAwKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgdW5pdFkoKSB7XG4gICAgICAgIHJldHVybiBuZXcgVmVjdG9yMygwLCAxLCAwKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgdW5pdFooKSB7XG4gICAgICAgIHJldHVybiBuZXcgVmVjdG9yMygwLCAwLCAxKTtcbiAgICB9XG5cbiAgICAvLyAjZW5kcmVnaW9uXG4gICAgLy8gI3JlZ2lvbiBiYXNpY3NcblxuICAgIHRvQXJyYXkoKSB7XG4gICAgICAgIHJldHVybiBuZXcgRmxvYXQzMkFycmF5KFt0aGlzLngsIHRoaXMueSwgdGhpcy56XSk7XG4gICAgfVxuXG4gICAgc2V0KHg6IG51bWJlciwgeTogbnVtYmVyLCB6OiBudW1iZXIpOiBWZWN0b3IzIHtcbiAgICAgICAgdGhpcy54ID0geDtcbiAgICAgICAgdGhpcy55ID0geTtcbiAgICAgICAgdGhpcy56ID0gejtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgZXF1YWxzKHY6IFZlY3RvcjMpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHYueCA9PT0gdGhpcy54ICYmIHYueSA9PT0gdGhpcy55ICYmIHYueiA9PT0gdGhpcy56O1xuICAgIH1cblxuICAgIHRvU3RyaW5nKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiBgVmVjdG9yMygke3RoaXMueH0sICR7dGhpcy55fSwgJHt0aGlzLnp9KWA7XG4gICAgfVxuXG4gICAgdG9WZWN0b3IyKCk6IFZlY3RvcjIge1xuICAgICAgICByZXR1cm4gbmV3IFZlY3RvcjIodGhpcy54LCB0aGlzLnkpO1xuICAgIH1cblxuICAgIGNsb25lKCk6IFZlY3RvcjMge1xuICAgICAgICByZXR1cm4gbmV3IFZlY3RvcjModGhpcy54LCB0aGlzLnksIHRoaXMueik7XG4gICAgfVxuXG4gICAgY29weSh2OiBWZWN0b3IzKTogVmVjdG9yMyB7XG4gICAgICAgIHRoaXMueCA9IHYueDtcbiAgICAgICAgdGhpcy55ID0gdi55O1xuICAgICAgICB0aGlzLnogPSB2Lno7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIHRvMkQoKTogVmVjdG9yMiB7XG4gICAgICAgIHJldHVybiBuZXcgVmVjdG9yMih0aGlzLngsIHRoaXMueSk7XG4gICAgfVxuXG4gICAgLy8gI2VuZHJlZ2lvblxuICAgIC8vICNyZWdpb24gbWF0aCBsaWtlIHZlY3RvcjJcblxuICAgIGxhcmdlc3RWYWx1ZSgpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gTWF0aC5tYXgodGhpcy54LCB0aGlzLnksIHRoaXMueik7XG4gICAgfVxuXG4gICAgYWRkZWQodjogVmVjdG9yMyk6IFZlY3RvcjMge1xuICAgICAgICByZXR1cm4gbmV3IFZlY3RvcjModGhpcy54ICsgdi54LCB0aGlzLnkgKyB2LnksIHRoaXMueiArIHYueik7XG4gICAgfVxuXG4gICAgYWRkKHY6IFZlY3RvcjMpOiBWZWN0b3IzIHtcbiAgICAgICAgdGhpcy54ICs9IHYueDtcbiAgICAgICAgdGhpcy55ICs9IHYueTtcbiAgICAgICAgdGhpcy56ICs9IHYuejtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgc3ViYmVkKHY6IFZlY3RvcjMpOiBWZWN0b3IzIHtcbiAgICAgICAgcmV0dXJuIG5ldyBWZWN0b3IzKHRoaXMueCAtIHYueCwgdGhpcy55IC0gdi55LCB0aGlzLnogLSB2LnopO1xuICAgIH1cblxuICAgIHN1Yih2OiBWZWN0b3IzKTogVmVjdG9yMyB7XG4gICAgICAgICh0aGlzLnggLT0gdi54KSwgKHRoaXMueSAtPSB2LnkpLCAodGhpcy56IC09IHYueik7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGl0ZW0oaTogbnVtYmVyKSB7XG4gICAgICAgIHN3aXRjaCAoaSkge1xuICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLng7XG4gICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMueTtcbiAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy56O1xuICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0aHJvdyBcIm5vcGVcIjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHNjYWxlZCh2OiBudW1iZXIpOiBWZWN0b3IzIHtcbiAgICAgICAgcmV0dXJuIG5ldyBWZWN0b3IzKHRoaXMueCAqIHYsIHRoaXMueSAqIHYsIHRoaXMueiAqIHYpO1xuICAgIH1cblxuICAgIHNjYWxlKHY6IG51bWJlcik6IFZlY3RvcjMge1xuICAgICAgICB0aGlzLnggKj0gdjtcbiAgICAgICAgdGhpcy55ICo9IHY7XG4gICAgICAgIHRoaXMueiAqPSB2O1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBtdWwodjogVmVjdG9yMyk6IFZlY3RvcjMge1xuICAgICAgICB0aGlzLnggKj0gdi54O1xuICAgICAgICB0aGlzLnkgKj0gdi55O1xuICAgICAgICB0aGlzLnogKj0gdi56O1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBtdWx0aXBsaWVkKHY6IFZlY3RvcjMpOiBWZWN0b3IzIHtcbiAgICAgICAgcmV0dXJuIG5ldyBWZWN0b3IzKHRoaXMueCAqIHYueCwgdGhpcy55ICogdi55LCB0aGlzLnogKiB2LnopO1xuICAgIH1cblxuICAgIGRpdlZlY3Rvcih2OiBWZWN0b3IzKTogVmVjdG9yMyB7XG4gICAgICAgIHJldHVybiBuZXcgVmVjdG9yMyh0aGlzLnggLyB2LngsIHRoaXMueSAvIHYueSwgdGhpcy56IC8gdi56KTtcbiAgICB9XG5cbiAgICBkaXZpZGVkKHZhbHVlOiBudW1iZXIpOiBWZWN0b3IzIHtcbiAgICAgICAgcmV0dXJuIG5ldyBWZWN0b3IzKHRoaXMueCAvIHZhbHVlLCB0aGlzLnkgLyB2YWx1ZSwgdGhpcy56IC8gdmFsdWUpO1xuICAgIH1cblxuICAgIGRpdih2YWx1ZTogbnVtYmVyKTogVmVjdG9yMyB7XG4gICAgICAgICh0aGlzLnggLz0gdmFsdWUpLCAodGhpcy55IC89IHZhbHVlKSwgKHRoaXMueiAvPSB2YWx1ZSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIG1pbmltdW1lZChvdGhlcjogVmVjdG9yMyk6IFZlY3RvcjMge1xuICAgICAgICByZXR1cm4gbmV3IFZlY3RvcjMoTWF0aC5taW4odGhpcy54LCBvdGhlci54KSwgTWF0aC5taW4odGhpcy55LCBvdGhlci55KSwgTWF0aC5taW4odGhpcy56LCBvdGhlci56KSk7XG4gICAgfVxuXG4gICAgbWF4aW11bWVkKG90aGVyOiBWZWN0b3IzKTogVmVjdG9yMyB7XG4gICAgICAgIHJldHVybiBuZXcgVmVjdG9yMyhNYXRoLm1heCh0aGlzLngsIG90aGVyLngpLCBNYXRoLm1heCh0aGlzLnksIG90aGVyLnkpLCBNYXRoLm1heCh0aGlzLnosIG90aGVyLnopKTtcbiAgICB9XG5cbiAgICBjbGFtcGVkKG1pbjogVmVjdG9yMywgbWF4OiBWZWN0b3IzKTogVmVjdG9yMyB7XG4gICAgICAgIHJldHVybiBuZXcgVmVjdG9yMyhcbiAgICAgICAgICAgIE1hdGgubWF4KG1pbi54LCBNYXRoLm1pbihtYXgueCwgdGhpcy54KSksXG4gICAgICAgICAgICBNYXRoLm1heChtaW4ueSwgTWF0aC5taW4obWF4LnksIHRoaXMueSkpLFxuICAgICAgICAgICAgTWF0aC5tYXgobWluLnosIE1hdGgubWluKG1heC56LCB0aGlzLnopKSxcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBjbGFtcFNjYWxhcmVkKG1pbjogbnVtYmVyLCBtYXg6IG51bWJlcik6IFZlY3RvcjMge1xuICAgICAgICByZXR1cm4gbmV3IFZlY3RvcjMoXG4gICAgICAgICAgICBHZW9uTWF0aC5jbGFtcCh0aGlzLngsIG1pbiwgbWF4KSxcbiAgICAgICAgICAgIEdlb25NYXRoLmNsYW1wKHRoaXMueSwgbWluLCBtYXgpLFxuICAgICAgICAgICAgR2Vvbk1hdGguY2xhbXAodGhpcy56LCBtaW4sIG1heCksXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgY2xhbXBMZW5ndGhlZChtaW46IG51bWJlciwgbWF4OiBudW1iZXIpOiBWZWN0b3IzIHtcbiAgICAgICAgY29uc3QgbGVuZ3RoID0gdGhpcy5sZW5ndGgoKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGl2KGxlbmd0aCB8fCAxKS5zY2FsZShNYXRoLm1heChtaW4sIE1hdGgubWluKG1heCwgbGVuZ3RoKSkpO1xuICAgIH1cblxuICAgIGZsb29yZWQoKTogVmVjdG9yMyB7XG4gICAgICAgIHJldHVybiBuZXcgVmVjdG9yMyhNYXRoLmZsb29yKHRoaXMueCksIE1hdGguZmxvb3IodGhpcy55KSwgTWF0aC5mbG9vcih0aGlzLnopKTtcbiAgICB9XG5cbiAgICBjZWlsZWQoKTogVmVjdG9yMyB7XG4gICAgICAgIHJldHVybiBuZXcgVmVjdG9yMyhNYXRoLmNlaWwodGhpcy54KSwgTWF0aC5jZWlsKHRoaXMueSksIE1hdGguY2VpbCh0aGlzLnopKTtcbiAgICB9XG5cbiAgICByb3VuZGVkKCk6IFZlY3RvcjMge1xuICAgICAgICByZXR1cm4gbmV3IFZlY3RvcjMoTWF0aC5yb3VuZCh0aGlzLngpLCBNYXRoLnJvdW5kKHRoaXMueSksIE1hdGgucm91bmQodGhpcy56KSk7XG4gICAgfVxuXG4gICAgcm91bmRlZFRvWmVybygpOiBWZWN0b3IzIHtcbiAgICAgICAgcmV0dXJuIG5ldyBWZWN0b3IzKFxuICAgICAgICAgICAgdGhpcy54IDwgMCA/IE1hdGguY2VpbCh0aGlzLngpIDogTWF0aC5mbG9vcih0aGlzLngpLFxuICAgICAgICAgICAgdGhpcy55IDwgMCA/IE1hdGguY2VpbCh0aGlzLnkpIDogTWF0aC5mbG9vcih0aGlzLnkpLFxuICAgICAgICAgICAgdGhpcy56IDwgMCA/IE1hdGguY2VpbCh0aGlzLnopIDogTWF0aC5mbG9vcih0aGlzLnopLFxuICAgICAgICApO1xuICAgIH1cblxuICAgIG5lZ2F0ZSgpOiBWZWN0b3IzIHtcbiAgICAgICAgdGhpcy54ID0gLXRoaXMueDtcbiAgICAgICAgdGhpcy55ID0gLXRoaXMueTtcbiAgICAgICAgdGhpcy56ID0gLXRoaXMuejtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgbmVnYXRlZCgpOiBWZWN0b3IzIHtcbiAgICAgICAgcmV0dXJuIG5ldyBWZWN0b3IzKC10aGlzLngsIC10aGlzLnksIC10aGlzLnopO1xuICAgIH1cblxuICAgIGFuZ2xlKG90aGVyOiBWZWN0b3IzLCBub3JtYWw6IFZlY3RvcjMpIHtcbiAgICAgICAgbGV0IHRoaXNQcm9qZWN0ZWQgPSB0aGlzLnN1YmJlZChub3JtYWwuc2NhbGVkKHRoaXMuZG90KG5vcm1hbCkpKTtcbiAgICAgICAgbGV0IG90aGVyUHJvamVjdGVkID0gb3RoZXIuc3ViYmVkKG5vcm1hbC5zY2FsZWQob3RoZXIuZG90KG5vcm1hbCkpKTtcblxuICAgICAgICBjb25zb2xlLmxvZyh0aGlzUHJvamVjdGVkKTtcbiAgICAgICAgY29uc29sZS5sb2cob3RoZXJQcm9qZWN0ZWQpO1xuICAgICAgICByZXR1cm4gMDtcbiAgICB9XG5cbiAgICBkb3QodjogVmVjdG9yMyk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiB0aGlzLnggKiB2LnggKyB0aGlzLnkgKiB2LnkgKyB0aGlzLnogKiB2Lno7XG4gICAgfVxuXG4gICAgY3Jvc3Mob3RoZXI6IFZlY3RvcjMpOiBWZWN0b3IzIHtcbiAgICAgICAgY29uc3QgYXggPSB0aGlzLngsXG4gICAgICAgICAgICBheSA9IHRoaXMueSxcbiAgICAgICAgICAgIGF6ID0gdGhpcy56O1xuICAgICAgICBjb25zdCBieCA9IG90aGVyLngsXG4gICAgICAgICAgICBieSA9IG90aGVyLnksXG4gICAgICAgICAgICBieiA9IG90aGVyLno7XG5cbiAgICAgICAgcmV0dXJuIG5ldyBWZWN0b3IzKGF5ICogYnogLSBheiAqIGJ5LCBheiAqIGJ4IC0gYXggKiBieiwgYXggKiBieSAtIGF5ICogYngpO1xuICAgIH1cblxuICAgIGdldExlbmd0aFNxdWFyZWQoKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMueCAqIHRoaXMueCArIHRoaXMueSAqIHRoaXMueSArIHRoaXMueiAqIHRoaXMuejtcbiAgICB9XG5cbiAgICBsZW5ndGgoKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIE1hdGguc3FydCh0aGlzLmdldExlbmd0aFNxdWFyZWQoKSk7XG4gICAgfVxuXG4gICAgbWFuaGF0KCk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiBNYXRoLmFicyh0aGlzLngpICsgTWF0aC5hYnModGhpcy55KSArIE1hdGguYWJzKHRoaXMueik7XG4gICAgfVxuXG4gICAgbm9ybWFsaXplKCk6IFZlY3RvcjMge1xuICAgICAgICByZXR1cm4gdGhpcy5kaXYodGhpcy5sZW5ndGgoKSB8fCAxKTtcbiAgICB9XG5cbiAgICBub3JtYWxpemVkKCk6IFZlY3RvcjMge1xuICAgICAgICByZXR1cm4gdGhpcy5kaXZpZGVkKHRoaXMubGVuZ3RoKCkgfHwgMSk7XG4gICAgfVxuXG4gICAgaXNOb3JtYWwoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBNYXRoLmFicyh0aGlzLmxlbmd0aCgpIC0gMSkgPCBDb25zdC5UT0xFUkFOQ0U7XG4gICAgfVxuXG4gICAgZGlzVG8odjogVmVjdG9yMyk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiBNYXRoLnNxcnQodGhpcy5kaXNUb1NxdWFyZWQodikpO1xuICAgIH1cblxuICAgIGRpc1RvU3F1YXJlZCh2OiBWZWN0b3IzKTogbnVtYmVyIHtcbiAgICAgICAgY29uc3QgZHggPSB0aGlzLnggLSB2LngsXG4gICAgICAgICAgICBkeSA9IHRoaXMueSAtIHYueSxcbiAgICAgICAgICAgIGR6ID0gdGhpcy56IC0gdi56O1xuICAgICAgICByZXR1cm4gZHggKiBkeCArIGR5ICogZHkgKyBkeiAqIGR6O1xuICAgIH1cblxuICAgIGRpc1RvTWFuaGF0KHY6IFZlY3RvcjMpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gTWF0aC5hYnModGhpcy54IC0gdi54KSArIE1hdGguYWJzKHRoaXMueSAtIHYueSkgKyBNYXRoLmFicyh0aGlzLnogLSB2LnopO1xuICAgIH1cblxuICAgIHNldExlbmd0aChsZW5ndGg6IG51bWJlcik6IFZlY3RvcjMge1xuICAgICAgICByZXR1cm4gdGhpcy5ub3JtYWxpemUoKS5zY2FsZShsZW5ndGgpO1xuICAgIH1cblxuICAgIGxlcnAob3RoZXI6IFZlY3RvcjMsIGFscGhhOiBudW1iZXIpOiBWZWN0b3IzIHtcbiAgICAgICAgcmV0dXJuIG5ldyBWZWN0b3IzKChvdGhlci54IC0gdGhpcy54KSAqIGFscGhhLCAob3RoZXIueSAtIHRoaXMueSkgKiBhbHBoYSwgKG90aGVyLnogLSB0aGlzLnopICogYWxwaGEpO1xuICAgIH1cblxuICAgIC8vICNlbmRyZWdpb25cbiAgICAvLyAjcmVnaW9uIG1hdGggc3BlY2lmaWNcblxuICAgIHByb2plY3RPblZlY3RvcihvdGhlcjogVmVjdG9yMykge1xuICAgICAgICAvLyB1c2UgZG90IHByb2R1Y3QgdG8gcHJvamVjdCB0aGlzIHZlY3RvciBvbiB0aGUgb3RoZXIgdmVjdG9yXG4gICAgICAgIGNvbnN0IGRlbm9taW5hdG9yID0gb3RoZXIuZ2V0TGVuZ3RoU3F1YXJlZCgpO1xuICAgICAgICBpZiAoZGVub21pbmF0b3IgPT09IDApIHJldHVybiB0aGlzLnNldCgwLCAwLCAwKTtcbiAgICAgICAgY29uc3Qgc2NhbGFyID0gb3RoZXIuZG90KHRoaXMpIC8gZGVub21pbmF0b3I7XG4gICAgICAgIHJldHVybiB0aGlzLmNvcHkob3RoZXIpLnNjYWxlKHNjYWxhcik7XG4gICAgfVxuXG4gICAgcHJvamVjdGVkT25QbGFuZShub3JtYWw6IFZlY3RvcjMpIHtcbiAgICAgICAgLy8gcHJvamVjdCBhIHZlY3RvclxuICAgICAgICBfdmVjdG9yLmNvcHkodGhpcykucHJvamVjdE9uVmVjdG9yKG5vcm1hbCk7XG4gICAgICAgIHJldHVybiB0aGlzLm1pbmltdW1lZChfdmVjdG9yKTtcbiAgICB9XG5cbiAgICBtaXJyb3JlZChub3JtYWw6IFZlY3RvcjMpIHtcbiAgICAgICAgLy8gbWlycm9yIGluY2lkZW50IHZlY3RvciBvZmYgcGxhbmUgb3J0aG9nb25hbCB0byBub3JtYWxcbiAgICAgICAgLy8gbm9ybWFsIGlzIGFzc3VtZWQgdG8gaGF2ZSB1bml0IGxlbmd0aFxuICAgICAgICByZXR1cm4gdGhpcy5taW5pbXVtZWQoX3ZlY3Rvci5jb3B5KG5vcm1hbCkuc2NhbGUoMiAqIHRoaXMuZG90KG5vcm1hbCkpKTtcbiAgICB9XG5cbiAgICByb3RhdGVkKGF4aXM6IFZlY3RvcjMsIGFuZ2xlOiBudW1iZXIpOiBWZWN0b3IzIHtcbiAgICAgICAgbGV0IG1hdCA9IE1hdHJpeDQubmV3QXhpc1JvdGF0aW9uKGF4aXMsIGFuZ2xlKTtcbiAgICAgICAgcmV0dXJuIG1hdC5tdWx0aXBseVZlY3Rvcih0aGlzKTtcbiAgICB9XG59XG5cbmNvbnN0IF92ZWN0b3IgPSBuZXcgVmVjdG9yMygwLCAwLCAwKTtcblxuZXhwb3J0IGNsYXNzIFZlY3RvcjIge1xuICAgIHg6IG51bWJlcjtcbiAgICB5OiBudW1iZXI7XG5cbiAgICBjb25zdHJ1Y3Rvcih4OiBudW1iZXIsIHk6IG51bWJlcikge1xuICAgICAgICB0aGlzLnggPSB4O1xuICAgICAgICB0aGlzLnkgPSB5O1xuICAgIH1cblxuICAgIC8vIC0tLSBmYWN0b3JpZXMgJiBvdGhlciBzdGF0aWNzXG5cbiAgICBzdGF0aWMgZnJvbUFycmF5KGE6IEFycmF5PG51bWJlcj4pOiBWZWN0b3IyIHtcbiAgICAgICAgcmV0dXJuIG5ldyBWZWN0b3IyKGFbMF0sIGFbMV0pO1xuICAgIH1cblxuICAgIHN0YXRpYyBmcm9tTGVycCh2MTogVmVjdG9yMiwgdjI6IFZlY3RvcjIsIGFscGhhOiBudW1iZXIpOiBWZWN0b3IyIHtcbiAgICAgICAgcmV0dXJuIG5ldyBWZWN0b3IyKHYxLnggKyAodjIueCAtIHYxLngpICogYWxwaGEsIHYxLnkgKyAodjIueSAtIHYxLnkpICogYWxwaGEpO1xuICAgIH1cblxuICAgIHN0YXRpYyBmcm9tUmFuZG9tKCk6IFZlY3RvcjIge1xuICAgICAgICByZXR1cm4gbmV3IFZlY3RvcjIoTWF0aC5yYW5kb20oKSwgTWF0aC5yYW5kb20oKSk7XG4gICAgfVxuXG4gICAgc3RhdGljIGZyb21SYW5kb21BbmdsZSgpOiBWZWN0b3IyIHtcbiAgICAgICAgbGV0IGFscGhhID0gTWF0aC5yYW5kb20oKSAqIE1hdGguUEkgKiAyO1xuXG4gICAgICAgIHJldHVybiBuZXcgVmVjdG9yMihNYXRoLmNvcyhhbHBoYSksIE1hdGguc2luKGFscGhhKSk7XG4gICAgfVxuXG4gICAgLy8gc3RhdGljIGZyb20yUHQoZnJvbTogVmVjdG9yMiwgdG86IFZlY3RvcjIpIDogVmVjdG9yMiB7XG4gICAgLy8gXHRyZXR1cm4gbmV3IFZlY3RvcjIoXG4gICAgLy8gXHRcdGZyb20ueCAtIHRvLngsXG4gICAgLy8gXHRcdGZyb20ueSAtIHRvLnlcbiAgICAvLyBcdClcbiAgICAvLyB9XG5cbiAgICBzdGF0aWMgZnJvbUNpcmNsZShjZW50ZXI6IFZlY3RvcjIsIHJhZGl1czogbnVtYmVyLCB0aGV0YTogbnVtYmVyKTogVmVjdG9yMiB7XG4gICAgICAgIHJldHVybiBuZXcgVmVjdG9yMihjZW50ZXIueCArIHJhZGl1cyAqIE1hdGguc2luKHRoZXRhKSwgY2VudGVyLnkgKyByYWRpdXMgKiBNYXRoLmNvcyh0aGV0YSkpO1xuICAgIH1cblxuICAgIHN0YXRpYyBmcm9tQ29weShvdGhlcjogVmVjdG9yMik6IFZlY3RvcjIge1xuICAgICAgICByZXR1cm4gdGhpcy56ZXJvKCkuY29weShvdGhlcik7XG4gICAgfVxuXG4gICAgc3RhdGljIHplcm8oKSB7XG4gICAgICAgIHJldHVybiBuZXcgVmVjdG9yMigwLCAwKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgTmFOKCkge1xuICAgICAgICByZXR1cm4gbmV3IFZlY3RvcjIoTmFOLCBOYU4pO1xuICAgIH1cblxuICAgIHN0YXRpYyBmcm9tQ2lyY3VtY2VudGVyKGE6IFZlY3RvcjIsIGI6IFZlY3RvcjIsIGM6IFZlY3RvcjIpOiBWZWN0b3IyIHtcbiAgICAgICAgY29uc3QgYXN1bSA9IGEuc3F1YXJlU3VtKCk7XG4gICAgICAgIGNvbnN0IGJzdW0gPSBiLnNxdWFyZVN1bSgpO1xuICAgICAgICBjb25zdCBjc3VtID0gYy5zcXVhcmVTdW0oKTtcblxuICAgICAgICAvLyBzb3J0IG9mIGNyb3NzIHByb2R1Y3RcbiAgICAgICAgbGV0IGQgPSAyICogKGEueCAqIChiLnkgLSBjLnkpICsgYi54ICogKGMueSAtIGEueSkgKyBjLnggKiAoYS55IC0gYi55KSk7XG5cbiAgICAgICAgLy8gaWYgdGhpcyB0cmlhbmdsZSBoYXMgbm8gY2lyY3VtY2VudGVyP1xuICAgICAgICBpZiAoZCA8IDAuMDAwMDAxKSByZXR1cm4gVmVjdG9yMi5OYU4oKTtcblxuICAgICAgICBsZXQgeCA9IChhc3VtICogKGIueSAtIGMueSkgKyBic3VtICogKGMueSAtIGEueSkgKyBjc3VtICogKGEueSAtIGIueSkpIC8gZDtcbiAgICAgICAgbGV0IHkgPSAoYXN1bSAqIChjLnggLSBiLngpICsgYnN1bSAqIChhLnggLSBjLngpICsgY3N1bSAqIChiLnggLSBhLngpKSAvIGQ7XG5cbiAgICAgICAgcmV0dXJuIG5ldyBWZWN0b3IyKHgsIHkpO1xuICAgIH1cblxuICAgIHN0YXRpYyBnZXRTaWduKGE6IFZlY3RvcjIsIGI6IFZlY3RvcjIsIGM6IFZlY3RvcjIpOiBudW1iZXIge1xuICAgICAgICAvLyB0ZXN0IGhhbGYgcGxhbmUgcmVsYXRpb25zaGlwXG4gICAgICAgIC8vIDwwIDogcG9pbnQgb24gZmlyc3QgaGFsZlxuICAgICAgICAvLyAwICA6IHBvaW50cyBjb2xsaW5lYXJcbiAgICAgICAgLy8gPjAgOiBwb2ludCBvbiBzZWNvbmQgaGFsZlxuICAgICAgICByZXR1cm4gKGEueCAtIGMueCkgKiAoYi55IC0gYy55KSAtIChiLnggLSBjLngpICogKGEueSAtIGMueSk7XG4gICAgfVxuXG4gICAgLy8gLS0tIGJhc2ljc1xuXG4gICAgdG8zRCgpOiBWZWN0b3IzIHtcbiAgICAgICAgcmV0dXJuIG5ldyBWZWN0b3IzKHRoaXMueCwgdGhpcy55LCAwKTtcbiAgICB9XG5cbiAgICBzZXQoeDogbnVtYmVyLCB5OiBudW1iZXIpOiBWZWN0b3IyIHtcbiAgICAgICAgdGhpcy54ID0geDtcbiAgICAgICAgdGhpcy55ID0geTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgcm91Z2hseUVxdWFscyh2OiBWZWN0b3IyLCB0b2w6IG51bWJlcik6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gTWF0aC5hYnModGhpcy54IC0gdi54KSA8IHRvbCAmJiBNYXRoLmFicyh0aGlzLnkgLSB2LnkpIDwgdG9sO1xuICAgIH1cblxuICAgIGVxdWFscyh2OiBWZWN0b3IyKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB2LnggPT09IHRoaXMueCAmJiB2LnkgPT09IHRoaXMueTtcbiAgICB9XG5cbiAgICB0b1N0cmluZygpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gYFZlY3RvcjIoJHt0aGlzLnh9LCAke3RoaXMueX0pYDtcbiAgICB9XG5cbiAgICBjbG9uZSgpOiBWZWN0b3IyIHtcbiAgICAgICAgcmV0dXJuIG5ldyBWZWN0b3IyKHRoaXMueCwgdGhpcy55KTtcbiAgICB9XG5cbiAgICBjb3B5KHY6IFZlY3RvcjIpOiBWZWN0b3IyIHtcbiAgICAgICAgdGhpcy54ID0gdi54O1xuICAgICAgICB0aGlzLnkgPSB2Lnk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8vIC0tLSBtYXRoXG5cbiAgICBhZGQodjogVmVjdG9yMik6IFZlY3RvcjIge1xuICAgICAgICB0aGlzLnggKz0gdi54O1xuICAgICAgICB0aGlzLnkgKz0gdi55O1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBhZGRlZCh2OiBWZWN0b3IyKTogVmVjdG9yMiB7XG4gICAgICAgIHJldHVybiBuZXcgVmVjdG9yMih0aGlzLnggKyB2LngsIHRoaXMueSArIHYueSk7XG4gICAgfVxuXG4gICAgYWRkbihhcmcwOiBudW1iZXIsIGFyZzE6IG51bWJlcik6IFZlY3RvcjIge1xuICAgICAgICB0aGlzLnggKz0gYXJnMDtcbiAgICAgICAgdGhpcy55ICs9IGFyZzE7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIHN1Yih2OiBWZWN0b3IyKTogVmVjdG9yMiB7XG4gICAgICAgIHRoaXMueCAtPSB2Lng7XG4gICAgICAgIHRoaXMueSAtPSB2Lnk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIHN1YmJlZCh2OiBWZWN0b3IyKTogVmVjdG9yMiB7XG4gICAgICAgIHJldHVybiBuZXcgVmVjdG9yMih0aGlzLnggLSB2LngsIHRoaXMueSAtIHYueSk7XG4gICAgfVxuXG4gICAgbXVsKHY6IFZlY3RvcjIpOiBWZWN0b3IyIHtcbiAgICAgICAgdGhpcy54ICo9IHYueDtcbiAgICAgICAgdGhpcy55ICo9IHYueTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgc2NhbGUodjogbnVtYmVyKTogVmVjdG9yMiB7XG4gICAgICAgIHRoaXMueCAqPSB2O1xuICAgICAgICB0aGlzLnkgKj0gdjtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgc2NhbGVkKHY6IG51bWJlcik6IFZlY3RvcjIge1xuICAgICAgICByZXR1cm4gbmV3IFZlY3RvcjIodGhpcy54ICogdiwgdGhpcy55ICogdik7XG4gICAgfVxuXG4gICAgZGl2VmVjdG9yKHY6IFZlY3RvcjIpOiBWZWN0b3IyIHtcbiAgICAgICAgdGhpcy54IC89IHYueDtcbiAgICAgICAgdGhpcy55IC89IHYueTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgZGl2KHY6IG51bWJlcik6IFZlY3RvcjIge1xuICAgICAgICB0aGlzLnggLz0gdjtcbiAgICAgICAgdGhpcy55IC89IHY7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGRpdmVkKHY6IG51bWJlcik6IFZlY3RvcjIge1xuICAgICAgICByZXR1cm4gbmV3IFZlY3RvcjIodGhpcy54IC8gdiwgdGhpcy55IC8gdik7XG4gICAgfVxuXG4gICAgbWluaW11bShvdGhlcjogVmVjdG9yMik6IFZlY3RvcjIge1xuICAgICAgICB0aGlzLnggPSBNYXRoLm1pbih0aGlzLngsIG90aGVyLngpO1xuICAgICAgICB0aGlzLnkgPSBNYXRoLm1pbih0aGlzLnksIG90aGVyLnkpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBtYXhpbXVtKG90aGVyOiBWZWN0b3IyKTogVmVjdG9yMiB7XG4gICAgICAgIHRoaXMueCA9IE1hdGgubWF4KHRoaXMueCwgb3RoZXIueCk7XG4gICAgICAgIHRoaXMueSA9IE1hdGgubWF4KHRoaXMueSwgb3RoZXIueSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGNsYW1wKG1pbjogVmVjdG9yMiwgbWF4OiBWZWN0b3IyKTogVmVjdG9yMiB7XG4gICAgICAgIC8vIGFzc3VtZXMgbWluIDwgbWF4LCBjb21wb25lbnR3aXNlXG4gICAgICAgIHRoaXMueCA9IE1hdGgubWF4KG1pbi54LCBNYXRoLm1pbihtYXgueCwgdGhpcy54KSk7XG4gICAgICAgIHRoaXMueSA9IE1hdGgubWF4KG1pbi55LCBNYXRoLm1pbihtYXgueSwgdGhpcy55KSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGNsYW1wU2NhbGFyKG1pblZhbDogbnVtYmVyLCBtYXhWYWw6IG51bWJlcik6IFZlY3RvcjIge1xuICAgICAgICB0aGlzLnggPSBNYXRoLm1heChtaW5WYWwsIE1hdGgubWluKG1heFZhbCwgdGhpcy54KSk7XG4gICAgICAgIHRoaXMueSA9IE1hdGgubWF4KG1pblZhbCwgTWF0aC5taW4obWF4VmFsLCB0aGlzLnkpKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgY2xhbXBMZW5ndGgobWluOiBudW1iZXIsIG1heDogbnVtYmVyKTogVmVjdG9yMiB7XG4gICAgICAgIGNvbnN0IGxlbmd0aCA9IHRoaXMubGVuZ3RoKCk7XG4gICAgICAgIHJldHVybiB0aGlzLmRpdihsZW5ndGggfHwgMSkuc2NhbGUoTWF0aC5tYXgobWluLCBNYXRoLm1pbihtYXgsIGxlbmd0aCkpKTtcbiAgICB9XG5cbiAgICBmbG9vcigpOiBWZWN0b3IyIHtcbiAgICAgICAgdGhpcy54ID0gTWF0aC5mbG9vcih0aGlzLngpO1xuICAgICAgICB0aGlzLnkgPSBNYXRoLmZsb29yKHRoaXMueSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGNlaWwoKTogVmVjdG9yMiB7XG4gICAgICAgIHRoaXMueCA9IE1hdGguY2VpbCh0aGlzLngpO1xuICAgICAgICB0aGlzLnkgPSBNYXRoLmNlaWwodGhpcy55KTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgcm91bmQoKTogVmVjdG9yMiB7XG4gICAgICAgIHRoaXMueCA9IE1hdGgucm91bmQodGhpcy54KTtcbiAgICAgICAgdGhpcy55ID0gTWF0aC5yb3VuZCh0aGlzLnkpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICByb3VuZFRvWmVybygpOiBWZWN0b3IyIHtcbiAgICAgICAgdGhpcy54ID0gdGhpcy54IDwgMCA/IE1hdGguY2VpbCh0aGlzLngpIDogTWF0aC5mbG9vcih0aGlzLngpO1xuICAgICAgICB0aGlzLnkgPSB0aGlzLnkgPCAwID8gTWF0aC5jZWlsKHRoaXMueSkgOiBNYXRoLmZsb29yKHRoaXMueSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIG5lZ2F0ZSgpOiBWZWN0b3IyIHtcbiAgICAgICAgdGhpcy54ID0gLXRoaXMueDtcbiAgICAgICAgdGhpcy55ID0gLXRoaXMueTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgZG90KHY6IFZlY3RvcjIpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy54ICogdi54ICsgdGhpcy55ICogdi55O1xuICAgIH1cblxuICAgIGNyb3NzKHY6IFZlY3RvcjIpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy54ICogdi55IC0gdGhpcy55ICogdi54OyAvLyA/Pz8/XG4gICAgfVxuXG4gICAgc3F1YXJlU3VtKCk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiB0aGlzLnggKiB0aGlzLnggKyB0aGlzLnkgKiB0aGlzLnk7XG4gICAgfVxuXG4gICAgbGVuZ3RoKCk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiBNYXRoLnNxcnQodGhpcy5sZW5ndGhTcXVhcmVkKCkpO1xuICAgIH1cblxuICAgIGxlbmd0aFNxdWFyZWQoKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMueCAqIHRoaXMueCArIHRoaXMueSAqIHRoaXMueTtcbiAgICB9XG5cbiAgICBtYW5oYXQoKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIE1hdGguYWJzKHRoaXMueCkgKyBNYXRoLmFicyh0aGlzLnkpO1xuICAgIH1cblxuICAgIG5vcm1hbGl6ZSgpOiBWZWN0b3IyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGl2KHRoaXMubGVuZ3RoKCkgfHwgMSk7XG4gICAgfVxuXG4gICAgbm9ybWFsaXplZCgpOiBWZWN0b3IyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGl2ZWQodGhpcy5sZW5ndGgoKSB8fCAxKTtcbiAgICB9XG5cbiAgICBhbmdsZSgpOiBudW1iZXIge1xuICAgICAgICAvLyBjb21wdXRlcyB0aGUgYW5nbGUgaW4gcmFkaWFucyB3aXRoIHJlc3BlY3QgdG8gdGhlIHBvc2l0aXZlIHgtYXhpc1xuICAgICAgICBjb25zdCBhbmdsZSA9IE1hdGguYXRhbjIoLXRoaXMueSwgLXRoaXMueCkgKyBNYXRoLlBJO1xuICAgICAgICByZXR1cm4gYW5nbGU7XG4gICAgfVxuXG4gICAgZGlzVG8odjogVmVjdG9yMik6IG51bWJlciB7XG4gICAgICAgIHJldHVybiBNYXRoLnNxcnQodGhpcy5kaXNUb1NxdWFyZWQodikpO1xuICAgIH1cblxuICAgIGRpc1RvU3F1YXJlZCh2OiBWZWN0b3IyKTogbnVtYmVyIHtcbiAgICAgICAgbGV0IGR4ID0gdGhpcy54IC0gdi54O1xuICAgICAgICBsZXQgZHkgPSB0aGlzLnkgLSB2Lnk7XG4gICAgICAgIHJldHVybiBkeCAqIGR4ICsgZHkgKiBkeTtcbiAgICB9XG5cbiAgICBkaXNUb01hbmhhdCh2OiBWZWN0b3IyKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIE1hdGguYWJzKHRoaXMueCAtIHYueCkgKyBNYXRoLmFicyh0aGlzLnkgLSB2LnkpO1xuICAgIH1cblxuICAgIHNldExlbmd0aChsZW5ndGg6IG51bWJlcik6IFZlY3RvcjIge1xuICAgICAgICByZXR1cm4gdGhpcy5ub3JtYWxpemUoKS5zY2FsZShsZW5ndGgpO1xuICAgIH1cblxuICAgIGxlcnAob3RoZXI6IFZlY3RvcjIsIGFscGhhOiBudW1iZXIpOiBWZWN0b3IyIHtcbiAgICAgICAgcmV0dXJuIG5ldyBWZWN0b3IyKHRoaXMueCArIChvdGhlci54IC0gdGhpcy54KSAqIGFscGhhLCB0aGlzLnkgKyAob3RoZXIueSAtIHRoaXMueSkgKiBhbHBoYSk7XG4gICAgfVxuXG4gICAgLy8gY2FsY3VsYXRlIHRoZSAndHJpYW5nbGUgc2lnbicgb2YgdGhyZWUgcG9pbnRzLiBDYW4gYmUgdXNlZCB0byBkZXRlcm1pbmUgY2xvY2t3aXNlICYgY291bnRlciBjbG9ja3dpc2VcbiAgICBzaWduKGI6IFZlY3RvcjIsIGM6IFZlY3RvcjIpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gKHRoaXMueCAtIGMueCkgKiAoYi55IC0gYy55KSAtIChiLnggLSBjLngpICogKHRoaXMueSAtIGMueSk7XG4gICAgfVxuXG4gICAgLy8gdXNlIGRvdCBwcm9kdWN0IHRvIHByb2plY3QgdGhpcyB2ZWN0b3Igb24gdGhlIG90aGVyIHZlY3RvclxuICAgIHByb2plY3RPblZlY3RvcihvdGhlcjogVmVjdG9yMikge1xuICAgICAgICBjb25zdCBkZW5vbWluYXRvciA9IG90aGVyLmxlbmd0aFNxdWFyZWQoKTtcbiAgICAgICAgaWYgKGRlbm9taW5hdG9yID09PSAwKSByZXR1cm4gdGhpcy5zZXQoMCwgMCk7XG4gICAgICAgIGNvbnN0IHNjYWxhciA9IG90aGVyLmRvdCh0aGlzKSAvIGRlbm9taW5hdG9yO1xuICAgICAgICByZXR1cm4gdGhpcy5jb3B5KG90aGVyKS5zY2FsZShzY2FsYXIpO1xuICAgIH1cbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/math/vector.ts\n");

/***/ }),

/***/ "./src/mesh/graph.ts":
/*!***************************!*\
  !*** ./src/mesh/graph.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Graph\": () => /* binding */ Graph\n/* harmony export */ });\n/* harmony import */ var _data_hash_table__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../data/hash-table */ \"./src/data/hash-table.ts\");\n/* harmony import */ var _geo_plane__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../geo/plane */ \"./src/geo/plane.ts\");\n/* harmony import */ var _math_const__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../math/const */ \"./src/math/const.ts\");\n/* harmony import */ var _math_vector__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../math/vector */ \"./src/math/vector.ts\");\n/* harmony import */ var _mesh__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./mesh */ \"./src/mesh/mesh.ts\");\n/* harmony import */ var _render_mesh__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./render-mesh */ \"./src/mesh/render-mesh.ts\");\n// name: graph.ts\r\n// author:  Jos Feenstra\r\n// purpose: HalfEdge Mesh in 3D.\r\n// This does mean that the order around a vertex is not staight forward, and must be handled using normals.\r\n// TODO\r\n// - graph clean\r\n// - graph delete vert\r\n// - to line renderable\r\n// - keep track of faces, for quick meshification\r\n//   - THIS WILL SPEED UP 'GET ALL FACES THREMENDOUSLY, WHICH WILL SPEED UP SUBDIVISONS'\r\n// - remove ambiguity of halfedges & edges\r\n//   - fix the fact that we 'dont' realllly use halfedges, we consistently use pairs of two.\r\n//   - aka, twins are implicit: 0 -> 1 & 1 -> 0 OR 21 -> 20 & 20 -> 21\r\n\r\n\r\n\r\n\r\n\r\n\r\n// FACES MUST BE CONVEX, OR BUGS MIGHT OCCUR!!!!\r\n// interface Face {\r\n//    edge: EdgeIndex,\r\n// }\r\n// NOTE: create an interface which hides the Edge, Vert & Face interfaces.\r\n// NOTE: half edge is implied\r\nclass Graph {\r\n    constructor() {\r\n        this.verts = [];\r\n        this.edges = [];\r\n    }\r\n    static new() {\r\n        return new Graph();\r\n    }\r\n    static fromMesh(mesh) {\r\n        let graph = Graph.new();\r\n        let normals = mesh.calculateVertexNormals();\r\n        mesh.verts.forEach((v, i) => {\r\n            graph.addVert(v, normals[i]);\r\n        });\r\n        let type = mesh.getType();\r\n        if (type == _render_mesh__WEBPACK_IMPORTED_MODULE_5__.MeshType.Invalid || type == _render_mesh__WEBPACK_IMPORTED_MODULE_5__.MeshType.Points) {\r\n            return graph;\r\n        }\r\n        let map = new _data_hash_table__WEBPACK_IMPORTED_MODULE_0__.HashTable();\r\n        let width = mesh.links._width;\r\n        mesh.links.forEachRow((row, i) => {\r\n            // go through pairs\r\n            // NOTE: this can be done way easier by creating 1 half edge per pair\r\n            for (let i = 0; i < width; i++) {\r\n                let iNext = (i + 1) % width;\r\n                let a = row[i];\r\n                let b = row[iNext];\r\n                // console.log(a, b);\r\n                if (a == -1 || b == -1)\r\n                    continue;\r\n                graph.addEdgeIfNew(a, b);\r\n                // let normal = normals[a].add(normals[b]).normalize();\r\n                // if (map.has([a, b])) {\r\n                //     console.log(\"GOT IT ALREADY\")\r\n                //     continue;\r\n                // }\r\n                // graph.addEdgeWithCustomNormal(a, b, normal);\r\n                // map.set([b, a], true);\r\n                // graph.addEdge(a, b);\r\n            }\r\n        });\r\n        return graph;\r\n    }\r\n    // geometry trait\r\n    clone() {\r\n        throw new Error(\"not yet implemented...\");\r\n    }\r\n    transform(matrix) {\r\n        for (let i = 0; i < this.verts.length; i++) {\r\n            let v = this.verts[i];\r\n            v.pos = matrix.multiplyVector(v.pos);\r\n        }\r\n    }\r\n    // UTILITY\r\n    print() {\r\n        console.log(\"graph\");\r\n        console.log(\"--------\");\r\n        console.log(`${this.verts.length} verts: `);\r\n        for (let i = 0; i < this.verts.length; i++) {\r\n            let v = this.verts[i];\r\n            console.log(`v(${i}) | edge: ${v.edge}, data: ${v.pos.toString()} normal: ${v.normal.toString()}`);\r\n        }\r\n        console.log(\"--------\");\r\n        console.log(`${this.edges.length} edges:  `);\r\n        for (let i = 0; i < this.edges.length; i++) {\r\n            let e = this.edges[i];\r\n            console.log(`e(${i}) | vert: ${e.vert}, twin: ${e.twin}, next: ${e.next}, dead ${e.dead}`);\r\n        }\r\n        console.log(\"--------\");\r\n    }\r\n    // CONVERTERS\r\n    toMesh() {\r\n        return _mesh__WEBPACK_IMPORTED_MODULE_4__.Mesh.fromGraph(this);\r\n    }\r\n    toLines() {\r\n        return _mesh__WEBPACK_IMPORTED_MODULE_4__.Mesh.newLines(this.allVertPositions(), this.allUniqueEdgeVerts());\r\n    }\r\n    toRenderable() {\r\n        return _render_mesh__WEBPACK_IMPORTED_MODULE_5__.Renderable.fromGraph(this);\r\n    }\r\n    // public getters\r\n    allNorms() {\r\n        let data = [];\r\n        this.verts.forEach((v) => {\r\n            data.push(v.normal);\r\n        });\r\n        return data;\r\n    }\r\n    allVertPositions() {\r\n        let data = [];\r\n        this.verts.forEach((v) => {\r\n            data.push(v.pos);\r\n        });\r\n        return data;\r\n    }\r\n    allUniqueEdges() {\r\n        let edges = [];\r\n        let count = this.edges.length / 2;\r\n        for (let i = 0; i < count; i++) {\r\n            let i1 = i * 2;\r\n            let i2 = i * 2 + 1;\r\n            let a = this.getEdge(i1);\r\n            let b = this.getEdge(i2);\r\n            if (a.dead || b.dead) {\r\n                continue;\r\n            }\r\n            edges.push(i1);\r\n        }\r\n        return edges;\r\n    }\r\n    allUniqueEdgeVerts() {\r\n        let edges = [];\r\n        let count = this.edges.length / 2;\r\n        for (let i = 0; i < count; i++) {\r\n            let i1 = i * 2;\r\n            let i2 = i * 2 + 1;\r\n            let a = this.getEdge(i1);\r\n            let b = this.getEdge(i2);\r\n            if (a.dead || b.dead) {\r\n                continue;\r\n            }\r\n            edges.push(a.vert, b.vert);\r\n        }\r\n        return edges;\r\n    }\r\n    allEdgeVerts() {\r\n        let data = [];\r\n        // let edges = new Map<number, number>()\r\n        this.edges.forEach((e, i) => {\r\n            if (e.dead)\r\n                return;\r\n            let a = e.vert;\r\n            let b = this.getEdge(e.twin).vert;\r\n            if (a < b) {\r\n                data.push(a);\r\n                data.push(b);\r\n            }\r\n        });\r\n        return data;\r\n    }\r\n    allVertLoops() {\r\n        throw \"TODO\";\r\n    }\r\n    allVertLoopsAsInts() {\r\n        // TODO speed this up\r\n        let loops = [];\r\n        let unvisited = new Set();\r\n        this.edges.forEach((e, i) => {\r\n            if (e.dead) {\r\n                return;\r\n            }\r\n            unvisited.add(i);\r\n        });\r\n        let i = 0;\r\n        const limit = this.edges.length; // we will never visit an edge twice if all is according to plan\r\n        while (unvisited.size > 0) {\r\n            let loop = [];\r\n            let ei = unvisited.entries().next().value[0];\r\n            let start = ei;\r\n            do {\r\n                if (i > limit) {\r\n                    // this.print();\r\n                    throw \"topology is corrupt!\";\r\n                }\r\n                i += 1;\r\n                let e = this.getEdge(ei);\r\n                unvisited.delete(ei);\r\n                loop.push(e.vert);\r\n                ei = e.next;\r\n            } while (ei != start);\r\n            loops.push(loop);\r\n        }\r\n        return loops;\r\n    }\r\n    getLoop(ei) {\r\n        let loop = [];\r\n        let i = 0;\r\n        const limit = this.edges.length;\r\n        let start = ei;\r\n        do {\r\n            if (i > limit) {\r\n                // this.print();\r\n                throw \"topology is corrupt!\";\r\n            }\r\n            i += 1;\r\n            let e = this.getEdge(ei);\r\n            loop.push(ei);\r\n            ei = e.next;\r\n        } while (ei != start);\r\n        return loop;\r\n    }\r\n    getVertexPos(vi) {\r\n        if (vi < 0 || vi >= this.verts.length) {\r\n            throw \"out of range\";\r\n        }\r\n        return this.verts[vi].pos;\r\n    }\r\n    getVertexNormal(vi) {\r\n        if (vi < 0 || vi >= this.verts.length) {\r\n            throw \"out of range\";\r\n        }\r\n        return this.verts[vi].normal;\r\n    }\r\n    getVertexCount() {\r\n        return this.verts.length;\r\n    }\r\n    getHalfEdgeCount() {\r\n        return this.edges.length;\r\n    }\r\n    changeVertex(vi, pos, norm) {\r\n        let v = this.verts[vi];\r\n        v.pos = pos;\r\n        v.normal = norm;\r\n    }\r\n    getVert(vi) {\r\n        if (vi < 0 || vi >= this.verts.length) {\r\n            throw \"out of range\";\r\n        }\r\n        return this.verts[vi];\r\n    }\r\n    getEdge(ei) {\r\n        if (ei < 0 || ei >= this.edges.length) {\r\n            console.error(\"out of range\");\r\n        }\r\n        return this.edges[ei];\r\n    }\r\n    getEdgeIndexBetween(ai, bi) {\r\n        let res = this.getEdgeBetween(ai, bi);\r\n        if (res)\r\n            return this.getEdgeIndex(res);\r\n        return undefined;\r\n    }\r\n    getEdgeBetween(ai, bi) {\r\n        let edges = this.getVertEdgeFan(ai);\r\n        for (let i = 0; i < edges.length; i++) {\r\n            if (this.getEdge(edges[i].twin).vert == bi) {\r\n                return edges[i];\r\n            }\r\n        }\r\n        return undefined;\r\n    }\r\n    getVertEdgeFan(vi) {\r\n        // get all edges connected to this vertex.\r\n        // NOTE: all are outgoing (e.vert == vi)\r\n        // console.log(\"getting fan\");\r\n        let fan = [];\r\n        let v = this.verts[vi];\r\n        let ei = v.edge;\r\n        let start = ei;\r\n        if (ei == -1) {\r\n            return fan;\r\n        }\r\n        let count = 0;\r\n        while (true) {\r\n            if (count > this.verts.length) {\r\n                this.print();\r\n                console.log(\"fan: \", fan);\r\n                throw \"nope\";\r\n            }\r\n            count += 1;\r\n            // console.log(\"step\", count, \"ei\", ei);\r\n            let e = this.getEdge(ei);\r\n            let e_twin = this.getEdgeTwin(ei);\r\n            fan.push(e);\r\n            ei = e_twin.next;\r\n            if (ei == start) {\r\n                break;\r\n            }\r\n        }\r\n        // console.log(\"returning fan: \", fan);\r\n        return fan;\r\n    }\r\n    getLoopsAdjacentToEdge(ei) {\r\n        let loops = [];\r\n        loops.push(this.getLoop(ei));\r\n        loops.push(this.getLoop(this.getEdge(ei).twin));\r\n        return loops;\r\n    }\r\n    getVertNeighbors(vi) {\r\n        let ids = [];\r\n        this.getVertEdgeFan(vi).forEach((e) => {\r\n            ids.push(this.getEdge(e.twin).vert);\r\n        });\r\n        return ids;\r\n    }\r\n    getEdgeIndex(e) {\r\n        return this.getEdge(e.twin).twin;\r\n    }\r\n    getEdgeTwin(ei) {\r\n        return this.edges[this.edges[ei].twin];\r\n    }\r\n    hasEdge(a, b) {\r\n        let nbs = this.getVertNeighbors(a);\r\n        return nbs.includes(b);\r\n    }\r\n    addVert(vector, normal) {\r\n        this.verts.push({ pos: vector, edge: -1, normal: normal, dead: false });\r\n        return this.verts.length - 1;\r\n    }\r\n    removeVert(a) {\r\n        throw \"TODO FIGURE OUT NULL & REMOVAL\";\r\n    }\r\n    addEdgeIfNew(a, b) {\r\n        if (!this.hasEdge(a, b)) {\r\n            // console.log(\"not there!\");\r\n            this.addEdge(a, b);\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n    addEdge(vi_1, vi_2) {\r\n        //             ei1\r\n        // / vi1 \\  ---------> / vi2 \\\r\n        // \\     / <---------  \\     /\r\n        //             ei2\r\n        let ei_1 = this.edges.length;\r\n        let ei_2 = ei_1 + 1;\r\n        this.edges.push({\r\n            next: -1,\r\n            twin: ei_2,\r\n            vert: vi_1,\r\n            dead: false,\r\n        });\r\n        this.edges.push({\r\n            next: -1,\r\n            twin: ei_1,\r\n            vert: vi_2,\r\n            dead: false,\r\n        });\r\n        // make sure the 'next' things are fixed, and more\r\n        this.addEdgeToDisk(vi_1, ei_1);\r\n        this.addEdgeToDisk(vi_2, ei_2);\r\n    }\r\n    deleteEdgeByIndex(id) {\r\n        // flag it as 'to be removed'\r\n        this.deleteEdge(this.getEdge(id));\r\n    }\r\n    deleteEdge(edge) {\r\n        // flag it as 'to be removed'\r\n        let twin = this.getEdge(edge.twin);\r\n        edge.dead = true;\r\n        twin.dead = true;\r\n        // remove all pointers\r\n        this.deleteEdgeFromDisk(edge);\r\n        this.deleteEdgeFromDisk(twin);\r\n    }\r\n    // SETTERS\r\n    getDiskPositions(ei) {\r\n        // returns edgeIndex before, edgeIndex after\r\n        let e = this.getEdge(ei);\r\n        let v = this.getVert(e.vert);\r\n        let twin = this.getEdgeTwin(ei);\r\n        let v_twin = this.verts[twin.vert];\r\n        let myVector = v.pos.subbed(v_twin.pos);\r\n        // get all vectors\r\n        let vectors = [];\r\n        vectors.push(myVector);\r\n        // get more vectors by getting all edges currently connected to vertex v\r\n        // if this Edge is already within the fan, filter it out, so this assessment can be correctly made\r\n        let edgesPotentiallyWithExistingEdge = this.getVertEdgeFan(e.vert);\r\n        let edges = [];\r\n        for (let i = 0; i < edgesPotentiallyWithExistingEdge.length; i++) {\r\n            let edge = edgesPotentiallyWithExistingEdge[i];\r\n            if (this.getEdgeIndex(edge) == ei) {\r\n                // console.log(\"edge is in the fan!\");\r\n            }\r\n            else {\r\n                edges.push(edge);\r\n            }\r\n        }\r\n        if (edges.length == 0) {\r\n            return [ei, ei];\r\n        }\r\n        if (edges.length == 1) {\r\n            let e = edges[0];\r\n            return [this.getEdgeIndex(e), this.getEdgeIndex(e)];\r\n        }\r\n        // console.log(\"edges\", edges);\r\n        for (let i = 0; i < edges.length; i++) {\r\n            let edge = edges[i];\r\n            let twin = this.getEdge(edge.twin);\r\n            let neighbor = this.verts[twin.vert];\r\n            let neighborVector = v.pos.subbed(neighbor.pos);\r\n            vectors.push(neighborVector);\r\n        }\r\n        // console.log(\"all vectors: \", vectors);\r\n        // order them by 'wheel'\r\n        let plane = _geo_plane__WEBPACK_IMPORTED_MODULE_1__.Plane.fromPN(v.pos, v.normal);\r\n        let ihat = plane.ihat;\r\n        let jhat = plane.jhat;\r\n        let order = _math_vector__WEBPACK_IMPORTED_MODULE_3__.Vector3.calculateWheelOrder(vectors, ihat, jhat);\r\n        // console.log(\"order\", order);\r\n        // find index 0 in the ordering. that is the position of this new edge. get the edges before and after this edge\r\n        let i_before = -1;\r\n        let i_after = -1;\r\n        for (let a = 0; a < order.length; a++) {\r\n            let b = (a + 1) % order.length;\r\n            let c = (a + 2) % order.length;\r\n            if (order[b] == 0) {\r\n                i_before = order[a];\r\n                i_after = order[c];\r\n                break;\r\n            }\r\n        }\r\n        // pick. NOTE: IF CCW / CC OF GRAPH NEEDS TO BE CHANGED, CHANGE THIS ORDER, BUT USE WITH CAUTION\r\n        // minus one, since we have 1 vector more than the edge list\r\n        let e_before = edges[i_after - 1];\r\n        let e_after = edges[i_before - 1];\r\n        return [this.getEdgeIndex(e_before), this.getEdgeIndex(e_after)];\r\n    }\r\n    addEdgeToDisk(vi, ei) {\r\n        let v = this.getVert(vi);\r\n        let twin = this.getEdgeTwin(ei);\r\n        if (v.edge == -1) {\r\n            // set two pointers:\r\n            v.edge = ei; // I am the vertex's first edge\r\n            twin.next = ei; // that means my twin points back to me\r\n        }\r\n        else {\r\n            let [ei_before, ei_after] = this.getDiskPositions(ei);\r\n            let [e_before, e_after] = [this.getEdge(ei_before), this.getEdge(ei_after)];\r\n            // set two pointers:\r\n            this.getEdge(e_before.twin).next = ei;\r\n            twin.next = this.getEdgeIndex(e_after);\r\n        }\r\n    }\r\n    deleteEdgeFromDisk(edge) {\r\n        let ei = this.getEdgeIndex(edge);\r\n        // console.log(\"deleting...\", ei);\r\n        let vert = this.getVert(edge.vert);\r\n        // console.log(\"deleting from disk...\");\r\n        let [ei_before, ei_after] = this.getDiskPositions(ei);\r\n        if (ei_before == ei) {\r\n            vert.edge = -1;\r\n            return;\r\n        }\r\n        // let flower = this.getVertEdgeFan(edge.vert);\r\n        // flower.forEach((e) => {console.log(this.getEdgeIndex(e))});\r\n        let [e_before, e_after] = [this.getEdge(ei_before), this.getEdge(ei_after)];\r\n        // set one pointer\r\n        // console.log(\"this is edge\", ei);\r\n        // // console.log(\"before is\", ei_before);\r\n        // console.log(\"after is\", ei_after);\r\n        // console.log(\"before.twin.next is\", this.getEdge(e_before.twin).next);\r\n        // console.log(\"after.twin.next is\", this.getEdge(e_after.twin).next);\r\n        this.getEdge(e_before.twin).next = ei_after;\r\n        if (vert.edge == ei) {\r\n            vert.edge = ei_after;\r\n        }\r\n    }\r\n    // MISC\r\n    splitEdge(ai, bi, alpha) {\r\n        // get the edge\r\n        let edge = this.getEdgeBetween(ai, bi);\r\n        if (!edge)\r\n            throw new Error(`No Edge found between ${ai} and ${bi}`);\r\n        let twin = this.getEdge(edge.twin);\r\n        let a = this.getVert(ai);\r\n        let b = this.getVert(bi);\r\n        let v = _math_vector__WEBPACK_IMPORTED_MODULE_3__.Vector3.fromLerp(a.pos, b.pos, alpha);\r\n        let n = _math_vector__WEBPACK_IMPORTED_MODULE_3__.Vector3.fromLerp(a.normal, b.normal, alpha);\r\n        let ci = this.addVert(v, n);\r\n        let c = this.getVert(ci);\r\n        // change the edges\r\n        // if (ai == 0) {\r\n        // }\r\n        this.deleteEdge(edge);\r\n        this.addEdge(ai, ci);\r\n        this.addEdge(ci, bi);\r\n        return ci;\r\n    }\r\n    subdivide() {\r\n        // 1. get all edges\r\n        let edges = this.allEdgeVerts();\r\n        let faces = this.allVertLoopsAsInts();\r\n        // this maps old edges to new vertices\r\n        let deadEdgeMap = new _data_hash_table__WEBPACK_IMPORTED_MODULE_0__.HashTable(); // this\r\n        // 2. split all edges, map\r\n        let count = edges.length / 2;\r\n        let middlePoints = new Array(count);\r\n        for (let i = 0; i < count; i++) {\r\n            let vai = edges[i * 2];\r\n            let vbi = edges[i * 2 + 1];\r\n            // let edgeI = this.getEdgeIndexBetween(vai, vbi)!;\r\n            // let edgeII = this.getEdgeIndexBetween(vbi, vai)!;\r\n            let vci = this.splitEdge(vai, vbi, 0.5);\r\n            middlePoints[i] = vci;\r\n            deadEdgeMap.set([vai, vbi], vci);\r\n            deadEdgeMap.set([vbi, vai], vci);\r\n        }\r\n        // 3. per old face: connect the dots\r\n        for (let i = 0; i < faces.length; i++) {\r\n            let face = faces[i];\r\n            // get all middle points\r\n            let middlePoints = new Array(face.length);\r\n            for (let j = 0; j < face.length; j++) {\r\n                let jNext = (j + 1) % face.length;\r\n                let via = face[j];\r\n                let vib = face[jNext];\r\n                // console.log(via, vib);\r\n                middlePoints[j] = deadEdgeMap.get([via, vib]);\r\n            }\r\n            // console.log(middlePoints);\r\n            // connect the dots\r\n            for (let j = 0; j < face.length; j++) {\r\n                let jNext = (j + 1) % face.length;\r\n                this.addEdge(middlePoints[j], middlePoints[jNext]);\r\n            }\r\n        }\r\n    }\r\n    subdivideQuad() {\r\n        // 1. get all edges\r\n        let edges = this.allEdgeVerts();\r\n        let faces = this.allVertLoopsAsInts();\r\n        // this maps old edges to new vertices\r\n        let deadEdgeMap = new _data_hash_table__WEBPACK_IMPORTED_MODULE_0__.HashTable(); // this\r\n        // 2. split all edges, map\r\n        let count = edges.length / 2;\r\n        for (let i = 0; i < count; i++) {\r\n            let vai = edges[i * 2];\r\n            let vbi = edges[i * 2 + 1];\r\n            // let edgeI = this.getEdgeIndexBetween(vai, vbi)!;\r\n            // let edgeII = this.getEdgeIndexBetween(vbi, vai)!;\r\n            let vci = this.splitEdge(vai, vbi, 0.5);\r\n            deadEdgeMap.set([vai, vbi], vci);\r\n            deadEdgeMap.set([vbi, vai], vci);\r\n        }\r\n        // 3. per old face: connect the dots\r\n        for (let i = 0; i < faces.length; i++) {\r\n            let face = faces[i];\r\n            // get center point\r\n            let pos = _math_vector__WEBPACK_IMPORTED_MODULE_3__.Vector3.zero();\r\n            for (let j = 0; j < face.length; j++) {\r\n                pos.add(this.getVertexPos(face[j]));\r\n            }\r\n            pos.scale(1 / face.length);\r\n            let norm = calcPlanarFaceNormal(face.map((v) => this.getVertexPos(v)));\r\n            let si = this.addVert(pos, norm);\r\n            // per middle point, connect the dots\r\n            for (let j = 0; j < face.length; j++) {\r\n                let jNext = (j + 1) % face.length;\r\n                let via = face[j];\r\n                let vib = face[jNext];\r\n                // console.log(via, vib);\r\n                let c = deadEdgeMap.get([via, vib]);\r\n                this.addEdge(si, c);\r\n            }\r\n        }\r\n    }\r\n    forEveryEdgeVerts(callback) {\r\n        let edges = this.allUniqueEdgeVerts();\r\n        let edgeCount = edges.length / 2;\r\n        for (let i = 0; i < edgeCount; i++) {\r\n            let a = this.getVert(edges[i * 2]);\r\n            let b = this.getVert(edges[i * 2 + 1]);\r\n            callback(a.pos, b.pos);\r\n        }\r\n    }\r\n}\r\nfunction calcPlanarFaceNormal(face) {\r\n    // ASSUMES : FACE = PLANAR & FACE = NOT SLIVER POLYGON (AREA > 0)\r\n    let count = face.length;\r\n    if (count < 3) {\r\n        throw \"cannot get face planar with 2 or less edges\";\r\n    }\r\n    // get the normal of a planar face\r\n    let normal = _math_vector__WEBPACK_IMPORTED_MODULE_3__.Vector3.zero();\r\n    // two edges could be parallel, but there will be two edges in the face that are different.\r\n    let ihat = face[1].subbed(face[0]);\r\n    let jhat = face[2].subbed(face[1]);\r\n    for (let i = 1; i < count; i++) {\r\n        if (Math.abs(ihat.dot(jhat)) > _math_const__WEBPACK_IMPORTED_MODULE_2__.Const.TOLERANCE) {\r\n            return ihat.cross(jhat);\r\n        }\r\n        else {\r\n            // try again with next pair of\r\n            let i2 = (i + 1) % count;\r\n            let i3 = (i + 2) % count;\r\n            jhat = face[i3].subbed(face[i2]);\r\n        }\r\n    }\r\n    throw \"get planar face failed...\";\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9nZW9uLWVuZ2luZS8uL3NyYy9tZXNoL2dyYXBoLnRzP2UyZGMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFBLGlCQUFpQjtBQUNqQix3QkFBd0I7QUFDeEIsZ0NBQWdDO0FBQ2hDLDJHQUEyRztBQUUzRyxPQUFPO0FBQ1AsZ0JBQWdCO0FBQ2hCLHNCQUFzQjtBQUN0Qix1QkFBdUI7QUFDdkIsaURBQWlEO0FBQ2pELHdGQUF3RjtBQUN4RiwwQ0FBMEM7QUFDMUMsNEZBQTRGO0FBQzVGLHNFQUFzRTtBQUV2QjtBQUdWO0FBQ0M7QUFFRztBQUlYO0FBQ21DO0FBbUJqRSxnREFBZ0Q7QUFDaEQsbUJBQW1CO0FBQ25CLHNCQUFzQjtBQUN0QixJQUFJO0FBRUosMEVBQTBFO0FBQzFFLDZCQUE2QjtBQUN0QixNQUFNLEtBQUs7SUFJZDtRQUNJLElBQUksQ0FBQyxLQUFLLEdBQUcsRUFBRSxDQUFDO1FBQ2hCLElBQUksQ0FBQyxLQUFLLEdBQUcsRUFBRSxDQUFDO0lBQ3BCLENBQUM7SUFFRCxNQUFNLENBQUMsR0FBRztRQUNOLE9BQU8sSUFBSSxLQUFLLEVBQUUsQ0FBQztJQUN2QixDQUFDO0lBRUQsTUFBTSxDQUFDLFFBQVEsQ0FBQyxJQUFVO1FBQ3RCLElBQUksS0FBSyxHQUFHLEtBQUssQ0FBQyxHQUFHLEVBQUUsQ0FBQztRQUN4QixJQUFJLE9BQU8sR0FBRyxJQUFJLENBQUMsc0JBQXNCLEVBQUUsQ0FBQztRQUU1QyxJQUFJLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRTtZQUN4QixLQUFLLENBQUMsT0FBTyxDQUFDLENBQUMsRUFBRSxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNqQyxDQUFDLENBQUMsQ0FBQztRQUVILElBQUksSUFBSSxHQUFHLElBQUksQ0FBQyxPQUFPLEVBQUUsQ0FBQztRQUMxQixJQUFJLElBQUksSUFBSSwwREFBZ0IsSUFBSSxJQUFJLElBQUkseURBQWUsRUFBRTtZQUNyRCxPQUFPLEtBQUssQ0FBQztTQUNoQjtRQUVELElBQUksR0FBRyxHQUFHLElBQUksdURBQVMsRUFBVyxDQUFDO1FBQ25DLElBQUksS0FBSyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDO1FBQzlCLElBQUksQ0FBQyxLQUFLLENBQUMsVUFBVSxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUMsRUFBRSxFQUFFO1lBQzdCLG1CQUFtQjtZQUNuQixxRUFBcUU7WUFDckUsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEtBQUssRUFBRSxDQUFDLEVBQUUsRUFBRTtnQkFDNUIsSUFBSSxLQUFLLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxDQUFDO2dCQUU1QixJQUFJLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7Z0JBQ2YsSUFBSSxDQUFDLEdBQUcsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDO2dCQUVuQixxQkFBcUI7Z0JBQ3JCLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7b0JBQUUsU0FBUztnQkFDakMsS0FBSyxDQUFDLFlBQVksQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7Z0JBRXpCLHVEQUF1RDtnQkFFdkQseUJBQXlCO2dCQUN6QixvQ0FBb0M7Z0JBQ3BDLGdCQUFnQjtnQkFDaEIsSUFBSTtnQkFDSiwrQ0FBK0M7Z0JBQy9DLHlCQUF5QjtnQkFDekIsdUJBQXVCO2FBQzFCO1FBQ0wsQ0FBQyxDQUFDLENBQUM7UUFFSCxPQUFPLEtBQUssQ0FBQztJQUNqQixDQUFDO0lBRUQsaUJBQWlCO0lBRWpCLEtBQUs7UUFDRCxNQUFNLElBQUksS0FBSyxDQUFDLHdCQUF3QixDQUFDLENBQUM7SUFDOUMsQ0FBQztJQUVELFNBQVMsQ0FBQyxNQUFlO1FBQ3JCLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRTtZQUN4QyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ3RCLENBQUMsQ0FBQyxHQUFHLEdBQUcsTUFBTSxDQUFDLGNBQWMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7U0FDeEM7SUFDTCxDQUFDO0lBRUQsVUFBVTtJQUVWLEtBQUs7UUFDRCxPQUFPLENBQUMsR0FBRyxDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBQ3JCLE9BQU8sQ0FBQyxHQUFHLENBQUMsVUFBVSxDQUFDLENBQUM7UUFDeEIsT0FBTyxDQUFDLEdBQUcsQ0FBQyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxVQUFVLENBQUMsQ0FBQztRQUM1QyxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7WUFDeEMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUN0QixPQUFPLENBQUMsR0FBRyxDQUNQLEtBQUssQ0FBQyxhQUNGLENBQUMsQ0FBQyxJQUNOLFdBQVcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxRQUFRLEVBQUUsWUFBWSxDQUFDLENBQUMsTUFBTSxDQUFDLFFBQVEsRUFBRSxFQUFFLENBQy9ELENBQUM7U0FDTDtRQUVELE9BQU8sQ0FBQyxHQUFHLENBQUMsVUFBVSxDQUFDLENBQUM7UUFDeEIsT0FBTyxDQUFDLEdBQUcsQ0FBQyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxXQUFXLENBQUMsQ0FBQztRQUM3QyxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7WUFDeEMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUN0QixPQUFPLENBQUMsR0FBRyxDQUNQLEtBQUssQ0FBQyxhQUFhLENBQUMsQ0FBQyxJQUFJLFdBQVcsQ0FBQyxDQUFDLElBQUksV0FBVyxDQUFDLENBQUMsSUFBSSxVQUFVLENBQUMsQ0FBQyxJQUFJLEVBQUUsQ0FDaEYsQ0FBQztTQUNMO1FBQ0QsT0FBTyxDQUFDLEdBQUcsQ0FBQyxVQUFVLENBQUMsQ0FBQztJQUM1QixDQUFDO0lBRUQsYUFBYTtJQUViLE1BQU07UUFDRixPQUFPLGlEQUFjLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDaEMsQ0FBQztJQUVELE9BQU87UUFDSCxPQUFPLGdEQUFhLENBQUMsSUFBSSxDQUFDLGdCQUFnQixFQUFFLEVBQUUsSUFBSSxDQUFDLGtCQUFrQixFQUFFLENBQUMsQ0FBQztJQUM3RSxDQUFDO0lBRUQsWUFBWTtRQUNSLE9BQU8sOERBQW9CLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDdEMsQ0FBQztJQUVELGlCQUFpQjtJQUVqQixRQUFRO1FBQ0osSUFBSSxJQUFJLEdBQWMsRUFBRSxDQUFDO1FBQ3pCLElBQUksQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUU7WUFDckIsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUM7UUFDeEIsQ0FBQyxDQUFDLENBQUM7UUFDSCxPQUFPLElBQUksQ0FBQztJQUNoQixDQUFDO0lBRUQsZ0JBQWdCO1FBQ1osSUFBSSxJQUFJLEdBQWMsRUFBRSxDQUFDO1FBQ3pCLElBQUksQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUU7WUFDckIsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDckIsQ0FBQyxDQUFDLENBQUM7UUFDSCxPQUFPLElBQUksQ0FBQztJQUNoQixDQUFDO0lBRUQsY0FBYztRQUNWLElBQUksS0FBSyxHQUFnQixFQUFFLENBQUM7UUFDNUIsSUFBSSxLQUFLLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDO1FBQ2xDLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxLQUFLLEVBQUUsQ0FBQyxFQUFFLEVBQUU7WUFDNUIsSUFBSSxFQUFFLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUNmLElBQUksRUFBRSxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQ25CLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsRUFBRSxDQUFDLENBQUM7WUFDekIsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxFQUFFLENBQUMsQ0FBQztZQUN6QixJQUFJLENBQUMsQ0FBQyxJQUFJLElBQUksQ0FBQyxDQUFDLElBQUksRUFBRTtnQkFDbEIsU0FBUzthQUNaO1lBQ0QsS0FBSyxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQztTQUNsQjtRQUNELE9BQU8sS0FBSyxDQUFDO0lBQ2pCLENBQUM7SUFFRCxrQkFBa0I7UUFDZCxJQUFJLEtBQUssR0FBZ0IsRUFBRSxDQUFDO1FBQzVCLElBQUksS0FBSyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQztRQUNsQyxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsS0FBSyxFQUFFLENBQUMsRUFBRSxFQUFFO1lBQzVCLElBQUksRUFBRSxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUM7WUFDZixJQUFJLEVBQUUsR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUNuQixJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLEVBQUUsQ0FBQyxDQUFDO1lBQ3pCLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsRUFBRSxDQUFDLENBQUM7WUFDekIsSUFBSSxDQUFDLENBQUMsSUFBSSxJQUFJLENBQUMsQ0FBQyxJQUFJLEVBQUU7Z0JBQ2xCLFNBQVM7YUFDWjtZQUNELEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLElBQUksRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUM7U0FDOUI7UUFDRCxPQUFPLEtBQUssQ0FBQztJQUNqQixDQUFDO0lBRUQsWUFBWTtRQUNSLElBQUksSUFBSSxHQUFnQixFQUFFLENBQUM7UUFDM0Isd0NBQXdDO1FBQ3hDLElBQUksQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFO1lBQ3hCLElBQUksQ0FBQyxDQUFDLElBQUk7Z0JBQUUsT0FBTztZQUNuQixJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDO1lBQ2YsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsSUFBSSxDQUFDO1lBRWxDLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRTtnQkFDUCxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUNiLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7YUFDaEI7UUFDTCxDQUFDLENBQUMsQ0FBQztRQUNILE9BQU8sSUFBSSxDQUFDO0lBQ2hCLENBQUM7SUFFRCxZQUFZO1FBQ1IsTUFBTSxNQUFNLENBQUM7SUFDakIsQ0FBQztJQUVELGtCQUFrQjtRQUNkLHFCQUFxQjtRQUNyQixJQUFJLEtBQUssR0FBa0IsRUFBRSxDQUFDO1FBQzlCLElBQUksU0FBUyxHQUFHLElBQUksR0FBRyxFQUFVLENBQUM7UUFDbEMsSUFBSSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUU7WUFDeEIsSUFBSSxDQUFDLENBQUMsSUFBSSxFQUFFO2dCQUNSLE9BQU87YUFDVjtZQUNELFNBQVMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDckIsQ0FBQyxDQUFDLENBQUM7UUFFSCxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDVixNQUFNLEtBQUssR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxDQUFDLGdFQUFnRTtRQUVqRyxPQUFPLFNBQVMsQ0FBQyxJQUFJLEdBQUcsQ0FBQyxFQUFFO1lBQ3ZCLElBQUksSUFBSSxHQUFnQixFQUFFLENBQUM7WUFDM0IsSUFBSSxFQUFFLEdBQUcsU0FBUyxDQUFDLE9BQU8sRUFBRSxDQUFDLElBQUksRUFBRSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQWMsQ0FBQztZQUMxRCxJQUFJLEtBQUssR0FBRyxFQUFFLENBQUM7WUFDZixHQUFHO2dCQUNDLElBQUksQ0FBQyxHQUFHLEtBQUssRUFBRTtvQkFDWCxnQkFBZ0I7b0JBQ2hCLE1BQU0sc0JBQXNCLENBQUM7aUJBQ2hDO2dCQUNELENBQUMsSUFBSSxDQUFDLENBQUM7Z0JBQ1AsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxFQUFFLENBQUMsQ0FBQztnQkFDekIsU0FBUyxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsQ0FBQztnQkFDckIsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUM7Z0JBQ2xCLEVBQUUsR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDO2FBQ2YsUUFBUSxFQUFFLElBQUksS0FBSyxFQUFFO1lBRXRCLEtBQUssQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7U0FDcEI7UUFDRCxPQUFPLEtBQUssQ0FBQztJQUNqQixDQUFDO0lBRUQsT0FBTyxDQUFDLEVBQWE7UUFDakIsSUFBSSxJQUFJLEdBQWdCLEVBQUUsQ0FBQztRQUMzQixJQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDVixNQUFNLEtBQUssR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQztRQUNoQyxJQUFJLEtBQUssR0FBRyxFQUFFLENBQUM7UUFDZixHQUFHO1lBQ0MsSUFBSSxDQUFDLEdBQUcsS0FBSyxFQUFFO2dCQUNYLGdCQUFnQjtnQkFDaEIsTUFBTSxzQkFBc0IsQ0FBQzthQUNoQztZQUNELENBQUMsSUFBSSxDQUFDLENBQUM7WUFFUCxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLEVBQUUsQ0FBQyxDQUFDO1lBQ3pCLElBQUksQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUM7WUFDZCxFQUFFLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQztTQUNmLFFBQVEsRUFBRSxJQUFJLEtBQUssRUFBRTtRQUV0QixPQUFPLElBQUksQ0FBQztJQUNoQixDQUFDO0lBRUQsWUFBWSxDQUFDLEVBQWE7UUFDdEIsSUFBSSxFQUFFLEdBQUcsQ0FBQyxJQUFJLEVBQUUsSUFBSSxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sRUFBRTtZQUNuQyxNQUFNLGNBQWMsQ0FBQztTQUN4QjtRQUNELE9BQU8sSUFBSSxDQUFDLEtBQUssQ0FBQyxFQUFFLENBQUMsQ0FBQyxHQUFHLENBQUM7SUFDOUIsQ0FBQztJQUVELGVBQWUsQ0FBQyxFQUFhO1FBQ3pCLElBQUksRUFBRSxHQUFHLENBQUMsSUFBSSxFQUFFLElBQUksSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLEVBQUU7WUFDbkMsTUFBTSxjQUFjLENBQUM7U0FDeEI7UUFDRCxPQUFPLElBQUksQ0FBQyxLQUFLLENBQUMsRUFBRSxDQUFDLENBQUMsTUFBTSxDQUFDO0lBQ2pDLENBQUM7SUFFRCxjQUFjO1FBQ1YsT0FBTyxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQztJQUM3QixDQUFDO0lBRUQsZ0JBQWdCO1FBQ1osT0FBTyxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQztJQUM3QixDQUFDO0lBRUQsWUFBWSxDQUFDLEVBQWEsRUFBRSxHQUFZLEVBQUUsSUFBYTtRQUNuRCxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQ3ZCLENBQUMsQ0FBQyxHQUFHLEdBQUcsR0FBRyxDQUFDO1FBQ1osQ0FBQyxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUM7SUFDcEIsQ0FBQztJQUVELE9BQU8sQ0FBQyxFQUFhO1FBQ2pCLElBQUksRUFBRSxHQUFHLENBQUMsSUFBSSxFQUFFLElBQUksSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLEVBQUU7WUFDbkMsTUFBTSxjQUFjLENBQUM7U0FDeEI7UUFDRCxPQUFPLElBQUksQ0FBQyxLQUFLLENBQUMsRUFBRSxDQUFDLENBQUM7SUFDMUIsQ0FBQztJQUVELE9BQU8sQ0FBQyxFQUFhO1FBQ2pCLElBQUksRUFBRSxHQUFHLENBQUMsSUFBSSxFQUFFLElBQUksSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLEVBQUU7WUFDbkMsT0FBTyxDQUFDLEtBQUssQ0FBQyxjQUFjLENBQUMsQ0FBQztTQUNqQztRQUNELE9BQU8sSUFBSSxDQUFDLEtBQUssQ0FBQyxFQUFFLENBQUMsQ0FBQztJQUMxQixDQUFDO0lBRUQsbUJBQW1CLENBQUMsRUFBYSxFQUFFLEVBQWE7UUFDNUMsSUFBSSxHQUFHLEdBQUcsSUFBSSxDQUFDLGNBQWMsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLENBQUM7UUFDdEMsSUFBSSxHQUFHO1lBQUUsT0FBTyxJQUFJLENBQUMsWUFBWSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ3ZDLE9BQU8sU0FBUyxDQUFDO0lBQ3JCLENBQUM7SUFFRCxjQUFjLENBQUMsRUFBYSxFQUFFLEVBQWE7UUFDdkMsSUFBSSxLQUFLLEdBQUcsSUFBSSxDQUFDLGNBQWMsQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUNwQyxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsS0FBSyxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRTtZQUNuQyxJQUFJLElBQUksQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLElBQUksSUFBSSxFQUFFLEVBQUU7Z0JBQ3hDLE9BQU8sS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO2FBQ25CO1NBQ0o7UUFFRCxPQUFPLFNBQVMsQ0FBQztJQUNyQixDQUFDO0lBRUQsY0FBYyxDQUFDLEVBQWE7UUFDeEIsMENBQTBDO1FBQzFDLHdDQUF3QztRQUV4Qyw4QkFBOEI7UUFFOUIsSUFBSSxHQUFHLEdBQVcsRUFBRSxDQUFDO1FBQ3JCLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDdkIsSUFBSSxFQUFFLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQztRQUNoQixJQUFJLEtBQUssR0FBRyxFQUFFLENBQUM7UUFDZixJQUFJLEVBQUUsSUFBSSxDQUFDLENBQUMsRUFBRTtZQUNWLE9BQU8sR0FBRyxDQUFDO1NBQ2Q7UUFDRCxJQUFJLEtBQUssR0FBRyxDQUFDLENBQUM7UUFDZCxPQUFPLElBQUksRUFBRTtZQUNULElBQUksS0FBSyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxFQUFFO2dCQUMzQixJQUFJLENBQUMsS0FBSyxFQUFFLENBQUM7Z0JBQ2IsT0FBTyxDQUFDLEdBQUcsQ0FBQyxPQUFPLEVBQUUsR0FBRyxDQUFDLENBQUM7Z0JBQzFCLE1BQU0sTUFBTSxDQUFDO2FBQ2hCO1lBQ0QsS0FBSyxJQUFJLENBQUMsQ0FBQztZQUVYLHdDQUF3QztZQUV4QyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLEVBQUUsQ0FBQyxDQUFDO1lBQ3pCLElBQUksTUFBTSxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsRUFBRSxDQUFDLENBQUM7WUFDbEMsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUVaLEVBQUUsR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDO1lBRWpCLElBQUksRUFBRSxJQUFJLEtBQUssRUFBRTtnQkFDYixNQUFNO2FBQ1Q7U0FDSjtRQUVELHVDQUF1QztRQUN2QyxPQUFPLEdBQUcsQ0FBQztJQUNmLENBQUM7SUFFRCxzQkFBc0IsQ0FBQyxFQUFhO1FBQ2hDLElBQUksS0FBSyxHQUFrQixFQUFFLENBQUM7UUFFOUIsS0FBSyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7UUFDN0IsS0FBSyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQztRQUVoRCxPQUFPLEtBQUssQ0FBQztJQUNqQixDQUFDO0lBRUQsZ0JBQWdCLENBQUMsRUFBYTtRQUMxQixJQUFJLEdBQUcsR0FBZ0IsRUFBRSxDQUFDO1FBQzFCLElBQUksQ0FBQyxjQUFjLENBQUMsRUFBRSxDQUFDLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBTyxFQUFFLEVBQUU7WUFDeEMsR0FBRyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUN4QyxDQUFDLENBQUMsQ0FBQztRQUNILE9BQU8sR0FBRyxDQUFDO0lBQ2YsQ0FBQztJQUVELFlBQVksQ0FBQyxDQUFPO1FBQ2hCLE9BQU8sSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsSUFBSSxDQUFDO0lBQ3JDLENBQUM7SUFFRCxXQUFXLENBQUMsRUFBYTtRQUNyQixPQUFPLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUMzQyxDQUFDO0lBRUQsT0FBTyxDQUFDLENBQVksRUFBRSxDQUFZO1FBQzlCLElBQUksR0FBRyxHQUFHLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNuQyxPQUFPLEdBQUcsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDM0IsQ0FBQztJQUVELE9BQU8sQ0FBQyxNQUFlLEVBQUUsTUFBZTtRQUNwQyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxFQUFFLEdBQUcsRUFBRSxNQUFNLEVBQUUsSUFBSSxFQUFFLENBQUMsQ0FBQyxFQUFFLE1BQU0sRUFBRSxNQUFNLEVBQUUsSUFBSSxFQUFFLEtBQUssRUFBRSxDQUFDLENBQUM7UUFDeEUsT0FBTyxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUM7SUFDakMsQ0FBQztJQUVELFVBQVUsQ0FBQyxDQUFZO1FBQ25CLE1BQU0sZ0NBQWdDLENBQUM7SUFDM0MsQ0FBQztJQUVELFlBQVksQ0FBQyxDQUFZLEVBQUUsQ0FBWTtRQUNuQyxJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUU7WUFDckIsNkJBQTZCO1lBQzdCLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO1lBQ25CLE9BQU8sSUFBSSxDQUFDO1NBQ2Y7UUFDRCxPQUFPLEtBQUssQ0FBQztJQUNqQixDQUFDO0lBRUQsT0FBTyxDQUFDLElBQWUsRUFBRSxJQUFlO1FBQ3BDLGtCQUFrQjtRQUNsQiw4QkFBOEI7UUFDOUIsOEJBQThCO1FBQzlCLGtCQUFrQjtRQUVsQixJQUFJLElBQUksR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQztRQUM3QixJQUFJLElBQUksR0FBRyxJQUFJLEdBQUcsQ0FBQyxDQUFDO1FBRXBCLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDO1lBQ1osSUFBSSxFQUFFLENBQUMsQ0FBQztZQUNSLElBQUksRUFBRSxJQUFJO1lBQ1YsSUFBSSxFQUFFLElBQUk7WUFDVixJQUFJLEVBQUUsS0FBSztTQUNkLENBQUMsQ0FBQztRQUNILElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDO1lBQ1osSUFBSSxFQUFFLENBQUMsQ0FBQztZQUNSLElBQUksRUFBRSxJQUFJO1lBQ1YsSUFBSSxFQUFFLElBQUk7WUFDVixJQUFJLEVBQUUsS0FBSztTQUNkLENBQUMsQ0FBQztRQUVILGtEQUFrRDtRQUNsRCxJQUFJLENBQUMsYUFBYSxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsQ0FBQztRQUMvQixJQUFJLENBQUMsYUFBYSxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsQ0FBQztJQUNuQyxDQUFDO0lBRUQsaUJBQWlCLENBQUMsRUFBYTtRQUMzQiw2QkFBNkI7UUFDN0IsSUFBSSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDdEMsQ0FBQztJQUVELFVBQVUsQ0FBQyxJQUFVO1FBQ2pCLDZCQUE2QjtRQUM3QixJQUFJLElBQUksR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUNuQyxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQztRQUNqQixJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQztRQUVqQixzQkFBc0I7UUFDdEIsSUFBSSxDQUFDLGtCQUFrQixDQUFDLElBQUksQ0FBQyxDQUFDO1FBQzlCLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUNsQyxDQUFDO0lBRUQsVUFBVTtJQUVWLGdCQUFnQixDQUFDLEVBQWE7UUFDMUIsNENBQTRDO1FBQzVDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDekIsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFFLENBQUM7UUFDOUIsSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUNoQyxJQUFJLE1BQU0sR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUNuQyxJQUFJLFFBQVEsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUM7UUFFeEMsa0JBQWtCO1FBQ2xCLElBQUksT0FBTyxHQUFjLEVBQUUsQ0FBQztRQUM1QixPQUFPLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBRXZCLHdFQUF3RTtRQUV4RSxrR0FBa0c7UUFDbEcsSUFBSSxnQ0FBZ0MsR0FBRyxJQUFJLENBQUMsY0FBYyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUNuRSxJQUFJLEtBQUssR0FBVyxFQUFFLENBQUM7UUFDdkIsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLGdDQUFnQyxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRTtZQUM5RCxJQUFJLElBQUksR0FBRyxnQ0FBZ0MsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUMvQyxJQUFJLElBQUksQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxFQUFFO2dCQUMvQixzQ0FBc0M7YUFDekM7aUJBQU07Z0JBQ0gsS0FBSyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQzthQUNwQjtTQUNKO1FBRUQsSUFBSSxLQUFLLENBQUMsTUFBTSxJQUFJLENBQUMsRUFBRTtZQUNuQixPQUFPLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxDQUFDO1NBQ25CO1FBRUQsSUFBSSxLQUFLLENBQUMsTUFBTSxJQUFJLENBQUMsRUFBRTtZQUNuQixJQUFJLENBQUMsR0FBRyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDakIsT0FBTyxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1NBQ3ZEO1FBRUQsK0JBQStCO1FBRS9CLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxLQUFLLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFO1lBQ25DLElBQUksSUFBSSxHQUFHLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUNwQixJQUFJLElBQUksR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztZQUNuQyxJQUFJLFFBQVEsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztZQUNyQyxJQUFJLGNBQWMsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLENBQUM7WUFDaEQsT0FBTyxDQUFDLElBQUksQ0FBQyxjQUFjLENBQUMsQ0FBQztTQUNoQztRQUVELHlDQUF5QztRQUV6Qyx3QkFBd0I7UUFDeEIsSUFBSSxLQUFLLEdBQUcsb0RBQVksQ0FBQyxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUMxQyxJQUFJLElBQUksR0FBRyxLQUFLLENBQUMsSUFBSSxDQUFDO1FBQ3RCLElBQUksSUFBSSxHQUFHLEtBQUssQ0FBQyxJQUFJLENBQUM7UUFDdEIsSUFBSSxLQUFLLEdBQUcscUVBQTJCLENBQUMsT0FBTyxFQUFFLElBQUksRUFBRSxJQUFJLENBQUMsQ0FBQztRQUU3RCwrQkFBK0I7UUFFL0IsZ0hBQWdIO1FBQ2hILElBQUksUUFBUSxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ2xCLElBQUksT0FBTyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ2pCLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxLQUFLLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFO1lBQ25DLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssQ0FBQyxNQUFNLENBQUM7WUFDL0IsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxDQUFDLE1BQU0sQ0FBQztZQUMvQixJQUFJLEtBQUssQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLEVBQUU7Z0JBQ2YsUUFBUSxHQUFHLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztnQkFDcEIsT0FBTyxHQUFHLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztnQkFDbkIsTUFBTTthQUNUO1NBQ0o7UUFFRCxnR0FBZ0c7UUFDaEcsNERBQTREO1FBQzVELElBQUksUUFBUSxHQUFHLEtBQUssQ0FBQyxPQUFPLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDbEMsSUFBSSxPQUFPLEdBQUcsS0FBSyxDQUFDLFFBQVEsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUVsQyxPQUFPLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxRQUFRLENBQUMsRUFBRSxJQUFJLENBQUMsWUFBWSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUM7SUFDckUsQ0FBQztJQUVELGFBQWEsQ0FBQyxFQUFhLEVBQUUsRUFBYTtRQUN0QyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLEVBQUUsQ0FBRSxDQUFDO1FBQzFCLElBQUksSUFBSSxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDaEMsSUFBSSxDQUFDLENBQUMsSUFBSSxJQUFJLENBQUMsQ0FBQyxFQUFFO1lBQ2Qsb0JBQW9CO1lBQ3BCLENBQUMsQ0FBQyxJQUFJLEdBQUcsRUFBRSxDQUFDLENBQUMsK0JBQStCO1lBQzVDLElBQUksQ0FBQyxJQUFJLEdBQUcsRUFBRSxDQUFDLENBQUMsdUNBQXVDO1NBQzFEO2FBQU07WUFDSCxJQUFJLENBQUMsU0FBUyxFQUFFLFFBQVEsQ0FBQyxHQUFHLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxFQUFFLENBQUMsQ0FBQztZQUN0RCxJQUFJLENBQUMsUUFBUSxFQUFFLE9BQU8sQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxTQUFTLENBQUMsRUFBRSxJQUFJLENBQUMsT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUM7WUFFNUUsb0JBQW9CO1lBQ3BCLElBQUksQ0FBQyxPQUFPLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxDQUFDLElBQUksR0FBRyxFQUFFLENBQUM7WUFDdEMsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUMsWUFBWSxDQUFDLE9BQU8sQ0FBQyxDQUFDO1NBQzFDO0lBQ0wsQ0FBQztJQUVELGtCQUFrQixDQUFDLElBQVU7UUFDekIsSUFBSSxFQUFFLEdBQUcsSUFBSSxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUNqQyxrQ0FBa0M7UUFFbEMsSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7UUFFbkMsd0NBQXdDO1FBQ3hDLElBQUksQ0FBQyxTQUFTLEVBQUUsUUFBUSxDQUFDLEdBQUcsSUFBSSxDQUFDLGdCQUFnQixDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBRXRELElBQUksU0FBUyxJQUFJLEVBQUUsRUFBRTtZQUNqQixJQUFJLENBQUMsSUFBSSxHQUFHLENBQUMsQ0FBQyxDQUFDO1lBQ2YsT0FBTztTQUNWO1FBRUQsK0NBQStDO1FBQy9DLDhEQUE4RDtRQUM5RCxJQUFJLENBQUMsUUFBUSxFQUFFLE9BQU8sQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxTQUFTLENBQUMsRUFBRSxJQUFJLENBQUMsT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUM7UUFFNUUsa0JBQWtCO1FBQ2xCLG1DQUFtQztRQUVuQywwQ0FBMEM7UUFDMUMscUNBQXFDO1FBRXJDLHdFQUF3RTtRQUN4RSxzRUFBc0U7UUFDdEUsSUFBSSxDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLENBQUMsSUFBSSxHQUFHLFFBQVEsQ0FBQztRQUU1QyxJQUFJLElBQUksQ0FBQyxJQUFJLElBQUksRUFBRSxFQUFFO1lBQ2pCLElBQUksQ0FBQyxJQUFJLEdBQUcsUUFBUSxDQUFDO1NBQ3hCO0lBQ0wsQ0FBQztJQUVELE9BQU87SUFFUCxTQUFTLENBQUMsRUFBYSxFQUFFLEVBQWEsRUFBRSxLQUFhO1FBQ2pELGVBQWU7UUFDZixJQUFJLElBQUksR0FBRyxJQUFJLENBQUMsY0FBYyxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsQ0FBQztRQUN2QyxJQUFJLENBQUMsSUFBSTtZQUFFLE1BQU0sSUFBSSxLQUFLLENBQUMseUJBQXlCLEVBQUUsUUFBUSxFQUFFLEVBQUUsQ0FBQyxDQUFDO1FBQ3BFLElBQUksSUFBSSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBRW5DLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDekIsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUN6QixJQUFJLENBQUMsR0FBRywwREFBZ0IsQ0FBQyxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxHQUFHLEVBQUUsS0FBSyxDQUFDLENBQUM7UUFDOUMsSUFBSSxDQUFDLEdBQUcsMERBQWdCLENBQUMsQ0FBQyxDQUFDLE1BQU0sRUFBRSxDQUFDLENBQUMsTUFBTSxFQUFFLEtBQUssQ0FBQyxDQUFDO1FBRXBELElBQUksRUFBRSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO1FBQzVCLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsRUFBRSxDQUFDLENBQUM7UUFFekIsbUJBQW1CO1FBQ25CLGlCQUFpQjtRQUVqQixJQUFJO1FBRUosSUFBSSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUN0QixJQUFJLENBQUMsT0FBTyxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsQ0FBQztRQUNyQixJQUFJLENBQUMsT0FBTyxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsQ0FBQztRQUVyQixPQUFPLEVBQUUsQ0FBQztJQUNkLENBQUM7SUFFRCxTQUFTO1FBQ0wsbUJBQW1CO1FBQ25CLElBQUksS0FBSyxHQUFHLElBQUksQ0FBQyxZQUFZLEVBQUUsQ0FBQztRQUNoQyxJQUFJLEtBQUssR0FBRyxJQUFJLENBQUMsa0JBQWtCLEVBQUUsQ0FBQztRQUV0QyxzQ0FBc0M7UUFDdEMsSUFBSSxXQUFXLEdBQUcsSUFBSSx1REFBUyxFQUFhLENBQUMsQ0FBQyxPQUFPO1FBRXJELDBCQUEwQjtRQUMxQixJQUFJLEtBQUssR0FBRyxLQUFLLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQztRQUM3QixJQUFJLFlBQVksR0FBRyxJQUFJLEtBQUssQ0FBWSxLQUFLLENBQUMsQ0FBQztRQUMvQyxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsS0FBSyxFQUFFLENBQUMsRUFBRSxFQUFFO1lBQzVCLElBQUksR0FBRyxHQUFHLEtBQUssQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7WUFDdkIsSUFBSSxHQUFHLEdBQUcsS0FBSyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7WUFFM0IsbURBQW1EO1lBQ25ELG9EQUFvRDtZQUVwRCxJQUFJLEdBQUcsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxDQUFDLENBQUM7WUFDeEMsWUFBWSxDQUFDLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQztZQUN0QixXQUFXLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxFQUFFLEdBQUcsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDO1lBQ2pDLFdBQVcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLEVBQUUsR0FBRyxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUM7U0FDcEM7UUFFRCxvQ0FBb0M7UUFDcEMsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEtBQUssQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7WUFDbkMsSUFBSSxJQUFJLEdBQUcsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBRXBCLHdCQUF3QjtZQUN4QixJQUFJLFlBQVksR0FBRyxJQUFJLEtBQUssQ0FBWSxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7WUFDckQsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7Z0JBQ2xDLElBQUksS0FBSyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUM7Z0JBQ2xDLElBQUksR0FBRyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztnQkFDbEIsSUFBSSxHQUFHLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO2dCQUN0Qix5QkFBeUI7Z0JBQ3pCLFlBQVksQ0FBQyxDQUFDLENBQUMsR0FBRyxXQUFXLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxFQUFFLEdBQUcsQ0FBQyxDQUFFLENBQUM7YUFDbEQ7WUFFRCw2QkFBNkI7WUFFN0IsbUJBQW1CO1lBQ25CLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxJQUFJLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFO2dCQUNsQyxJQUFJLEtBQUssR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDO2dCQUNsQyxJQUFJLENBQUMsT0FBTyxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUMsRUFBRSxZQUFZLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQzthQUN0RDtTQUNKO0lBQ0wsQ0FBQztJQUVELGFBQWE7UUFDVCxtQkFBbUI7UUFDbkIsSUFBSSxLQUFLLEdBQUcsSUFBSSxDQUFDLFlBQVksRUFBRSxDQUFDO1FBQ2hDLElBQUksS0FBSyxHQUFHLElBQUksQ0FBQyxrQkFBa0IsRUFBRSxDQUFDO1FBRXRDLHNDQUFzQztRQUN0QyxJQUFJLFdBQVcsR0FBRyxJQUFJLHVEQUFTLEVBQWEsQ0FBQyxDQUFDLE9BQU87UUFFckQsMEJBQTBCO1FBQzFCLElBQUksS0FBSyxHQUFHLEtBQUssQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDO1FBQzdCLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxLQUFLLEVBQUUsQ0FBQyxFQUFFLEVBQUU7WUFDNUIsSUFBSSxHQUFHLEdBQUcsS0FBSyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztZQUN2QixJQUFJLEdBQUcsR0FBRyxLQUFLLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztZQUUzQixtREFBbUQ7WUFDbkQsb0RBQW9EO1lBRXBELElBQUksR0FBRyxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLENBQUMsQ0FBQztZQUN4QyxXQUFXLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxFQUFFLEdBQUcsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDO1lBQ2pDLFdBQVcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLEVBQUUsR0FBRyxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUM7U0FDcEM7UUFFRCxvQ0FBb0M7UUFDcEMsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEtBQUssQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7WUFDbkMsSUFBSSxJQUFJLEdBQUcsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBRXBCLG1CQUFtQjtZQUNuQixJQUFJLEdBQUcsR0FBRyxzREFBWSxFQUFFLENBQUM7WUFDekIsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7Z0JBQ2xDLEdBQUcsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO2FBQ3ZDO1lBQ0QsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1lBRTNCLElBQUksSUFBSSxHQUFHLG9CQUFvQixDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ3ZFLElBQUksRUFBRSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsR0FBRyxFQUFFLElBQUksQ0FBQyxDQUFDO1lBRWpDLHFDQUFxQztZQUNyQyxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRTtnQkFDbEMsSUFBSSxLQUFLLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQztnQkFDbEMsSUFBSSxHQUFHLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUNsQixJQUFJLEdBQUcsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7Z0JBQ3RCLHlCQUF5QjtnQkFDekIsSUFBSSxDQUFDLEdBQUcsV0FBVyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsRUFBRSxHQUFHLENBQUMsQ0FBRSxDQUFDO2dCQUNyQyxJQUFJLENBQUMsT0FBTyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQzthQUN2QjtTQUNKO0lBQ0wsQ0FBQztJQUVELGlCQUFpQixDQUFDLFFBQTBDO1FBQ3hELElBQUksS0FBSyxHQUFHLElBQUksQ0FBQyxrQkFBa0IsRUFBRSxDQUFDO1FBQ3RDLElBQUksU0FBUyxHQUFHLEtBQUssQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDO1FBQ2pDLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxTQUFTLEVBQUUsQ0FBQyxFQUFFLEVBQUU7WUFDaEMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDbkMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ3ZDLFFBQVEsQ0FBQyxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztTQUMxQjtJQUNMLENBQUM7Q0FDSjtBQUVELFNBQVMsb0JBQW9CLENBQUMsSUFBZTtJQUN6QyxpRUFBaUU7SUFDakUsSUFBSSxLQUFLLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQztJQUN4QixJQUFJLEtBQUssR0FBRyxDQUFDLEVBQUU7UUFDWCxNQUFNLDZDQUE2QyxDQUFDO0tBQ3ZEO0lBRUQsa0NBQWtDO0lBQ2xDLElBQUksTUFBTSxHQUFHLHNEQUFZLEVBQUUsQ0FBQztJQUU1QiwyRkFBMkY7SUFDM0YsSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUNuQyxJQUFJLElBQUksR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBRW5DLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxLQUFLLEVBQUUsQ0FBQyxFQUFFLEVBQUU7UUFDNUIsSUFBSSxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUMsR0FBRyx3REFBZSxFQUFFO1lBQzVDLE9BQU8sSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQztTQUMzQjthQUFNO1lBQ0gsOEJBQThCO1lBQzlCLElBQUksRUFBRSxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssQ0FBQztZQUN6QixJQUFJLEVBQUUsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxLQUFLLENBQUM7WUFDekIsSUFBSSxHQUFHLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7U0FDcEM7S0FDSjtJQUNELE1BQU0sMkJBQTJCLENBQUM7QUFDdEMsQ0FBQyIsImZpbGUiOiIuL3NyYy9tZXNoL2dyYXBoLnRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gbmFtZTogZ3JhcGgudHNcbi8vIGF1dGhvcjogIEpvcyBGZWVuc3RyYVxuLy8gcHVycG9zZTogSGFsZkVkZ2UgTWVzaCBpbiAzRC5cbi8vIFRoaXMgZG9lcyBtZWFuIHRoYXQgdGhlIG9yZGVyIGFyb3VuZCBhIHZlcnRleCBpcyBub3Qgc3RhaWdodCBmb3J3YXJkLCBhbmQgbXVzdCBiZSBoYW5kbGVkIHVzaW5nIG5vcm1hbHMuXG5cbi8vIFRPRE9cbi8vIC0gZ3JhcGggY2xlYW5cbi8vIC0gZ3JhcGggZGVsZXRlIHZlcnRcbi8vIC0gdG8gbGluZSByZW5kZXJhYmxlXG4vLyAtIGtlZXAgdHJhY2sgb2YgZmFjZXMsIGZvciBxdWljayBtZXNoaWZpY2F0aW9uXG4vLyAgIC0gVEhJUyBXSUxMIFNQRUVEIFVQICdHRVQgQUxMIEZBQ0VTIFRIUkVNRU5ET1VTTFksIFdISUNIIFdJTEwgU1BFRUQgVVAgU1VCRElWSVNPTlMnXG4vLyAtIHJlbW92ZSBhbWJpZ3VpdHkgb2YgaGFsZmVkZ2VzICYgZWRnZXNcbi8vICAgLSBmaXggdGhlIGZhY3QgdGhhdCB3ZSAnZG9udCcgcmVhbGxsbHkgdXNlIGhhbGZlZGdlcywgd2UgY29uc2lzdGVudGx5IHVzZSBwYWlycyBvZiB0d28uXG4vLyAgIC0gYWthLCB0d2lucyBhcmUgaW1wbGljaXQ6IDAgLT4gMSAmIDEgLT4gMCBPUiAyMSAtPiAyMCAmIDIwIC0+IDIxXG5cbmltcG9ydCB7IEhhc2hUYWJsZSB9IGZyb20gXCIuLi9kYXRhL2hhc2gtdGFibGVcIjtcbmltcG9ydCB7IEludE1hdHJpeCB9IGZyb20gXCIuLi9kYXRhL2ludC1tYXRyaXhcIjtcbmltcG9ydCB7IFZlY3RvcjNBcnJheSB9IGZyb20gXCIuLi9kYXRhL3ZlY3Rvci1hcnJheVwiO1xuaW1wb3J0IHsgUGxhbmUgfSBmcm9tIFwiLi4vZ2VvL3BsYW5lXCI7XG5pbXBvcnQgeyBDb25zdCB9IGZyb20gXCIuLi9tYXRoL2NvbnN0XCI7XG5pbXBvcnQgeyBNYXRyaXg0IH0gZnJvbSBcIi4uL21hdGgvbWF0cml4XCI7XG5pbXBvcnQgeyBWZWN0b3IzIH0gZnJvbSBcIi4uL21hdGgvdmVjdG9yXCI7XG5pbXBvcnQgeyBTaW1wbGVNZXNoUmVuZGVyZXIgfSBmcm9tIFwiLi4vcmVuZGVyL3NpbXBsZS1tZXNoLXJlbmRlcmVyXCI7XG5pbXBvcnQgeyBTdG9wd2F0Y2ggfSBmcm9tIFwiLi4vc3lzdGVtL3N0b3B3YXRjaFwiO1xuaW1wb3J0IHsgTGluZUFycmF5IH0gZnJvbSBcIi4vbGluZS1hcnJheVwiO1xuaW1wb3J0IHsgTWVzaCB9IGZyb20gXCIuL21lc2hcIjtcbmltcG9ydCB7IE1lc2hUeXBlLCBOb3JtYWxLaW5kLCBSZW5kZXJhYmxlIH0gZnJvbSBcIi4vcmVuZGVyLW1lc2hcIjtcblxuZXhwb3J0IHR5cGUgRWRnZUluZGV4ID0gbnVtYmVyO1xuZXhwb3J0IHR5cGUgVmVydEluZGV4ID0gbnVtYmVyO1xuXG5leHBvcnQgdHlwZSBWZXJ0ID0ge1xuICAgIHBvczogVmVjdG9yMztcbiAgICBub3JtYWw6IFZlY3RvcjM7XG4gICAgZWRnZTogRWRnZUluZGV4O1xuICAgIGRlYWQ6IGJvb2xlYW47XG59O1xuXG5leHBvcnQgdHlwZSBFZGdlID0ge1xuICAgIG5leHQ6IEVkZ2VJbmRleDtcbiAgICB0d2luOiBFZGdlSW5kZXg7XG4gICAgdmVydDogVmVydEluZGV4O1xuICAgIGRlYWQ6IGJvb2xlYW47XG59O1xuXG4vLyBGQUNFUyBNVVNUIEJFIENPTlZFWCwgT1IgQlVHUyBNSUdIVCBPQ0NVUiEhISFcbi8vIGludGVyZmFjZSBGYWNlIHtcbi8vICAgIGVkZ2U6IEVkZ2VJbmRleCxcbi8vIH1cblxuLy8gTk9URTogY3JlYXRlIGFuIGludGVyZmFjZSB3aGljaCBoaWRlcyB0aGUgRWRnZSwgVmVydCAmIEZhY2UgaW50ZXJmYWNlcy5cbi8vIE5PVEU6IGhhbGYgZWRnZSBpcyBpbXBsaWVkXG5leHBvcnQgY2xhc3MgR3JhcGgge1xuICAgIHZlcnRzOiBWZXJ0W107IC8vIFRPRE86IFNVUFBPUlQgUkVNT1ZBTCAoREVBTCBXSVRIIFVORVZFTiBNT1ZFTUVOVFMgSU4gVEhFIExJU1QpXG4gICAgZWRnZXM6IEVkZ2VbXTsgLy8gTk9URTogQUxXQVlTIEFOIEVWRU4gTlVNQkVSIE9GIEVER0VTLiBFREdFIFRXSU4gSVMgRVZFTiAvIFVORVZFTiBNQVRDSFxuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMudmVydHMgPSBbXTtcbiAgICAgICAgdGhpcy5lZGdlcyA9IFtdO1xuICAgIH1cblxuICAgIHN0YXRpYyBuZXcoKSB7XG4gICAgICAgIHJldHVybiBuZXcgR3JhcGgoKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZnJvbU1lc2gobWVzaDogTWVzaCk6IEdyYXBoIHtcbiAgICAgICAgbGV0IGdyYXBoID0gR3JhcGgubmV3KCk7XG4gICAgICAgIGxldCBub3JtYWxzID0gbWVzaC5jYWxjdWxhdGVWZXJ0ZXhOb3JtYWxzKCk7XG5cbiAgICAgICAgbWVzaC52ZXJ0cy5mb3JFYWNoKCh2LCBpKSA9PiB7XG4gICAgICAgICAgICBncmFwaC5hZGRWZXJ0KHYsIG5vcm1hbHNbaV0pO1xuICAgICAgICB9KTtcblxuICAgICAgICBsZXQgdHlwZSA9IG1lc2guZ2V0VHlwZSgpO1xuICAgICAgICBpZiAodHlwZSA9PSBNZXNoVHlwZS5JbnZhbGlkIHx8IHR5cGUgPT0gTWVzaFR5cGUuUG9pbnRzKSB7XG4gICAgICAgICAgICByZXR1cm4gZ3JhcGg7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgbWFwID0gbmV3IEhhc2hUYWJsZTxCb29sZWFuPigpO1xuICAgICAgICBsZXQgd2lkdGggPSBtZXNoLmxpbmtzLl93aWR0aDtcbiAgICAgICAgbWVzaC5saW5rcy5mb3JFYWNoUm93KChyb3csIGkpID0+IHtcbiAgICAgICAgICAgIC8vIGdvIHRocm91Z2ggcGFpcnNcbiAgICAgICAgICAgIC8vIE5PVEU6IHRoaXMgY2FuIGJlIGRvbmUgd2F5IGVhc2llciBieSBjcmVhdGluZyAxIGhhbGYgZWRnZSBwZXIgcGFpclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB3aWR0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgbGV0IGlOZXh0ID0gKGkgKyAxKSAlIHdpZHRoO1xuXG4gICAgICAgICAgICAgICAgbGV0IGEgPSByb3dbaV07XG4gICAgICAgICAgICAgICAgbGV0IGIgPSByb3dbaU5leHRdO1xuXG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coYSwgYik7XG4gICAgICAgICAgICAgICAgaWYgKGEgPT0gLTEgfHwgYiA9PSAtMSkgY29udGludWU7XG4gICAgICAgICAgICAgICAgZ3JhcGguYWRkRWRnZUlmTmV3KGEsIGIpO1xuXG4gICAgICAgICAgICAgICAgLy8gbGV0IG5vcm1hbCA9IG5vcm1hbHNbYV0uYWRkKG5vcm1hbHNbYl0pLm5vcm1hbGl6ZSgpO1xuXG4gICAgICAgICAgICAgICAgLy8gaWYgKG1hcC5oYXMoW2EsIGJdKSkge1xuICAgICAgICAgICAgICAgIC8vICAgICBjb25zb2xlLmxvZyhcIkdPVCBJVCBBTFJFQURZXCIpXG4gICAgICAgICAgICAgICAgLy8gICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIC8vIH1cbiAgICAgICAgICAgICAgICAvLyBncmFwaC5hZGRFZGdlV2l0aEN1c3RvbU5vcm1hbChhLCBiLCBub3JtYWwpO1xuICAgICAgICAgICAgICAgIC8vIG1hcC5zZXQoW2IsIGFdLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAvLyBncmFwaC5hZGRFZGdlKGEsIGIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gZ3JhcGg7XG4gICAgfVxuXG4gICAgLy8gZ2VvbWV0cnkgdHJhaXRcblxuICAgIGNsb25lKCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJub3QgeWV0IGltcGxlbWVudGVkLi4uXCIpO1xuICAgIH1cblxuICAgIHRyYW5zZm9ybShtYXRyaXg6IE1hdHJpeDQpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnZlcnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgdiA9IHRoaXMudmVydHNbaV07XG4gICAgICAgICAgICB2LnBvcyA9IG1hdHJpeC5tdWx0aXBseVZlY3Rvcih2LnBvcyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBVVElMSVRZXG5cbiAgICBwcmludCgpIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJncmFwaFwiKTtcbiAgICAgICAgY29uc29sZS5sb2coXCItLS0tLS0tLVwiKTtcbiAgICAgICAgY29uc29sZS5sb2coYCR7dGhpcy52ZXJ0cy5sZW5ndGh9IHZlcnRzOiBgKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnZlcnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgdiA9IHRoaXMudmVydHNbaV07XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcbiAgICAgICAgICAgICAgICBgdigke2l9KSB8IGVkZ2U6ICR7XG4gICAgICAgICAgICAgICAgICAgIHYuZWRnZVxuICAgICAgICAgICAgICAgIH0sIGRhdGE6ICR7di5wb3MudG9TdHJpbmcoKX0gbm9ybWFsOiAke3Yubm9ybWFsLnRvU3RyaW5nKCl9YCxcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zb2xlLmxvZyhcIi0tLS0tLS0tXCIpO1xuICAgICAgICBjb25zb2xlLmxvZyhgJHt0aGlzLmVkZ2VzLmxlbmd0aH0gZWRnZXM6ICBgKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmVkZ2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgZSA9IHRoaXMuZWRnZXNbaV07XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcbiAgICAgICAgICAgICAgICBgZSgke2l9KSB8IHZlcnQ6ICR7ZS52ZXJ0fSwgdHdpbjogJHtlLnR3aW59LCBuZXh0OiAke2UubmV4dH0sIGRlYWQgJHtlLmRlYWR9YCxcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc29sZS5sb2coXCItLS0tLS0tLVwiKTtcbiAgICB9XG5cbiAgICAvLyBDT05WRVJURVJTXG5cbiAgICB0b01lc2goKTogTWVzaCB7XG4gICAgICAgIHJldHVybiBNZXNoLmZyb21HcmFwaCh0aGlzKTtcbiAgICB9XG5cbiAgICB0b0xpbmVzKCk6IE1lc2gge1xuICAgICAgICByZXR1cm4gTWVzaC5uZXdMaW5lcyh0aGlzLmFsbFZlcnRQb3NpdGlvbnMoKSwgdGhpcy5hbGxVbmlxdWVFZGdlVmVydHMoKSk7XG4gICAgfVxuXG4gICAgdG9SZW5kZXJhYmxlKCk6IFJlbmRlcmFibGUge1xuICAgICAgICByZXR1cm4gUmVuZGVyYWJsZS5mcm9tR3JhcGgodGhpcyk7XG4gICAgfVxuXG4gICAgLy8gcHVibGljIGdldHRlcnNcblxuICAgIGFsbE5vcm1zKCk6IFZlY3RvcjNbXSB7XG4gICAgICAgIGxldCBkYXRhOiBWZWN0b3IzW10gPSBbXTtcbiAgICAgICAgdGhpcy52ZXJ0cy5mb3JFYWNoKCh2KSA9PiB7XG4gICAgICAgICAgICBkYXRhLnB1c2godi5ub3JtYWwpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfVxuXG4gICAgYWxsVmVydFBvc2l0aW9ucygpOiBWZWN0b3IzW10ge1xuICAgICAgICBsZXQgZGF0YTogVmVjdG9yM1tdID0gW107XG4gICAgICAgIHRoaXMudmVydHMuZm9yRWFjaCgodikgPT4ge1xuICAgICAgICAgICAgZGF0YS5wdXNoKHYucG9zKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBkYXRhO1xuICAgIH1cblxuICAgIGFsbFVuaXF1ZUVkZ2VzKCk6IEVkZ2VJbmRleFtdIHtcbiAgICAgICAgbGV0IGVkZ2VzOiBFZGdlSW5kZXhbXSA9IFtdO1xuICAgICAgICBsZXQgY291bnQgPSB0aGlzLmVkZ2VzLmxlbmd0aCAvIDI7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY291bnQ7IGkrKykge1xuICAgICAgICAgICAgbGV0IGkxID0gaSAqIDI7XG4gICAgICAgICAgICBsZXQgaTIgPSBpICogMiArIDE7XG4gICAgICAgICAgICBsZXQgYSA9IHRoaXMuZ2V0RWRnZShpMSk7XG4gICAgICAgICAgICBsZXQgYiA9IHRoaXMuZ2V0RWRnZShpMik7XG4gICAgICAgICAgICBpZiAoYS5kZWFkIHx8IGIuZGVhZCkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWRnZXMucHVzaChpMSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGVkZ2VzO1xuICAgIH1cblxuICAgIGFsbFVuaXF1ZUVkZ2VWZXJ0cygpOiBWZXJ0SW5kZXhbXSB7XG4gICAgICAgIGxldCBlZGdlczogVmVydEluZGV4W10gPSBbXTtcbiAgICAgICAgbGV0IGNvdW50ID0gdGhpcy5lZGdlcy5sZW5ndGggLyAyO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvdW50OyBpKyspIHtcbiAgICAgICAgICAgIGxldCBpMSA9IGkgKiAyO1xuICAgICAgICAgICAgbGV0IGkyID0gaSAqIDIgKyAxO1xuICAgICAgICAgICAgbGV0IGEgPSB0aGlzLmdldEVkZ2UoaTEpO1xuICAgICAgICAgICAgbGV0IGIgPSB0aGlzLmdldEVkZ2UoaTIpO1xuICAgICAgICAgICAgaWYgKGEuZGVhZCB8fCBiLmRlYWQpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVkZ2VzLnB1c2goYS52ZXJ0LCBiLnZlcnQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBlZGdlcztcbiAgICB9XG5cbiAgICBhbGxFZGdlVmVydHMoKTogVmVydEluZGV4W10ge1xuICAgICAgICBsZXQgZGF0YTogVmVydEluZGV4W10gPSBbXTtcbiAgICAgICAgLy8gbGV0IGVkZ2VzID0gbmV3IE1hcDxudW1iZXIsIG51bWJlcj4oKVxuICAgICAgICB0aGlzLmVkZ2VzLmZvckVhY2goKGUsIGkpID0+IHtcbiAgICAgICAgICAgIGlmIChlLmRlYWQpIHJldHVybjtcbiAgICAgICAgICAgIGxldCBhID0gZS52ZXJ0O1xuICAgICAgICAgICAgbGV0IGIgPSB0aGlzLmdldEVkZ2UoZS50d2luKS52ZXJ0O1xuXG4gICAgICAgICAgICBpZiAoYSA8IGIpIHtcbiAgICAgICAgICAgICAgICBkYXRhLnB1c2goYSk7XG4gICAgICAgICAgICAgICAgZGF0YS5wdXNoKGIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfVxuXG4gICAgYWxsVmVydExvb3BzKCk6IEludE1hdHJpeCB7XG4gICAgICAgIHRocm93IFwiVE9ET1wiO1xuICAgIH1cblxuICAgIGFsbFZlcnRMb29wc0FzSW50cygpOiBWZXJ0SW5kZXhbXVtdIHtcbiAgICAgICAgLy8gVE9ETyBzcGVlZCB0aGlzIHVwXG4gICAgICAgIGxldCBsb29wczogVmVydEluZGV4W11bXSA9IFtdO1xuICAgICAgICBsZXQgdW52aXNpdGVkID0gbmV3IFNldDxudW1iZXI+KCk7XG4gICAgICAgIHRoaXMuZWRnZXMuZm9yRWFjaCgoZSwgaSkgPT4ge1xuICAgICAgICAgICAgaWYgKGUuZGVhZCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHVudmlzaXRlZC5hZGQoaSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGxldCBpID0gMDtcbiAgICAgICAgY29uc3QgbGltaXQgPSB0aGlzLmVkZ2VzLmxlbmd0aDsgLy8gd2Ugd2lsbCBuZXZlciB2aXNpdCBhbiBlZGdlIHR3aWNlIGlmIGFsbCBpcyBhY2NvcmRpbmcgdG8gcGxhblxuXG4gICAgICAgIHdoaWxlICh1bnZpc2l0ZWQuc2l6ZSA+IDApIHtcbiAgICAgICAgICAgIGxldCBsb29wOiBWZXJ0SW5kZXhbXSA9IFtdO1xuICAgICAgICAgICAgbGV0IGVpID0gdW52aXNpdGVkLmVudHJpZXMoKS5uZXh0KCkudmFsdWVbMF0gYXMgRWRnZUluZGV4O1xuICAgICAgICAgICAgbGV0IHN0YXJ0ID0gZWk7XG4gICAgICAgICAgICBkbyB7XG4gICAgICAgICAgICAgICAgaWYgKGkgPiBsaW1pdCkge1xuICAgICAgICAgICAgICAgICAgICAvLyB0aGlzLnByaW50KCk7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IFwidG9wb2xvZ3kgaXMgY29ycnVwdCFcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaSArPSAxO1xuICAgICAgICAgICAgICAgIGxldCBlID0gdGhpcy5nZXRFZGdlKGVpKTtcbiAgICAgICAgICAgICAgICB1bnZpc2l0ZWQuZGVsZXRlKGVpKTtcbiAgICAgICAgICAgICAgICBsb29wLnB1c2goZS52ZXJ0KTtcbiAgICAgICAgICAgICAgICBlaSA9IGUubmV4dDtcbiAgICAgICAgICAgIH0gd2hpbGUgKGVpICE9IHN0YXJ0KTtcblxuICAgICAgICAgICAgbG9vcHMucHVzaChsb29wKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbG9vcHM7XG4gICAgfVxuXG4gICAgZ2V0TG9vcChlaTogRWRnZUluZGV4KTogRWRnZUluZGV4W10ge1xuICAgICAgICBsZXQgbG9vcDogRWRnZUluZGV4W10gPSBbXTtcbiAgICAgICAgbGV0IGkgPSAwO1xuICAgICAgICBjb25zdCBsaW1pdCA9IHRoaXMuZWRnZXMubGVuZ3RoO1xuICAgICAgICBsZXQgc3RhcnQgPSBlaTtcbiAgICAgICAgZG8ge1xuICAgICAgICAgICAgaWYgKGkgPiBsaW1pdCkge1xuICAgICAgICAgICAgICAgIC8vIHRoaXMucHJpbnQoKTtcbiAgICAgICAgICAgICAgICB0aHJvdyBcInRvcG9sb2d5IGlzIGNvcnJ1cHQhXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpICs9IDE7XG5cbiAgICAgICAgICAgIGxldCBlID0gdGhpcy5nZXRFZGdlKGVpKTtcbiAgICAgICAgICAgIGxvb3AucHVzaChlaSk7XG4gICAgICAgICAgICBlaSA9IGUubmV4dDtcbiAgICAgICAgfSB3aGlsZSAoZWkgIT0gc3RhcnQpO1xuXG4gICAgICAgIHJldHVybiBsb29wO1xuICAgIH1cblxuICAgIGdldFZlcnRleFBvcyh2aTogVmVydEluZGV4KTogVmVjdG9yMyB7XG4gICAgICAgIGlmICh2aSA8IDAgfHwgdmkgPj0gdGhpcy52ZXJ0cy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRocm93IFwib3V0IG9mIHJhbmdlXCI7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMudmVydHNbdmldLnBvcztcbiAgICB9XG5cbiAgICBnZXRWZXJ0ZXhOb3JtYWwodmk6IFZlcnRJbmRleCk6IFZlY3RvcjMge1xuICAgICAgICBpZiAodmkgPCAwIHx8IHZpID49IHRoaXMudmVydHMubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aHJvdyBcIm91dCBvZiByYW5nZVwiO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLnZlcnRzW3ZpXS5ub3JtYWw7XG4gICAgfVxuXG4gICAgZ2V0VmVydGV4Q291bnQoKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmVydHMubGVuZ3RoO1xuICAgIH1cblxuICAgIGdldEhhbGZFZGdlQ291bnQoKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZWRnZXMubGVuZ3RoO1xuICAgIH1cblxuICAgIGNoYW5nZVZlcnRleCh2aTogVmVydEluZGV4LCBwb3M6IFZlY3RvcjMsIG5vcm06IFZlY3RvcjMpIHtcbiAgICAgICAgbGV0IHYgPSB0aGlzLnZlcnRzW3ZpXTtcbiAgICAgICAgdi5wb3MgPSBwb3M7XG4gICAgICAgIHYubm9ybWFsID0gbm9ybTtcbiAgICB9XG5cbiAgICBnZXRWZXJ0KHZpOiBWZXJ0SW5kZXgpOiBWZXJ0IHtcbiAgICAgICAgaWYgKHZpIDwgMCB8fCB2aSA+PSB0aGlzLnZlcnRzLmxlbmd0aCkge1xuICAgICAgICAgICAgdGhyb3cgXCJvdXQgb2YgcmFuZ2VcIjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy52ZXJ0c1t2aV07XG4gICAgfVxuXG4gICAgZ2V0RWRnZShlaTogRWRnZUluZGV4KTogRWRnZSB7XG4gICAgICAgIGlmIChlaSA8IDAgfHwgZWkgPj0gdGhpcy5lZGdlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJvdXQgb2YgcmFuZ2VcIik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuZWRnZXNbZWldO1xuICAgIH1cblxuICAgIGdldEVkZ2VJbmRleEJldHdlZW4oYWk6IFZlcnRJbmRleCwgYmk6IFZlcnRJbmRleCk6IEVkZ2VJbmRleCB8IHVuZGVmaW5lZCB7XG4gICAgICAgIGxldCByZXMgPSB0aGlzLmdldEVkZ2VCZXR3ZWVuKGFpLCBiaSk7XG4gICAgICAgIGlmIChyZXMpIHJldHVybiB0aGlzLmdldEVkZ2VJbmRleChyZXMpO1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIGdldEVkZ2VCZXR3ZWVuKGFpOiBWZXJ0SW5kZXgsIGJpOiBWZXJ0SW5kZXgpOiBFZGdlIHwgdW5kZWZpbmVkIHtcbiAgICAgICAgbGV0IGVkZ2VzID0gdGhpcy5nZXRWZXJ0RWRnZUZhbihhaSk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZWRnZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmdldEVkZ2UoZWRnZXNbaV0udHdpbikudmVydCA9PSBiaSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBlZGdlc1tpXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgZ2V0VmVydEVkZ2VGYW4odmk6IFZlcnRJbmRleCk6IEVkZ2VbXSB7XG4gICAgICAgIC8vIGdldCBhbGwgZWRnZXMgY29ubmVjdGVkIHRvIHRoaXMgdmVydGV4LlxuICAgICAgICAvLyBOT1RFOiBhbGwgYXJlIG91dGdvaW5nIChlLnZlcnQgPT0gdmkpXG5cbiAgICAgICAgLy8gY29uc29sZS5sb2coXCJnZXR0aW5nIGZhblwiKTtcblxuICAgICAgICBsZXQgZmFuOiBFZGdlW10gPSBbXTtcbiAgICAgICAgbGV0IHYgPSB0aGlzLnZlcnRzW3ZpXTtcbiAgICAgICAgbGV0IGVpID0gdi5lZGdlO1xuICAgICAgICBsZXQgc3RhcnQgPSBlaTtcbiAgICAgICAgaWYgKGVpID09IC0xKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFuO1xuICAgICAgICB9XG4gICAgICAgIGxldCBjb3VudCA9IDA7XG4gICAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgICAgICBpZiAoY291bnQgPiB0aGlzLnZlcnRzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHRoaXMucHJpbnQoKTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcImZhbjogXCIsIGZhbik7XG4gICAgICAgICAgICAgICAgdGhyb3cgXCJub3BlXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb3VudCArPSAxO1xuXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcInN0ZXBcIiwgY291bnQsIFwiZWlcIiwgZWkpO1xuXG4gICAgICAgICAgICBsZXQgZSA9IHRoaXMuZ2V0RWRnZShlaSk7XG4gICAgICAgICAgICBsZXQgZV90d2luID0gdGhpcy5nZXRFZGdlVHdpbihlaSk7XG4gICAgICAgICAgICBmYW4ucHVzaChlKTtcblxuICAgICAgICAgICAgZWkgPSBlX3R3aW4ubmV4dDtcblxuICAgICAgICAgICAgaWYgKGVpID09IHN0YXJ0KSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBjb25zb2xlLmxvZyhcInJldHVybmluZyBmYW46IFwiLCBmYW4pO1xuICAgICAgICByZXR1cm4gZmFuO1xuICAgIH1cblxuICAgIGdldExvb3BzQWRqYWNlbnRUb0VkZ2UoZWk6IEVkZ2VJbmRleCk6IEVkZ2VJbmRleFtdW10ge1xuICAgICAgICBsZXQgbG9vcHM6IEVkZ2VJbmRleFtdW10gPSBbXTtcblxuICAgICAgICBsb29wcy5wdXNoKHRoaXMuZ2V0TG9vcChlaSkpO1xuICAgICAgICBsb29wcy5wdXNoKHRoaXMuZ2V0TG9vcCh0aGlzLmdldEVkZ2UoZWkpLnR3aW4pKTtcblxuICAgICAgICByZXR1cm4gbG9vcHM7XG4gICAgfVxuXG4gICAgZ2V0VmVydE5laWdoYm9ycyh2aTogVmVydEluZGV4KTogVmVydEluZGV4W10ge1xuICAgICAgICBsZXQgaWRzOiBWZXJ0SW5kZXhbXSA9IFtdO1xuICAgICAgICB0aGlzLmdldFZlcnRFZGdlRmFuKHZpKS5mb3JFYWNoKChlOiBFZGdlKSA9PiB7XG4gICAgICAgICAgICBpZHMucHVzaCh0aGlzLmdldEVkZ2UoZS50d2luKS52ZXJ0KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBpZHM7XG4gICAgfVxuXG4gICAgZ2V0RWRnZUluZGV4KGU6IEVkZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0RWRnZShlLnR3aW4pLnR3aW47XG4gICAgfVxuXG4gICAgZ2V0RWRnZVR3aW4oZWk6IEVkZ2VJbmRleCk6IEVkZ2Uge1xuICAgICAgICByZXR1cm4gdGhpcy5lZGdlc1t0aGlzLmVkZ2VzW2VpXS50d2luXTtcbiAgICB9XG5cbiAgICBoYXNFZGdlKGE6IFZlcnRJbmRleCwgYjogVmVydEluZGV4KSB7XG4gICAgICAgIGxldCBuYnMgPSB0aGlzLmdldFZlcnROZWlnaGJvcnMoYSk7XG4gICAgICAgIHJldHVybiBuYnMuaW5jbHVkZXMoYik7XG4gICAgfVxuXG4gICAgYWRkVmVydCh2ZWN0b3I6IFZlY3RvcjMsIG5vcm1hbDogVmVjdG9yMyk6IFZlcnRJbmRleCB7XG4gICAgICAgIHRoaXMudmVydHMucHVzaCh7IHBvczogdmVjdG9yLCBlZGdlOiAtMSwgbm9ybWFsOiBub3JtYWwsIGRlYWQ6IGZhbHNlIH0pO1xuICAgICAgICByZXR1cm4gdGhpcy52ZXJ0cy5sZW5ndGggLSAxO1xuICAgIH1cblxuICAgIHJlbW92ZVZlcnQoYTogVmVydEluZGV4KSB7XG4gICAgICAgIHRocm93IFwiVE9ETyBGSUdVUkUgT1VUIE5VTEwgJiBSRU1PVkFMXCI7XG4gICAgfVxuXG4gICAgYWRkRWRnZUlmTmV3KGE6IFZlcnRJbmRleCwgYjogVmVydEluZGV4KTogYm9vbGVhbiB7XG4gICAgICAgIGlmICghdGhpcy5oYXNFZGdlKGEsIGIpKSB7XG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcIm5vdCB0aGVyZSFcIik7XG4gICAgICAgICAgICB0aGlzLmFkZEVkZ2UoYSwgYik7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgYWRkRWRnZSh2aV8xOiBWZXJ0SW5kZXgsIHZpXzI6IFZlcnRJbmRleCkge1xuICAgICAgICAvLyAgICAgICAgICAgICBlaTFcbiAgICAgICAgLy8gLyB2aTEgXFwgIC0tLS0tLS0tLT4gLyB2aTIgXFxcbiAgICAgICAgLy8gXFwgICAgIC8gPC0tLS0tLS0tLSAgXFwgICAgIC9cbiAgICAgICAgLy8gICAgICAgICAgICAgZWkyXG5cbiAgICAgICAgbGV0IGVpXzEgPSB0aGlzLmVkZ2VzLmxlbmd0aDtcbiAgICAgICAgbGV0IGVpXzIgPSBlaV8xICsgMTtcblxuICAgICAgICB0aGlzLmVkZ2VzLnB1c2goe1xuICAgICAgICAgICAgbmV4dDogLTEsXG4gICAgICAgICAgICB0d2luOiBlaV8yLFxuICAgICAgICAgICAgdmVydDogdmlfMSxcbiAgICAgICAgICAgIGRlYWQ6IGZhbHNlLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5lZGdlcy5wdXNoKHtcbiAgICAgICAgICAgIG5leHQ6IC0xLFxuICAgICAgICAgICAgdHdpbjogZWlfMSxcbiAgICAgICAgICAgIHZlcnQ6IHZpXzIsXG4gICAgICAgICAgICBkZWFkOiBmYWxzZSxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gbWFrZSBzdXJlIHRoZSAnbmV4dCcgdGhpbmdzIGFyZSBmaXhlZCwgYW5kIG1vcmVcbiAgICAgICAgdGhpcy5hZGRFZGdlVG9EaXNrKHZpXzEsIGVpXzEpO1xuICAgICAgICB0aGlzLmFkZEVkZ2VUb0Rpc2sodmlfMiwgZWlfMik7XG4gICAgfVxuXG4gICAgZGVsZXRlRWRnZUJ5SW5kZXgoaWQ6IEVkZ2VJbmRleCkge1xuICAgICAgICAvLyBmbGFnIGl0IGFzICd0byBiZSByZW1vdmVkJ1xuICAgICAgICB0aGlzLmRlbGV0ZUVkZ2UodGhpcy5nZXRFZGdlKGlkKSk7XG4gICAgfVxuXG4gICAgZGVsZXRlRWRnZShlZGdlOiBFZGdlKSB7XG4gICAgICAgIC8vIGZsYWcgaXQgYXMgJ3RvIGJlIHJlbW92ZWQnXG4gICAgICAgIGxldCB0d2luID0gdGhpcy5nZXRFZGdlKGVkZ2UudHdpbik7XG4gICAgICAgIGVkZ2UuZGVhZCA9IHRydWU7XG4gICAgICAgIHR3aW4uZGVhZCA9IHRydWU7XG5cbiAgICAgICAgLy8gcmVtb3ZlIGFsbCBwb2ludGVyc1xuICAgICAgICB0aGlzLmRlbGV0ZUVkZ2VGcm9tRGlzayhlZGdlKTtcbiAgICAgICAgdGhpcy5kZWxldGVFZGdlRnJvbURpc2sodHdpbik7XG4gICAgfVxuXG4gICAgLy8gU0VUVEVSU1xuXG4gICAgZ2V0RGlza1Bvc2l0aW9ucyhlaTogRWRnZUluZGV4KTogW0VkZ2VJbmRleCwgRWRnZUluZGV4XSB7XG4gICAgICAgIC8vIHJldHVybnMgZWRnZUluZGV4IGJlZm9yZSwgZWRnZUluZGV4IGFmdGVyXG4gICAgICAgIGxldCBlID0gdGhpcy5nZXRFZGdlKGVpKTtcbiAgICAgICAgbGV0IHYgPSB0aGlzLmdldFZlcnQoZS52ZXJ0KSE7XG4gICAgICAgIGxldCB0d2luID0gdGhpcy5nZXRFZGdlVHdpbihlaSk7XG4gICAgICAgIGxldCB2X3R3aW4gPSB0aGlzLnZlcnRzW3R3aW4udmVydF07XG4gICAgICAgIGxldCBteVZlY3RvciA9IHYucG9zLnN1YmJlZCh2X3R3aW4ucG9zKTtcblxuICAgICAgICAvLyBnZXQgYWxsIHZlY3RvcnNcbiAgICAgICAgbGV0IHZlY3RvcnM6IFZlY3RvcjNbXSA9IFtdO1xuICAgICAgICB2ZWN0b3JzLnB1c2gobXlWZWN0b3IpO1xuXG4gICAgICAgIC8vIGdldCBtb3JlIHZlY3RvcnMgYnkgZ2V0dGluZyBhbGwgZWRnZXMgY3VycmVudGx5IGNvbm5lY3RlZCB0byB2ZXJ0ZXggdlxuXG4gICAgICAgIC8vIGlmIHRoaXMgRWRnZSBpcyBhbHJlYWR5IHdpdGhpbiB0aGUgZmFuLCBmaWx0ZXIgaXQgb3V0LCBzbyB0aGlzIGFzc2Vzc21lbnQgY2FuIGJlIGNvcnJlY3RseSBtYWRlXG4gICAgICAgIGxldCBlZGdlc1BvdGVudGlhbGx5V2l0aEV4aXN0aW5nRWRnZSA9IHRoaXMuZ2V0VmVydEVkZ2VGYW4oZS52ZXJ0KTtcbiAgICAgICAgbGV0IGVkZ2VzOiBFZGdlW10gPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBlZGdlc1BvdGVudGlhbGx5V2l0aEV4aXN0aW5nRWRnZS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IGVkZ2UgPSBlZGdlc1BvdGVudGlhbGx5V2l0aEV4aXN0aW5nRWRnZVtpXTtcbiAgICAgICAgICAgIGlmICh0aGlzLmdldEVkZ2VJbmRleChlZGdlKSA9PSBlaSkge1xuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFwiZWRnZSBpcyBpbiB0aGUgZmFuIVwiKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZWRnZXMucHVzaChlZGdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChlZGdlcy5sZW5ndGggPT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIFtlaSwgZWldO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGVkZ2VzLmxlbmd0aCA9PSAxKSB7XG4gICAgICAgICAgICBsZXQgZSA9IGVkZ2VzWzBdO1xuICAgICAgICAgICAgcmV0dXJuIFt0aGlzLmdldEVkZ2VJbmRleChlKSwgdGhpcy5nZXRFZGdlSW5kZXgoZSldO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gY29uc29sZS5sb2coXCJlZGdlc1wiLCBlZGdlcyk7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBlZGdlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IGVkZ2UgPSBlZGdlc1tpXTtcbiAgICAgICAgICAgIGxldCB0d2luID0gdGhpcy5nZXRFZGdlKGVkZ2UudHdpbik7XG4gICAgICAgICAgICBsZXQgbmVpZ2hib3IgPSB0aGlzLnZlcnRzW3R3aW4udmVydF07XG4gICAgICAgICAgICBsZXQgbmVpZ2hib3JWZWN0b3IgPSB2LnBvcy5zdWJiZWQobmVpZ2hib3IucG9zKTtcbiAgICAgICAgICAgIHZlY3RvcnMucHVzaChuZWlnaGJvclZlY3Rvcik7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBjb25zb2xlLmxvZyhcImFsbCB2ZWN0b3JzOiBcIiwgdmVjdG9ycyk7XG5cbiAgICAgICAgLy8gb3JkZXIgdGhlbSBieSAnd2hlZWwnXG4gICAgICAgIGxldCBwbGFuZSA9IFBsYW5lLmZyb21QTih2LnBvcywgdi5ub3JtYWwpO1xuICAgICAgICBsZXQgaWhhdCA9IHBsYW5lLmloYXQ7XG4gICAgICAgIGxldCBqaGF0ID0gcGxhbmUuamhhdDtcbiAgICAgICAgbGV0IG9yZGVyID0gVmVjdG9yMy5jYWxjdWxhdGVXaGVlbE9yZGVyKHZlY3RvcnMsIGloYXQsIGpoYXQpO1xuXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKFwib3JkZXJcIiwgb3JkZXIpO1xuXG4gICAgICAgIC8vIGZpbmQgaW5kZXggMCBpbiB0aGUgb3JkZXJpbmcuIHRoYXQgaXMgdGhlIHBvc2l0aW9uIG9mIHRoaXMgbmV3IGVkZ2UuIGdldCB0aGUgZWRnZXMgYmVmb3JlIGFuZCBhZnRlciB0aGlzIGVkZ2VcbiAgICAgICAgbGV0IGlfYmVmb3JlID0gLTE7XG4gICAgICAgIGxldCBpX2FmdGVyID0gLTE7XG4gICAgICAgIGZvciAobGV0IGEgPSAwOyBhIDwgb3JkZXIubGVuZ3RoOyBhKyspIHtcbiAgICAgICAgICAgIGxldCBiID0gKGEgKyAxKSAlIG9yZGVyLmxlbmd0aDtcbiAgICAgICAgICAgIGxldCBjID0gKGEgKyAyKSAlIG9yZGVyLmxlbmd0aDtcbiAgICAgICAgICAgIGlmIChvcmRlcltiXSA9PSAwKSB7XG4gICAgICAgICAgICAgICAgaV9iZWZvcmUgPSBvcmRlclthXTtcbiAgICAgICAgICAgICAgICBpX2FmdGVyID0gb3JkZXJbY107XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBwaWNrLiBOT1RFOiBJRiBDQ1cgLyBDQyBPRiBHUkFQSCBORUVEUyBUTyBCRSBDSEFOR0VELCBDSEFOR0UgVEhJUyBPUkRFUiwgQlVUIFVTRSBXSVRIIENBVVRJT05cbiAgICAgICAgLy8gbWludXMgb25lLCBzaW5jZSB3ZSBoYXZlIDEgdmVjdG9yIG1vcmUgdGhhbiB0aGUgZWRnZSBsaXN0XG4gICAgICAgIGxldCBlX2JlZm9yZSA9IGVkZ2VzW2lfYWZ0ZXIgLSAxXTtcbiAgICAgICAgbGV0IGVfYWZ0ZXIgPSBlZGdlc1tpX2JlZm9yZSAtIDFdO1xuXG4gICAgICAgIHJldHVybiBbdGhpcy5nZXRFZGdlSW5kZXgoZV9iZWZvcmUpLCB0aGlzLmdldEVkZ2VJbmRleChlX2FmdGVyKV07XG4gICAgfVxuXG4gICAgYWRkRWRnZVRvRGlzayh2aTogVmVydEluZGV4LCBlaTogRWRnZUluZGV4KSB7XG4gICAgICAgIGxldCB2ID0gdGhpcy5nZXRWZXJ0KHZpKSE7XG4gICAgICAgIGxldCB0d2luID0gdGhpcy5nZXRFZGdlVHdpbihlaSk7XG4gICAgICAgIGlmICh2LmVkZ2UgPT0gLTEpIHtcbiAgICAgICAgICAgIC8vIHNldCB0d28gcG9pbnRlcnM6XG4gICAgICAgICAgICB2LmVkZ2UgPSBlaTsgLy8gSSBhbSB0aGUgdmVydGV4J3MgZmlyc3QgZWRnZVxuICAgICAgICAgICAgdHdpbi5uZXh0ID0gZWk7IC8vIHRoYXQgbWVhbnMgbXkgdHdpbiBwb2ludHMgYmFjayB0byBtZVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbGV0IFtlaV9iZWZvcmUsIGVpX2FmdGVyXSA9IHRoaXMuZ2V0RGlza1Bvc2l0aW9ucyhlaSk7XG4gICAgICAgICAgICBsZXQgW2VfYmVmb3JlLCBlX2FmdGVyXSA9IFt0aGlzLmdldEVkZ2UoZWlfYmVmb3JlKSwgdGhpcy5nZXRFZGdlKGVpX2FmdGVyKV07XG5cbiAgICAgICAgICAgIC8vIHNldCB0d28gcG9pbnRlcnM6XG4gICAgICAgICAgICB0aGlzLmdldEVkZ2UoZV9iZWZvcmUudHdpbikubmV4dCA9IGVpO1xuICAgICAgICAgICAgdHdpbi5uZXh0ID0gdGhpcy5nZXRFZGdlSW5kZXgoZV9hZnRlcik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBkZWxldGVFZGdlRnJvbURpc2soZWRnZTogRWRnZSkge1xuICAgICAgICBsZXQgZWkgPSB0aGlzLmdldEVkZ2VJbmRleChlZGdlKTtcbiAgICAgICAgLy8gY29uc29sZS5sb2coXCJkZWxldGluZy4uLlwiLCBlaSk7XG5cbiAgICAgICAgbGV0IHZlcnQgPSB0aGlzLmdldFZlcnQoZWRnZS52ZXJ0KTtcblxuICAgICAgICAvLyBjb25zb2xlLmxvZyhcImRlbGV0aW5nIGZyb20gZGlzay4uLlwiKTtcbiAgICAgICAgbGV0IFtlaV9iZWZvcmUsIGVpX2FmdGVyXSA9IHRoaXMuZ2V0RGlza1Bvc2l0aW9ucyhlaSk7XG5cbiAgICAgICAgaWYgKGVpX2JlZm9yZSA9PSBlaSkge1xuICAgICAgICAgICAgdmVydC5lZGdlID0gLTE7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBsZXQgZmxvd2VyID0gdGhpcy5nZXRWZXJ0RWRnZUZhbihlZGdlLnZlcnQpO1xuICAgICAgICAvLyBmbG93ZXIuZm9yRWFjaCgoZSkgPT4ge2NvbnNvbGUubG9nKHRoaXMuZ2V0RWRnZUluZGV4KGUpKX0pO1xuICAgICAgICBsZXQgW2VfYmVmb3JlLCBlX2FmdGVyXSA9IFt0aGlzLmdldEVkZ2UoZWlfYmVmb3JlKSwgdGhpcy5nZXRFZGdlKGVpX2FmdGVyKV07XG5cbiAgICAgICAgLy8gc2V0IG9uZSBwb2ludGVyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKFwidGhpcyBpcyBlZGdlXCIsIGVpKTtcblxuICAgICAgICAvLyAvLyBjb25zb2xlLmxvZyhcImJlZm9yZSBpc1wiLCBlaV9iZWZvcmUpO1xuICAgICAgICAvLyBjb25zb2xlLmxvZyhcImFmdGVyIGlzXCIsIGVpX2FmdGVyKTtcblxuICAgICAgICAvLyBjb25zb2xlLmxvZyhcImJlZm9yZS50d2luLm5leHQgaXNcIiwgdGhpcy5nZXRFZGdlKGVfYmVmb3JlLnR3aW4pLm5leHQpO1xuICAgICAgICAvLyBjb25zb2xlLmxvZyhcImFmdGVyLnR3aW4ubmV4dCBpc1wiLCB0aGlzLmdldEVkZ2UoZV9hZnRlci50d2luKS5uZXh0KTtcbiAgICAgICAgdGhpcy5nZXRFZGdlKGVfYmVmb3JlLnR3aW4pLm5leHQgPSBlaV9hZnRlcjtcblxuICAgICAgICBpZiAodmVydC5lZGdlID09IGVpKSB7XG4gICAgICAgICAgICB2ZXJ0LmVkZ2UgPSBlaV9hZnRlcjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIE1JU0NcblxuICAgIHNwbGl0RWRnZShhaTogVmVydEluZGV4LCBiaTogVmVydEluZGV4LCBhbHBoYTogbnVtYmVyKTogVmVydEluZGV4IHtcbiAgICAgICAgLy8gZ2V0IHRoZSBlZGdlXG4gICAgICAgIGxldCBlZGdlID0gdGhpcy5nZXRFZGdlQmV0d2VlbihhaSwgYmkpO1xuICAgICAgICBpZiAoIWVkZ2UpIHRocm93IG5ldyBFcnJvcihgTm8gRWRnZSBmb3VuZCBiZXR3ZWVuICR7YWl9IGFuZCAke2JpfWApO1xuICAgICAgICBsZXQgdHdpbiA9IHRoaXMuZ2V0RWRnZShlZGdlLnR3aW4pO1xuXG4gICAgICAgIGxldCBhID0gdGhpcy5nZXRWZXJ0KGFpKTtcbiAgICAgICAgbGV0IGIgPSB0aGlzLmdldFZlcnQoYmkpO1xuICAgICAgICBsZXQgdiA9IFZlY3RvcjMuZnJvbUxlcnAoYS5wb3MsIGIucG9zLCBhbHBoYSk7XG4gICAgICAgIGxldCBuID0gVmVjdG9yMy5mcm9tTGVycChhLm5vcm1hbCwgYi5ub3JtYWwsIGFscGhhKTtcblxuICAgICAgICBsZXQgY2kgPSB0aGlzLmFkZFZlcnQodiwgbik7XG4gICAgICAgIGxldCBjID0gdGhpcy5nZXRWZXJ0KGNpKTtcblxuICAgICAgICAvLyBjaGFuZ2UgdGhlIGVkZ2VzXG4gICAgICAgIC8vIGlmIChhaSA9PSAwKSB7XG5cbiAgICAgICAgLy8gfVxuXG4gICAgICAgIHRoaXMuZGVsZXRlRWRnZShlZGdlKTtcbiAgICAgICAgdGhpcy5hZGRFZGdlKGFpLCBjaSk7XG4gICAgICAgIHRoaXMuYWRkRWRnZShjaSwgYmkpO1xuXG4gICAgICAgIHJldHVybiBjaTtcbiAgICB9XG5cbiAgICBzdWJkaXZpZGUoKSB7XG4gICAgICAgIC8vIDEuIGdldCBhbGwgZWRnZXNcbiAgICAgICAgbGV0IGVkZ2VzID0gdGhpcy5hbGxFZGdlVmVydHMoKTtcbiAgICAgICAgbGV0IGZhY2VzID0gdGhpcy5hbGxWZXJ0TG9vcHNBc0ludHMoKTtcblxuICAgICAgICAvLyB0aGlzIG1hcHMgb2xkIGVkZ2VzIHRvIG5ldyB2ZXJ0aWNlc1xuICAgICAgICBsZXQgZGVhZEVkZ2VNYXAgPSBuZXcgSGFzaFRhYmxlPFZlcnRJbmRleD4oKTsgLy8gdGhpc1xuXG4gICAgICAgIC8vIDIuIHNwbGl0IGFsbCBlZGdlcywgbWFwXG4gICAgICAgIGxldCBjb3VudCA9IGVkZ2VzLmxlbmd0aCAvIDI7XG4gICAgICAgIGxldCBtaWRkbGVQb2ludHMgPSBuZXcgQXJyYXk8VmVydEluZGV4Pihjb3VudCk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY291bnQ7IGkrKykge1xuICAgICAgICAgICAgbGV0IHZhaSA9IGVkZ2VzW2kgKiAyXTtcbiAgICAgICAgICAgIGxldCB2YmkgPSBlZGdlc1tpICogMiArIDFdO1xuXG4gICAgICAgICAgICAvLyBsZXQgZWRnZUkgPSB0aGlzLmdldEVkZ2VJbmRleEJldHdlZW4odmFpLCB2YmkpITtcbiAgICAgICAgICAgIC8vIGxldCBlZGdlSUkgPSB0aGlzLmdldEVkZ2VJbmRleEJldHdlZW4odmJpLCB2YWkpITtcblxuICAgICAgICAgICAgbGV0IHZjaSA9IHRoaXMuc3BsaXRFZGdlKHZhaSwgdmJpLCAwLjUpO1xuICAgICAgICAgICAgbWlkZGxlUG9pbnRzW2ldID0gdmNpO1xuICAgICAgICAgICAgZGVhZEVkZ2VNYXAuc2V0KFt2YWksIHZiaV0sIHZjaSk7XG4gICAgICAgICAgICBkZWFkRWRnZU1hcC5zZXQoW3ZiaSwgdmFpXSwgdmNpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIDMuIHBlciBvbGQgZmFjZTogY29ubmVjdCB0aGUgZG90c1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGZhY2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgZmFjZSA9IGZhY2VzW2ldO1xuXG4gICAgICAgICAgICAvLyBnZXQgYWxsIG1pZGRsZSBwb2ludHNcbiAgICAgICAgICAgIGxldCBtaWRkbGVQb2ludHMgPSBuZXcgQXJyYXk8VmVydEluZGV4PihmYWNlLmxlbmd0aCk7XG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGZhY2UubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICBsZXQgak5leHQgPSAoaiArIDEpICUgZmFjZS5sZW5ndGg7XG4gICAgICAgICAgICAgICAgbGV0IHZpYSA9IGZhY2Vbal07XG4gICAgICAgICAgICAgICAgbGV0IHZpYiA9IGZhY2Vbak5leHRdO1xuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHZpYSwgdmliKTtcbiAgICAgICAgICAgICAgICBtaWRkbGVQb2ludHNbal0gPSBkZWFkRWRnZU1hcC5nZXQoW3ZpYSwgdmliXSkhO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhtaWRkbGVQb2ludHMpO1xuXG4gICAgICAgICAgICAvLyBjb25uZWN0IHRoZSBkb3RzXG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGZhY2UubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICBsZXQgak5leHQgPSAoaiArIDEpICUgZmFjZS5sZW5ndGg7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGRFZGdlKG1pZGRsZVBvaW50c1tqXSwgbWlkZGxlUG9pbnRzW2pOZXh0XSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzdWJkaXZpZGVRdWFkKCkge1xuICAgICAgICAvLyAxLiBnZXQgYWxsIGVkZ2VzXG4gICAgICAgIGxldCBlZGdlcyA9IHRoaXMuYWxsRWRnZVZlcnRzKCk7XG4gICAgICAgIGxldCBmYWNlcyA9IHRoaXMuYWxsVmVydExvb3BzQXNJbnRzKCk7XG5cbiAgICAgICAgLy8gdGhpcyBtYXBzIG9sZCBlZGdlcyB0byBuZXcgdmVydGljZXNcbiAgICAgICAgbGV0IGRlYWRFZGdlTWFwID0gbmV3IEhhc2hUYWJsZTxWZXJ0SW5kZXg+KCk7IC8vIHRoaXNcblxuICAgICAgICAvLyAyLiBzcGxpdCBhbGwgZWRnZXMsIG1hcFxuICAgICAgICBsZXQgY291bnQgPSBlZGdlcy5sZW5ndGggLyAyO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvdW50OyBpKyspIHtcbiAgICAgICAgICAgIGxldCB2YWkgPSBlZGdlc1tpICogMl07XG4gICAgICAgICAgICBsZXQgdmJpID0gZWRnZXNbaSAqIDIgKyAxXTtcblxuICAgICAgICAgICAgLy8gbGV0IGVkZ2VJID0gdGhpcy5nZXRFZGdlSW5kZXhCZXR3ZWVuKHZhaSwgdmJpKSE7XG4gICAgICAgICAgICAvLyBsZXQgZWRnZUlJID0gdGhpcy5nZXRFZGdlSW5kZXhCZXR3ZWVuKHZiaSwgdmFpKSE7XG5cbiAgICAgICAgICAgIGxldCB2Y2kgPSB0aGlzLnNwbGl0RWRnZSh2YWksIHZiaSwgMC41KTtcbiAgICAgICAgICAgIGRlYWRFZGdlTWFwLnNldChbdmFpLCB2YmldLCB2Y2kpO1xuICAgICAgICAgICAgZGVhZEVkZ2VNYXAuc2V0KFt2YmksIHZhaV0sIHZjaSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyAzLiBwZXIgb2xkIGZhY2U6IGNvbm5lY3QgdGhlIGRvdHNcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBmYWNlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IGZhY2UgPSBmYWNlc1tpXTtcblxuICAgICAgICAgICAgLy8gZ2V0IGNlbnRlciBwb2ludFxuICAgICAgICAgICAgbGV0IHBvcyA9IFZlY3RvcjMuemVybygpO1xuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBmYWNlLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgcG9zLmFkZCh0aGlzLmdldFZlcnRleFBvcyhmYWNlW2pdKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwb3Muc2NhbGUoMSAvIGZhY2UubGVuZ3RoKTtcblxuICAgICAgICAgICAgbGV0IG5vcm0gPSBjYWxjUGxhbmFyRmFjZU5vcm1hbChmYWNlLm1hcCgodikgPT4gdGhpcy5nZXRWZXJ0ZXhQb3ModikpKTtcbiAgICAgICAgICAgIGxldCBzaSA9IHRoaXMuYWRkVmVydChwb3MsIG5vcm0pO1xuXG4gICAgICAgICAgICAvLyBwZXIgbWlkZGxlIHBvaW50LCBjb25uZWN0IHRoZSBkb3RzXG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGZhY2UubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICBsZXQgak5leHQgPSAoaiArIDEpICUgZmFjZS5sZW5ndGg7XG4gICAgICAgICAgICAgICAgbGV0IHZpYSA9IGZhY2Vbal07XG4gICAgICAgICAgICAgICAgbGV0IHZpYiA9IGZhY2Vbak5leHRdO1xuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHZpYSwgdmliKTtcbiAgICAgICAgICAgICAgICBsZXQgYyA9IGRlYWRFZGdlTWFwLmdldChbdmlhLCB2aWJdKSE7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGRFZGdlKHNpLCBjKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZvckV2ZXJ5RWRnZVZlcnRzKGNhbGxiYWNrOiAoYTogVmVjdG9yMywgYjogVmVjdG9yMykgPT4gdm9pZCkge1xuICAgICAgICBsZXQgZWRnZXMgPSB0aGlzLmFsbFVuaXF1ZUVkZ2VWZXJ0cygpO1xuICAgICAgICBsZXQgZWRnZUNvdW50ID0gZWRnZXMubGVuZ3RoIC8gMjtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBlZGdlQ291bnQ7IGkrKykge1xuICAgICAgICAgICAgbGV0IGEgPSB0aGlzLmdldFZlcnQoZWRnZXNbaSAqIDJdKTtcbiAgICAgICAgICAgIGxldCBiID0gdGhpcy5nZXRWZXJ0KGVkZ2VzW2kgKiAyICsgMV0pO1xuICAgICAgICAgICAgY2FsbGJhY2soYS5wb3MsIGIucG9zKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZnVuY3Rpb24gY2FsY1BsYW5hckZhY2VOb3JtYWwoZmFjZTogVmVjdG9yM1tdKTogVmVjdG9yMyB7XG4gICAgLy8gQVNTVU1FUyA6IEZBQ0UgPSBQTEFOQVIgJiBGQUNFID0gTk9UIFNMSVZFUiBQT0xZR09OIChBUkVBID4gMClcbiAgICBsZXQgY291bnQgPSBmYWNlLmxlbmd0aDtcbiAgICBpZiAoY291bnQgPCAzKSB7XG4gICAgICAgIHRocm93IFwiY2Fubm90IGdldCBmYWNlIHBsYW5hciB3aXRoIDIgb3IgbGVzcyBlZGdlc1wiO1xuICAgIH1cblxuICAgIC8vIGdldCB0aGUgbm9ybWFsIG9mIGEgcGxhbmFyIGZhY2VcbiAgICBsZXQgbm9ybWFsID0gVmVjdG9yMy56ZXJvKCk7XG5cbiAgICAvLyB0d28gZWRnZXMgY291bGQgYmUgcGFyYWxsZWwsIGJ1dCB0aGVyZSB3aWxsIGJlIHR3byBlZGdlcyBpbiB0aGUgZmFjZSB0aGF0IGFyZSBkaWZmZXJlbnQuXG4gICAgbGV0IGloYXQgPSBmYWNlWzFdLnN1YmJlZChmYWNlWzBdKTtcbiAgICBsZXQgamhhdCA9IGZhY2VbMl0uc3ViYmVkKGZhY2VbMV0pO1xuXG4gICAgZm9yIChsZXQgaSA9IDE7IGkgPCBjb3VudDsgaSsrKSB7XG4gICAgICAgIGlmIChNYXRoLmFicyhpaGF0LmRvdChqaGF0KSkgPiBDb25zdC5UT0xFUkFOQ0UpIHtcbiAgICAgICAgICAgIHJldHVybiBpaGF0LmNyb3NzKGpoYXQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gdHJ5IGFnYWluIHdpdGggbmV4dCBwYWlyIG9mXG4gICAgICAgICAgICBsZXQgaTIgPSAoaSArIDEpICUgY291bnQ7XG4gICAgICAgICAgICBsZXQgaTMgPSAoaSArIDIpICUgY291bnQ7XG4gICAgICAgICAgICBqaGF0ID0gZmFjZVtpM10uc3ViYmVkKGZhY2VbaTJdKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB0aHJvdyBcImdldCBwbGFuYXIgZmFjZSBmYWlsZWQuLi5cIjtcbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/mesh/graph.ts\n");

/***/ }),

/***/ "./src/mesh/line-array.ts":
/*!********************************!*\
  !*** ./src/mesh/line-array.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"LineArray\": () => /* binding */ LineArray,\n/* harmony export */   \"getDefaultIndices\": () => /* binding */ getDefaultIndices\n/* harmony export */ });\n/* harmony import */ var _data_vector_array__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../data/vector-array */ \"./src/data/vector-array.ts\");\n/* harmony import */ var _math_const__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../math/const */ \"./src/math/const.ts\");\n/* harmony import */ var _math_vector__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../math/vector */ \"./src/math/vector.ts\");\n// name:    line-render-data.ts\r\n// author:  Jos Feenstra\r\n// purpose: represents an object which can be fed directly to a linerenderer.\r\n//          use it to not continuously have to calculate these aspects if the underlying object is unchanged.\r\n\r\n\r\n\r\n// represents a collection of multiple lines. These could form 1 polyline, but this is not a requirement\r\nclass LineArray {\r\n    constructor(verts, ids) {\r\n        this.verts = verts;\r\n        if (ids == undefined) {\r\n            this.links = getDefaultIndices(verts.count());\r\n        }\r\n        else {\r\n            this.links = ids;\r\n        }\r\n    }\r\n    // this assumes even vectices are 'from' points, and odd vertices are 'to' points\r\n    static fromLines(verts) {\r\n        let data = (0,_data_vector_array__WEBPACK_IMPORTED_MODULE_0__.getGeneralFloatMatrix)(verts);\r\n        return new LineArray(data);\r\n    }\r\n    // get all lines from a mesh\r\n    static fromMesh(rend, uv = false) {\r\n        // 3 edges per face, 2 indices per edge\r\n        let mesh = rend.mesh;\r\n        let count = mesh.links.count() * 6;\r\n        let data = new Uint16Array(count);\r\n        for (let i = 0; i < mesh.links.count(); i++) {\r\n            let iData = i * 6;\r\n            data[iData] = mesh.links.get(i, 0);\r\n            data[iData + 1] = mesh.links.get(i, 1);\r\n            data[iData + 2] = mesh.links.get(i, 1);\r\n            data[iData + 3] = mesh.links.get(i, 2);\r\n            data[iData + 4] = mesh.links.get(i, 2);\r\n            data[iData + 5] = mesh.links.get(i, 0);\r\n        }\r\n        if (uv) {\r\n            return new LineArray(rend.uvs, data);\r\n        }\r\n        else {\r\n            return new LineArray(mesh.verts, data);\r\n        }\r\n    }\r\n    // create lines as a grid centered at a plane\r\n    static fromGrid(plane, count, dis) {\r\n        let halfTotalSize = ((count - 1) * dis) / 2;\r\n        // 2 vectors per line, 2 lines per count\r\n        // plus 5 lines, for ihat and jhat icons\r\n        let lines = new _data_vector_array__WEBPACK_IMPORTED_MODULE_0__.Vector3Array(count * 4);\r\n        // x lines\r\n        for (let i = 0; i < count; i++) {\r\n            let t = -halfTotalSize + dis * i;\r\n            lines.setVector(i * 2, new _math_vector__WEBPACK_IMPORTED_MODULE_2__.Vector3(t, -halfTotalSize, 0));\r\n            lines.setVector(i * 2 + 1, new _math_vector__WEBPACK_IMPORTED_MODULE_2__.Vector3(t, halfTotalSize, 0));\r\n        }\r\n        // y lines\r\n        for (let i = 0; i < count; i++) {\r\n            let t = -halfTotalSize + dis * i;\r\n            lines.setVector(2 * count + i * 2, new _math_vector__WEBPACK_IMPORTED_MODULE_2__.Vector3(-halfTotalSize, -halfTotalSize + dis * i, 0));\r\n            lines.setVector(2 * count + i * 2 + 1, new _math_vector__WEBPACK_IMPORTED_MODULE_2__.Vector3(halfTotalSize, -halfTotalSize + dis * i, 0));\r\n        }\r\n        // finally, transform everything to worldspace, and create the linerenderdata object\r\n        lines.forEach((v) => plane.pushToWorld(v));\r\n        return new LineArray(lines);\r\n    }\r\n    // get all lines from a plane\r\n    static fromPlane(plane) {\r\n        let count = _math_const__WEBPACK_IMPORTED_MODULE_1__.Const.PLANE_RENDER_LINECOUNT;\r\n        let dis = _math_const__WEBPACK_IMPORTED_MODULE_1__.Const.PLANE_RENDER_LINEDISTANCE;\r\n        let disSmall = dis / 10;\r\n        let halfTotalSize = ((count - 1) * dis) / 2;\r\n        // 2 vectors per line, 2 lines per count\r\n        // plus 5 lines, for ihat and jhat icons\r\n        let lines = new _data_vector_array__WEBPACK_IMPORTED_MODULE_0__.Vector3Array(count * 4 + 5 * 2);\r\n        // x lines\r\n        for (let i = 0; i < count; i++) {\r\n            let t = -halfTotalSize + dis * i;\r\n            lines.setVector(i * 2, new _math_vector__WEBPACK_IMPORTED_MODULE_2__.Vector3(t, -halfTotalSize, 0));\r\n            lines.setVector(i * 2 + 1, new _math_vector__WEBPACK_IMPORTED_MODULE_2__.Vector3(t, halfTotalSize, 0));\r\n        }\r\n        // y lines\r\n        for (let i = 0; i < count; i++) {\r\n            let t = -halfTotalSize + dis * i;\r\n            lines.setVector(2 * count + i * 2, new _math_vector__WEBPACK_IMPORTED_MODULE_2__.Vector3(-halfTotalSize, -halfTotalSize + dis * i, 0));\r\n            lines.setVector(2 * count + i * 2 + 1, new _math_vector__WEBPACK_IMPORTED_MODULE_2__.Vector3(halfTotalSize, -halfTotalSize + dis * i, 0));\r\n        }\r\n        // icon I  to show ihat\r\n        let iconLine1 = lines.count() - 10;\r\n        lines.setVector(iconLine1, new _math_vector__WEBPACK_IMPORTED_MODULE_2__.Vector3(halfTotalSize + disSmall, -disSmall, 0));\r\n        lines.setVector(iconLine1 + 1, new _math_vector__WEBPACK_IMPORTED_MODULE_2__.Vector3(halfTotalSize + disSmall * 4, disSmall, 0));\r\n        let iconLine2 = lines.count() - 8;\r\n        lines.setVector(iconLine2, new _math_vector__WEBPACK_IMPORTED_MODULE_2__.Vector3(halfTotalSize + disSmall, disSmall, 0));\r\n        lines.setVector(iconLine2 + 1, new _math_vector__WEBPACK_IMPORTED_MODULE_2__.Vector3(halfTotalSize + disSmall * 4, -disSmall, 0));\r\n        // icon II to show jhat\r\n        let iconLine3 = lines.count() - 6;\r\n        lines.setVector(iconLine3, new _math_vector__WEBPACK_IMPORTED_MODULE_2__.Vector3(0, halfTotalSize + disSmall * 2.5, 0));\r\n        lines.setVector(iconLine3 + 1, new _math_vector__WEBPACK_IMPORTED_MODULE_2__.Vector3(disSmall, halfTotalSize + disSmall * 4, 0));\r\n        let iconLine4 = lines.count() - 4;\r\n        lines.setVector(iconLine4, new _math_vector__WEBPACK_IMPORTED_MODULE_2__.Vector3(disSmall, halfTotalSize + disSmall, 0));\r\n        lines.setVector(iconLine4 + 1, new _math_vector__WEBPACK_IMPORTED_MODULE_2__.Vector3(-disSmall, halfTotalSize + disSmall * 4, 0));\r\n        // icon III to show khat / normal direction\r\n        let iconLine5 = lines.count() - 2;\r\n        lines.setVector(iconLine5, new _math_vector__WEBPACK_IMPORTED_MODULE_2__.Vector3(0, 0, 0));\r\n        lines.setVector(iconLine5 + 1, new _math_vector__WEBPACK_IMPORTED_MODULE_2__.Vector3(0, 0, dis));\r\n        // finally, transform everything to worldspace, and create the linerenderdata object\r\n        lines.forEach((v) => plane.pushToWorld(v));\r\n        return new LineArray(lines);\r\n    }\r\n    // get all lines representing a circle in 2d. use an optional matrix to\r\n    static fromCircle(c) {\r\n        let count = _math_const__WEBPACK_IMPORTED_MODULE_1__.Const.CIRCLE_SEGMENTS;\r\n        // let count = 12;\r\n        let verts = new _data_vector_array__WEBPACK_IMPORTED_MODULE_0__.Vector3Array(count);\r\n        // x lines\r\n        for (let i = 0; i < count; i++) {\r\n            // radial fraction of a circle\r\n            let t = (i / count) * (Math.PI * 2);\r\n            verts.setVector(i, c.plane.pushToWorld(new _math_vector__WEBPACK_IMPORTED_MODULE_2__.Vector3(Math.cos(t) * c.radius, Math.sin(t) * c.radius, 0)));\r\n        }\r\n        return new LineArray(verts, getPairIndices(count));\r\n    }\r\n    // turn a spline into a polyline, and render it\r\n    static fromSpline() {\r\n        throw \"todo!\";\r\n    }\r\n    static fromCube(cube) {\r\n        let verts = _data_vector_array__WEBPACK_IMPORTED_MODULE_0__.Vector3Array.fromList(cube.getCorners());\r\n        return new LineArray(verts);\r\n    }\r\n    static fromJoin(lines) {\r\n        // join meshes, dont try to look for duplicate vertices\r\n        // TODO : make this the trouble of Matrices and Arrays\r\n        let idsCount = 0;\r\n        let vertCount = 0;\r\n        for (let line of lines) {\r\n            idsCount += line.links.length;\r\n            vertCount += line.verts.count();\r\n        }\r\n        let verts = new _data_vector_array__WEBPACK_IMPORTED_MODULE_0__.Vector3Array(vertCount);\r\n        let ids = new Uint16Array(idsCount);\r\n        let accVerts = 0;\r\n        let accFaces = 0;\r\n        for (let lineset of lines) {\r\n            for (let i = 0; i < lineset.verts.count(); i++) {\r\n                verts.setRow(accVerts + i, lineset.verts.getRow(i));\r\n            }\r\n            for (let i = 0; i < lineset.links.length; i++) {\r\n                ids[accFaces + i] = lineset.links[i] + accVerts;\r\n            }\r\n            accVerts += lineset.verts.count();\r\n            accFaces += lineset.links.length;\r\n        }\r\n        return new LineArray(verts, ids);\r\n    }\r\n}\r\n// just get an int sequence from 0 to length.\r\nfunction getDefaultIndices(count) {\r\n    let data = new Uint16Array(count);\r\n    for (let i = 0; i < count; i++) {\r\n        data[i] = i;\r\n    }\r\n    return data;\r\n}\r\nfunction getPairIndices(count) {\r\n    // given count of 3 => return 0,1 | 1,2 | 2,0\r\n    let length = count * 2;\r\n    let data = new Uint16Array(length);\r\n    for (let i = 0; i < count; i++) {\r\n        data[i * 2] = i;\r\n        data[i * 2 + 1] = (i + 1) % count;\r\n    }\r\n    return data;\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9nZW9uLWVuZ2luZS8uL3NyYy9tZXNoL2xpbmUtYXJyYXkudHM/ZjZmNSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBLCtCQUErQjtBQUMvQix3QkFBd0I7QUFDeEIsNkVBQTZFO0FBQzdFLDZHQUE2RztBQUdwQjtBQU1uRDtBQUVZO0FBRWxELHdHQUF3RztBQUNqRyxNQUFNLFNBQVM7SUFJbEIsWUFBb0IsS0FBa0IsRUFBRSxHQUFpQjtRQUNyRCxJQUFJLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztRQUNuQixJQUFJLEdBQUcsSUFBSSxTQUFTLEVBQUU7WUFDbEIsSUFBSSxDQUFDLEtBQUssR0FBRyxpQkFBaUIsQ0FBQyxLQUFLLENBQUMsS0FBSyxFQUFFLENBQUMsQ0FBQztTQUNqRDthQUFNO1lBQ0gsSUFBSSxDQUFDLEtBQUssR0FBRyxHQUFHLENBQUM7U0FDcEI7SUFDTCxDQUFDO0lBRUQsaUZBQWlGO0lBQ2pGLE1BQU0sQ0FBQyxTQUFTLENBQUMsS0FBMEQ7UUFDdkUsSUFBSSxJQUFJLEdBQUcseUVBQXFCLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDeEMsT0FBTyxJQUFJLFNBQVMsQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUMvQixDQUFDO0lBRUQsNEJBQTRCO0lBQzVCLE1BQU0sQ0FBQyxRQUFRLENBQUMsSUFBZ0IsRUFBRSxFQUFFLEdBQUcsS0FBSztRQUN4Qyx1Q0FBdUM7UUFDdkMsSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQztRQUNyQixJQUFJLEtBQUssR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssRUFBRSxHQUFHLENBQUMsQ0FBQztRQUNuQyxJQUFJLElBQUksR0FBRyxJQUFJLFdBQVcsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUNsQyxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLEVBQUUsRUFBRSxDQUFDLEVB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L3NyYy9tZXNoL2xpbmUtYXJyYXkudHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBuYW1lOiAgICBsaW5lLXJlbmRlci1kYXRhLnRzXG4vLyBhdXRob3I6ICBKb3MgRmVlbnN0cmFcbi8vIHB1cnBvc2U6IHJlcHJlc2VudHMgYW4gb2JqZWN0IHdoaWNoIGNhbiBiZSBmZWQgZGlyZWN0bHkgdG8gYSBsaW5lcmVuZGVyZXIuXG4vLyAgICAgICAgICB1c2UgaXQgdG8gbm90IGNvbnRpbnVvdXNseSBoYXZlIHRvIGNhbGN1bGF0ZSB0aGVzZSBhc3BlY3RzIGlmIHRoZSB1bmRlcmx5aW5nIG9iamVjdCBpcyB1bmNoYW5nZWQuXG5cbmltcG9ydCB7IEZsb2F0TWF0cml4IH0gZnJvbSBcIi4uL2RhdGEvZmxvYXQtbWF0cml4XCI7XG5pbXBvcnQgeyBnZXRHZW5lcmFsRmxvYXRNYXRyaXgsIFZlY3RvcjJBcnJheSwgVmVjdG9yM0FycmF5IH0gZnJvbSBcIi4uL2RhdGEvdmVjdG9yLWFycmF5XCI7XG5pbXBvcnQgeyBDaXJjbGUyIH0gZnJvbSBcIi4uL2dlby9jaXJjbGUyXCI7XG5pbXBvcnQgeyBDaXJjbGUzIH0gZnJvbSBcIi4uL2dlby9jaXJjbGUzXCI7XG5pbXBvcnQgeyBDdWJlIH0gZnJvbSBcIi4uL2dlby9jdWJlXCI7XG5pbXBvcnQgeyBSZW5kZXJhYmxlIH0gZnJvbSBcIi4vcmVuZGVyLW1lc2hcIjtcbmltcG9ydCB7IFBsYW5lIH0gZnJvbSBcIi4uL2dlby9wbGFuZVwiO1xuaW1wb3J0IHsgQ29uc3QgfSBmcm9tIFwiLi4vbWF0aC9jb25zdFwiO1xuaW1wb3J0IHsgTWF0cml4NCB9IGZyb20gXCIuLi9tYXRoL21hdHJpeFwiO1xuaW1wb3J0IHsgVmVjdG9yMiwgVmVjdG9yMyB9IGZyb20gXCIuLi9tYXRoL3ZlY3RvclwiO1xuXG4vLyByZXByZXNlbnRzIGEgY29sbGVjdGlvbiBvZiBtdWx0aXBsZSBsaW5lcy4gVGhlc2UgY291bGQgZm9ybSAxIHBvbHlsaW5lLCBidXQgdGhpcyBpcyBub3QgYSByZXF1aXJlbWVudFxuZXhwb3J0IGNsYXNzIExpbmVBcnJheSB7XG4gICAgdmVydHM6IEZsb2F0TWF0cml4O1xuICAgIGxpbmtzOiBVaW50MTZBcnJheTtcblxuICAgIHByaXZhdGUgY29uc3RydWN0b3IodmVydHM6IEZsb2F0TWF0cml4LCBpZHM/OiBVaW50MTZBcnJheSkge1xuICAgICAgICB0aGlzLnZlcnRzID0gdmVydHM7XG4gICAgICAgIGlmIChpZHMgPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLmxpbmtzID0gZ2V0RGVmYXVsdEluZGljZXModmVydHMuY291bnQoKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmxpbmtzID0gaWRzO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gdGhpcyBhc3N1bWVzIGV2ZW4gdmVjdGljZXMgYXJlICdmcm9tJyBwb2ludHMsIGFuZCBvZGQgdmVydGljZXMgYXJlICd0bycgcG9pbnRzXG4gICAgc3RhdGljIGZyb21MaW5lcyh2ZXJ0czogVmVjdG9yMltdIHwgVmVjdG9yM1tdIHwgVmVjdG9yMkFycmF5IHwgVmVjdG9yM0FycmF5KSB7XG4gICAgICAgIGxldCBkYXRhID0gZ2V0R2VuZXJhbEZsb2F0TWF0cml4KHZlcnRzKTtcbiAgICAgICAgcmV0dXJuIG5ldyBMaW5lQXJyYXkoZGF0YSk7XG4gICAgfVxuXG4gICAgLy8gZ2V0IGFsbCBsaW5lcyBmcm9tIGEgbWVzaFxuICAgIHN0YXRpYyBmcm9tTWVzaChyZW5kOiBSZW5kZXJhYmxlLCB1diA9IGZhbHNlKTogTGluZUFycmF5IHtcbiAgICAgICAgLy8gMyBlZGdlcyBwZXIgZmFjZSwgMiBpbmRpY2VzIHBlciBlZGdlXG4gICAgICAgIGxldCBtZXNoID0gcmVuZC5tZXNoO1xuICAgICAgICBsZXQgY291bnQgPSBtZXNoLmxpbmtzLmNvdW50KCkgKiA2O1xuICAgICAgICBsZXQgZGF0YSA9IG5ldyBVaW50MTZBcnJheShjb3VudCk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbWVzaC5saW5rcy5jb3VudCgpOyBpKyspIHtcbiAgICAgICAgICAgIGxldCBpRGF0YSA9IGkgKiA2O1xuICAgICAgICAgICAgZGF0YVtpRGF0YV0gPSBtZXNoLmxpbmtzLmdldChpLCAwKTtcbiAgICAgICAgICAgIGRhdGFbaURhdGEgKyAxXSA9IG1lc2gubGlua3MuZ2V0KGksIDEpO1xuICAgICAgICAgICAgZGF0YVtpRGF0YSArIDJdID0gbWVzaC5saW5rcy5nZXQoaSwgMSk7XG4gICAgICAgICAgICBkYXRhW2lEYXRhICsgM10gPSBtZXNoLmxpbmtzLmdldChpLCAyKTtcbiAgICAgICAgICAgIGRhdGFbaURhdGEgKyA0XSA9IG1lc2gubGlua3MuZ2V0KGksIDIpO1xuICAgICAgICAgICAgZGF0YVtpRGF0YSArIDVdID0gbWVzaC5saW5rcy5nZXQoaSwgMCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHV2KSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IExpbmVBcnJheShyZW5kLnV2cywgZGF0YSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IExpbmVBcnJheShtZXNoLnZlcnRzLCBkYXRhKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIGNyZWF0ZSBsaW5lcyBhcyBhIGdyaWQgY2VudGVyZWQgYXQgYSBwbGFuZVxuICAgIHN0YXRpYyBmcm9tR3JpZChwbGFuZTogUGxhbmUsIGNvdW50OiBudW1iZXIsIGRpczogbnVtYmVyKSB7XG4gICAgICAgIGxldCBoYWxmVG90YWxTaXplID0gKChjb3VudCAtIDEpICogZGlzKSAvIDI7XG5cbiAgICAgICAgLy8gMiB2ZWN0b3JzIHBlciBsaW5lLCAyIGxpbmVzIHBlciBjb3VudFxuICAgICAgICAvLyBwbHVzIDUgbGluZXMsIGZvciBpaGF0IGFuZCBqaGF0IGljb25zXG4gICAgICAgIGxldCBsaW5lcyA9IG5ldyBWZWN0b3IzQXJyYXkoY291bnQgKiA0KTtcblxuICAgICAgICAvLyB4IGxpbmVzXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY291bnQ7IGkrKykge1xuICAgICAgICAgICAgbGV0IHQgPSAtaGFsZlRvdGFsU2l6ZSArIGRpcyAqIGk7XG4gICAgICAgICAgICBsaW5lcy5zZXRWZWN0b3IoaSAqIDIsIG5ldyBWZWN0b3IzKHQsIC1oYWxmVG90YWxTaXplLCAwKSk7XG4gICAgICAgICAgICBsaW5lcy5zZXRWZWN0b3IoaSAqIDIgKyAxLCBuZXcgVmVjdG9yMyh0LCBoYWxmVG90YWxTaXplLCAwKSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB5IGxpbmVzXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY291bnQ7IGkrKykge1xuICAgICAgICAgICAgbGV0IHQgPSAtaGFsZlRvdGFsU2l6ZSArIGRpcyAqIGk7XG4gICAgICAgICAgICBsaW5lcy5zZXRWZWN0b3IoMiAqIGNvdW50ICsgaSAqIDIsIG5ldyBWZWN0b3IzKC1oYWxmVG90YWxTaXplLCAtaGFsZlRvdGFsU2l6ZSArIGRpcyAqIGksIDApKTtcbiAgICAgICAgICAgIGxpbmVzLnNldFZlY3RvcigyICogY291bnQgKyBpICogMiArIDEsIG5ldyBWZWN0b3IzKGhhbGZUb3RhbFNpemUsIC1oYWxmVG90YWxTaXplICsgZGlzICogaSwgMCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gZmluYWxseSwgdHJhbnNmb3JtIGV2ZXJ5dGhpbmcgdG8gd29ybGRzcGFjZSwgYW5kIGNyZWF0ZSB0aGUgbGluZXJlbmRlcmRhdGEgb2JqZWN0XG4gICAgICAgIGxpbmVzLmZvckVhY2goKHYpID0+IHBsYW5lLnB1c2hUb1dvcmxkKHYpKTtcbiAgICAgICAgcmV0dXJuIG5ldyBMaW5lQXJyYXkobGluZXMpO1xuICAgIH1cblxuICAgIC8vIGdldCBhbGwgbGluZXMgZnJvbSBhIHBsYW5lXG4gICAgc3RhdGljIGZyb21QbGFuZShwbGFuZTogUGxhbmUpOiBMaW5lQXJyYXkge1xuICAgICAgICBsZXQgY291bnQgPSBDb25zdC5QTEFORV9SRU5ERVJfTElORUNPVU5UO1xuICAgICAgICBsZXQgZGlzID0gQ29uc3QuUExBTkVfUkVOREVSX0xJTkVESVNUQU5DRTtcbiAgICAgICAgbGV0IGRpc1NtYWxsID0gZGlzIC8gMTA7XG4gICAgICAgIGxldCBoYWxmVG90YWxTaXplID0gKChjb3VudCAtIDEpICogZGlzKSAvIDI7XG5cbiAgICAgICAgLy8gMiB2ZWN0b3JzIHBlciBsaW5lLCAyIGxpbmVzIHBlciBjb3VudFxuICAgICAgICAvLyBwbHVzIDUgbGluZXMsIGZvciBpaGF0IGFuZCBqaGF0IGljb25zXG4gICAgICAgIGxldCBsaW5lcyA9IG5ldyBWZWN0b3IzQXJyYXkoY291bnQgKiA0ICsgNSAqIDIpO1xuXG4gICAgICAgIC8vIHggbGluZXNcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb3VudDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgdCA9IC1oYWxmVG90YWxTaXplICsgZGlzICogaTtcbiAgICAgICAgICAgIGxpbmVzLnNldFZlY3RvcihpICogMiwgbmV3IFZlY3RvcjModCwgLWhhbGZUb3RhbFNpemUsIDApKTtcbiAgICAgICAgICAgIGxpbmVzLnNldFZlY3RvcihpICogMiArIDEsIG5ldyBWZWN0b3IzKHQsIGhhbGZUb3RhbFNpemUsIDApKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHkgbGluZXNcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb3VudDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgdCA9IC1oYWxmVG90YWxTaXplICsgZGlzICogaTtcbiAgICAgICAgICAgIGxpbmVzLnNldFZlY3RvcigyICogY291bnQgKyBpICogMiwgbmV3IFZlY3RvcjMoLWhhbGZUb3RhbFNpemUsIC1oYWxmVG90YWxTaXplICsgZGlzICogaSwgMCkpO1xuICAgICAgICAgICAgbGluZXMuc2V0VmVjdG9yKDIgKiBjb3VudCArIGkgKiAyICsgMSwgbmV3IFZlY3RvcjMoaGFsZlRvdGFsU2l6ZSwgLWhhbGZUb3RhbFNpemUgKyBkaXMgKiBpLCAwKSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBpY29uIEkgIHRvIHNob3cgaWhhdFxuICAgICAgICBsZXQgaWNvbkxpbmUxID0gbGluZXMuY291bnQoKSAtIDEwO1xuICAgICAgICBsaW5lcy5zZXRWZWN0b3IoaWNvbkxpbmUxLCBuZXcgVmVjdG9yMyhoYWxmVG90YWxTaXplICsgZGlzU21hbGwsIC1kaXNTbWFsbCwgMCkpO1xuICAgICAgICBsaW5lcy5zZXRWZWN0b3IoaWNvbkxpbmUxICsgMSwgbmV3IFZlY3RvcjMoaGFsZlRvdGFsU2l6ZSArIGRpc1NtYWxsICogNCwgZGlzU21hbGwsIDApKTtcblxuICAgICAgICBsZXQgaWNvbkxpbmUyID0gbGluZXMuY291bnQoKSAtIDg7XG4gICAgICAgIGxpbmVzLnNldFZlY3RvcihpY29uTGluZTIsIG5ldyBWZWN0b3IzKGhhbGZUb3RhbFNpemUgKyBkaXNTbWFsbCwgZGlzU21hbGwsIDApKTtcbiAgICAgICAgbGluZXMuc2V0VmVjdG9yKGljb25MaW5lMiArIDEsIG5ldyBWZWN0b3IzKGhhbGZUb3RhbFNpemUgKyBkaXNTbWFsbCAqIDQsIC1kaXNTbWFsbCwgMCkpO1xuXG4gICAgICAgIC8vIGljb24gSUkgdG8gc2hvdyBqaGF0XG4gICAgICAgIGxldCBpY29uTGluZTMgPSBsaW5lcy5jb3VudCgpIC0gNjtcbiAgICAgICAgbGluZXMuc2V0VmVjdG9yKGljb25MaW5lMywgbmV3IFZlY3RvcjMoMCwgaGFsZlRvdGFsU2l6ZSArIGRpc1NtYWxsICogMi41LCAwKSk7XG4gICAgICAgIGxpbmVzLnNldFZlY3RvcihpY29uTGluZTMgKyAxLCBuZXcgVmVjdG9yMyhkaXNTbWFsbCwgaGFsZlRvdGFsU2l6ZSArIGRpc1NtYWxsICogNCwgMCkpO1xuXG4gICAgICAgIGxldCBpY29uTGluZTQgPSBsaW5lcy5jb3VudCgpIC0gNDtcbiAgICAgICAgbGluZXMuc2V0VmVjdG9yKGljb25MaW5lNCwgbmV3IFZlY3RvcjMoZGlzU21hbGwsIGhhbGZUb3RhbFNpemUgKyBkaXNTbWFsbCwgMCkpO1xuICAgICAgICBsaW5lcy5zZXRWZWN0b3IoaWNvbkxpbmU0ICsgMSwgbmV3IFZlY3RvcjMoLWRpc1NtYWxsLCBoYWxmVG90YWxTaXplICsgZGlzU21hbGwgKiA0LCAwKSk7XG5cbiAgICAgICAgLy8gaWNvbiBJSUkgdG8gc2hvdyBraGF0IC8gbm9ybWFsIGRpcmVjdGlvblxuICAgICAgICBsZXQgaWNvbkxpbmU1ID0gbGluZXMuY291bnQoKSAtIDI7XG4gICAgICAgIGxpbmVzLnNldFZlY3RvcihpY29uTGluZTUsIG5ldyBWZWN0b3IzKDAsIDAsIDApKTtcbiAgICAgICAgbGluZXMuc2V0VmVjdG9yKGljb25MaW5lNSArIDEsIG5ldyBWZWN0b3IzKDAsIDAsIGRpcykpO1xuXG4gICAgICAgIC8vIGZpbmFsbHksIHRyYW5zZm9ybSBldmVyeXRoaW5nIHRvIHdvcmxkc3BhY2UsIGFuZCBjcmVhdGUgdGhlIGxpbmVyZW5kZXJkYXRhIG9iamVjdFxuICAgICAgICBsaW5lcy5mb3JFYWNoKCh2KSA9PiBwbGFuZS5wdXNoVG9Xb3JsZCh2KSk7XG4gICAgICAgIHJldHVybiBuZXcgTGluZUFycmF5KGxpbmVzKTtcbiAgICB9XG5cbiAgICAvLyBnZXQgYWxsIGxpbmVzIHJlcHJlc2VudGluZyBhIGNpcmNsZSBpbiAyZC4gdXNlIGFuIG9wdGlvbmFsIG1hdHJpeCB0b1xuICAgIHN0YXRpYyBmcm9tQ2lyY2xlKGM6IENpcmNsZTMpOiBMaW5lQXJyYXkge1xuICAgICAgICBsZXQgY291bnQgPSBDb25zdC5DSVJDTEVfU0VHTUVOVFM7XG4gICAgICAgIC8vIGxldCBjb3VudCA9IDEyO1xuICAgICAgICBsZXQgdmVydHMgPSBuZXcgVmVjdG9yM0FycmF5KGNvdW50KTtcblxuICAgICAgICAvLyB4IGxpbmVzXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY291bnQ7IGkrKykge1xuICAgICAgICAgICAgLy8gcmFkaWFsIGZyYWN0aW9uIG9mIGEgY2lyY2xlXG4gICAgICAgICAgICBsZXQgdCA9IChpIC8gY291bnQpICogKE1hdGguUEkgKiAyKTtcbiAgICAgICAgICAgIHZlcnRzLnNldFZlY3RvcihpLCBjLnBsYW5lLnB1c2hUb1dvcmxkKG5ldyBWZWN0b3IzKE1hdGguY29zKHQpICogYy5yYWRpdXMsIE1hdGguc2luKHQpICogYy5yYWRpdXMsIDApKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBMaW5lQXJyYXkodmVydHMsIGdldFBhaXJJbmRpY2VzKGNvdW50KSk7XG4gICAgfVxuXG4gICAgLy8gdHVybiBhIHNwbGluZSBpbnRvIGEgcG9seWxpbmUsIGFuZCByZW5kZXIgaXRcbiAgICBzdGF0aWMgZnJvbVNwbGluZSgpIHtcbiAgICAgICAgdGhyb3cgXCJ0b2RvIVwiO1xuICAgIH1cblxuICAgIHN0YXRpYyBmcm9tQ3ViZShjdWJlOiBDdWJlKTogTGluZUFycmF5IHtcbiAgICAgICAgbGV0IHZlcnRzID0gVmVjdG9yM0FycmF5LmZyb21MaXN0KGN1YmUuZ2V0Q29ybmVycygpKTtcblxuICAgICAgICByZXR1cm4gbmV3IExpbmVBcnJheSh2ZXJ0cyk7XG4gICAgfVxuXG4gICAgc3RhdGljIGZyb21Kb2luKGxpbmVzOiBMaW5lQXJyYXlbXSk6IExpbmVBcnJheSB7XG4gICAgICAgIC8vIGpvaW4gbWVzaGVzLCBkb250IHRyeSB0byBsb29rIGZvciBkdXBsaWNhdGUgdmVydGljZXNcbiAgICAgICAgLy8gVE9ETyA6IG1ha2UgdGhpcyB0aGUgdHJvdWJsZSBvZiBNYXRyaWNlcyBhbmQgQXJyYXlzXG4gICAgICAgIGxldCBpZHNDb3VudCA9IDA7XG4gICAgICAgIGxldCB2ZXJ0Q291bnQgPSAwO1xuICAgICAgICBmb3IgKGxldCBsaW5lIG9mIGxpbmVzKSB7XG4gICAgICAgICAgICBpZHNDb3VudCArPSBsaW5lLmxpbmtzLmxlbmd0aDtcbiAgICAgICAgICAgIHZlcnRDb3VudCArPSBsaW5lLnZlcnRzLmNvdW50KCk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgdmVydHMgPSBuZXcgVmVjdG9yM0FycmF5KHZlcnRDb3VudCk7XG4gICAgICAgIGxldCBpZHMgPSBuZXcgVWludDE2QXJyYXkoaWRzQ291bnQpO1xuXG4gICAgICAgIGxldCBhY2NWZXJ0cyA9IDA7XG4gICAgICAgIGxldCBhY2NGYWNlcyA9IDA7XG4gICAgICAgIGZvciAobGV0IGxpbmVzZXQgb2YgbGluZXMpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGluZXNldC52ZXJ0cy5jb3VudCgpOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2ZXJ0cy5zZXRSb3coYWNjVmVydHMgKyBpLCBsaW5lc2V0LnZlcnRzLmdldFJvdyhpKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxpbmVzZXQubGlua3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZHNbYWNjRmFjZXMgKyBpXSA9IGxpbmVzZXQubGlua3NbaV0gKyBhY2NWZXJ0cztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGFjY1ZlcnRzICs9IGxpbmVzZXQudmVydHMuY291bnQoKTtcbiAgICAgICAgICAgIGFjY0ZhY2VzICs9IGxpbmVzZXQubGlua3MubGVuZ3RoO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5ldyBMaW5lQXJyYXkodmVydHMsIGlkcyk7XG4gICAgfVxufVxuXG4vLyBqdXN0IGdldCBhbiBpbnQgc2VxdWVuY2UgZnJvbSAwIHRvIGxlbmd0aC5cbmV4cG9ydCBmdW5jdGlvbiBnZXREZWZhdWx0SW5kaWNlcyhjb3VudDogbnVtYmVyKTogVWludDE2QXJyYXkge1xuICAgIGxldCBkYXRhID0gbmV3IFVpbnQxNkFycmF5KGNvdW50KTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvdW50OyBpKyspIHtcbiAgICAgICAgZGF0YVtpXSA9IGk7XG4gICAgfVxuICAgIHJldHVybiBkYXRhO1xufVxuXG5mdW5jdGlvbiBnZXRQYWlySW5kaWNlcyhjb3VudDogbnVtYmVyKTogVWludDE2QXJyYXkge1xuICAgIC8vIGdpdmVuIGNvdW50IG9mIDMgPT4gcmV0dXJuIDAsMSB8IDEsMiB8IDIsMFxuICAgIGxldCBsZW5ndGggPSBjb3VudCAqIDI7XG4gICAgbGV0IGRhdGEgPSBuZXcgVWludDE2QXJyYXkobGVuZ3RoKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvdW50OyBpKyspIHtcbiAgICAgICAgZGF0YVtpICogMl0gPSBpO1xuICAgICAgICBkYXRhW2kgKiAyICsgMV0gPSAoaSArIDEpICUgY291bnQ7XG4gICAgfVxuICAgIHJldHVybiBkYXRhO1xufVxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/mesh/line-array.ts\n");

/***/ }),

/***/ "./src/mesh/mesh.ts":
/*!**************************!*\
  !*** ./src/mesh/mesh.ts ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Mesh\": () => /* binding */ Mesh\n/* harmony export */ });\n/* harmony import */ var _data_int_matrix__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../data/int-matrix */ \"./src/data/int-matrix.ts\");\n/* harmony import */ var _data_vector_array__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../data/vector-array */ \"./src/data/vector-array.ts\");\n/* harmony import */ var _math_vector__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../math/vector */ \"./src/math/vector.ts\");\n/* harmony import */ var _render_mesh__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./render-mesh */ \"./src/mesh/render-mesh.ts\");\n/* harmony import */ var _geo_plane__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../geo/plane */ \"./src/geo/plane.ts\");\n/* harmony import */ var _graph__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./graph */ \"./src/mesh/graph.ts\");\n// mesh.ts\r\n// Author: Jos Feenstra\r\n// Purpose:\r\n// a very pure idea of a mesh : Vertices + links between vertices.\r\n// Could be anything with these properties: lines, triangle-mesh, quads\r\n// idea: should normals be part of the Mesh?\r\n\r\n\r\n\r\n\r\n\r\n\r\nclass Mesh {\r\n    // CONSTRUCTORS\r\n    constructor(verts, links) {\r\n        this.verts = verts;\r\n        this.links = links;\r\n    }\r\n    static new(verts, links) {\r\n        return new Mesh(verts, links);\r\n    }\r\n    static fromLists(verts, faces) {\r\n        return new Mesh(_data_vector_array__WEBPACK_IMPORTED_MODULE_1__.Vector3Array.fromList(verts), _data_int_matrix__WEBPACK_IMPORTED_MODULE_0__.IntMatrix.fromList(faces, 3));\r\n    }\r\n    static newEmpty(vertCount, linkCount, perLinkCount) {\r\n        return new Mesh(new _data_vector_array__WEBPACK_IMPORTED_MODULE_1__.Vector3Array(vertCount), new _data_int_matrix__WEBPACK_IMPORTED_MODULE_0__.IntMatrix(linkCount, perLinkCount));\r\n    }\r\n    static newLines(positions, edges) {\r\n        let verts = _data_vector_array__WEBPACK_IMPORTED_MODULE_1__.Vector3Array.fromList(positions);\r\n        let links = _data_int_matrix__WEBPACK_IMPORTED_MODULE_0__.IntMatrix.fromList(edges, 2);\r\n        return new Mesh(verts, links);\r\n    }\r\n    static zero() {\r\n        return new Mesh(new _data_vector_array__WEBPACK_IMPORTED_MODULE_1__.Vector3Array(0), new _data_int_matrix__WEBPACK_IMPORTED_MODULE_0__.IntMatrix(0, 0));\r\n    }\r\n    static fromJoin(meshes) {\r\n        // join meshes, dont try to look for duplicate vertices\r\n        // TODO : make this the trouble of Matrices and Arrays\r\n        let vertCount = 0;\r\n        let faceCount = 0;\r\n        for (let mesh of meshes) {\r\n            vertCount += mesh.verts.count();\r\n            faceCount += mesh.links.count();\r\n        }\r\n        let verts = new _data_vector_array__WEBPACK_IMPORTED_MODULE_1__.Vector3Array(vertCount);\r\n        let links = new _data_int_matrix__WEBPACK_IMPORTED_MODULE_0__.IntMatrix(faceCount, 3);\r\n        let accVerts = 0;\r\n        let accFaces = 0;\r\n        for (let mesh of meshes) {\r\n            for (let i = 0; i < mesh.verts.count(); i++) {\r\n                verts.setVector(accVerts + i, mesh.verts.getVector(i));\r\n            }\r\n            for (let i = 0; i < mesh.links.count(); i++) {\r\n                let face = mesh.links.getRow(i);\r\n                for (let j = 0; j < face.length; j++) {\r\n                    face[j] = face[j] + accVerts;\r\n                }\r\n                links.setRow(accFaces + i, face);\r\n            }\r\n            accVerts += mesh.verts.count();\r\n            accFaces += mesh.links.count();\r\n        }\r\n        return new Mesh(verts, links);\r\n    }\r\n    static fromRect(rect) {\r\n        let verts = rect.getCorners();\r\n        // we cant handle quads yet\r\n        let faces = [];\r\n        faces.push(...quadToTri(cubeFaces[0]));\r\n        let rend = new _render_mesh__WEBPACK_IMPORTED_MODULE_3__.Renderable(4, 0, 0, 2);\r\n        rend.mesh.verts.fillFromList(verts);\r\n        rend.mesh.links.setData(faces);\r\n        // console.log(mesh.verts);\r\n        // console.log(mesh.links);\r\n        rend.setUvs(new Float32Array([0.0, 0.0, 0.0, 1.0, 1.0, 0.0, 1.0, 1.0]));\r\n        return rend;\r\n    }\r\n    static fromCube(cube) {\r\n        let verts = cube.getCorners();\r\n        let faces = [];\r\n        for (let face of cubeFaces) {\r\n            faces.push(...quadToTri(face));\r\n        }\r\n        return this.fromLists(verts, faces);\r\n    }\r\n    static newIcosahedron(scale = 1) {\r\n        let graph = new _graph__WEBPACK_IMPORTED_MODULE_5__.Graph();\r\n        let a = scale;\r\n        let phi = (1 + Math.pow(5, 0.5)) / 2;\r\n        let b = a * phi;\r\n        let addVert = (v) => {\r\n            graph.addVert(v, v);\r\n        };\r\n        addVert(new _math_vector__WEBPACK_IMPORTED_MODULE_2__.Vector3(-a, -b, 0));\r\n        addVert(new _math_vector__WEBPACK_IMPORTED_MODULE_2__.Vector3(a, -b, 0));\r\n        addVert(new _math_vector__WEBPACK_IMPORTED_MODULE_2__.Vector3(-a, b, 0));\r\n        addVert(new _math_vector__WEBPACK_IMPORTED_MODULE_2__.Vector3(a, b, 0));\r\n        addVert(new _math_vector__WEBPACK_IMPORTED_MODULE_2__.Vector3(0, -a, -b));\r\n        addVert(new _math_vector__WEBPACK_IMPORTED_MODULE_2__.Vector3(0, a, -b));\r\n        addVert(new _math_vector__WEBPACK_IMPORTED_MODULE_2__.Vector3(0, -a, b));\r\n        addVert(new _math_vector__WEBPACK_IMPORTED_MODULE_2__.Vector3(0, a, b));\r\n        addVert(new _math_vector__WEBPACK_IMPORTED_MODULE_2__.Vector3(-b, 0, -a));\r\n        addVert(new _math_vector__WEBPACK_IMPORTED_MODULE_2__.Vector3(-b, 0, a));\r\n        addVert(new _math_vector__WEBPACK_IMPORTED_MODULE_2__.Vector3(b, 0, -a));\r\n        addVert(new _math_vector__WEBPACK_IMPORTED_MODULE_2__.Vector3(b, 0, a));\r\n        // build edges\r\n        let addEdge = (a, b) => {\r\n            graph.addEdge(a, b);\r\n        };\r\n        for (let i = 0; i < 12; i += 4) {\r\n            addEdge(i + 0, i + 1);\r\n            addEdge(i + 2, i + 3);\r\n            let inext = (i + 4) % 12;\r\n            addEdge(i + 0, inext + 2);\r\n            addEdge(i + 0, inext + 0);\r\n            addEdge(i + 1, inext + 2);\r\n            addEdge(i + 1, inext + 0);\r\n            addEdge(i + 2, inext + 3);\r\n            addEdge(i + 2, inext + 1);\r\n            addEdge(i + 3, inext + 3);\r\n            addEdge(i + 3, inext + 1);\r\n        }\r\n        return this.fromGraph(graph);\r\n    }\r\n    static newSphere(center, radius, numRings, numPerRing) {\r\n        // verts\r\n        let vertCount = numRings * numPerRing + 2;\r\n        let verts = new _data_vector_array__WEBPACK_IMPORTED_MODULE_1__.Vector3Array(vertCount);\r\n        let setVert = function (i, vector) {\r\n            verts.setVector(i, vector.scale(radius).add(center));\r\n        };\r\n        setVert(0, new _math_vector__WEBPACK_IMPORTED_MODULE_2__.Vector3(0, 0, 1));\r\n        for (let ring = 0; ring < numRings; ring++) {\r\n            for (let perRing = 0; perRing < numPerRing; perRing++) {\r\n                let alpha = (Math.PI * (ring + 1)) / (numRings + 1);\r\n                let beta = (2 * Math.PI * perRing) / numPerRing;\r\n                let x = Math.sin(alpha) * Math.cos(beta);\r\n                let y = Math.sin(alpha) * Math.sin(beta);\r\n                let z = Math.cos(alpha);\r\n                let index = 1 + ring * numPerRing + perRing;\r\n                setVert(index, new _math_vector__WEBPACK_IMPORTED_MODULE_2__.Vector3(x, y, z));\r\n            }\r\n        }\r\n        setVert(vertCount - 1, new _math_vector__WEBPACK_IMPORTED_MODULE_2__.Vector3(0, 0, -1));\r\n        // faces\r\n        let faceCount = numPerRing * numRings * 2;\r\n        let links = new _data_int_matrix__WEBPACK_IMPORTED_MODULE_0__.IntMatrix(faceCount, 3);\r\n        links.fill(-1);\r\n        let setFace = function (i, row) {\r\n            links.setRow(i, row);\r\n        };\r\n        // faces top\r\n        for (let i = 0; i < numPerRing; i++) {\r\n            setFace(i, [0, i + 1, ((i + 1) % numPerRing) + 1]);\r\n        }\r\n        // faces middle\r\n        // we are at this cursor\r\n        // console.log(\"faces\", faceCount);\r\n        for (let ring = 0; ring < numRings - 1; ring++) {\r\n            let vertCursor = numPerRing * ring + 1;\r\n            let vertCursorBelow = vertCursor + numPerRing;\r\n            for (let perRing = 0; perRing < numPerRing; perRing++) {\r\n                let a = vertCursor + perRing;\r\n                let b = vertCursor + ((perRing + 1) % numPerRing);\r\n                let c = vertCursorBelow + perRing;\r\n                let d = vertCursorBelow + ((perRing + 1) % numPerRing);\r\n                let iFace = numPerRing + numPerRing * ring * 2 + perRing * 2;\r\n                // console.log(iFace);\r\n                setFace(iFace, [a, c, b]);\r\n                setFace(iFace + 1, [c, d, b]);\r\n            }\r\n        }\r\n        // faces bottom\r\n        for (let i = 0; i < numPerRing; i++) {\r\n            let iNext = (i + 1) % numPerRing;\r\n            let last = vertCount - 1;\r\n            let iFace = faceCount - numPerRing + i;\r\n            let zero = vertCount - numPerRing - 1;\r\n            let vertI = zero + i;\r\n            let vertINext = zero + iNext;\r\n            // console.log(iFace);\r\n            // console.log(\"face\", last, vertINext, vertI);\r\n            setFace(iFace, [last, vertINext, vertI]);\r\n        }\r\n        return new Mesh(verts, links);\r\n    }\r\n    static newCylinder(from, to, radius, numPerRing) {\r\n        let normal = to.subbed(from);\r\n        let numVerts = numPerRing * 2 + 2;\r\n        let numFaces = (numVerts - 2) * 2;\r\n        let verts = new _data_vector_array__WEBPACK_IMPORTED_MODULE_1__.Vector3Array(numVerts);\r\n        // some dumb stuff\r\n        let setVert = function (i, vector) {\r\n            verts.setVector(i, vector);\r\n        };\r\n        // planes to represent top & bottom\r\n        let planeFrom = _geo_plane__WEBPACK_IMPORTED_MODULE_4__.Plane.fromPN(from, normal);\r\n        // console.log(planeFrom);\r\n        let planeTo = _geo_plane__WEBPACK_IMPORTED_MODULE_4__.Plane.fromPN(to, normal);\r\n        // console.log(planeFrom);\r\n        // verts 'from ring\r\n        setVert(0, from);\r\n        for (let i = 0; i < numPerRing; i++) {\r\n            let v = new _math_vector__WEBPACK_IMPORTED_MODULE_2__.Vector3(Math.cos((Math.PI * 2 * i) / numPerRing), Math.sin((Math.PI * 2 * i) / numPerRing), 0).scale(radius);\r\n            v = planeFrom.matrix.multiplyVector(v);\r\n            setVert(i + 1, v);\r\n        }\r\n        // verts 'to' ring\r\n        let numVertsHalf = numVerts / 2;\r\n        for (let i = 0; i < numPerRing; i++) {\r\n            let v = new _math_vector__WEBPACK_IMPORTED_MODULE_2__.Vector3(Math.cos((Math.PI * 2 * i) / numPerRing), Math.sin((Math.PI * 2 * i) / numPerRing), 0).scale(radius);\r\n            v = planeTo.matrix.multiplyVector(v);\r\n            setVert(numVertsHalf + i, v);\r\n        }\r\n        setVert(numVerts - 1, to);\r\n        // start making links\r\n        let links = new _data_int_matrix__WEBPACK_IMPORTED_MODULE_0__.IntMatrix(numFaces, 3);\r\n        links.fill(-1);\r\n        let setFace = function (i, row) {\r\n            links.setRow(i, row);\r\n        };\r\n        // set faces\r\n        for (let i = 0; i < numPerRing; i++) {\r\n            let a = 0;\r\n            let b = 1 + i;\r\n            let c = 1 + ((i + 1) % numPerRing);\r\n            let d = numVerts - 1;\r\n            let e = numVertsHalf + i;\r\n            let f = numVertsHalf + ((i + 1) % numPerRing);\r\n            setFace(i * 4, [a, c, b]);\r\n            setFace(i * 4 + 1, [b, c, e]);\r\n            setFace(i * 4 + 2, [c, f, e]);\r\n            setFace(i * 4 + 3, [d, e, f]);\r\n        }\r\n        return new Mesh(verts, links);\r\n    }\r\n    static newCone(center, radius, height, numPerRing) {\r\n        let numVerts = numPerRing + 2;\r\n        let numFaces = numPerRing * 2;\r\n        let verts = new _data_vector_array__WEBPACK_IMPORTED_MODULE_1__.Vector3Array(numVerts);\r\n        let setVert = function (i, vector) {\r\n            verts.setVector(i, vector.add(center));\r\n        };\r\n        let links = new _data_int_matrix__WEBPACK_IMPORTED_MODULE_0__.IntMatrix(numFaces, 3);\r\n        links.fill(-1);\r\n        let setFace = function (i, row) {\r\n            links.setRow(i, row);\r\n        };\r\n        // set verts\r\n        setVert(0, new _math_vector__WEBPACK_IMPORTED_MODULE_2__.Vector3(0, 0, 0));\r\n        for (let i = 0; i < numPerRing; i++) {\r\n            setVert(i + 1, new _math_vector__WEBPACK_IMPORTED_MODULE_2__.Vector3(Math.cos((Math.PI * 2 * i) / numPerRing), Math.sin((Math.PI * 2 * i) / numPerRing), 0).scale(radius));\r\n        }\r\n        setVert(numVerts - 1, new _math_vector__WEBPACK_IMPORTED_MODULE_2__.Vector3(0, 0, height));\r\n        // set faces\r\n        for (let i = 0; i < numPerRing; i++) {\r\n            let a = 0;\r\n            let b = numVerts - 1;\r\n            let c = 1 + i;\r\n            let d = 1 + ((i + 1) % numPerRing);\r\n            setFace(i * 2, [a, d, c]);\r\n            setFace(i * 2 + 1, [c, d, b]);\r\n        }\r\n        return new Mesh(verts, links);\r\n    }\r\n    static fromGraph(graph) {\r\n        // NOTE : doesnt really work if the loops are not of size 3.\r\n        let verts = _data_vector_array__WEBPACK_IMPORTED_MODULE_1__.Vector3Array.fromList(graph.allVertPositions());\r\n        let loops = graph.allVertLoopsAsInts();\r\n        let links = new _data_int_matrix__WEBPACK_IMPORTED_MODULE_0__.IntMatrix(loops.length, 3);\r\n        loops.forEach((loop, i) => {\r\n            if (loop.length == 3) {\r\n                links.setRow(i, loop);\r\n            }\r\n            else {\r\n                console.log(\"cant convert loop\");\r\n            }\r\n        });\r\n        return Mesh.new(verts, links);\r\n    }\r\n    // CONVERTERS\r\n    toRenderable() {\r\n        return _render_mesh__WEBPACK_IMPORTED_MODULE_3__.Renderable.fromMesh(this);\r\n    }\r\n    toGraph() {\r\n        return _graph__WEBPACK_IMPORTED_MODULE_5__.Graph.fromMesh(this);\r\n    }\r\n    // GETTERS\r\n    getType() {\r\n        if (this.links._width == _render_mesh__WEBPACK_IMPORTED_MODULE_3__.MeshType.Points) {\r\n            return _render_mesh__WEBPACK_IMPORTED_MODULE_3__.MeshType.Points;\r\n        }\r\n        else if (this.links._width == _render_mesh__WEBPACK_IMPORTED_MODULE_3__.MeshType.Lines) {\r\n            return _render_mesh__WEBPACK_IMPORTED_MODULE_3__.MeshType.Lines;\r\n        }\r\n        else if (this.links._width == _render_mesh__WEBPACK_IMPORTED_MODULE_3__.MeshType.Triangles) {\r\n            return _render_mesh__WEBPACK_IMPORTED_MODULE_3__.MeshType.Triangles;\r\n        }\r\n        else if (this.links._width == _render_mesh__WEBPACK_IMPORTED_MODULE_3__.MeshType.Quads) {\r\n            return _render_mesh__WEBPACK_IMPORTED_MODULE_3__.MeshType.Quads;\r\n        }\r\n        else {\r\n            return _render_mesh__WEBPACK_IMPORTED_MODULE_3__.MeshType.Invalid;\r\n        }\r\n    }\r\n    getLinkVerts(f) {\r\n        let verts = new _data_vector_array__WEBPACK_IMPORTED_MODULE_1__.Vector3Array(this.links._width);\r\n        this.links.getRow(f).forEach((v, i) => {\r\n            verts.setVector(i, this.verts.getVector(v));\r\n        });\r\n        return verts;\r\n    }\r\n    // MISC\r\n    calculateFaceNormals() {\r\n        let norms = [];\r\n        if (this.getType() != _render_mesh__WEBPACK_IMPORTED_MODULE_3__.MeshType.Triangles) {\r\n            console.error(\"can only calculate normals from triangular meshes\");\r\n            return norms;\r\n        }\r\n        let faceCount = this.links.count();\r\n        for (let i = 0; i < faceCount; i++) {\r\n            let verts = this.getLinkVerts(i).toList();\r\n            let normal = verts[1].subbed(verts[0]).cross(verts[2].subbed(verts[0])).normalize();\r\n            norms.push(normal);\r\n        }\r\n        return norms;\r\n    }\r\n    calculateVertexNormals() {\r\n        let faceCount = this.links.count();\r\n        let faceNormals = this.calculateFaceNormals();\r\n        // stack all face normals per vertex\r\n        let array = new _data_vector_array__WEBPACK_IMPORTED_MODULE_1__.Vector3Array(this.verts.count());\r\n        for (let i = 0; i < faceCount; i++) {\r\n            let normal = faceNormals[i];\r\n            this.links.getRow(i).forEach((vertexIndex) => {\r\n                let v = array.getVector(vertexIndex);\r\n                array.setVector(vertexIndex, v.add(normal));\r\n            });\r\n        }\r\n        // normalize all\r\n        let normals = array.toList();\r\n        for (let i = 0; i < normals.length; i++) {\r\n            normals[i].normalize();\r\n        }\r\n        return normals;\r\n    }\r\n}\r\n// ================ Help ==================\r\n// 0 ------- 1\r\n// | \\     / |\r\n// |  4---5  |\r\n// |  |   |  |\r\n// |  6---7  |\r\n// | /     \\ |\r\n// 2 ------- 3\r\nconst cubeFaces = [\r\n    [0, 1, 3, 2],\r\n    [4, 0, 2, 6],\r\n    [1, 0, 4, 5],\r\n    [1, 5, 7, 3],\r\n    [2, 3, 7, 6],\r\n    [5, 4, 6, 7],\r\n];\r\nfunction quadToTri(abcd) {\r\n    return [abcd[0], abcd[2], abcd[1], abcd[0], abcd[3], abcd[2]];\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9nZW9uLWVuZ2luZS8uL3NyYy9tZXNoL21lc2gudHM/OWVmMyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUEsVUFBVTtBQUNWLHVCQUF1QjtBQUN2QixXQUFXO0FBRVgsa0VBQWtFO0FBQ2xFLHVFQUF1RTtBQUN2RSw0Q0FBNEM7QUFFRztBQUNtQjtBQUNoQjtBQUdlO0FBQzVCO0FBRUw7QUFFekIsTUFBTSxJQUFJO0lBQ2IsZUFBZTtJQUVmLFlBQ1csS0FBbUIsRUFDbkIsS0FBZ0I7UUFEaEIsVUFBSyxHQUFMLEtBQUssQ0FBYztRQUNuQixVQUFLLEdBQUwsS0FBSyxDQUFXO0lBQ3hCLENBQUM7SUFFSixNQUFNLENBQUMsR0FBRyxDQUFDLEtBQW1CLEVBQUUsS0FBZ0I7UUFDNUMsT0FBTyxJQUFJLElBQUksQ0FBQyxLQUFLLEVBQUUsS0FBSyxDQUFDLENBQUM7SUFDbEMsQ0FBQztJQUVELE1BQU0sQ0FBQyxTQUFTLENBQUMsS0FBZ0IsRUFBRSxLQUFlO1FBQzlDLE9BQU8sSUFBSSxJQUFJLENBQUMscUVBQXFCLENBQUMsS0FBSyxDQUFDLEVBQUUsZ0VBQWtCLENBQUMsS0FBSyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDaEYsQ0FBQztJQUVELE1BQU0sQ0FBQyxRQUFRLENBQUMsU0FBaUIsRUFBRSxTQUFpQixFQUFFLFlBQW9CO1FBQ3RFLE9BQU8sSUFBSSxJQUFJLENBQUMsSUFBSSw0REFBWSxDQUFDLFNBQVMsQ0FBQyxFQUFFLElBQUksdURBQVMsQ0FBQyxTQUFTLEVBQUUsWUFBWSxDQUFDLENBQUMsQ0FBQztJQUN6RixDQUFDO0lBRUQsTUFBTSxDQUFDLFFBQVEsQ0FBQyxTQUFvQixFQUFFLEtBQWU7UUFDakQsSUFBSSxLQUFLLEdBQUcscUVBQXFCLENBQUMsU0FBUyxDQUFDLENBQUM7UUFDN0MsSUFBSSxLQUFLLEdBQUcsZ0VBQWtCLENBQUMsS0FBSyxFQUFFLENBQUMsQ0FBQyxDQUFDO1FBRXpDLE9B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LE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRTtZQUNyQyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsU0FBUyxFQUFFLENBQUM7U0FDMUI7UUFDRCxPQUFPLE9BQU8sQ0FBQztJQUNuQixDQUFDO0NBQ0o7QUFFRCwyQ0FBMkM7QUFFM0MsY0FBYztBQUNkLGNBQWM7QUFDZCxjQUFjO0FBQ2QsY0FBYztBQUNkLGNBQWM7QUFDZCxjQUFjO0FBQ2QsY0FBYztBQUNkLE1BQU0sU0FBUyxHQUFHO0lBQ2QsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUM7SUFDWixDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQztJQUNaLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDO0lBQ1osQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUM7SUFDWixDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQztJQUNaLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDO0NBQ2YsQ0FBQztBQUVGLFNBQVMsU0FBUyxDQUFDLElBQWM7SUFDN0IsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDbEUsQ0FBQyIsImZpbGUiOiIuL3NyYy9tZXNoL21lc2gudHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBtZXNoLnRzXG4vLyBBdXRob3I6IEpvcyBGZWVuc3RyYVxuLy8gUHVycG9zZTpcblxuLy8gYSB2ZXJ5IHB1cmUgaWRlYSBvZiBhIG1lc2ggOiBWZXJ0aWNlcyArIGxpbmtzIGJldHdlZW4gdmVydGljZXMuXG4vLyBDb3VsZCBiZSBhbnl0aGluZyB3aXRoIHRoZXNlIHByb3BlcnRpZXM6IGxpbmVzLCB0cmlhbmdsZS1tZXNoLCBxdWFkc1xuLy8gaWRlYTogc2hvdWxkIG5vcm1hbHMgYmUgcGFydCBvZiB0aGUgTWVzaD9cblxuaW1wb3J0IHsgSW50TWF0cml4IH0gZnJvbSBcIi4uL2RhdGEvaW50LW1hdHJpeFwiO1xuaW1wb3J0IHsgVmVjdG9yMkFycmF5LCBWZWN0b3IzQXJyYXkgfSBmcm9tIFwiLi4vZGF0YS92ZWN0b3ItYXJyYXlcIjtcbmltcG9ydCB7IFZlY3RvcjIsIFZlY3RvcjMgfSBmcm9tIFwiLi4vbWF0aC92ZWN0b3JcIjtcbmltcG9ydCB7IEN1YmUgfSBmcm9tIFwiLi4vZ2VvL2N1YmVcIjtcbmltcG9ydCB7IFJlY3RhbmdsZTMgfSBmcm9tIFwiLi4vZ2VvL3JlY3RhbmdsZVwiO1xuaW1wb3J0IHsgUmVuZGVyYWJsZSwgTWVzaFR5cGUgYXMgTWVzaFR5cGUgfSBmcm9tIFwiLi9yZW5kZXItbWVzaFwiO1xuaW1wb3J0IHsgUGxhbmUgfSBmcm9tIFwiLi4vZ2VvL3BsYW5lXCI7XG5pbXBvcnQgeyBNYXRyaXg0IH0gZnJvbSBcIi4uL21hdGgvbWF0cml4XCI7XG5pbXBvcnQgeyBHcmFwaCB9IGZyb20gXCIuL2dyYXBoXCI7XG5cbmV4cG9ydCBjbGFzcyBNZXNoIHtcbiAgICAvLyBDT05TVFJVQ1RPUlNcblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwdWJsaWMgdmVydHM6IFZlY3RvcjNBcnJheSxcbiAgICAgICAgcHVibGljIGxpbmtzOiBJbnRNYXRyaXgsIC8vIHJlbGF0aW9uc2hpcHMsIGNhbiBiZSAyIChsaW5lcykgfCAzICh0cmlhbmdsZXMpIHwgNCAocXVhZHMpXG4gICAgKSB7fVxuXG4gICAgc3RhdGljIG5ldyh2ZXJ0czogVmVjdG9yM0FycmF5LCBsaW5rczogSW50TWF0cml4KTogTWVzaCB7XG4gICAgICAgIHJldHVybiBuZXcgTWVzaCh2ZXJ0cywgbGlua3MpO1xuICAgIH1cblxuICAgIHN0YXRpYyBmcm9tTGlzdHModmVydHM6IFZlY3RvcjNbXSwgZmFjZXM6IG51bWJlcltdKTogTWVzaCB7XG4gICAgICAgIHJldHVybiBuZXcgTWVzaChWZWN0b3IzQXJyYXkuZnJvbUxpc3QodmVydHMpLCBJbnRNYXRyaXguZnJvbUxpc3QoZmFjZXMsIDMpKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgbmV3RW1wdHkodmVydENvdW50OiBudW1iZXIsIGxpbmtDb3VudDogbnVtYmVyLCBwZXJMaW5rQ291bnQ6IG51bWJlcik6IE1lc2gge1xuICAgICAgICByZXR1cm4gbmV3IE1lc2gobmV3IFZlY3RvcjNBcnJheSh2ZXJ0Q291bnQpLCBuZXcgSW50TWF0cml4KGxpbmtDb3VudCwgcGVyTGlua0NvdW50KSk7XG4gICAgfVxuXG4gICAgc3RhdGljIG5ld0xpbmVzKHBvc2l0aW9uczogVmVjdG9yM1tdLCBlZGdlczogbnVtYmVyW10pIHtcbiAgICAgICAgbGV0IHZlcnRzID0gVmVjdG9yM0FycmF5LmZyb21MaXN0KHBvc2l0aW9ucyk7XG4gICAgICAgIGxldCBsaW5rcyA9IEludE1hdHJpeC5mcm9tTGlzdChlZGdlcywgMik7XG5cbiAgICAgICAgcmV0dXJuIG5ldyBNZXNoKHZlcnRzLCBsaW5rcyk7XG4gICAgfVxuXG4gICAgc3RhdGljIHplcm8oKTogTWVzaCB7XG4gICAgICAgIHJldHVybiBuZXcgTWVzaChuZXcgVmVjdG9yM0FycmF5KDApLCBuZXcgSW50TWF0cml4KDAsIDApKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZnJvbUpvaW4obWVzaGVzOiBNZXNoW10pOiBNZXNoIHtcbiAgICAgICAgLy8gam9pbiBtZXNoZXMsIGRvbnQgdHJ5IHRvIGxvb2sgZm9yIGR1cGxpY2F0ZSB2ZXJ0aWNlc1xuICAgICAgICAvLyBUT0RPIDogbWFrZSB0aGlzIHRoZSB0cm91YmxlIG9mIE1hdHJpY2VzIGFuZCBBcnJheXNcbiAgICAgICAgbGV0IHZlcnRDb3VudCA9IDA7XG4gICAgICAgIGxldCBmYWNlQ291bnQgPSAwO1xuXG4gICAgICAgIGZvciAobGV0IG1lc2ggb2YgbWVzaGVzKSB7XG4gICAgICAgICAgICB2ZXJ0Q291bnQgKz0gbWVzaC52ZXJ0cy5jb3VudCgpO1xuICAgICAgICAgICAgZmFjZUNvdW50ICs9IG1lc2gubGlua3MuY291bnQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCB2ZXJ0cyA9IG5ldyBWZWN0b3IzQXJyYXkodmVydENvdW50KTtcbiAgICAgICAgbGV0IGxpbmtzID0gbmV3IEludE1hdHJpeChmYWNlQ291bnQsIDMpO1xuXG4gICAgICAgIGxldCBhY2NWZXJ0cyA9IDA7XG4gICAgICAgIGxldCBhY2NGYWNlcyA9IDA7XG5cbiAgICAgICAgZm9yIChsZXQgbWVzaCBvZiBtZXNoZXMpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbWVzaC52ZXJ0cy5jb3VudCgpOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2ZXJ0cy5zZXRWZWN0b3IoYWNjVmVydHMgKyBpLCBtZXNoLnZlcnRzLmdldFZlY3RvcihpKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1lc2gubGlua3MuY291bnQoKTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgbGV0IGZhY2UgPSBtZXNoLmxpbmtzLmdldFJvdyhpKTtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGZhY2UubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgZmFjZVtqXSA9IGZhY2Vbal0gKyBhY2NWZXJ0cztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbGlua3Muc2V0Um93KGFjY0ZhY2VzICsgaSwgZmFjZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhY2NWZXJ0cyArPSBtZXNoLnZlcnRzLmNvdW50KCk7XG4gICAgICAgICAgICBhY2NGYWNlcyArPSBtZXNoLmxpbmtzLmNvdW50KCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbmV3IE1lc2godmVydHMsIGxpbmtzKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZnJvbVJlY3QocmVjdDogUmVjdGFuZ2xlMyk6IFJlbmRlcmFibGUge1xuICAgICAgICBsZXQgdmVydHMgPSByZWN0LmdldENvcm5lcnMoKTtcblxuICAgICAgICAvLyB3ZSBjYW50IGhhbmRsZSBxdWFkcyB5ZXRcbiAgICAgICAgbGV0IGZhY2VzOiBudW1iZXJbXSA9IFtdO1xuICAgICAgICBmYWNlcy5wdXNoKC4uLnF1YWRUb1RyaShjdWJlRmFjZXNbMF0pKTtcbiAgICAgICAgbGV0IHJlbmQgPSBuZXcgUmVuZGVyYWJsZSg0LCAwLCAwLCAyKTtcbiAgICAgICAgcmVuZC5tZXNoLnZlcnRzLmZpbGxGcm9tTGlzdCh2ZXJ0cyk7XG4gICAgICAgIHJlbmQubWVzaC5saW5rcy5zZXREYXRhKGZhY2VzKTtcblxuICAgICAgICAvLyBjb25zb2xlLmxvZyhtZXNoLnZlcnRzKTtcbiAgICAgICAgLy8gY29uc29sZS5sb2cobWVzaC5saW5rcyk7XG5cbiAgICAgICAgcmVuZC5zZXRVdnMobmV3IEZsb2F0MzJBcnJheShbMC4wLCAwLjAsIDAuMCwgMS4wLCAxLjAsIDAuMCwgMS4wLCAxLjBdKSk7XG4gICAgICAgIHJldHVybiByZW5kO1xuICAgIH1cblxuICAgIHN0YXRpYyBmcm9tQ3ViZShjdWJlOiBDdWJlKTogTWVzaCB7XG4gICAgICAgIGxldCB2ZXJ0cyA9IGN1YmUuZ2V0Q29ybmVycygpO1xuICAgICAgICBsZXQgZmFjZXM6IG51bWJlcltdID0gW107XG4gICAgICAgIGZvciAobGV0IGZhY2Ugb2YgY3ViZUZhY2VzKSB7XG4gICAgICAgICAgICBmYWNlcy5wdXNoKC4uLnF1YWRUb1RyaShmYWNlKSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5mcm9tTGlzdHModmVydHMsIGZhY2VzKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgbmV3SWNvc2FoZWRyb24oc2NhbGUgPSAxKTogTWVzaCB7XG4gICAgICAgIGxldCBncmFwaCA9IG5ldyBHcmFwaCgpO1xuXG4gICAgICAgIGxldCBhID0gc2NhbGU7XG4gICAgICAgIGxldCBwaGkgPSAoMSArIDUgKiogMC41KSAvIDI7XG4gICAgICAgIGxldCBiID0gYSAqIHBoaTtcblxuICAgICAgICBsZXQgYWRkVmVydCA9ICh2OiBWZWN0b3IzKSA9PiB7XG4gICAgICAgICAgICBncmFwaC5hZGRWZXJ0KHYsIHYpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGFkZFZlcnQobmV3IFZlY3RvcjMoLWEsIC1iLCAwKSk7XG4gICAgICAgIGFkZFZlcnQobmV3IFZlY3RvcjMoYSwgLWIsIDApKTtcbiAgICAgICAgYWRkVmVydChuZXcgVmVjdG9yMygtYSwgYiwgMCkpO1xuICAgICAgICBhZGRWZXJ0KG5ldyBWZWN0b3IzKGEsIGIsIDApKTtcbiAgICAgICAgYWRkVmVydChuZXcgVmVjdG9yMygwLCAtYSwgLWIpKTtcbiAgICAgICAgYWRkVmVydChuZXcgVmVjdG9yMygwLCBhLCAtYikpO1xuICAgICAgICBhZGRWZXJ0KG5ldyBWZWN0b3IzKDAsIC1hLCBiKSk7XG4gICAgICAgIGFkZFZlcnQobmV3IFZlY3RvcjMoMCwgYSwgYikpO1xuICAgICAgICBhZGRWZXJ0KG5ldyBWZWN0b3IzKC1iLCAwLCAtYSkpO1xuICAgICAgICBhZGRWZXJ0KG5ldyBWZWN0b3IzKC1iLCAwLCBhKSk7XG4gICAgICAgIGFkZFZlcnQobmV3IFZlY3RvcjMoYiwgMCwgLWEpKTtcbiAgICAgICAgYWRkVmVydChuZXcgVmVjdG9yMyhiLCAwLCBhKSk7XG5cbiAgICAgICAgLy8gYnVpbGQgZWRnZXNcbiAgICAgICAgbGV0IGFkZEVkZ2UgPSAoYTogbnVtYmVyLCBiOiBudW1iZXIpID0+IHtcbiAgICAgICAgICAgIGdyYXBoLmFkZEVkZ2UoYSwgYik7XG4gICAgICAgIH07XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMTI7IGkgKz0gNCkge1xuICAgICAgICAgICAgYWRkRWRnZShpICsgMCwgaSArIDEpO1xuICAgICAgICAgICAgYWRkRWRnZShpICsgMiwgaSArIDMpO1xuXG4gICAgICAgICAgICBsZXQgaW5leHQgPSAoaSArIDQpICUgMTI7XG5cbiAgICAgICAgICAgIGFkZEVkZ2UoaSArIDAsIGluZXh0ICsgMik7XG4gICAgICAgICAgICBhZGRFZGdlKGkgKyAwLCBpbmV4dCArIDApO1xuICAgICAgICAgICAgYWRkRWRnZShpICsgMSwgaW5leHQgKyAyKTtcbiAgICAgICAgICAgIGFkZEVkZ2UoaSArIDEsIGluZXh0ICsgMCk7XG5cbiAgICAgICAgICAgIGFkZEVkZ2UoaSArIDIsIGluZXh0ICsgMyk7XG4gICAgICAgICAgICBhZGRFZGdlKGkgKyAyLCBpbmV4dCArIDEpO1xuICAgICAgICAgICAgYWRkRWRnZShpICsgMywgaW5leHQgKyAzKTtcbiAgICAgICAgICAgIGFkZEVkZ2UoaSArIDMsIGluZXh0ICsgMSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5mcm9tR3JhcGgoZ3JhcGgpO1xuICAgIH1cblxuICAgIHN0YXRpYyBuZXdTcGhlcmUoY2VudGVyOiBWZWN0b3IzLCByYWRpdXM6IG51bWJlciwgbnVtUmluZ3M6IG51bWJlciwgbnVtUGVyUmluZzogbnVtYmVyKTogTWVzaCB7XG4gICAgICAgIC8vIHZlcnRzXG4gICAgICAgIGxldCB2ZXJ0Q291bnQgPSBudW1SaW5ncyAqIG51bVBlclJpbmcgKyAyO1xuICAgICAgICBsZXQgdmVydHMgPSBuZXcgVmVjdG9yM0FycmF5KHZlcnRDb3VudCk7XG4gICAgICAgIGxldCBzZXRWZXJ0ID0gZnVuY3Rpb24gKGk6IG51bWJlciwgdmVjdG9yOiBWZWN0b3IzKSB7XG4gICAgICAgICAgICB2ZXJ0cy5zZXRWZWN0b3IoaSwgdmVjdG9yLnNjYWxlKHJhZGl1cykuYWRkKGNlbnRlcikpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHNldFZlcnQoMCwgbmV3IFZlY3RvcjMoMCwgMCwgMSkpO1xuICAgICAgICBmb3IgKGxldCByaW5nID0gMDsgcmluZyA8IG51bVJpbmdzOyByaW5nKyspIHtcbiAgICAgICAgICAgIGZvciAobGV0IHBlclJpbmcgPSAwOyBwZXJSaW5nIDwgbnVtUGVyUmluZzsgcGVyUmluZysrKSB7XG4gICAgICAgICAgICAgICAgbGV0IGFscGhhID0gKE1hdGguUEkgKiAocmluZyArIDEpKSAvIChudW1SaW5ncyArIDEpO1xuICAgICAgICAgICAgICAgIGxldCBiZXRhID0gKDIgKiBNYXRoLlBJICogcGVyUmluZykgLyBudW1QZXJSaW5nO1xuXG4gICAgICAgICAgICAgICAgbGV0IHggPSBNYXRoLnNpbihhbHBoYSkgKiBNYXRoLmNvcyhiZXRhKTtcbiAgICAgICAgICAgICAgICBsZXQgeSA9IE1hdGguc2luKGFscGhhKSAqIE1hdGguc2luKGJldGEpO1xuICAgICAgICAgICAgICAgIGxldCB6ID0gTWF0aC5jb3MoYWxwaGEpO1xuXG4gICAgICAgICAgICAgICAgbGV0IGluZGV4ID0gMSArIHJpbmcgKiBudW1QZXJSaW5nICsgcGVyUmluZztcbiAgICAgICAgICAgICAgICBzZXRWZXJ0KGluZGV4LCBuZXcgVmVjdG9yMyh4LCB5LCB6KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgc2V0VmVydCh2ZXJ0Q291bnQgLSAxLCBuZXcgVmVjdG9yMygwLCAwLCAtMSkpO1xuXG4gICAgICAgIC8vIGZhY2VzXG4gICAgICAgIGxldCBmYWNlQ291bnQgPSBudW1QZXJSaW5nICogbnVtUmluZ3MgKiAyO1xuICAgICAgICBsZXQgbGlua3MgPSBuZXcgSW50TWF0cml4KGZhY2VDb3VudCwgMyk7XG4gICAgICAgIGxpbmtzLmZpbGwoLTEpO1xuICAgICAgICBsZXQgc2V0RmFjZSA9IGZ1bmN0aW9uIChpOiBudW1iZXIsIHJvdzogbnVtYmVyW10pIHtcbiAgICAgICAgICAgIGxpbmtzLnNldFJvdyhpLCByb3cpO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8vIGZhY2VzIHRvcFxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG51bVBlclJpbmc7IGkrKykge1xuICAgICAgICAgICAgc2V0RmFjZShpLCBbMCwgaSArIDEsICgoaSArIDEpICUgbnVtUGVyUmluZykgKyAxXSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBmYWNlcyBtaWRkbGVcbiAgICAgICAgLy8gd2UgYXJlIGF0IHRoaXMgY3Vyc29yXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKFwiZmFjZXNcIiwgZmFjZUNvdW50KTtcblxuICAgICAgICBmb3IgKGxldCByaW5nID0gMDsgcmluZyA8IG51bVJpbmdzIC0gMTsgcmluZysrKSB7XG4gICAgICAgICAgICBsZXQgdmVydEN1cnNvciA9IG51bVBlclJpbmcgKiByaW5nICsgMTtcbiAgICAgICAgICAgIGxldCB2ZXJ0Q3Vyc29yQmVsb3cgPSB2ZXJ0Q3Vyc29yICsgbnVtUGVyUmluZztcblxuICAgICAgICAgICAgZm9yIChsZXQgcGVyUmluZyA9IDA7IHBlclJpbmcgPCBudW1QZXJSaW5nOyBwZXJSaW5nKyspIHtcbiAgICAgICAgICAgICAgICBsZXQgYSA9IHZlcnRDdXJzb3IgKyBwZXJSaW5nO1xuICAgICAgICAgICAgICAgIGxldCBiID0gdmVydEN1cnNvciArICgocGVyUmluZyArIDEpICUgbnVtUGVyUmluZyk7XG5cbiAgICAgICAgICAgICAgICBsZXQgYyA9IHZlcnRDdXJzb3JCZWxvdyArIHBlclJpbmc7XG4gICAgICAgICAgICAgICAgbGV0IGQgPSB2ZXJ0Q3Vyc29yQmVsb3cgKyAoKHBlclJpbmcgKyAxKSAlIG51bVBlclJpbmcpO1xuXG4gICAgICAgICAgICAgICAgbGV0IGlGYWNlID0gbnVtUGVyUmluZyArIG51bVBlclJpbmcgKiByaW5nICogMiArIHBlclJpbmcgKiAyO1xuXG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coaUZhY2UpO1xuICAgICAgICAgICAgICAgIHNldEZhY2UoaUZhY2UsIFthLCBjLCBiXSk7XG4gICAgICAgICAgICAgICAgc2V0RmFjZShpRmFjZSArIDEsIFtjLCBkLCBiXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBmYWNlcyBib3R0b21cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBudW1QZXJSaW5nOyBpKyspIHtcbiAgICAgICAgICAgIGxldCBpTmV4dCA9IChpICsgMSkgJSBudW1QZXJSaW5nO1xuICAgICAgICAgICAgbGV0IGxhc3QgPSB2ZXJ0Q291bnQgLSAxO1xuXG4gICAgICAgICAgICBsZXQgaUZhY2UgPSBmYWNlQ291bnQgLSBudW1QZXJSaW5nICsgaTtcblxuICAgICAgICAgICAgbGV0IHplcm8gPSB2ZXJ0Q291bnQgLSBudW1QZXJSaW5nIC0gMTtcbiAgICAgICAgICAgIGxldCB2ZXJ0SSA9IHplcm8gKyBpO1xuICAgICAgICAgICAgbGV0IHZlcnRJTmV4dCA9IHplcm8gKyBpTmV4dDtcblxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coaUZhY2UpO1xuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coXCJmYWNlXCIsIGxhc3QsIHZlcnRJTmV4dCwgdmVydEkpO1xuXG4gICAgICAgICAgICBzZXRGYWNlKGlGYWNlLCBbbGFzdCwgdmVydElOZXh0LCB2ZXJ0SV0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5ldyBNZXNoKHZlcnRzLCBsaW5rcyk7XG4gICAgfVxuXG4gICAgc3RhdGljIG5ld0N5bGluZGVyKGZyb206IFZlY3RvcjMsIHRvOiBWZWN0b3IzLCByYWRpdXM6IG51bWJlciwgbnVtUGVyUmluZzogbnVtYmVyKTogTWVzaCB7XG4gICAgICAgIGxldCBub3JtYWwgPSB0by5zdWJiZWQoZnJvbSk7XG5cbiAgICAgICAgbGV0IG51bVZlcnRzID0gbnVtUGVyUmluZyAqIDIgKyAyO1xuICAgICAgICBsZXQgbnVtRmFjZXMgPSAobnVtVmVydHMgLSAyKSAqIDI7XG4gICAgICAgIGxldCB2ZXJ0cyA9IG5ldyBWZWN0b3IzQXJyYXkobnVtVmVydHMpO1xuXG4gICAgICAgIC8vIHNvbWUgZHVtYiBzdHVmZlxuICAgICAgICBsZXQgc2V0VmVydCA9IGZ1bmN0aW9uIChpOiBudW1iZXIsIHZlY3RvcjogVmVjdG9yMykge1xuICAgICAgICAgICAgdmVydHMuc2V0VmVjdG9yKGksIHZlY3Rvcik7XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gcGxhbmVzIHRvIHJlcHJlc2VudCB0b3AgJiBib3R0b21cbiAgICAgICAgbGV0IHBsYW5lRnJvbSA9IFBsYW5lLmZyb21QTihmcm9tLCBub3JtYWwpO1xuICAgICAgICAvLyBjb25zb2xlLmxvZyhwbGFuZUZyb20pO1xuXG4gICAgICAgIGxldCBwbGFuZVRvID0gUGxhbmUuZnJvbVBOKHRvLCBub3JtYWwpO1xuICAgICAgICAvLyBjb25zb2xlLmxvZyhwbGFuZUZyb20pO1xuXG4gICAgICAgIC8vIHZlcnRzICdmcm9tIHJpbmdcbiAgICAgICAgc2V0VmVydCgwLCBmcm9tKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBudW1QZXJSaW5nOyBpKyspIHtcbiAgICAgICAgICAgIGxldCB2ID0gbmV3IFZlY3RvcjMoXG4gICAgICAgICAgICAgICAgTWF0aC5jb3MoKE1hdGguUEkgKiAyICogaSkgLyBudW1QZXJSaW5nKSxcbiAgICAgICAgICAgICAgICBNYXRoLnNpbigoTWF0aC5QSSAqIDIgKiBpKSAvIG51bVBlclJpbmcpLFxuICAgICAgICAgICAgICAgIDAsXG4gICAgICAgICAgICApLnNjYWxlKHJhZGl1cyk7XG5cbiAgICAgICAgICAgIHYgPSBwbGFuZUZyb20ubWF0cml4Lm11bHRpcGx5VmVjdG9yKHYpO1xuICAgICAgICAgICAgc2V0VmVydChpICsgMSwgdik7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB2ZXJ0cyAndG8nIHJpbmdcbiAgICAgICAgbGV0IG51bVZlcnRzSGFsZiA9IG51bVZlcnRzIC8gMjtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBudW1QZXJSaW5nOyBpKyspIHtcbiAgICAgICAgICAgIGxldCB2ID0gbmV3IFZlY3RvcjMoXG4gICAgICAgICAgICAgICAgTWF0aC5jb3MoKE1hdGguUEkgKiAyICogaSkgLyBudW1QZXJSaW5nKSxcbiAgICAgICAgICAgICAgICBNYXRoLnNpbigoTWF0aC5QSSAqIDIgKiBpKSAvIG51bVBlclJpbmcpLFxuICAgICAgICAgICAgICAgIDAsXG4gICAgICAgICAgICApLnNjYWxlKHJhZGl1cyk7XG5cbiAgICAgICAgICAgIHYgPSBwbGFuZVRvLm1hdHJpeC5tdWx0aXBseVZlY3Rvcih2KTtcbiAgICAgICAgICAgIHNldFZlcnQobnVtVmVydHNIYWxmICsgaSwgdik7XG4gICAgICAgIH1cbiAgICAgICAgc2V0VmVydChudW1WZXJ0cyAtIDEsIHRvKTtcblxuICAgICAgICAvLyBzdGFydCBtYWtpbmcgbGlua3NcbiAgICAgICAgbGV0IGxpbmtzID0gbmV3IEludE1hdHJpeChudW1GYWNlcywgMyk7XG4gICAgICAgIGxpbmtzLmZpbGwoLTEpO1xuICAgICAgICBsZXQgc2V0RmFjZSA9IGZ1bmN0aW9uIChpOiBudW1iZXIsIHJvdzogbnVtYmVyW10pIHtcbiAgICAgICAgICAgIGxpbmtzLnNldFJvdyhpLCByb3cpO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8vIHNldCBmYWNlc1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG51bVBlclJpbmc7IGkrKykge1xuICAgICAgICAgICAgbGV0IGEgPSAwO1xuICAgICAgICAgICAgbGV0IGIgPSAxICsgaTtcbiAgICAgICAgICAgIGxldCBjID0gMSArICgoaSArIDEpICUgbnVtUGVyUmluZyk7XG5cbiAgICAgICAgICAgIGxldCBkID0gbnVtVmVydHMgLSAxO1xuICAgICAgICAgICAgbGV0IGUgPSBudW1WZXJ0c0hhbGYgKyBpO1xuICAgICAgICAgICAgbGV0IGYgPSBudW1WZXJ0c0hhbGYgKyAoKGkgKyAxKSAlIG51bVBlclJpbmcpO1xuXG4gICAgICAgICAgICBzZXRGYWNlKGkgKiA0LCBbYSwgYywgYl0pO1xuICAgICAgICAgICAgc2V0RmFjZShpICogNCArIDEsIFtiLCBjLCBlXSk7XG4gICAgICAgICAgICBzZXRGYWNlKGkgKiA0ICsgMiwgW2MsIGYsIGVdKTtcbiAgICAgICAgICAgIHNldEZhY2UoaSAqIDQgKyAzLCBbZCwgZSwgZl0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5ldyBNZXNoKHZlcnRzLCBsaW5rcyk7XG4gICAgfVxuXG4gICAgc3RhdGljIG5ld0NvbmUoY2VudGVyOiBWZWN0b3IzLCByYWRpdXM6IG51bWJlciwgaGVpZ2h0OiBudW1iZXIsIG51bVBlclJpbmc6IG51bWJlcikge1xuICAgICAgICBsZXQgbnVtVmVydHMgPSBudW1QZXJSaW5nICsgMjtcbiAgICAgICAgbGV0IG51bUZhY2VzID0gbnVtUGVyUmluZyAqIDI7XG4gICAgICAgIGxldCB2ZXJ0cyA9IG5ldyBWZWN0b3IzQXJyYXkobnVtVmVydHMpO1xuICAgICAgICBsZXQgc2V0VmVydCA9IGZ1bmN0aW9uIChpOiBudW1iZXIsIHZlY3RvcjogVmVjdG9yMykge1xuICAgICAgICAgICAgdmVydHMuc2V0VmVjdG9yKGksIHZlY3Rvci5hZGQoY2VudGVyKSk7XG4gICAgICAgIH07XG4gICAgICAgIGxldCBsaW5rcyA9IG5ldyBJbnRNYXRyaXgobnVtRmFjZXMsIDMpO1xuICAgICAgICBsaW5rcy5maWxsKC0xKTtcbiAgICAgICAgbGV0IHNldEZhY2UgPSBmdW5jdGlvbiAoaTogbnVtYmVyLCByb3c6IG51bWJlcltdKSB7XG4gICAgICAgICAgICBsaW5rcy5zZXRSb3coaSwgcm93KTtcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBzZXQgdmVydHNcbiAgICAgICAgc2V0VmVydCgwLCBuZXcgVmVjdG9yMygwLCAwLCAwKSk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbnVtUGVyUmluZzsgaSsrKSB7XG4gICAgICAgICAgICBzZXRWZXJ0KFxuICAgICAgICAgICAgICAgIGkgKyAxLFxuICAgICAgICAgICAgICAgIG5ldyBWZWN0b3IzKFxuICAgICAgICAgICAgICAgICAgICBNYXRoLmNvcygoTWF0aC5QSSAqIDIgKiBpKSAvIG51bVBlclJpbmcpLFxuICAgICAgICAgICAgICAgICAgICBNYXRoLnNpbigoTWF0aC5QSSAqIDIgKiBpKSAvIG51bVBlclJpbmcpLFxuICAgICAgICAgICAgICAgICAgICAwLFxuICAgICAgICAgICAgICAgICkuc2NhbGUocmFkaXVzKSxcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgc2V0VmVydChudW1WZXJ0cyAtIDEsIG5ldyBWZWN0b3IzKDAsIDAsIGhlaWdodCkpO1xuXG4gICAgICAgIC8vIHNldCBmYWNlc1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG51bVBlclJpbmc7IGkrKykge1xuICAgICAgICAgICAgbGV0IGEgPSAwO1xuICAgICAgICAgICAgbGV0IGIgPSBudW1WZXJ0cyAtIDE7XG4gICAgICAgICAgICBsZXQgYyA9IDEgKyBpO1xuICAgICAgICAgICAgbGV0IGQgPSAxICsgKChpICsgMSkgJSBudW1QZXJSaW5nKTtcblxuICAgICAgICAgICAgc2V0RmFjZShpICogMiwgW2EsIGQsIGNdKTtcbiAgICAgICAgICAgIHNldEZhY2UoaSAqIDIgKyAxLCBbYywgZCwgYl0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5ldyBNZXNoKHZlcnRzLCBsaW5rcyk7XG4gICAgfVxuXG4gICAgc3RhdGljIGZyb21HcmFwaChncmFwaDogR3JhcGgpOiBNZXNoIHtcbiAgICAgICAgLy8gTk9URSA6IGRvZXNudCByZWFsbHkgd29yayBpZiB0aGUgbG9vcHMgYXJlIG5vdCBvZiBzaXplIDMuXG5cbiAgICAgICAgbGV0IHZlcnRzID0gVmVjdG9yM0FycmF5LmZyb21MaXN0KGdyYXBoLmFsbFZlcnRQb3NpdGlvbnMoKSk7XG4gICAgICAgIGxldCBsb29wcyA9IGdyYXBoLmFsbFZlcnRMb29wc0FzSW50cygpO1xuXG4gICAgICAgIGxldCBsaW5rcyA9IG5ldyBJbnRNYXRyaXgobG9vcHMubGVuZ3RoLCAzKTtcbiAgICAgICAgbG9vcHMuZm9yRWFjaCgobG9vcCwgaSkgPT4ge1xuICAgICAgICAgICAgaWYgKGxvb3AubGVuZ3RoID09IDMpIHtcbiAgICAgICAgICAgICAgICBsaW5rcy5zZXRSb3coaSwgbG9vcCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiY2FudCBjb252ZXJ0IGxvb3BcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gTWVzaC5uZXcodmVydHMsIGxpbmtzKTtcbiAgICB9XG5cbiAgICAvLyBDT05WRVJURVJTXG5cbiAgICB0b1JlbmRlcmFibGUoKTogUmVuZGVyYWJsZSB7XG4gICAgICAgIHJldHVybiBSZW5kZXJhYmxlLmZyb21NZXNoKHRoaXMpO1xuICAgIH1cblxuICAgIHRvR3JhcGgoKTogR3JhcGgge1xuICAgICAgICByZXR1cm4gR3JhcGguZnJvbU1lc2godGhpcyk7XG4gICAgfVxuXG4gICAgLy8gR0VUVEVSU1xuXG4gICAgZ2V0VHlwZSgpOiBNZXNoVHlwZSB7XG4gICAgICAgIGlmICh0aGlzLmxpbmtzLl93aWR0aCA9PSBNZXNoVHlwZS5Qb2ludHMpIHtcbiAgICAgICAgICAgIHJldHVybiBNZXNoVHlwZS5Qb2ludHM7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5saW5rcy5fd2lkdGggPT0gTWVzaFR5cGUuTGluZXMpIHtcbiAgICAgICAgICAgIHJldHVybiBNZXNoVHlwZS5MaW5lcztcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmxpbmtzLl93aWR0aCA9PSBNZXNoVHlwZS5UcmlhbmdsZXMpIHtcbiAgICAgICAgICAgIHJldHVybiBNZXNoVHlwZS5UcmlhbmdsZXM7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5saW5rcy5fd2lkdGggPT0gTWVzaFR5cGUuUXVhZHMpIHtcbiAgICAgICAgICAgIHJldHVybiBNZXNoVHlwZS5RdWFkcztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBNZXNoVHlwZS5JbnZhbGlkO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0TGlua1ZlcnRzKGY6IG51bWJlcikge1xuICAgICAgICBsZXQgdmVydHMgPSBuZXcgVmVjdG9yM0FycmF5KHRoaXMubGlua3MuX3dpZHRoKTtcbiAgICAgICAgdGhpcy5saW5rcy5nZXRSb3coZikuZm9yRWFjaCgodiwgaSkgPT4ge1xuICAgICAgICAgICAgdmVydHMuc2V0VmVjdG9yKGksIHRoaXMudmVydHMuZ2V0VmVjdG9yKHYpKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB2ZXJ0cztcbiAgICB9XG5cbiAgICAvLyBNSVNDXG5cbiAgICBjYWxjdWxhdGVGYWNlTm9ybWFscygpOiBWZWN0b3IzW10ge1xuICAgICAgICBsZXQgbm9ybXM6IFZlY3RvcjNbXSA9IFtdO1xuICAgICAgICBpZiAodGhpcy5nZXRUeXBlKCkgIT0gTWVzaFR5cGUuVHJpYW5nbGVzKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiY2FuIG9ubHkgY2FsY3VsYXRlIG5vcm1hbHMgZnJvbSB0cmlhbmd1bGFyIG1lc2hlc1wiKTtcbiAgICAgICAgICAgIHJldHVybiBub3JtcztcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBmYWNlQ291bnQgPSB0aGlzLmxpbmtzLmNvdW50KCk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZmFjZUNvdW50OyBpKyspIHtcbiAgICAgICAgICAgIGxldCB2ZXJ0cyA9IHRoaXMuZ2V0TGlua1ZlcnRzKGkpLnRvTGlzdCgpO1xuICAgICAgICAgICAgbGV0IG5vcm1hbCA9IHZlcnRzWzFdLnN1YmJlZCh2ZXJ0c1swXSkuY3Jvc3ModmVydHNbMl0uc3ViYmVkKHZlcnRzWzBdKSkubm9ybWFsaXplKCk7XG4gICAgICAgICAgICBub3Jtcy5wdXNoKG5vcm1hbCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5vcm1zO1xuICAgIH1cblxuICAgIGNhbGN1bGF0ZVZlcnRleE5vcm1hbHMoKTogVmVjdG9yM1tdIHtcbiAgICAgICAgbGV0IGZhY2VDb3VudCA9IHRoaXMubGlua3MuY291bnQoKTtcbiAgICAgICAgbGV0IGZhY2VOb3JtYWxzID0gdGhpcy5jYWxjdWxhdGVGYWNlTm9ybWFscygpO1xuXG4gICAgICAgIC8vIHN0YWNrIGFsbCBmYWNlIG5vcm1hbHMgcGVyIHZlcnRleFxuICAgICAgICBsZXQgYXJyYXkgPSBuZXcgVmVjdG9yM0FycmF5KHRoaXMudmVydHMuY291bnQoKSk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZmFjZUNvdW50OyBpKyspIHtcbiAgICAgICAgICAgIGxldCBub3JtYWwgPSBmYWNlTm9ybWFsc1tpXTtcbiAgICAgICAgICAgIHRoaXMubGlua3MuZ2V0Um93KGkpLmZvckVhY2goKHZlcnRleEluZGV4KSA9PiB7XG4gICAgICAgICAgICAgICAgbGV0IHYgPSBhcnJheS5nZXRWZWN0b3IodmVydGV4SW5kZXgpO1xuICAgICAgICAgICAgICAgIGFycmF5LnNldFZlY3Rvcih2ZXJ0ZXhJbmRleCwgdi5hZGQobm9ybWFsKSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIG5vcm1hbGl6ZSBhbGxcbiAgICAgICAgbGV0IG5vcm1hbHMgPSBhcnJheS50b0xpc3QoKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBub3JtYWxzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBub3JtYWxzW2ldLm5vcm1hbGl6ZSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBub3JtYWxzO1xuICAgIH1cbn1cblxuLy8gPT09PT09PT09PT09PT09PSBIZWxwID09PT09PT09PT09PT09PT09PVxuXG4vLyAwIC0tLS0tLS0gMVxuLy8gfCBcXCAgICAgLyB8XG4vLyB8ICA0LS0tNSAgfFxuLy8gfCAgfCAgIHwgIHxcbi8vIHwgIDYtLS03ICB8XG4vLyB8IC8gICAgIFxcIHxcbi8vIDIgLS0tLS0tLSAzXG5jb25zdCBjdWJlRmFjZXMgPSBbXG4gICAgWzAsIDEsIDMsIDJdLCAvLyBmcm9udFxuICAgIFs0LCAwLCAyLCA2XSwgLy8gbGVmdFxuICAgIFsxLCAwLCA0LCA1XSwgLy8gdG9wXG4gICAgWzEsIDUsIDcsIDNdLCAvLyByaWdodFxuICAgIFsyLCAzLCA3LCA2XSwgLy8gYm90dG9tXG4gICAgWzUsIDQsIDYsIDddLCAvLyBiYWNrXG5dO1xuXG5mdW5jdGlvbiBxdWFkVG9UcmkoYWJjZDogbnVtYmVyW10pOiBudW1iZXJbXSB7XG4gICAgcmV0dXJuIFthYmNkWzBdLCBhYmNkWzJdLCBhYmNkWzFdLCBhYmNkWzBdLCBhYmNkWzNdLCBhYmNkWzJdXTtcbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/mesh/mesh.ts\n");

/***/ }),

/***/ "./src/mesh/render-mesh.ts":
/*!*********************************!*\
  !*** ./src/mesh/render-mesh.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"MeshType\": () => /* binding */ MeshType,\n/* harmony export */   \"NormalKind\": () => /* binding */ NormalKind,\n/* harmony export */   \"Renderable\": () => /* binding */ Renderable,\n/* harmony export */   \"meshFromObj\": () => /* binding */ meshFromObj\n/* harmony export */ });\n/* harmony import */ var _data_vector_array__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../data/vector-array */ \"./src/data/vector-array.ts\");\n/* harmony import */ var _mesh__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./mesh */ \"./src/mesh/mesh.ts\");\n// Name: render-mesh.ts\r\n// Author: Jos Feenstra\r\n// Purpose:\r\n// a mesh representation with the sole purpose of to be renderer.\r\n// - fixed length attributes\r\n// - can represent:\r\n//   - pointcloud (links = null)\r\n//   - graph (links.width = 2)\r\n//   - triangles (links.width = 3)\r\n//   - quads (links.width = 4. will need to be converted to triangles)\r\n\r\n\r\nvar MeshType;\r\n(function (MeshType) {\r\n    MeshType[MeshType[\"Invalid\"] = 0] = \"Invalid\";\r\n    MeshType[MeshType[\"Points\"] = 1] = \"Points\";\r\n    MeshType[MeshType[\"Lines\"] = 2] = \"Lines\";\r\n    MeshType[MeshType[\"Triangles\"] = 3] = \"Triangles\";\r\n    MeshType[MeshType[\"Quads\"] = 4] = \"Quads\";\r\n})(MeshType || (MeshType = {}));\r\nvar NormalKind;\r\n(function (NormalKind) {\r\n    NormalKind[NormalKind[\"None\"] = 0] = \"None\";\r\n    NormalKind[NormalKind[\"Vertex\"] = 1] = \"Vertex\";\r\n    NormalKind[NormalKind[\"Face\"] = 2] = \"Face\";\r\n    NormalKind[NormalKind[\"MultiVertex\"] = 3] = \"MultiVertex\";\r\n})(NormalKind || (NormalKind = {}));\r\nclass Renderable {\r\n    // render speed\r\n    // shader\r\n    constructor(vertCount, normCount, uvCount, faceCount, texture = undefined) {\r\n        this._normKind = NormalKind.None;\r\n        let perFaceCount = 3;\r\n        this.mesh = _mesh__WEBPACK_IMPORTED_MODULE_1__.Mesh.newEmpty(vertCount, faceCount, perFaceCount);\r\n        this.norms = new _data_vector_array__WEBPACK_IMPORTED_MODULE_0__.Vector3Array(normCount);\r\n        this.uvs = new _data_vector_array__WEBPACK_IMPORTED_MODULE_0__.Vector2Array(uvCount);\r\n        this.ambi = new Float32Array(vertCount);\r\n        this.texture = texture;\r\n    }\r\n    static new(vertCount, normCount, uvCount, faceCount, texture = undefined) {\r\n        return new Renderable(vertCount, normCount, uvCount, faceCount, texture);\r\n    }\r\n    static fromMesh(mesh) {\r\n        let r = new Renderable(mesh.verts.count(), 0, 0, mesh.links.count());\r\n        r.mesh.verts.data = mesh.verts.data;\r\n        r.mesh.links.data = mesh.links.data;\r\n        return r;\r\n    }\r\n    static fromData(verts, norms, uvs, faces) {\r\n        // NOTE : this type of parsing makes my life easy, but is dangerous. This is why i created the\r\n        // Array class.\r\n        let r = new Renderable(verts.length / 3, norms.length / 3, uvs.length / 2, faces.length / 3);\r\n        r.mesh.verts.fillWith(verts);\r\n        r.mesh.links.fillWith(faces);\r\n        r.norms.fillWith(norms);\r\n        r.uvs.fillWith(uvs);\r\n        return r;\r\n    }\r\n    static fromGraph(graph) {\r\n        let mesh = graph.toMesh();\r\n        let r = Renderable.fromMesh(mesh);\r\n        r.norms = _data_vector_array__WEBPACK_IMPORTED_MODULE_0__.Vector3Array.fromList(graph.allNorms());\r\n        r._normKind = NormalKind.Vertex; // fix this!!\r\n        return r;\r\n    }\r\n    // geometry trait\r\n    transform(matrix) {\r\n        for (let i = 0; i < this.mesh.verts.count(); i++) {\r\n            let v = this.mesh.verts.getVector(i);\r\n            let n = this.norms.getVector(i);\r\n            this.mesh.verts.setVector(i, matrix.multiplyVector(v));\r\n            this.norms.setVector(i, matrix.multiplyVector(n)); // TODO, EXTRACT ONLY ROTATION PART FROM THE MATRIX\r\n        }\r\n    }\r\n    // getters & selectors\r\n    // VERY POORLY OPTIMIZED\r\n    getAdjacentFaces(v) {\r\n        let faces = [];\r\n        let count = this.mesh.links.count();\r\n        for (let i = 0; i < count; i++) {\r\n            if (this.mesh.links.getRow(i).includes(v)) {\r\n                faces.push(i);\r\n            }\r\n        }\r\n        return faces;\r\n    }\r\n    getFaceVertices(f) {\r\n        return this.mesh.getLinkVerts(f);\r\n    }\r\n    getType() {\r\n        return this.mesh.getType();\r\n    }\r\n    getNormalType() {\r\n        return this._normKind;\r\n    }\r\n    // setters\r\n    setTexture(texture) {\r\n        this.texture = texture;\r\n        // recalculate things if needed\r\n    }\r\n    setUvs(uvs) {\r\n        if (uvs instanceof Float32Array) {\r\n            this.uvs.data = uvs;\r\n        }\r\n        else {\r\n            this.uvs = uvs;\r\n        }\r\n        // recalculate if needed\r\n    }\r\n    // convert\r\n    exportToObj(path) {\r\n        throw \"todo\";\r\n    }\r\n    // ------ normals ------\r\n    // set 1 normal per face\r\n    calculateFaceNormals() {\r\n        if (this.getType() != MeshType.Triangles) {\r\n            console.error(\"can only calculate normals from triangular meshes\");\r\n            this.norms = new _data_vector_array__WEBPACK_IMPORTED_MODULE_0__.Vector3Array(0);\r\n            return;\r\n        }\r\n        let norms = this.mesh.calculateFaceNormals();\r\n        this.norms = _data_vector_array__WEBPACK_IMPORTED_MODULE_0__.Vector3Array.fromList(norms);\r\n        this._normKind = NormalKind.Face;\r\n    }\r\n    calculateVertexNormals() {\r\n        let norms = this.mesh.calculateVertexNormals();\r\n        this.norms = _data_vector_array__WEBPACK_IMPORTED_MODULE_0__.Vector3Array.fromList(norms);\r\n        this._normKind = NormalKind.Vertex;\r\n    }\r\n    calculateMultiVertexNormals() {\r\n        // set type\r\n        this._normKind = NormalKind.MultiVertex;\r\n        // calculate\r\n        this.calculateFaceNormals();\r\n        let vertNormals = new _data_vector_array__WEBPACK_IMPORTED_MODULE_0__.Vector3Array(this.mesh.verts.count());\r\n        this.mesh.verts.forEach((v, i) => {\r\n            let adjFaces = this.getAdjacentFaces(i);\r\n            vertNormals.setVector(i, this.norms.take(adjFaces).average());\r\n        });\r\n        this.norms = vertNormals;\r\n    }\r\n}\r\n// ================ Obj ===================\r\nfunction meshFromObj(text) {\r\n    // This is not a full .obj parser.\r\n    // see http://paulbourke.net/dataformats/obj/\r\n    // INDEXES ORIGINALLY REFER TO LINES, so -1 is needed\r\n    // run through all lines, and temporarely store\r\n    // all data in raw number lists, since we dont know how\r\n    // many vertices or faces well get.\r\n    let verts = []; // 3 long float\r\n    let norms = []; // 3 long float\r\n    let uvs = []; // 2 long float\r\n    let faces = []; // 9 long ints, u16's should suffice.\r\n    // note : this is very inefficient, but it'll have to do for now...\r\n    const keywordRE = /(\\w*)(?: )*(.*)/;\r\n    const lines = text.split(\"\\n\");\r\n    for (let i = 0; i < lines.length; ++i) {\r\n        const line = lines[i].trim();\r\n        // filter out comments\r\n        if (line === \"\" || line.startsWith(\"#\")) {\r\n            continue;\r\n        }\r\n        const m = keywordRE.exec(line);\r\n        if (!m) {\r\n            continue;\r\n        }\r\n        const [, keyword, unparsedArgs] = m;\r\n        const parts = line.split(/\\s+/).slice(1);\r\n        switch (keyword) {\r\n            case \"v\":\r\n                for (const part of parts) {\r\n                    verts.push(parseFloat(part));\r\n                }\r\n                break;\r\n            case \"vn\":\r\n                for (const part of parts) {\r\n                    norms.push(parseFloat(part));\r\n                }\r\n                break;\r\n            case \"vt\":\r\n                for (const part of parts) {\r\n                    uvs.push(parseFloat(part));\r\n                }\r\n                break;\r\n            case \"f\":\r\n                for (const value of ProcessObjFace(parts)) {\r\n                    faces.push(value);\r\n                }\r\n                break;\r\n            default:\r\n                console.warn(\"unhandled keyword:\", keyword); // eslint-disable-line no-console\r\n                continue;\r\n        }\r\n    }\r\n    // console.log(\"number of vertices: \" + verts.length / 3);\r\n    // console.log(\"number of faces: \" + faces.length / 3);\r\n    // console.log(\"number of uvs: \" + uvs.length / 2);\r\n    // console.log(\"number of norms: \" + norms.length / 3);\r\n    let mesh = Renderable.fromData(verts, norms, uvs, faces);\r\n    return mesh;\r\n}\r\n// NOTE: for now, uv and normals are completely ignored!!!\r\n// we assume the indices are the same als the vertices!!!\r\n// verbose way of processing one single vertex/normal/uv combination in a face.\r\nfunction ProcessObjFaceVertex(part) {\r\n    // make sure data always has length: 3\r\n    let data = [];\r\n    // cut string apart and process it\r\n    let subparts = part.split(\"/\");\r\n    if (subparts.length == 1) {\r\n        data.push(parseInt(subparts[0]) - 1);\r\n        // data.push(0);\r\n        // data.push(0);\r\n    }\r\n    else if (subparts.length == 3) {\r\n        data.push(parseInt(subparts[0]) - 1);\r\n        // data.push(parseInt(subparts[1])-1);\r\n        // data.push(parseInt(subparts[2])-1);\r\n    }\r\n    else {\r\n        throw \"invalid face found when processing\";\r\n    }\r\n    return data;\r\n}\r\n// process a face entry in an obj file\r\nfunction ProcessObjFace(parts) {\r\n    let data = [];\r\n    if (parts.length == 4) {\r\n        // i dont want to deal with quads for now, create 2 faces from a quad\r\n        let a = ProcessObjFaceVertex(parts[0]);\r\n        let b = ProcessObjFaceVertex(parts[1]);\r\n        let c = ProcessObjFaceVertex(parts[2]);\r\n        let d = ProcessObjFaceVertex(parts[3]);\r\n        data.push(...a, ...b, ...c, ...a, ...c, ...d);\r\n    }\r\n    else if (parts.length == 3) {\r\n        // as normal\r\n        let a = ProcessObjFaceVertex(parts[0]);\r\n        let b = ProcessObjFaceVertex(parts[1]);\r\n        let c = ProcessObjFaceVertex(parts[2]);\r\n        data.push(...a, ...b, ...c);\r\n    }\r\n    // data always has length 9 or 18\r\n    return data;\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9nZW9uLWVuZ2luZS8uL3NyYy9tZXNoL3JlbmRlci1tZXNoLnRzPzAzZWEiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUEsdUJBQXVCO0FBQ3ZCLHVCQUF1QjtBQUN2QixXQUFXO0FBQ1gsaUVBQWlFO0FBQ2pFLDRCQUE0QjtBQUM1QixtQkFBbUI7QUFDbkIsZ0NBQWdDO0FBQ2hDLDhCQUE4QjtBQUM5QixrQ0FBa0M7QUFDbEMsc0VBQXNFO0FBR0o7QUFLcEM7QUFNOUIsSUFBWSxRQU1YO0FBTkQsV0FBWSxRQUFRO0lBQ2hCLDZDQUFXO0lBQ1gsMkNBQVU7SUFDVix5Q0FBUztJQUNULGlEQUFhO0lBQ2IseUNBQVM7QUFDYixDQUFDLEVBTlcsUUFBUSxLQUFSLFFBQVEsUUFNbkI7QUFFRCxJQUFZLFVBS1g7QUFMRCxXQUFZLFVBQVU7SUFDbEIsMkNBQUk7SUFDSiwrQ0FBTTtJQUNOLDJDQUFJO0lBQ0oseURBQVc7QUFDZixDQUFDLEVBTFcsVUFBVSxLQUFWLFVBQVUsUUFLckI7QUFFTSxNQUFNLFVBQVU7SUFVbkIsZUFBZTtJQUNmLFNBQVM7SUFFVCxZQUNJLFNBQWlCLEVBQ2pCLFNBQWlCLEVBQ2pCLE9BQWUsRUFDZixTQUFpQixFQUNqQixVQUFpQyxTQUFTO1FBVjlDLGNBQVMsR0FBZSxVQUFVLENBQUMsSUFBSSxDQUFDO1FBWXBDLElBQUksWUFBWSxHQUFHLENBQUMsQ0FBQztRQUNyQixJQUFJLENBQUMsSUFBSSxHQUFHLGdEQUFhLENBQUMsU0FBUyxFQUFFLFNBQVMsRUFBRSxZQUFZLENBQUMsQ0FBQztRQUM5RCxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksNERBQVksQ0FBQyxTQUFTLENBQUMsQ0FBQztRQUN6QyxJQUFJLENBQUMsR0FBRyxHQUFHLElBQUksNERBQVksQ0FBQyxPQUFPLENBQUMsQ0FBQztRQUNyQyxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksWUFBWSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBQ3hD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QyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ3ZDLElBQUksQ0FBQyxHQUFHLG9CQUFvQixDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBRXZDLElBQUksQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsR0FBRyxDQUFDLEVBQUUsR0FBRyxDQUFDLEVBQUUsR0FBRyxDQUFDLEVBQUUsR0FBRyxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQztLQUNqRDtTQUFNLElBQUksS0FBSyxDQUFDLE1BQU0sSUFBSSxDQUFDLEVBQUU7UUFDMUIsWUFBWTtRQUNaLElBQUksQ0FBQyxHQUFHLG9CQUFvQixDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ3ZDLElBQUksQ0FBQyxHQUFHLG9CQUFvQixDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ3ZDLElBQUksQ0FBQyxHQUFHLG9CQUFvQixDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ3ZDLElBQUksQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsR0FBRyxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQztLQUMvQjtJQUVELGlDQUFpQztJQUNqQyxPQUFPLElBQUksQ0FBQztBQUNoQixDQUFDIiwiZmlsZSI6Ii4vc3JjL21lc2gvcmVuZGVyLW1lc2gudHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBOYW1lOiByZW5kZXItbWVzaC50c1xuLy8gQXV0aG9yOiBKb3MgRmVlbnN0cmFcbi8vIFB1cnBvc2U6XG4vLyBhIG1lc2ggcmVwcmVzZW50YXRpb24gd2l0aCB0aGUgc29sZSBwdXJwb3NlIG9mIHRvIGJlIHJlbmRlcmVyLlxuLy8gLSBmaXhlZCBsZW5ndGggYXR0cmlidXRlc1xuLy8gLSBjYW4gcmVwcmVzZW50OlxuLy8gICAtIHBvaW50Y2xvdWQgKGxpbmtzID0gbnVsbClcbi8vICAgLSBncmFwaCAobGlua3Mud2lkdGggPSAyKVxuLy8gICAtIHRyaWFuZ2xlcyAobGlua3Mud2lkdGggPSAzKVxuLy8gICAtIHF1YWRzIChsaW5rcy53aWR0aCA9IDQuIHdpbGwgbmVlZCB0byBiZSBjb252ZXJ0ZWQgdG8gdHJpYW5nbGVzKVxuXG5pbXBvcnQgeyBJbnRNYXRyaXggfSBmcm9tIFwiLi4vZGF0YS9pbnQtbWF0cml4XCI7XG5pbXBvcnQgeyBWZWN0b3IyQXJyYXksIFZlY3RvcjNBcnJheSB9IGZyb20gXCIuLi9kYXRhL3ZlY3Rvci1hcnJheVwiO1xuaW1wb3J0IHsgVmVjdG9yMiwgVmVjdG9yMyB9IGZyb20gXCIuLi9tYXRoL3ZlY3RvclwiO1xuaW1wb3J0IHsgQ3ViZSB9IGZyb20gXCIuLi9nZW8vY3ViZVwiO1xuaW1wb3J0IHsgUmVjdGFuZ2xlMyB9IGZyb20gXCIuLi9nZW8vcmVjdGFuZ2xlXCI7XG5pbXBvcnQgeyBNYXRyaXg0IH0gZnJvbSBcIi4uL21hdGgvbWF0cml4XCI7XG5pbXBvcnQgeyBNZXNoIH0gZnJvbSBcIi4vbWVzaFwiO1xuaW1wb3J0IHsgR3JhcGggfSBmcm9tIFwiLi9ncmFwaFwiO1xuXG50eXBlIHZlcnRleElEID0gbnVtYmVyO1xudHlwZSBmYWNlSUQgPSBudW1iZXI7XG5cbmV4cG9ydCBlbnVtIE1lc2hUeXBlIHtcbiAgICBJbnZhbGlkID0gMCxcbiAgICBQb2ludHMgPSAxLFxuICAgIExpbmVzID0gMixcbiAgICBUcmlhbmdsZXMgPSAzLFxuICAgIFF1YWRzID0gNCxcbn1cblxuZXhwb3J0IGVudW0gTm9ybWFsS2luZCB7XG4gICAgTm9uZSxcbiAgICBWZXJ0ZXgsXG4gICAgRmFjZSxcbiAgICBNdWx0aVZlcnRleCxcbn1cblxuZXhwb3J0IGNsYXNzIFJlbmRlcmFibGUge1xuICAgIG1lc2g6IE1lc2g7XG5cbiAgICBub3JtczogVmVjdG9yM0FycmF5O1xuICAgIHV2czogVmVjdG9yMkFycmF5O1xuICAgIGFtYmk6IEZsb2F0MzJBcnJheTtcbiAgICB0ZXh0dXJlPzogSW1hZ2VEYXRhO1xuXG4gICAgX25vcm1LaW5kOiBOb3JtYWxLaW5kID0gTm9ybWFsS2luZC5Ob25lO1xuXG4gICAgLy8gcmVuZGVyIHNwZWVkXG4gICAgLy8gc2hhZGVyXG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgdmVydENvdW50OiBudW1iZXIsXG4gICAgICAgIG5vcm1Db3VudDogbnVtYmVyLFxuICAgICAgICB1dkNvdW50OiBudW1iZXIsXG4gICAgICAgIGZhY2VDb3VudDogbnVtYmVyLFxuICAgICAgICB0ZXh0dXJlOiBJbWFnZURhdGEgfCB1bmRlZmluZWQgPSB1bmRlZmluZWQsXG4gICAgKSB7XG4gICAgICAgIGxldCBwZXJGYWNlQ291bnQgPSAzO1xuICAgICAgICB0aGlzLm1lc2ggPSBNZXNoLm5ld0VtcHR5KHZlcnRDb3VudCwgZmFjZUNvdW50LCBwZXJGYWNlQ291bnQpO1xuICAgICAgICB0aGlzLm5vcm1zID0gbmV3IFZlY3RvcjNBcnJheShub3JtQ291bnQpO1xuICAgICAgICB0aGlzLnV2cyA9IG5ldyBWZWN0b3IyQXJyYXkodXZDb3VudCk7XG4gICAgICAgIHRoaXMuYW1iaSA9IG5ldyBGbG9hdDMyQXJyYXkodmVydENvdW50KTtcbiAgICAgICAgdGhpcy50ZXh0dXJlID0gdGV4dHVyZTtcbiAgICB9XG5cbiAgICBzdGF0aWMgbmV3KFxuICAgICAgICB2ZXJ0Q291bnQ6IG51bWJlcixcbiAgICAgICAgbm9ybUNvdW50OiBudW1iZXIsXG4gICAgICAgIHV2Q291bnQ6IG51bWJlcixcbiAgICAgICAgZmFjZUNvdW50OiBudW1iZXIsXG4gICAgICAgIHRleHR1cmU6IEltYWdlRGF0YSB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZCxcbiAgICApIHtcbiAgICAgICAgcmV0dXJuIG5ldyBSZW5kZXJhYmxlKHZlcnRDb3VudCwgbm9ybUNvdW50LCB1dkNvdW50LCBmYWNlQ291bnQsIHRleHR1cmUpO1xuICAgIH1cblxuICAgIHN0YXRpYyBmcm9tTWVzaChtZXNoOiBNZXNoKTogUmVuZGVyYWJsZSB7XG4gICAgICAgIGxldCByID0gbmV3IFJlbmRlcmFibGUobWVzaC52ZXJ0cy5jb3VudCgpLCAwLCAwLCBtZXNoLmxpbmtzLmNvdW50KCkpO1xuICAgICAgICByLm1lc2gudmVydHMuZGF0YSA9IG1lc2gudmVydHMuZGF0YTtcbiAgICAgICAgci5tZXNoLmxpbmtzLmRhdGEgPSBtZXNoLmxpbmtzLmRhdGE7XG4gICAgICAgIHJldHVybiByO1xuICAgIH1cblxuICAgIHN0YXRpYyBmcm9tRGF0YSh2ZXJ0czogbnVtYmVyW10sIG5vcm1zOiBudW1iZXJbXSwgdXZzOiBudW1iZXJbXSwgZmFjZXM6IG51bWJlcltdKTogUmVuZGVyYWJsZSB7XG4gICAgICAgIC8vIE5PVEUgOiB0aGlzIHR5cGUgb2YgcGFyc2luZyBtYWtlcyBteSBsaWZlIGVhc3ksIGJ1dCBpcyBkYW5nZXJvdXMuIFRoaXMgaXMgd2h5IGkgY3JlYXRlZCB0aGVcbiAgICAgICAgLy8gQXJyYXkgY2xhc3MuXG4gICAgICAgIGxldCByID0gbmV3IFJlbmRlcmFibGUodmVydHMubGVuZ3RoIC8gMywgbm9ybXMubGVuZ3RoIC8gMywgdXZzLmxlbmd0aCAvIDIsIGZhY2VzLmxlbmd0aCAvIDMpO1xuICAgICAgICByLm1lc2gudmVydHMuZmlsbFdpdGgodmVydHMpO1xuICAgICAgICByLm1lc2gubGlua3MhLmZpbGxXaXRoKGZhY2VzKTtcbiAgICAgICAgci5ub3JtcyEuZmlsbFdpdGgobm9ybXMpO1xuICAgICAgICByLnV2cyEuZmlsbFdpdGgodXZzKTtcblxuICAgICAgICByZXR1cm4gcjtcbiAgICB9XG5cbiAgICBzdGF0aWMgZnJvbUdyYXBoKGdyYXBoOiBHcmFwaCkge1xuICAgICAgICBsZXQgbWVzaCA9IGdyYXBoLnRvTWVzaCgpO1xuICAgICAgICBsZXQgciA9IFJlbmRlcmFibGUuZnJvbU1lc2gobWVzaCk7XG4gICAgICAgIHIubm9ybXMgPSBWZWN0b3IzQXJyYXkuZnJvbUxpc3QoZ3JhcGguYWxsTm9ybXMoKSk7XG4gICAgICAgIHIuX25vcm1LaW5kID0gTm9ybWFsS2luZC5WZXJ0ZXg7IC8vIGZpeCB0aGlzISFcbiAgICAgICAgcmV0dXJuIHI7XG4gICAgfVxuXG4gICAgLy8gZ2VvbWV0cnkgdHJhaXRcblxuICAgIHRyYW5zZm9ybShtYXRyaXg6IE1hdHJpeDQpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLm1lc2gudmVydHMuY291bnQoKTsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgdiA9IHRoaXMubWVzaC52ZXJ0cy5nZXRWZWN0b3IoaSk7XG4gICAgICAgICAgICBsZXQgbiA9IHRoaXMubm9ybXMuZ2V0VmVjdG9yKGkpO1xuICAgICAgICAgICAgdGhpcy5tZXNoLnZlcnRzLnNldFZlY3RvcihpLCBtYXRyaXgubXVsdGlwbHlWZWN0b3IodikpO1xuICAgICAgICAgICAgdGhpcy5ub3Jtcy5zZXRWZWN0b3IoaSwgbWF0cml4Lm11bHRpcGx5VmVjdG9yKG4pKTsgLy8gVE9ETywgRVhUUkFDVCBPTkxZIFJPVEFUSU9OIFBBUlQgRlJPTSBUSEUgTUFUUklYXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBnZXR0ZXJzICYgc2VsZWN0b3JzXG5cbiAgICAvLyBWRVJZIFBPT1JMWSBPUFRJTUlaRURcbiAgICBnZXRBZGphY2VudEZhY2VzKHY6IHZlcnRleElEKTogZmFjZUlEW10ge1xuICAgICAgICBsZXQgZmFjZXM6IGZhY2VJRFtdID0gW107XG4gICAgICAgIGxldCBjb3VudCA9IHRoaXMubWVzaC5saW5rcy5jb3VudCgpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvdW50OyBpKyspIHtcbiAgICAgICAgICAgIGlmICh0aGlzLm1lc2gubGlua3MuZ2V0Um93KGkpLmluY2x1ZGVzKHYpKSB7XG4gICAgICAgICAgICAgICAgZmFjZXMucHVzaChpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFjZXM7XG4gICAgfVxuXG4gICAgZ2V0RmFjZVZlcnRpY2VzKGY6IGZhY2VJRCk6IFZlY3RvcjNBcnJheSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1lc2guZ2V0TGlua1ZlcnRzKGYpO1xuICAgIH1cblxuICAgIGdldFR5cGUoKTogTWVzaFR5cGUge1xuICAgICAgICByZXR1cm4gdGhpcy5tZXNoLmdldFR5cGUoKTtcbiAgICB9XG5cbiAgICBnZXROb3JtYWxUeXBlKCk6IE5vcm1hbEtpbmQge1xuICAgICAgICByZXR1cm4gdGhpcy5fbm9ybUtpbmQ7XG4gICAgfVxuXG4gICAgLy8gc2V0dGVyc1xuXG4gICAgc2V0VGV4dHVyZSh0ZXh0dXJlOiBJbWFnZURhdGEpIHtcbiAgICAgICAgdGhpcy50ZXh0dXJlID0gdGV4dHVyZTtcbiAgICAgICAgLy8gcmVjYWxjdWxhdGUgdGhpbmdzIGlmIG5lZWRlZFxuICAgIH1cblxuICAgIHNldFV2cyh1dnM6IFZlY3RvcjJBcnJheSB8IEZsb2F0MzJBcnJheSkge1xuICAgICAgICBpZiAodXZzIGluc3RhbmNlb2YgRmxvYXQzMkFycmF5KSB7XG4gICAgICAgICAgICB0aGlzLnV2cyEuZGF0YSA9IHV2cztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMudXZzID0gdXZzO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gcmVjYWxjdWxhdGUgaWYgbmVlZGVkXG4gICAgfVxuXG4gICAgLy8gY29udmVydFxuICAgIGV4cG9ydFRvT2JqKHBhdGg6IHN0cmluZykge1xuICAgICAgICB0aHJvdyBcInRvZG9cIjtcbiAgICB9XG5cbiAgICAvLyAtLS0tLS0gbm9ybWFscyAtLS0tLS1cblxuICAgIC8vIHNldCAxIG5vcm1hbCBwZXIgZmFjZVxuICAgIGNhbGN1bGF0ZUZhY2VOb3JtYWxzKCkge1xuICAgICAgICBpZiAodGhpcy5nZXRUeXBlKCkgIT0gTWVzaFR5cGUuVHJpYW5nbGVzKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiY2FuIG9ubHkgY2FsY3VsYXRlIG5vcm1hbHMgZnJvbSB0cmlhbmd1bGFyIG1lc2hlc1wiKTtcbiAgICAgICAgICAgIHRoaXMubm9ybXMgPSBuZXcgVmVjdG9yM0FycmF5KDApO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGxldCBub3JtcyA9IHRoaXMubWVzaC5jYWxjdWxhdGVGYWNlTm9ybWFscygpO1xuICAgICAgICB0aGlzLm5vcm1zID0gVmVjdG9yM0FycmF5LmZyb21MaXN0KG5vcm1zKTtcbiAgICAgICAgdGhpcy5fbm9ybUtpbmQgPSBOb3JtYWxLaW5kLkZhY2U7XG4gICAgfVxuXG4gICAgY2FsY3VsYXRlVmVydGV4Tm9ybWFscygpIHtcbiAgICAgICAgbGV0IG5vcm1zID0gdGhpcy5tZXNoLmNhbGN1bGF0ZVZlcnRleE5vcm1hbHMoKTtcbiAgICAgICAgdGhpcy5ub3JtcyA9IFZlY3RvcjNBcnJheS5mcm9tTGlzdChub3Jtcyk7XG4gICAgICAgIHRoaXMuX25vcm1LaW5kID0gTm9ybWFsS2luZC5WZXJ0ZXg7XG4gICAgfVxuXG4gICAgY2FsY3VsYXRlTXVsdGlWZXJ0ZXhOb3JtYWxzKCkge1xuICAgICAgICAvLyBzZXQgdHlwZVxuICAgICAgICB0aGlzLl9ub3JtS2luZCA9IE5vcm1hbEtpbmQuTXVsdGlWZXJ0ZXg7XG5cbiAgICAgICAgLy8gY2FsY3VsYXRlXG4gICAgICAgIHRoaXMuY2FsY3VsYXRlRmFjZU5vcm1hbHMoKTtcbiAgICAgICAgbGV0IHZlcnROb3JtYWxzID0gbmV3IFZlY3RvcjNBcnJheSh0aGlzLm1lc2gudmVydHMuY291bnQoKSk7XG4gICAgICAgIHRoaXMubWVzaC52ZXJ0cy5mb3JFYWNoKCh2LCBpKSA9PiB7XG4gICAgICAgICAgICBsZXQgYWRqRmFjZXMgPSB0aGlzLmdldEFkamFjZW50RmFjZXMoaSk7XG4gICAgICAgICAgICB2ZXJ0Tm9ybWFscy5zZXRWZWN0b3IoaSwgdGhpcy5ub3Jtcy50YWtlKGFkakZhY2VzKS5hdmVyYWdlKCkpO1xuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLm5vcm1zID0gdmVydE5vcm1hbHM7XG4gICAgfVxufVxuXG4vLyA9PT09PT09PT09PT09PT09IE9iaiA9PT09PT09PT09PT09PT09PT09XG5cbmV4cG9ydCBmdW5jdGlvbiBtZXNoRnJvbU9iaih0ZXh0OiBzdHJpbmcpOiBSZW5kZXJhYmxlIHtcbiAgICAvLyBUaGlzIGlzIG5vdCBhIGZ1bGwgLm9iaiBwYXJzZXIuXG4gICAgLy8gc2VlIGh0dHA6Ly9wYXVsYm91cmtlLm5ldC9kYXRhZm9ybWF0cy9vYmovXG4gICAgLy8gSU5ERVhFUyBPUklHSU5BTExZIFJFRkVSIFRPIExJTkVTLCBzbyAtMSBpcyBuZWVkZWRcblxuICAgIC8vIHJ1biB0aHJvdWdoIGFsbCBsaW5lcywgYW5kIHRlbXBvcmFyZWx5IHN0b3JlXG4gICAgLy8gYWxsIGRhdGEgaW4gcmF3IG51bWJlciBsaXN0cywgc2luY2Ugd2UgZG9udCBrbm93IGhvd1xuICAgIC8vIG1hbnkgdmVydGljZXMgb3IgZmFjZXMgd2VsbCBnZXQuXG4gICAgbGV0IHZlcnRzOiBudW1iZXJbXSA9IFtdOyAvLyAzIGxvbmcgZmxvYXRcbiAgICBsZXQgbm9ybXM6IG51bWJlcltdID0gW107IC8vIDMgbG9uZyBmbG9hdFxuICAgIGxldCB1dnM6IG51bWJlcltdID0gW107IC8vIDIgbG9uZyBmbG9hdFxuICAgIGxldCBmYWNlczogbnVtYmVyW10gPSBbXTsgLy8gOSBsb25nIGludHMsIHUxNidzIHNob3VsZCBzdWZmaWNlLlxuXG4gICAgLy8gbm90ZSA6IHRoaXMgaXMgdmVyeSBpbmVmZmljaWVudCwgYnV0IGl0J2xsIGhhdmUgdG8gZG8gZm9yIG5vdy4uLlxuICAgIGNvbnN0IGtleXdvcmRSRSA9IC8oXFx3KikoPzogKSooLiopLztcbiAgICBjb25zdCBsaW5lcyA9IHRleHQuc3BsaXQoXCJcXG5cIik7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxpbmVzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIGNvbnN0IGxpbmUgPSBsaW5lc1tpXS50cmltKCk7XG5cbiAgICAgICAgLy8gZmlsdGVyIG91dCBjb21tZW50c1xuICAgICAgICBpZiAobGluZSA9PT0gXCJcIiB8fCBsaW5lLnN0YXJ0c1dpdGgoXCIjXCIpKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBtID0ga2V5d29yZFJFLmV4ZWMobGluZSk7XG4gICAgICAgIGlmICghbSkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgWywga2V5d29yZCwgdW5wYXJzZWRBcmdzXSA9IG07XG4gICAgICAgIGNvbnN0IHBhcnRzID0gbGluZS5zcGxpdCgvXFxzKy8pLnNsaWNlKDEpO1xuXG4gICAgICAgIHN3aXRjaCAoa2V5d29yZCkge1xuICAgICAgICAgICAgY2FzZSBcInZcIjpcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHBhcnQgb2YgcGFydHMpIHtcbiAgICAgICAgICAgICAgICAgICAgdmVydHMucHVzaChwYXJzZUZsb2F0KHBhcnQpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwidm5cIjpcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHBhcnQgb2YgcGFydHMpIHtcbiAgICAgICAgICAgICAgICAgICAgbm9ybXMucHVzaChwYXJzZUZsb2F0KHBhcnQpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwidnRcIjpcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHBhcnQgb2YgcGFydHMpIHtcbiAgICAgICAgICAgICAgICAgICAgdXZzLnB1c2gocGFyc2VGbG9hdChwYXJ0KSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcImZcIjpcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHZhbHVlIG9mIFByb2Nlc3NPYmpGYWNlKHBhcnRzKSkge1xuICAgICAgICAgICAgICAgICAgICBmYWNlcy5wdXNoKHZhbHVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihcInVuaGFuZGxlZCBrZXl3b3JkOlwiLCBrZXl3b3JkKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1jb25zb2xlXG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gY29uc29sZS5sb2coXCJudW1iZXIgb2YgdmVydGljZXM6IFwiICsgdmVydHMubGVuZ3RoIC8gMyk7XG4gICAgLy8gY29uc29sZS5sb2coXCJudW1iZXIgb2YgZmFjZXM6IFwiICsgZmFjZXMubGVuZ3RoIC8gMyk7XG4gICAgLy8gY29uc29sZS5sb2coXCJudW1iZXIgb2YgdXZzOiBcIiArIHV2cy5sZW5ndGggLyAyKTtcbiAgICAvLyBjb25zb2xlLmxvZyhcIm51bWJlciBvZiBub3JtczogXCIgKyBub3Jtcy5sZW5ndGggLyAzKTtcblxuICAgIGxldCBtZXNoID0gUmVuZGVyYWJsZS5mcm9tRGF0YSh2ZXJ0cywgbm9ybXMsIHV2cywgZmFjZXMpO1xuXG4gICAgcmV0dXJuIG1lc2g7XG59XG5cbi8vIE5PVEU6IGZvciBub3csIHV2IGFuZCBub3JtYWxzIGFyZSBjb21wbGV0ZWx5IGlnbm9yZWQhISFcbi8vIHdlIGFzc3VtZSB0aGUgaW5kaWNlcyBhcmUgdGhlIHNhbWUgYWxzIHRoZSB2ZXJ0aWNlcyEhIVxuLy8gdmVyYm9zZSB3YXkgb2YgcHJvY2Vzc2luZyBvbmUgc2luZ2xlIHZlcnRleC9ub3JtYWwvdXYgY29tYmluYXRpb24gaW4gYSBmYWNlLlxuZnVuY3Rpb24gUHJvY2Vzc09iakZhY2VWZXJ0ZXgocGFydDogc3RyaW5nKTogbnVtYmVyW10ge1xuICAgIC8vIG1ha2Ugc3VyZSBkYXRhIGFsd2F5cyBoYXMgbGVuZ3RoOiAzXG4gICAgbGV0IGRhdGE6IG51bWJlcltdID0gW107XG5cbiAgICAvLyBjdXQgc3RyaW5nIGFwYXJ0IGFuZCBwcm9jZXNzIGl0XG4gICAgbGV0IHN1YnBhcnRzID0gcGFydC5zcGxpdChcIi9cIik7XG4gICAgaWYgKHN1YnBhcnRzLmxlbmd0aCA9PSAxKSB7XG4gICAgICAgIGRhdGEucHVzaChwYXJzZUludChzdWJwYXJ0c1swXSkgLSAxKTtcbiAgICAgICAgLy8gZGF0YS5wdXNoKDApO1xuICAgICAgICAvLyBkYXRhLnB1c2goMCk7XG4gICAgfSBlbHNlIGlmIChzdWJwYXJ0cy5sZW5ndGggPT0gMykge1xuICAgICAgICBkYXRhLnB1c2gocGFyc2VJbnQoc3VicGFydHNbMF0pIC0gMSk7XG4gICAgICAgIC8vIGRhdGEucHVzaChwYXJzZUludChzdWJwYXJ0c1sxXSktMSk7XG4gICAgICAgIC8vIGRhdGEucHVzaChwYXJzZUludChzdWJwYXJ0c1syXSktMSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgXCJpbnZhbGlkIGZhY2UgZm91bmQgd2hlbiBwcm9jZXNzaW5nXCI7XG4gICAgfVxuICAgIHJldHVybiBkYXRhO1xufVxuXG4vLyBwcm9jZXNzIGEgZmFjZSBlbnRyeSBpbiBhbiBvYmogZmlsZVxuZnVuY3Rpb24gUHJvY2Vzc09iakZhY2UocGFydHM6IHN0cmluZ1tdKTogbnVtYmVyW10ge1xuICAgIGxldCBkYXRhOiBudW1iZXJbXSA9IFtdO1xuXG4gICAgaWYgKHBhcnRzLmxlbmd0aCA9PSA0KSB7XG4gICAgICAgIC8vIGkgZG9udCB3YW50IHRvIGRlYWwgd2l0aCBxdWFkcyBmb3Igbm93LCBjcmVhdGUgMiBmYWNlcyBmcm9tIGEgcXVhZFxuICAgICAgICBsZXQgYSA9IFByb2Nlc3NPYmpGYWNlVmVydGV4KHBhcnRzWzBdKTtcbiAgICAgICAgbGV0IGIgPSBQcm9jZXNzT2JqRmFjZVZlcnRleChwYXJ0c1sxXSk7XG4gICAgICAgIGxldCBjID0gUHJvY2Vzc09iakZhY2VWZXJ0ZXgocGFydHNbMl0pO1xuICAgICAgICBsZXQgZCA9IFByb2Nlc3NPYmpGYWNlVmVydGV4KHBhcnRzWzNdKTtcblxuICAgICAgICBkYXRhLnB1c2goLi4uYSwgLi4uYiwgLi4uYywgLi4uYSwgLi4uYywgLi4uZCk7XG4gICAgfSBlbHNlIGlmIChwYXJ0cy5sZW5ndGggPT0gMykge1xuICAgICAgICAvLyBhcyBub3JtYWxcbiAgICAgICAgbGV0IGEgPSBQcm9jZXNzT2JqRmFjZVZlcnRleChwYXJ0c1swXSk7XG4gICAgICAgIGxldCBiID0gUHJvY2Vzc09iakZhY2VWZXJ0ZXgocGFydHNbMV0pO1xuICAgICAgICBsZXQgYyA9IFByb2Nlc3NPYmpGYWNlVmVydGV4KHBhcnRzWzJdKTtcbiAgICAgICAgZGF0YS5wdXNoKC4uLmEsIC4uLmIsIC4uLmMpO1xuICAgIH1cblxuICAgIC8vIGRhdGEgYWx3YXlzIGhhcyBsZW5ndGggOSBvciAxOFxuICAgIHJldHVybiBkYXRhO1xufVxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/mesh/render-mesh.ts\n");

/***/ }),

/***/ "./src/mesh/topo-mesh.ts":
/*!*******************************!*\
  !*** ./src/mesh/topo-mesh.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"TopoMesh\": () => /* binding */ TopoMesh\n/* harmony export */ });\n/* harmony import */ var _data_hash_table__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../data/hash-table */ \"./src/data/hash-table.ts\");\n/* harmony import */ var _data_int_matrix__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../data/int-matrix */ \"./src/data/int-matrix.ts\");\n/* harmony import */ var _data_vector_array__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../data/vector-array */ \"./src/data/vector-array.ts\");\n/* harmony import */ var _math_vector__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../math/vector */ \"./src/math/vector.ts\");\n/* harmony import */ var _render_mesh__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./render-mesh */ \"./src/mesh/render-mesh.ts\");\n/* harmony import */ var _geo_triangle__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../geo/triangle */ \"./src/geo/triangle.ts\");\n\r\n\r\n\r\n\r\n\r\n\r\n// a mesh with topological information\r\nclass TopoMesh extends _render_mesh__WEBPACK_IMPORTED_MODULE_4__.Renderable {\r\n    // private -> should only be used with factory methods\r\n    constructor(vertCount, normCount, uvCount, faceCount, texture = undefined) {\r\n        super(vertCount, normCount, uvCount, faceCount, texture);\r\n        this.lastTouched = 0; // needed for triangle walk\r\n        this.neighborMap = new _data_int_matrix__WEBPACK_IMPORTED_MODULE_1__.IntMatrix(this.mesh.links.count(), 3);\r\n    }\r\n    static copyFromRenderable(rend) {\r\n        let topoMesh = new TopoMesh(rend.mesh.verts.count(), rend.norms.count(), rend.uvs.count(), rend.mesh.links.count());\r\n        topoMesh.mesh.verts = rend.mesh.verts.clone();\r\n        topoMesh.norms = rend.norms.clone();\r\n        topoMesh.uvs = rend.uvs.clone();\r\n        topoMesh.mesh.links = rend.mesh.links.clone();\r\n        topoMesh.setNeighborMap();\r\n        return topoMesh;\r\n    }\r\n    setNeighborMap() {\r\n        // this method fills this.neighborMap after data is loaded\r\n        //\r\n        let edges = new _data_hash_table__WEBPACK_IMPORTED_MODULE_0__.HashTable();\r\n        let pairs = new _data_hash_table__WEBPACK_IMPORTED_MODULE_0__.HashTable();\r\n        // 1 | per triangle\r\n        this.mesh.links.forEachRow((f, faceIndex) => {\r\n            let faceEdges = [\r\n                [f[0], f[1]],\r\n                [f[1], f[2]],\r\n                [f[2], f[0]],\r\n            ];\r\n            faceEdges.forEach((e) => {\r\n                // if (4, 1), orientation is True | if (1, 4), orientation is False\r\n                let orientation = e[0] > e[1];\r\n                // use this min max construction to only store one edge per triangle pair\r\n                // let edge: [number, number] = e.sort();\r\n                let edge = new Int32Array([Math.min(...e), Math.max(...e)]);\r\n                // console.log(edge);\r\n                if (!edges.has(edge)) {\r\n                    // orientation, first tr ID, second tr ID\r\n                    edges.set(edge, [orientation, faceIndex, -1]);\r\n                }\r\n                else {\r\n                    // an edge match is made!\r\n                    // console.log(\"matched!\");\r\n                    let other = edges.get(edge);\r\n                    let nbOrientation = other[0];\r\n                    let nbIndex = other[1];\r\n                    other[2] = faceIndex;\r\n                    edges.set(edge, other); // edge is put away again, if an edge map is ever needed.\r\n                    // assign neighbours\r\n                    this.setNb(faceIndex, edge, nbIndex);\r\n                    this.setNb(nbIndex, edge, faceIndex);\r\n                    // use this info to fill self.pairs\r\n                    // if orientation != other orientation, edge is 'good' -> False\r\n                    // else -> True, one of the neighbour triangles needs to be flipped\r\n                    let pair = [nbIndex, faceIndex];\r\n                    pair.sort();\r\n                    // pair = (Math.min(...pair), Math.max(...pair))\r\n                    if (orientation != nbOrientation)\r\n                        pairs.set(pair, false);\r\n                    else\r\n                        pairs.set(pair, true);\r\n                }\r\n            });\r\n        });\r\n        // Done. Give feedback\r\n        let count = 0;\r\n        // for pair in pairs.items():\r\n        //     if not pair: count +=1;\r\n        console.log(\"number of 'wrong' face neighbours: \", count);\r\n        return;\r\n    }\r\n    /**\r\n     * Get the triangle based on a UV point somewhere on the mesh.\r\n     * Returns -1 if the point is not on the mesh TODO OR IF THE PATH HAS HOLES IN IT TODO FIX THIS!\r\n     * @param  {Vector2} point\r\n     * @returns triangleIndex, or -1 if failure\r\n     */\r\n    walkUV(point) {\r\n        // start where we last stopped\r\n        let faceIndex = this.lastTouched;\r\n        // make sure we never take more steps than triangles in the triangulation.\r\n        // this would mean something went wrong\r\n        let count = this.mesh.links.count();\r\n        for (let _ = 0; _ < count; _++) {\r\n            // i dont know how, but if we accidentally landed outside of the mesh\r\n            if (faceIndex == -1) {\r\n                return -1;\r\n            }\r\n            for (let i = 0; i < 3; i++) {\r\n                let j = (i + 1) % 3;\r\n                let face = this.mesh.links.getRow(faceIndex);\r\n                let edge = [face[i], face[j]];\r\n                let b = this.uvs.getVector(edge[0]);\r\n                let c = this.uvs.getVector(edge[1]);\r\n                let sign = point.sign(b, c);\r\n                if (sign < 0) {\r\n                    faceIndex = this.getNb(faceIndex, edge);\r\n                    // if its ouside, return -1\r\n                    if (faceIndex == -1)\r\n                        return -1;\r\n                    // else: go there immidiately\r\n                    this.lastTouched = faceIndex;\r\n                    break;\r\n                }\r\n                // if this ran 3 times, the point must be within the triangle\r\n                if (i == 2)\r\n                    return faceIndex;\r\n            }\r\n        }\r\n        // something went wrong\r\n        return -1;\r\n    }\r\n    // find the faces closest to the point\r\n    // -1 if the mesh does not contain triangles\r\n    closestFaces(point) {\r\n        let closestVertexId = this.mesh.verts.closestId(point);\r\n        // get all face ids containing closestVertex, along with their centers\r\n        let closestFaces = [];\r\n        //let centers: Vector3[] = []\r\n        this.mesh.links.forEachRow((tr, i) => {\r\n            if (tr.includes(closestVertexId)) {\r\n                closestFaces.push(i);\r\n                //let center = Vector3Array.fromList(this.getFacePoints(i, false)).average();\r\n                //centers.push(center);\r\n            }\r\n        });\r\n        // select the triangle with the closest baricenter\r\n        return closestFaces;\r\n    }\r\n    elevate(p) {\r\n        // 'elevate' a point in UV space to vertex space using a barycentric remap\r\n        // figure out where this point is located on the mesh\r\n        let face = this.walkUV(p);\r\n        if (face == -1) {\r\n            console.warn(\"got a point not on triangle...\");\r\n            return new _math_vector__WEBPACK_IMPORTED_MODULE_3__.Vector3(0, 0, 0);\r\n        }\r\n        let tr3 = this.getTriangle3(face);\r\n        let tr2 = this.getTriangle2(face);\r\n        let bari = tr2.toBarycentric(p);\r\n        return tr3.fromBarycentric(bari);\r\n    }\r\n    closestFace(p) {\r\n        // NOTE this doesnt really work all that well...\r\n        let faceIds = this.closestFaces(p);\r\n        let closestPoints = new _data_vector_array__WEBPACK_IMPORTED_MODULE_2__.Vector3Array(faceIds.length);\r\n        faceIds.forEach((id, i) => {\r\n            let tr = this.getTriangle3(id);\r\n            let cp = tr.closestPoint(p);\r\n            closestPoints.setVector(i, cp);\r\n        });\r\n        // find the closest closest point\r\n        let id = closestPoints.closestId(p);\r\n        return faceIds[id];\r\n    }\r\n    // 'flatten' a point in vertex space to uv space using a barycentric remap\r\n    // NOTE : this is not exactly a 'project to closest triangle', something like that wouldnt always work\r\n    flatten(p, face) {\r\n        let tr3 = this.getTriangle3(face);\r\n        let tr2 = this.getTriangle2(face);\r\n        let bari = tr3.toBarycentric(p);\r\n        return tr2.fromBarycentric(bari);\r\n    }\r\n    // combo\r\n    flattenClosestPoint(p) {\r\n        let face = this.closestFace(p);\r\n        return this.flatten(p, face);\r\n    }\r\n    closestPoint(p) {\r\n        let face = this.closestFace(p);\r\n        let triangle = this.getTriangle3(face);\r\n        let bari = triangle.toBarycentric(p);\r\n        return triangle.fromBarycentric(bari);\r\n    }\r\n    getTriangle2(id) {\r\n        let p = this.getFacePoints(id, true);\r\n        return new _geo_triangle__WEBPACK_IMPORTED_MODULE_5__.Triangle2(p[0], p[1], p[2]);\r\n    }\r\n    getTriangle3(id) {\r\n        let p = this.getFacePoints(id, false);\r\n        return new _geo_triangle__WEBPACK_IMPORTED_MODULE_5__.Triangle3(p[0], p[1], p[2]);\r\n    }\r\n    setNb(faceIndex, commonEdge, nbIndex) {\r\n        for (let j = 0; j < 3; j++) {\r\n            if (!commonEdge.includes(this.mesh.links.get(faceIndex, j))) {\r\n                this.neighborMap.set(faceIndex, j, nbIndex);\r\n                return;\r\n            }\r\n        }\r\n        console.log(this.mesh.links.getRow(faceIndex));\r\n        console.log(commonEdge);\r\n        throw \"these are not actually neighbors!\";\r\n    }\r\n    getNb(faceIndex, commonEdge) {\r\n        for (let j = 0; j < 3; j++) {\r\n            if (!commonEdge.includes(this.mesh.links.get(faceIndex, j))) {\r\n                return this.neighborMap.get(faceIndex, j);\r\n            }\r\n        }\r\n        console.log(this.mesh.links.getRow(faceIndex));\r\n        console.log(commonEdge);\r\n        throw \"common edge does not match triangle index!\";\r\n    }\r\n    getFacePoints(tr, uv) {\r\n        let pointIds = this.mesh.links.getRow(tr);\r\n        if (uv) {\r\n            return [this.uvs.getVector(pointIds[0]), this.uvs.getVector(pointIds[1]), this.uvs.getVector(pointIds[2])];\r\n        }\r\n        else {\r\n            return [\r\n                this.mesh.verts.getVector(pointIds[0]),\r\n                this.mesh.verts.getVector(pointIds[1]),\r\n                this.mesh.verts.getVector(pointIds[2]),\r\n            ];\r\n        }\r\n    }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9nZW9uLWVuZ2luZS8uL3NyYy9tZXNoL3RvcG8tbWVzaC50cz8xOGI1Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBK0M7QUFDQTtBQUNLO0FBQ0Y7QUFDUDtBQUNZO0FBRXZELHNDQUFzQztBQUMvQixNQUFNLFFBQVMsU0FBUSxvREFBVTtJQUlwQyxzREFBc0Q7SUFDdEQsWUFDSSxTQUFpQixFQUNqQixTQUFpQixFQUNqQixPQUFlLEVBQ2YsU0FBaUIsRUFDakIsVUFBaUMsU0FBUztRQUUxQyxLQUFLLENBQUMsU0FBUyxFQUFFLFNBQVMsRUFBRSxPQUFPLEVBQUUsU0FBUyxFQUFFLE9BQU8sQ0FBQyxDQUFDO1FBWDdELGdCQUFXLEdBQUcsQ0FBQyxDQUFDLENBQUMsMkJBQTJCO1FBWXhDLElBQUksQ0FBQyxXQUFXLEdBQUcsSUFBSSx1REFBUyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQ2pFLENBQUM7SUFFRCxNQUFNLENBQUMsa0JBQWtCLENBQUMsSUFBZ0I7UUFDdEMsSUFBSSxRQUFRLEdBQUcsSUFBSSxRQUFRLENBQ3ZCLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssRUFBRSxFQUN2QixJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssRUFBRSxFQUNsQixJQUFJLENBQUMsR0FBRyxDQUFDLEtBQUssRUFBRSxFQUNoQixJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLEVBQUUsQ0FDMUIsQ0FBQztRQUNGLFFBQVEsQ0FBQyxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssRUFBRSxDQUFDO1FBQzlDLFFBQVEsQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLEVBQUUsQ0FBQztRQUNwQyxRQUFRLENBQUMsR0FBRyxHQUFHLElBQUksQ0FB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c2gudHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBIYXNoVGFibGUgfSBmcm9tIFwiLi4vZGF0YS9oYXNoLXRhYmxlXCI7XG5pbXBvcnQgeyBJbnRNYXRyaXggfSBmcm9tIFwiLi4vZGF0YS9pbnQtbWF0cml4XCI7XG5pbXBvcnQgeyBWZWN0b3IzQXJyYXkgfSBmcm9tIFwiLi4vZGF0YS92ZWN0b3ItYXJyYXlcIjtcbmltcG9ydCB7IFZlY3RvcjIsIFZlY3RvcjMgfSBmcm9tIFwiLi4vbWF0aC92ZWN0b3JcIjtcbmltcG9ydCB7IFJlbmRlcmFibGUgfSBmcm9tIFwiLi9yZW5kZXItbWVzaFwiO1xuaW1wb3J0IHsgVHJpYW5nbGUyLCBUcmlhbmdsZTMgfSBmcm9tIFwiLi4vZ2VvL3RyaWFuZ2xlXCI7XG5cbi8vIGEgbWVzaCB3aXRoIHRvcG9sb2dpY2FsIGluZm9ybWF0aW9uXG5leHBvcnQgY2xhc3MgVG9wb01lc2ggZXh0ZW5kcyBSZW5kZXJhYmxlIHtcbiAgICBsYXN0VG91Y2hlZCA9IDA7IC8vIG5lZWRlZCBmb3IgdHJpYW5nbGUgd2Fsa1xuICAgIG5laWdoYm9yTWFwOiBJbnRNYXRyaXg7XG5cbiAgICAvLyBwcml2YXRlIC0+IHNob3VsZCBvbmx5IGJlIHVzZWQgd2l0aCBmYWN0b3J5IG1ldGhvZHNcbiAgICBwcml2YXRlIGNvbnN0cnVjdG9yKFxuICAgICAgICB2ZXJ0Q291bnQ6IG51bWJlcixcbiAgICAgICAgbm9ybUNvdW50OiBudW1iZXIsXG4gICAgICAgIHV2Q291bnQ6IG51bWJlcixcbiAgICAgICAgZmFjZUNvdW50OiBudW1iZXIsXG4gICAgICAgIHRleHR1cmU6IEltYWdlRGF0YSB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZCxcbiAgICApIHtcbiAgICAgICAgc3VwZXIodmVydENvdW50LCBub3JtQ291bnQsIHV2Q291bnQsIGZhY2VDb3VudCwgdGV4dHVyZSk7XG4gICAgICAgIHRoaXMubmVpZ2hib3JNYXAgPSBuZXcgSW50TWF0cml4KHRoaXMubWVzaC5saW5rcy5jb3VudCgpLCAzKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgY29weUZyb21SZW5kZXJhYmxlKHJlbmQ6IFJlbmRlcmFibGUpOiBUb3BvTWVzaCB7XG4gICAgICAgIGxldCB0b3BvTWVzaCA9IG5ldyBUb3BvTWVzaChcbiAgICAgICAgICAgIHJlbmQubWVzaC52ZXJ0cy5jb3VudCgpLFxuICAgICAgICAgICAgcmVuZC5ub3Jtcy5jb3VudCgpLFxuICAgICAgICAgICAgcmVuZC51dnMuY291bnQoKSxcbiAgICAgICAgICAgIHJlbmQubWVzaC5saW5rcy5jb3VudCgpLFxuICAgICAgICApO1xuICAgICAgICB0b3BvTWVzaC5tZXNoLnZlcnRzID0gcmVuZC5tZXNoLnZlcnRzLmNsb25lKCk7XG4gICAgICAgIHRvcG9NZXNoLm5vcm1zID0gcmVuZC5ub3Jtcy5jbG9uZSgpO1xuICAgICAgICB0b3BvTWVzaC51dnMgPSByZW5kLnV2cy5jbG9uZSgpO1xuICAgICAgICB0b3BvTWVzaC5tZXNoLmxpbmtzID0gcmVuZC5tZXNoLmxpbmtzLmNsb25lKCk7XG4gICAgICAgIHRvcG9NZXNoLnNldE5laWdoYm9yTWFwKCk7XG4gICAgICAgIHJldHVybiB0b3BvTWVzaDtcbiAgICB9XG5cbiAgICBzZXROZWlnaGJvck1hcCgpIHtcbiAgICAgICAgLy8gdGhpcyBtZXRob2QgZmlsbHMgdGhpcy5uZWlnaGJvck1hcCBhZnRlciBkYXRhIGlzIGxvYWRlZFxuXG4gICAgICAgIC8vXG4gICAgICAgIGxldCBlZGdlcyA9IG5ldyBIYXNoVGFibGU8W2Jvb2xlYW4sIG51bWJlciwgbnVtYmVyXT4oKTtcbiAgICAgICAgbGV0IHBhaXJzID0gbmV3IEhhc2hUYWJsZTxhbnk+KCk7XG5cbiAgICAgICAgLy8gMSB8IHBlciB0cmlhbmdsZVxuICAgICAgICB0aGlzLm1lc2gubGlua3MuZm9yRWFjaFJvdygoZiwgZmFjZUluZGV4KSA9PiB7XG4gICAgICAgICAgICBsZXQgZmFjZUVkZ2VzID0gW1xuICAgICAgICAgICAgICAgIFtmWzBdLCBmWzFdXSxcbiAgICAgICAgICAgICAgICBbZlsxXSwgZlsyXV0sXG4gICAgICAgICAgICAgICAgW2ZbMl0sIGZbMF1dLFxuICAgICAgICAgICAgXTtcbiAgICAgICAgICAgIGZhY2VFZGdlcy5mb3JFYWNoKChlKSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gaWYgKDQsIDEpLCBvcmllbnRhdGlvbiBpcyBUcnVlIHwgaWYgKDEsIDQpLCBvcmllbnRhdGlvbiBpcyBGYWxzZVxuICAgICAgICAgICAgICAgIGxldCBvcmllbnRhdGlvbiA9IGVbMF0gPiBlWzFdO1xuXG4gICAgICAgICAgICAgICAgLy8gdXNlIHRoaXMgbWluIG1heCBjb25zdHJ1Y3Rpb24gdG8gb25seSBzdG9yZSBvbmUgZWRnZSBwZXIgdHJpYW5nbGUgcGFpclxuICAgICAgICAgICAgICAgIC8vIGxldCBlZGdlOiBbbnVtYmVyLCBudW1iZXJdID0gZS5zb3J0KCk7XG4gICAgICAgICAgICAgICAgbGV0IGVkZ2UgPSBuZXcgSW50MzJBcnJheShbTWF0aC5taW4oLi4uZSksIE1hdGgubWF4KC4uLmUpXSk7XG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coZWRnZSk7XG5cbiAgICAgICAgICAgICAgICBpZiAoIWVkZ2VzLmhhcyhlZGdlKSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBvcmllbnRhdGlvbiwgZmlyc3QgdHIgSUQsIHNlY29uZCB0ciBJRFxuICAgICAgICAgICAgICAgICAgICBlZGdlcy5zZXQoZWRnZSwgW29yaWVudGF0aW9uLCBmYWNlSW5kZXgsIC0xXSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gYW4gZWRnZSBtYXRjaCBpcyBtYWRlIVxuICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcIm1hdGNoZWQhXCIpO1xuICAgICAgICAgICAgICAgICAgICBsZXQgb3RoZXIgPSBlZGdlcy5nZXQoZWRnZSkhO1xuICAgICAgICAgICAgICAgICAgICBsZXQgbmJPcmllbnRhdGlvbiA9IG90aGVyWzBdO1xuICAgICAgICAgICAgICAgICAgICBsZXQgbmJJbmRleCA9IG90aGVyWzFdO1xuICAgICAgICAgICAgICAgICAgICBvdGhlclsyXSA9IGZhY2VJbmRleDtcbiAgICAgICAgICAgICAgICAgICAgZWRnZXMuc2V0KGVkZ2UsIG90aGVyKTsgLy8gZWRnZSBpcyBwdXQgYXdheSBhZ2FpbiwgaWYgYW4gZWRnZSBtYXAgaXMgZXZlciBuZWVkZWQuXG5cbiAgICAgICAgICAgICAgICAgICAgLy8gYXNzaWduIG5laWdoYm91cnNcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXROYihmYWNlSW5kZXgsIGVkZ2UsIG5iSW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldE5iKG5iSW5kZXgsIGVkZ2UsIGZhY2VJbmRleCk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gdXNlIHRoaXMgaW5mbyB0byBmaWxsIHNlbGYucGFpcnNcbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgb3JpZW50YXRpb24gIT0gb3RoZXIgb3JpZW50YXRpb24sIGVkZ2UgaXMgJ2dvb2QnIC0+IEZhbHNlXG4gICAgICAgICAgICAgICAgICAgIC8vIGVsc2UgLT4gVHJ1ZSwgb25lIG9mIHRoZSBuZWlnaGJvdXIgdHJpYW5nbGVzIG5lZWRzIHRvIGJlIGZsaXBwZWRcbiAgICAgICAgICAgICAgICAgICAgbGV0IHBhaXIgPSBbbmJJbmRleCwgZmFjZUluZGV4XTtcbiAgICAgICAgICAgICAgICAgICAgcGFpci5zb3J0KCk7XG4gICAgICAgICAgICAgICAgICAgIC8vIHBhaXIgPSAoTWF0aC5taW4oLi4ucGFpciksIE1hdGgubWF4KC4uLnBhaXIpKVxuICAgICAgICAgICAgICAgICAgICBpZiAob3JpZW50YXRpb24gIT0gbmJPcmllbnRhdGlvbikgcGFpcnMuc2V0KHBhaXIsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBwYWlycy5zZXQocGFpciwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIERvbmUuIEdpdmUgZmVlZGJhY2tcbiAgICAgICAgbGV0IGNvdW50ID0gMDtcbiAgICAgICAgLy8gZm9yIHBhaXIgaW4gcGFpcnMuaXRlbXMoKTpcbiAgICAgICAgLy8gICAgIGlmIG5vdCBwYWlyOiBjb3VudCArPTE7XG4gICAgICAgIGNvbnNvbGUubG9nKFwibnVtYmVyIG9mICd3cm9uZycgZmFjZSBuZWlnaGJvdXJzOiBcIiwgY291bnQpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IHRoZSB0cmlhbmdsZSBiYXNlZCBvbiBhIFVWIHBvaW50IHNvbWV3aGVyZSBvbiB0aGUgbWVzaC5cbiAgICAgKiBSZXR1cm5zIC0xIGlmIHRoZSBwb2ludCBpcyBub3Qgb24gdGhlIG1lc2ggVE9ETyBPUiBJRiBUSEUgUEFUSCBIQVMgSE9MRVMgSU4gSVQgVE9ETyBGSVggVEhJUyFcbiAgICAgKiBAcGFyYW0gIHtWZWN0b3IyfSBwb2ludFxuICAgICAqIEByZXR1cm5zIHRyaWFuZ2xlSW5kZXgsIG9yIC0xIGlmIGZhaWx1cmVcbiAgICAgKi9cbiAgICB3YWxrVVYocG9pbnQ6IFZlY3RvcjIpOiBudW1iZXIge1xuICAgICAgICAvLyBzdGFydCB3aGVyZSB3ZSBsYXN0IHN0b3BwZWRcbiAgICAgICAgbGV0IGZhY2VJbmRleCA9IHRoaXMubGFzdFRvdWNoZWQ7XG5cbiAgICAgICAgLy8gbWFrZSBzdXJlIHdlIG5ldmVyIHRha2UgbW9yZSBzdGVwcyB0aGFuIHRyaWFuZ2xlcyBpbiB0aGUgdHJpYW5ndWxhdGlvbi5cbiAgICAgICAgLy8gdGhpcyB3b3VsZCBtZWFuIHNvbWV0aGluZyB3ZW50IHdyb25nXG5cbiAgICAgICAgbGV0IGNvdW50ID0gdGhpcy5tZXNoLmxpbmtzLmNvdW50KCk7XG4gICAgICAgIGZvciAobGV0IF8gPSAwOyBfIDwgY291bnQ7IF8rKykge1xuICAgICAgICAgICAgLy8gaSBkb250IGtub3cgaG93LCBidXQgaWYgd2UgYWNjaWRlbnRhbGx5IGxhbmRlZCBvdXRzaWRlIG9mIHRoZSBtZXNoXG4gICAgICAgICAgICBpZiAoZmFjZUluZGV4ID09IC0xKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDM7IGkrKykge1xuICAgICAgICAgICAgICAgIGxldCBqID0gKGkgKyAxKSAlIDM7XG5cbiAgICAgICAgICAgICAgICBsZXQgZmFjZSA9IHRoaXMubWVzaC5saW5rcy5nZXRSb3coZmFjZUluZGV4KTtcbiAgICAgICAgICAgICAgICBsZXQgZWRnZTogW251bWJlciwgbnVtYmVyXSA9IFtmYWNlW2ldLCBmYWNlW2pdXTtcblxuICAgICAgICAgICAgICAgIGxldCBiID0gdGhpcy51dnMuZ2V0VmVjdG9yKGVkZ2VbMF0pO1xuICAgICAgICAgICAgICAgIGxldCBjID0gdGhpcy51dnMuZ2V0VmVjdG9yKGVkZ2VbMV0pO1xuXG4gICAgICAgICAgICAgICAgbGV0IHNpZ24gPSBwb2ludC5zaWduKGIsIGMpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHNpZ24gPCAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGZhY2VJbmRleCA9IHRoaXMuZ2V0TmIoZmFjZUluZGV4LCBlZGdlKTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBpZiBpdHMgb3VzaWRlLCByZXR1cm4gLTFcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZhY2VJbmRleCA9PSAtMSkgcmV0dXJuIC0xO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIGVsc2U6IGdvIHRoZXJlIGltbWlkaWF0ZWx5XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubGFzdFRvdWNoZWQgPSBmYWNlSW5kZXg7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIGlmIHRoaXMgcmFuIDMgdGltZXMsIHRoZSBwb2ludCBtdXN0IGJlIHdpdGhpbiB0aGUgdHJpYW5nbGVcbiAgICAgICAgICAgICAgICBpZiAoaSA9PSAyKSByZXR1cm4gZmFjZUluZGV4O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gc29tZXRoaW5nIHdlbnQgd3JvbmdcbiAgICAgICAgcmV0dXJuIC0xO1xuICAgIH1cblxuICAgIC8vIGZpbmQgdGhlIGZhY2VzIGNsb3Nlc3QgdG8gdGhlIHBvaW50XG4gICAgLy8gLTEgaWYgdGhlIG1lc2ggZG9lcyBub3QgY29udGFpbiB0cmlhbmdsZXNcbiAgICBjbG9zZXN0RmFjZXMocG9pbnQ6IFZlY3RvcjMpOiBudW1iZXJbXSB7XG4gICAgICAgIGxldCBjbG9zZXN0VmVydGV4SWQgPSB0aGlzLm1lc2gudmVydHMuY2xvc2VzdElkKHBvaW50KTtcbiAgICAgICAgLy8gZ2V0IGFsbCBmYWNlIGlkcyBjb250YWluaW5nIGNsb3Nlc3RWZXJ0ZXgsIGFsb25nIHdpdGggdGhlaXIgY2VudGVyc1xuICAgICAgICBsZXQgY2xvc2VzdEZhY2VzOiBudW1iZXJbXSA9IFtdO1xuICAgICAgICAvL2xldCBjZW50ZXJzOiBWZWN0b3IzW10gPSBbXVxuICAgICAgICB0aGlzLm1lc2gubGlua3MuZm9yRWFjaFJvdygodHIsIGkpID0+IHtcbiAgICAgICAgICAgIGlmICh0ci5pbmNsdWRlcyhjbG9zZXN0VmVydGV4SWQpKSB7XG4gICAgICAgICAgICAgICAgY2xvc2VzdEZhY2VzLnB1c2goaSk7XG4gICAgICAgICAgICAgICAgLy9sZXQgY2VudGVyID0gVmVjdG9yM0FycmF5LmZyb21MaXN0KHRoaXMuZ2V0RmFjZVBvaW50cyhpLCBmYWxzZSkpLmF2ZXJhZ2UoKTtcbiAgICAgICAgICAgICAgICAvL2NlbnRlcnMucHVzaChjZW50ZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICAvLyBzZWxlY3QgdGhlIHRyaWFuZ2xlIHdpdGggdGhlIGNsb3Nlc3QgYmFyaWNlbnRlclxuICAgICAgICByZXR1cm4gY2xvc2VzdEZhY2VzO1xuICAgIH1cblxuICAgIGVsZXZhdGUocDogVmVjdG9yMik6IFZlY3RvcjMge1xuICAgICAgICAvLyAnZWxldmF0ZScgYSBwb2ludCBpbiBVViBzcGFjZSB0byB2ZXJ0ZXggc3BhY2UgdXNpbmcgYSBiYXJ5Y2VudHJpYyByZW1hcFxuICAgICAgICAvLyBmaWd1cmUgb3V0IHdoZXJlIHRoaXMgcG9pbnQgaXMgbG9jYXRlZCBvbiB0aGUgbWVzaFxuICAgICAgICBsZXQgZmFjZSA9IHRoaXMud2Fsa1VWKHApO1xuXG4gICAgICAgIGlmIChmYWNlID09IC0xKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oXCJnb3QgYSBwb2ludCBub3Qgb24gdHJpYW5nbGUuLi5cIik7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFZlY3RvcjMoMCwgMCwgMCk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgdHIzID0gdGhpcy5nZXRUcmlhbmdsZTMoZmFjZSk7XG4gICAgICAgIGxldCB0cjIgPSB0aGlzLmdldFRyaWFuZ2xlMihmYWNlKTtcblxuICAgICAgICBsZXQgYmFyaSA9IHRyMi50b0JhcnljZW50cmljKHApO1xuICAgICAgICByZXR1cm4gdHIzLmZyb21CYXJ5Y2VudHJpYyhiYXJpKTtcbiAgICB9XG5cbiAgICBjbG9zZXN0RmFjZShwOiBWZWN0b3IzKTogbnVtYmVyIHtcbiAgICAgICAgLy8gTk9URSB0aGlzIGRvZXNudCByZWFsbHkgd29yayBhbGwgdGhhdCB3ZWxsLi4uXG4gICAgICAgIGxldCBmYWNlSWRzID0gdGhpcy5jbG9zZXN0RmFjZXMocCk7XG4gICAgICAgIGxldCBjbG9zZXN0UG9pbnRzID0gbmV3IFZlY3RvcjNBcnJheShmYWNlSWRzLmxlbmd0aCk7XG4gICAgICAgIGZhY2VJZHMuZm9yRWFjaCgoaWQsIGkpID0+IHtcbiAgICAgICAgICAgIGxldCB0ciA9IHRoaXMuZ2V0VHJpYW5nbGUzKGlkKTtcbiAgICAgICAgICAgIGxldCBjcCA9IHRyLmNsb3Nlc3RQb2ludChwKTtcbiAgICAgICAgICAgIGNsb3Nlc3RQb2ludHMuc2V0VmVjdG9yKGksIGNwKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gZmluZCB0aGUgY2xvc2VzdCBjbG9zZXN0IHBvaW50XG4gICAgICAgIGxldCBpZCA9IGNsb3Nlc3RQb2ludHMuY2xvc2VzdElkKHApO1xuICAgICAgICByZXR1cm4gZmFjZUlkc1tpZF07XG4gICAgfVxuXG4gICAgLy8gJ2ZsYXR0ZW4nIGEgcG9pbnQgaW4gdmVydGV4IHNwYWNlIHRvIHV2IHNwYWNlIHVzaW5nIGEgYmFyeWNlbnRyaWMgcmVtYXBcbiAgICAvLyBOT1RFIDogdGhpcyBpcyBub3QgZXhhY3RseSBhICdwcm9qZWN0IHRvIGNsb3Nlc3QgdHJpYW5nbGUnLCBzb21ldGhpbmcgbGlrZSB0aGF0IHdvdWxkbnQgYWx3YXlzIHdvcmtcbiAgICBmbGF0dGVuKHA6IFZlY3RvcjMsIGZhY2U6IG51bWJlcik6IFZlY3RvcjIge1xuICAgICAgICBsZXQgdHIzID0gdGhpcy5nZXRUcmlhbmdsZTMoZmFjZSk7XG4gICAgICAgIGxldCB0cjIgPSB0aGlzLmdldFRyaWFuZ2xlMihmYWNlKTtcblxuICAgICAgICBsZXQgYmFyaSA9IHRyMy50b0JhcnljZW50cmljKHApO1xuICAgICAgICByZXR1cm4gdHIyLmZyb21CYXJ5Y2VudHJpYyhiYXJpKTtcbiAgICB9XG5cbiAgICAvLyBjb21ib1xuICAgIGZsYXR0ZW5DbG9zZXN0UG9pbnQocDogVmVjdG9yMykge1xuICAgICAgICBsZXQgZmFjZSA9IHRoaXMuY2xvc2VzdEZhY2UocCk7XG4gICAgICAgIHJldHVybiB0aGlzLmZsYXR0ZW4ocCwgZmFjZSk7XG4gICAgfVxuXG4gICAgY2xvc2VzdFBvaW50KHA6IFZlY3RvcjMpIHtcbiAgICAgICAgbGV0IGZhY2UgPSB0aGlzLmNsb3Nlc3RGYWNlKHApO1xuICAgICAgICBsZXQgdHJpYW5nbGUgPSB0aGlzLmdldFRyaWFuZ2xlMyhmYWNlKTtcbiAgICAgICAgbGV0IGJhcmkgPSB0cmlhbmdsZS50b0JhcnljZW50cmljKHApO1xuICAgICAgICByZXR1cm4gdHJpYW5nbGUuZnJvbUJhcnljZW50cmljKGJhcmkpO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRUcmlhbmdsZTIoaWQ6IG51bWJlcik6IFRyaWFuZ2xlMiB7XG4gICAgICAgIGxldCBwID0gdGhpcy5nZXRGYWNlUG9pbnRzKGlkLCB0cnVlKTtcbiAgICAgICAgcmV0dXJuIG5ldyBUcmlhbmdsZTIocFswXSwgcFsxXSwgcFsyXSk7XG4gICAgfVxuXG4gICAgcHVibGljIGdldFRyaWFuZ2xlMyhpZDogbnVtYmVyKTogVHJpYW5nbGUzIHtcbiAgICAgICAgbGV0IHAgPSB0aGlzLmdldEZhY2VQb2ludHMoaWQsIGZhbHNlKTtcbiAgICAgICAgcmV0dXJuIG5ldyBUcmlhbmdsZTMocFswXSwgcFsxXSwgcFsyXSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzZXROYihmYWNlSW5kZXg6IG51bWJlciwgY29tbW9uRWRnZTogSW50MzJBcnJheSwgbmJJbmRleDogbnVtYmVyKSB7XG4gICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgMzsgaisrKSB7XG4gICAgICAgICAgICBpZiAoIWNvbW1vbkVkZ2UuaW5jbHVkZXModGhpcy5tZXNoLmxpbmtzLmdldChmYWNlSW5kZXgsIGopKSkge1xuICAgICAgICAgICAgICAgIHRoaXMubmVpZ2hib3JNYXAuc2V0KGZhY2VJbmRleCwgaiwgbmJJbmRleCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnNvbGUubG9nKHRoaXMubWVzaC5saW5rcy5nZXRSb3coZmFjZUluZGV4KSk7XG4gICAgICAgIGNvbnNvbGUubG9nKGNvbW1vbkVkZ2UpO1xuICAgICAgICB0aHJvdyBcInRoZXNlIGFyZSBub3QgYWN0dWFsbHkgbmVpZ2hib3JzIVwiO1xuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0TmIoZmFjZUluZGV4OiBudW1iZXIsIGNvbW1vbkVkZ2U6IEludDMyQXJyYXkgfCBbbnVtYmVyLCBudW1iZXJdKTogbnVtYmVyIHtcbiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCAzOyBqKyspIHtcbiAgICAgICAgICAgIGlmICghY29tbW9uRWRnZS5pbmNsdWRlcyh0aGlzLm1lc2gubGlua3MuZ2V0KGZhY2VJbmRleCwgaikpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubmVpZ2hib3JNYXAuZ2V0KGZhY2VJbmRleCwgaik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc29sZS5sb2codGhpcy5tZXNoLmxpbmtzLmdldFJvdyhmYWNlSW5kZXgpKTtcbiAgICAgICAgY29uc29sZS5sb2coY29tbW9uRWRnZSk7XG4gICAgICAgIHRocm93IFwiY29tbW9uIGVkZ2UgZG9lcyBub3QgbWF0Y2ggdHJpYW5nbGUgaW5kZXghXCI7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZXRGYWNlUG9pbnRzKHRyOiBudW1iZXIsIHV2OiBib29sZWFuKTogW2FueSwgYW55LCBhbnldIHtcbiAgICAgICAgbGV0IHBvaW50SWRzID0gdGhpcy5tZXNoLmxpbmtzLmdldFJvdyh0cik7XG4gICAgICAgIGlmICh1dikge1xuICAgICAgICAgICAgcmV0dXJuIFt0aGlzLnV2cy5nZXRWZWN0b3IocG9pbnRJZHNbMF0pLCB0aGlzLnV2cy5nZXRWZWN0b3IocG9pbnRJZHNbMV0pLCB0aGlzLnV2cy5nZXRWZWN0b3IocG9pbnRJZHNbMl0pXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgdGhpcy5tZXNoLnZlcnRzLmdldFZlY3Rvcihwb2ludElkc1swXSksXG4gICAgICAgICAgICAgICAgdGhpcy5tZXNoLnZlcnRzLmdldFZlY3Rvcihwb2ludElkc1sxXSksXG4gICAgICAgICAgICAgICAgdGhpcy5tZXNoLnZlcnRzLmdldFZlY3Rvcihwb2ludElkc1syXSksXG4gICAgICAgICAgICBdO1xuICAgICAgICB9XG4gICAgfVxufVxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/mesh/topo-mesh.ts\n");

/***/ }),

/***/ "./src/render/billboard-renderer.ts":
/*!******************************************!*\
  !*** ./src/render/billboard-renderer.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"BillBoardRenderer\": () => /* binding */ BillBoardRenderer,\n/* harmony export */   \"TextRenderer\": () => /* binding */ TextRenderer\n/* harmony export */ });\n/* harmony import */ var _renderer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./renderer */ \"./src/render/renderer.ts\");\n// name:    billboard-renderer.ts\r\n// author:  Jos Feenstra\r\n// purpose: Renderer images as billboards.\r\n\r\n// mooi font om te gebruiken\r\n// https://datagoblin.itch.io/monogram\r\nclass BillBoardRenderer extends _renderer__WEBPACK_IMPORTED_MODULE_0__.Renderer {\r\n    // TODO\r\n    // accepts a texture & dots\r\n    constructor(gl) {\r\n        let vs = \"\";\r\n        let fs = \"\";\r\n        super(gl, vs, fs);\r\n    }\r\n    set(texture, dots, textureDots, speed) {\r\n        // TODO\r\n    }\r\n    render() {\r\n        // TODO\r\n    }\r\n    setAndRender(texture, dots, textureDots, speed) {\r\n        this.set(texture, dots, textureDots, speed);\r\n        this.render();\r\n    }\r\n}\r\nclass TextRenderer {\r\n    // todo horizontal justification\r\n    // todo vertical justification\r\n    constructor(gl) {\r\n        this.br = new BillBoardRenderer(gl);\r\n    }\r\n    set(strings, locations) {\r\n        if (strings.length != locations.count()) {\r\n            console.warn(\"couldnt set TextRenderer: strings not equal to locations...\");\r\n        }\r\n        let length = strings.length;\r\n        // TODO: set a whole bunch of stuff\r\n    }\r\n    render() { }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9nZW9uLWVuZ2luZS8uL3NyYy9yZW5kZXIvYmlsbGJvYXJkLXJlbmRlcmVyLnRzP2VkODQiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsaUNBQWlDO0FBQ2pDLHdCQUF3QjtBQUN4QiwwQ0FBMEM7QUFJTztBQUVqRCw0QkFBNEI7QUFDNUIsc0NBQXNDO0FBRS9CLE1BQU0saUJBQWtCLFNBQVEsK0NBQVE7SUFDM0MsT0FBTztJQUVQLDJCQUEyQjtJQUUzQixZQUFZLEVBQXlCO1FBQ2pDLElBQUksRUFBRSxHQUFHLEVBQUUsQ0FBQztRQUNaLElBQUksRUFBRSxHQUFHLEVBQUUsQ0FBQztRQUVaLEtBQUssQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsQ0FBQyxDQUFDO0lBQ3RCLENBQUM7SUFFRCxHQUFHLENBQUMsT0FBa0IsRUFBRSxJQUFrQixFQUFFLFdBQXlCLEVBQUUsS0FBZ0I7UUFDbkYsT0FBTztJQUNYLENBQUM7SUFFRCxNQUFNO1FBQ0YsT0FBTztJQUNYLENBQUM7SUFFRCxZQUFZLENBQUMsT0FBa0IsRUFBRSxJQUFrQixFQUFFLFdBQXlCLEVBQUUsS0FBZ0I7UUFDNUYsSUFBSSxDQUFDLEdBQUcsQ0FBQyxPQUFPLEVBQUUsSUFBSSxFQUFFLFdBQVcsRUFBRSxLQUFLLENBQUMsQ0FBQztRQUM1QyxJQUFJLENBQUMsTUFBTSxFQUFFLENBQUM7SUFDbEIsQ0FBQztDQUNKO0FBRU0sTUFBTSxZQUFZO0lBUXJCLGdDQUFnQztJQUNoQyw4QkFBOEI7SUFFOUIsWUFBWSxFQUF5QjtRQUNqQyxJQUFJLENBQUMsRUFBRSxHQUFHLElBQUksaUJBQWlCLENBQUMsRUFBRSxDQUFDLENBQUM7SUFDeEMsQ0FBQztJQUVELEdBQUcsQ0FBQyxPQUFpQixFQUFFLFNBQXVCO1FBQzFDLElBQUksT0FBTyxDQUFDLE1BQU0sSUFBSSxTQUFTLENBQUMsS0FBSyxFQUFFLEVBQUU7WUFDckMsT0FBTyxDQUFDLElBQUksQ0FBQyw2REFBNkQsQ0FBQyxDQUFDO1NBQy9FO1FBQ0QsSUFBSSxNQUFNLEdBQUcsT0FBTyxDQUFDLE1BQU0sQ0FBQztRQUU1QixtQ0FBbUM7SUFDdkMsQ0FBQztJQUVELE1BQU0sS0FBSSxDQUFDO0NBQ2QiLCJmaWxlIjoiLi9zcmMvcmVuZGVyL2JpbGxib2FyZC1yZW5kZXJlci50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIG5hbWU6ICAgIGJpbGxib2FyZC1yZW5kZXJlci50c1xuLy8gYXV0aG9yOiAgSm9zIEZlZW5zdHJhXG4vLyBwdXJwb3NlOiBSZW5kZXJlciBpbWFnZXMgYXMgYmlsbGJvYXJkcy5cblxuaW1wb3J0IHsgVmVjdG9yMkFycmF5LCBWZWN0b3IzQXJyYXkgfSBmcm9tIFwiLi4vZGF0YS92ZWN0b3ItYXJyYXlcIjtcbmltcG9ydCB7IEdlb25JbWFnZSB9IGZyb20gXCIuLi9pbWcvSW1hZ2VcIjtcbmltcG9ydCB7IERyYXdTcGVlZCwgUmVuZGVyZXIgfSBmcm9tIFwiLi9yZW5kZXJlclwiO1xuXG4vLyBtb29pIGZvbnQgb20gdGUgZ2VicnVpa2VuXG4vLyBodHRwczovL2RhdGFnb2JsaW4uaXRjaC5pby9tb25vZ3JhbVxuXG5leHBvcnQgY2xhc3MgQmlsbEJvYXJkUmVuZGVyZXIgZXh0ZW5kcyBSZW5kZXJlciB7XG4gICAgLy8gVE9ET1xuXG4gICAgLy8gYWNjZXB0cyBhIHRleHR1cmUgJiBkb3RzXG5cbiAgICBjb25zdHJ1Y3RvcihnbDogV2ViR0xSZW5kZXJpbmdDb250ZXh0KSB7XG4gICAgICAgIGxldCB2cyA9IFwiXCI7XG4gICAgICAgIGxldCBmcyA9IFwiXCI7XG5cbiAgICAgICAgc3VwZXIoZ2wsIHZzLCBmcyk7XG4gICAgfVxuXG4gICAgc2V0KHRleHR1cmU6IEdlb25JbWFnZSwgZG90czogVmVjdG9yM0FycmF5LCB0ZXh0dXJlRG90czogVmVjdG9yMkFycmF5LCBzcGVlZDogRHJhd1NwZWVkKSB7XG4gICAgICAgIC8vIFRPRE9cbiAgICB9XG5cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIC8vIFRPRE9cbiAgICB9XG5cbiAgICBzZXRBbmRSZW5kZXIodGV4dHVyZTogR2VvbkltYWdlLCBkb3RzOiBWZWN0b3IzQXJyYXksIHRleHR1cmVEb3RzOiBWZWN0b3IyQXJyYXksIHNwZWVkOiBEcmF3U3BlZWQpIHtcbiAgICAgICAgdGhpcy5zZXQodGV4dHVyZSwgZG90cywgdGV4dHVyZURvdHMsIHNwZWVkKTtcbiAgICAgICAgdGhpcy5yZW5kZXIoKTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBUZXh0UmVuZGVyZXIge1xuICAgIC8vIFRPRE9cblxuICAgIC8vIHVzZSB0aGUgYmlsbGJvYXJkIHJlbmRlcmVyIHRvIHJlbmRlciBzZXJpZXMgb2YgYXNjaWkgY2hhcmFjdGVycyxcbiAgICAvLyBieSB1c2luZyBzdGFuZGFyZCBwb3NpdGlvbnMgb2YgY2VydGFpbiBmb250IGltYWdlcy5cblxuICAgIGJyOiBCaWxsQm9hcmRSZW5kZXJlcjtcblxuICAgIC8vIHRvZG8gaG9yaXpvbnRhbCBqdXN0aWZpY2F0aW9uXG4gICAgLy8gdG9kbyB2ZXJ0aWNhbCBqdXN0aWZpY2F0aW9uXG5cbiAgICBjb25zdHJ1Y3RvcihnbDogV2ViR0xSZW5kZXJpbmdDb250ZXh0KSB7XG4gICAgICAgIHRoaXMuYnIgPSBuZXcgQmlsbEJvYXJkUmVuZGVyZXIoZ2wpO1xuICAgIH1cblxuICAgIHNldChzdHJpbmdzOiBzdHJpbmdbXSwgbG9jYXRpb25zOiBWZWN0b3IzQXJyYXkpIHtcbiAgICAgICAgaWYgKHN0cmluZ3MubGVuZ3RoICE9IGxvY2F0aW9ucy5jb3VudCgpKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oXCJjb3VsZG50IHNldCBUZXh0UmVuZGVyZXI6IHN0cmluZ3Mgbm90IGVxdWFsIHRvIGxvY2F0aW9ucy4uLlwiKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgbGVuZ3RoID0gc3RyaW5ncy5sZW5ndGg7XG5cbiAgICAgICAgLy8gVE9ETzogc2V0IGEgd2hvbGUgYnVuY2ggb2Ygc3R1ZmZcbiAgICB9XG5cbiAgICByZW5kZXIoKSB7fVxufVxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/render/billboard-renderer.ts\n");

/***/ }),

/***/ "./src/render/camera.ts":
/*!******************************!*\
  !*** ./src/render/camera.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Camera\": () => /* binding */ Camera\n/* harmony export */ });\n/* harmony import */ var _geo_plane__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../geo/plane */ \"./src/geo/plane.ts\");\n/* harmony import */ var _math_math__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../math/math */ \"./src/math/math.ts\");\n/* harmony import */ var _math_matrix__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../math/matrix */ \"./src/math/matrix.ts\");\n/* harmony import */ var _math_ray__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../math/ray */ \"./src/math/ray.ts\");\n/* harmony import */ var _math_vector__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../math/vector */ \"./src/math/vector.ts\");\n// author : Jos Feenstra\r\n// purpose : contain all logic regarding\r\n\r\n\r\n\r\n\r\n\r\nclass Camera {\r\n    constructor(canvas, z_offset = 1, canMove = false) {\r\n        this.angleAlpha = 0; // rotation x\r\n        this.angleBeta = 0; // rotation y\r\n        this.mousePos = _math_vector__WEBPACK_IMPORTED_MODULE_4__.Vector2.zero();\r\n        // camera matrix properties\r\n        this.fov = (20 * Math.PI) / 100;\r\n        this.zFar = 10000;\r\n        this.zNear = 0.1;\r\n        // other consts\r\n        this.speed = 1;\r\n        this.worldPlane = _geo_plane__WEBPACK_IMPORTED_MODULE_0__.Plane.WorldXY();\r\n        this.canMove = canMove;\r\n        this.pos = new _math_vector__WEBPACK_IMPORTED_MODULE_4__.Vector3(0, 0, 0);\r\n        this.z_offset = -z_offset;\r\n        this.offset = new _math_vector__WEBPACK_IMPORTED_MODULE_4__.Vector3(0, 0, -z_offset);\r\n        this.updateMatrices(canvas);\r\n    }\r\n    update(state) {\r\n        this.updateControls(state);\r\n        this.updateMatrices(state.canvas);\r\n        this.updateClick(state);\r\n        if (state.IsKeyPressed(\"p\")) {\r\n            console.log(this.pos);\r\n            console.log(this.offset);\r\n            console.log(\"speed is now: \" + this.speed);\r\n        }\r\n    }\r\n    updateMatrices(canvas) {\r\n        this.worldMatrix = this.getWorldMatrix();\r\n        this.projectMatrix = this.getProjectionMatrix(canvas);\r\n        this.totalMatrix = this.worldMatrix.multiplied(this.projectMatrix);\r\n    }\r\n    lookat(position, target) {\r\n        // set matrices to the thing\r\n        let matrix = _math_matrix__WEBPACK_IMPORTED_MODULE_2__.Matrix4.newLookAt(position, target, this.worldPlane.khat);\r\n    }\r\n    updateClick(state) {\r\n        // todo\r\n    }\r\n    updateControls(state) {\r\n        let deltaScroll = state.scrollValue * 1.2;\r\n        this.offset.z = this.z_offset - deltaScroll;\r\n        if (state.IsKeyPressed(\"Shift\")) {\r\n            this.speed *= 2;\r\n        }\r\n        if (state.IsKeyPressed(\"Control\")) {\r\n            this.speed = Math.max(this.speed * 0.5, 0.1);\r\n        }\r\n        // deal with mouse\r\n        let prevPos = this.mousePos.clone();\r\n        this.mousePos = state.mousePos.clone();\r\n        let delta = prevPos.clone().sub(this.mousePos);\r\n        this.getMouseWorldRay(state.canvas.width, state.canvas.height);\r\n        if (state.mouseRightDown) {\r\n            this.angleAlpha = _math_math__WEBPACK_IMPORTED_MODULE_1__.GeonMath.clamp(this.angleAlpha + delta.y * 0.01, 0, Math.PI);\r\n            this.angleBeta += delta.x * -0.01;\r\n        }\r\n        function relativeUnitY(angle) {\r\n            let m = _math_matrix__WEBPACK_IMPORTED_MODULE_2__.Matrix4.newZRotation(angle);\r\n            return m.multiplyVector(_math_vector__WEBPACK_IMPORTED_MODULE_4__.Vector3.unitY());\r\n        }\r\n        function relativeUnitX(angle) {\r\n            let m = _math_matrix__WEBPACK_IMPORTED_MODULE_2__.Matrix4.newZRotation(angle);\r\n            return m.multiplyVector(_math_vector__WEBPACK_IMPORTED_MODULE_4__.Vector3.unitX());\r\n        }\r\n        if (!this.canMove) {\r\n            return;\r\n        }\r\n        if (state.IsKeyDown(\"s\"))\r\n            this.pos.add(relativeUnitY(-this.angleBeta).scale(0.01 * this.speed));\r\n        if (state.IsKeyDown(\"w\"))\r\n            this.pos.add(relativeUnitY(-this.angleBeta).scale(-0.01 * this.speed));\r\n        if (state.IsKeyDown(\"a\"))\r\n            this.pos.add(relativeUnitX(-this.angleBeta).scale(0.01 * this.speed));\r\n        if (state.IsKeyDown(\"d\"))\r\n            this.pos.add(relativeUnitX(-this.angleBeta).scale(-0.01 * this.speed));\r\n        if (state.IsKeyDown(\"q\"))\r\n            this.pos.z += 0.01 * this.speed;\r\n        if (state.IsKeyDown(\"e\"))\r\n            this.pos.z -= 0.01 * this.speed;\r\n    }\r\n    getCameraPoint() {\r\n        return this.worldMatrix.inverse().multiplyVector(new _math_vector__WEBPACK_IMPORTED_MODULE_4__.Vector3(0, 0, 0));\r\n    }\r\n    getMouseWorldRay(canvasWidth, canvasHeight, useMouse = true) {\r\n        // get a ray from origin through mousepos\r\n        // mouse unit screen position:\r\n        //       -------------- -0.5\r\n        //       |            |\r\n        //       |      .(0,0)|\r\n        //       |            |\r\n        //       -------------- 0.5\r\n        //     -0.72        0.72\r\n        //    (0.72 = 0.5 * aspect)\r\n        //\r\n        let size = 0.5; // size indicator of the fustrum\r\n        let mp = this.mousePos;\r\n        let aspect = canvasWidth / canvasHeight;\r\n        let mouseUnitX = (-size + mp.x / canvasWidth) * aspect;\r\n        let mouseUnitY = -size + mp.y / canvasHeight;\r\n        let f = size / Math.tan(this.fov / 2); // focal length\r\n        let invWorld = this.worldMatrix.inverse();\r\n        let origin = invWorld.multiplyVector(new _math_vector__WEBPACK_IMPORTED_MODULE_4__.Vector3(0, 0, 0));\r\n        // TODO instead of doing this, just extract the x, y, and z columns of invWorld\r\n        let iDestiny = invWorld.multiplyVector(new _math_vector__WEBPACK_IMPORTED_MODULE_4__.Vector3(1, 0, 0));\r\n        let jDestiny = invWorld.multiplyVector(new _math_vector__WEBPACK_IMPORTED_MODULE_4__.Vector3(0, 1, 0));\r\n        let kDestiny = invWorld.multiplyVector(new _math_vector__WEBPACK_IMPORTED_MODULE_4__.Vector3(0, 0, -1));\r\n        let ihat = iDestiny.sub(origin).normalize();\r\n        let jhat = jDestiny.sub(origin).normalize();\r\n        let khat = kDestiny.sub(origin).normalize();\r\n        // pardon this insanely ugly statement\r\n        let screenPoint = useMouse\r\n            ? origin.added(khat.scaled(f)).add(ihat.scaled(mouseUnitX)).add(jhat.scaled(-mouseUnitY))\r\n            : origin.added(khat.scaled(f));\r\n        return _math_ray__WEBPACK_IMPORTED_MODULE_3__.Ray.fromPoints(origin, screenPoint);\r\n    }\r\n    getWorldMatrix() {\r\n        let offset = this.offset;\r\n        let angleA = this.angleAlpha;\r\n        let angleB = this.angleBeta;\r\n        // translate so z means 'up'\r\n        let yzFlip = new _math_matrix__WEBPACK_IMPORTED_MODULE_2__.Matrix4([1, 0, 0, 0, 0, 0, 1, 0, 0, 1, 0, 0, 0, 0, 0, 1]);\r\n        // translated to fit screen\r\n        let position = _math_matrix__WEBPACK_IMPORTED_MODULE_2__.Matrix4.newTranslation(this.pos.x, this.pos.y, this.pos.z);\r\n        let mOffset = _math_matrix__WEBPACK_IMPORTED_MODULE_2__.Matrix4.newTranslation(offset.x, offset.y, offset.z);\r\n        // rotated by user\r\n        let x_rotation = _math_matrix__WEBPACK_IMPORTED_MODULE_2__.Matrix4.newXRotation(angleA);\r\n        let z_rotation = _math_matrix__WEBPACK_IMPORTED_MODULE_2__.Matrix4.newZRotation(angleB);\r\n        let rotation = z_rotation.multiply(x_rotation);\r\n        // let transform = mOffset.multiply(rotation).multiply(position);\r\n        let transform = position.multiply(rotation).multiply(mOffset);\r\n        return transform;\r\n    }\r\n    getProjectionMatrix(canvas) {\r\n        // aspects\r\n        let aspect = canvas.width / canvas.height; // note: this should be constant\r\n        // let z_plane = -1. / Math.tan(pi / 8.);\r\n        // projection to screen\r\n        // let projection = Matrix4.newOrthographic(-1, 1, -1, 1, 0.1, 0.1);\r\n        let projection = _math_matrix__WEBPACK_IMPORTED_MODULE_2__.Matrix4.newPerspective(this.fov, aspect, this.zNear, this.zFar);\r\n        return projection;\r\n    }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9nZW9uLWVuZ2luZS8uL3NyYy9yZW5kZXIvY2FtZXJhLnRzP2JkYjMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUEsd0JBQXdCO0FBQ3hCLHdDQUF3QztBQUdIO0FBQ0c7QUFDQztBQUNQO0FBQ2dCO0FBRzNDLE1BQU0sTUFBTTtJQTBCZixZQUFZLE1BQXlCLEVBQUUsUUFBUSxHQUFHLENBQUMsRUFBRSxPQUFPLEdBQUcsS0FBSztRQXRCcEUsZUFBVSxHQUFHLENBQUMsQ0FBQyxDQUFDLGFBQWE7UUFDN0IsY0FBUyxHQUFHLENBQUMsQ0FBQyxDQUFDLGFBQWE7UUFDNUIsYUFBUSxHQUFHLHNEQUFZLEVBQUUsQ0FBQztRQUUxQiwyQkFBMkI7UUFDM0IsUUFBRyxHQUFHLENBQUMsRUFBRSxHQUFHLElBQUksQ0FBQyxFQUFFLENBQUMsR0FBRyxHQUFHLENBQUM7UUFDM0IsU0FBSSxHQUFHLEtBQUssQ0FBQztRQUNiLFVBQUssR0FBRyxHQUFHLENBQUM7UUFFWixlQUFlO1FBQ2YsVUFBSyxHQUFHLENBQUMsQ0FBQztRQUVWLGVBQVUsR0FBRyxxREFBYSxFQUFFLENBQUM7UUFXekIsSUFBSSxDQUFDLE9BQU8sR0FBRyxPQUFPLENBQUM7UUFFdkIsSUFBSSxDQUFDLEdBQUcsR0FBRyxJQUFJLGlEQUFPLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztRQUNoQyxJQUFJLENBQUMsUUFBUSxHQUFHLENBQUMsUUFBUSxDQUFDO1FBQzFCLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxpREFBTyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUMzQyxJQUFJLENBQUMsY0FBYyxDQUFDLE1BQU0sQ0FBQyxDQUFDO0lBQ2hDLENBQUM7SUFFRCxNQUFNLENBQUMsS0FBaUI7UUFDcEIsSUFBSSxDQUFDLGNBQWMsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUMzQixJQUFJLENBQUMs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U0FBUyxDQUFDO0lBQ3JCLENBQUM7SUFFRCxtQkFBbUIsQ0FBQyxNQUF5QjtRQUN6QyxVQUFVO1FBQ1YsSUFBSSxNQUFNLEdBQUcsTUFBTSxDQUFDLEtBQUssR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUMsZ0NBQWdDO1FBRTNFLHlDQUF5QztRQUV6Qyx1QkFBdUI7UUFDdkIsb0VBQW9FO1FBQ3BFLElBQUksVUFBVSxHQUFHLGdFQUFzQixDQUFDLElBQUksQ0FBQyxHQUFHLEVBQUUsTUFBTSxFQUFFLElBQUksQ0FBQyxLQUFLLEVBQUUsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ2pGLE9BQU8sVUFBVSxDQUFDO0lBQ3RCLENBQUM7Q0FDSiIsImZpbGUiOiIuL3NyYy9yZW5kZXIvY2FtZXJhLnRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gYXV0aG9yIDogSm9zIEZlZW5zdHJhXG4vLyBwdXJwb3NlIDogY29udGFpbiBhbGwgbG9naWMgcmVnYXJkaW5nXG5cbmltcG9ydCB7IExpbmVBcnJheSB9IGZyb20gXCIuLi9tZXNoL2xpbmUtYXJyYXlcIjtcbmltcG9ydCB7IFBsYW5lIH0gZnJvbSBcIi4uL2dlby9wbGFuZVwiO1xuaW1wb3J0IHsgR2Vvbk1hdGggfSBmcm9tIFwiLi4vbWF0aC9tYXRoXCI7XG5pbXBvcnQgeyBNYXRyaXg0IH0gZnJvbSBcIi4uL21hdGgvbWF0cml4XCI7XG5pbXBvcnQgeyBSYXkgfSBmcm9tIFwiLi4vbWF0aC9yYXlcIjtcbmltcG9ydCB7IFZlY3RvcjIsIFZlY3RvcjMgfSBmcm9tIFwiLi4vbWF0aC92ZWN0b3JcIjtcbmltcG9ydCB7IElucHV0U3RhdGUgfSBmcm9tIFwiLi4vc3lzdGVtL2lucHV0LXN0YXRlXCI7XG5cbmV4cG9ydCBjbGFzcyBDYW1lcmEge1xuICAgIHBvczogVmVjdG9yMztcbiAgICBvZmZzZXQ6IFZlY3RvcjM7IC8vIG9mZnNldCBmcm9tIHJvdGF0aW9uIGNlbnRlclxuICAgIHpfb2Zmc2V0OiBudW1iZXI7XG4gICAgYW5nbGVBbHBoYSA9IDA7IC8vIHJvdGF0aW9uIHhcbiAgICBhbmdsZUJldGEgPSAwOyAvLyByb3RhdGlvbiB5XG4gICAgbW91c2VQb3MgPSBWZWN0b3IyLnplcm8oKTtcblxuICAgIC8vIGNhbWVyYSBtYXRyaXggcHJvcGVydGllc1xuICAgIGZvdiA9ICgyMCAqIE1hdGguUEkpIC8gMTAwO1xuICAgIHpGYXIgPSAxMDAwMDtcbiAgICB6TmVhciA9IDAuMTtcblxuICAgIC8vIG90aGVyIGNvbnN0c1xuICAgIHNwZWVkID0gMTtcblxuICAgIHdvcmxkUGxhbmUgPSBQbGFuZS5Xb3JsZFhZKCk7XG5cbiAgICAvLyAhIG1lYW5zOiBkb250IHdvcnJ5LCB0aGVzZSB3aWxsIGJlIHNldCBpbiB0aGUgY29uc3RydWN0b3JcbiAgICB0b3RhbE1hdHJpeCE6IE1hdHJpeDQ7XG4gICAgd29ybGRNYXRyaXghOiBNYXRyaXg0O1xuICAgIHByb2plY3RNYXRyaXghOiBNYXRyaXg0O1xuXG4gICAgLy8gc2V0dGluZ3NcbiAgICBjYW5Nb3ZlOiBib29sZWFuO1xuXG4gICAgY29uc3RydWN0b3IoY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudCwgel9vZmZzZXQgPSAxLCBjYW5Nb3ZlID0gZmFsc2UpIHtcbiAgICAgICAgdGhpcy5jYW5Nb3ZlID0gY2FuTW92ZTtcblxuICAgICAgICB0aGlzLnBvcyA9IG5ldyBWZWN0b3IzKDAsIDAsIDApO1xuICAgICAgICB0aGlzLnpfb2Zmc2V0ID0gLXpfb2Zmc2V0O1xuICAgICAgICB0aGlzLm9mZnNldCA9IG5ldyBWZWN0b3IzKDAsIDAsIC16X29mZnNldCk7XG4gICAgICAgIHRoaXMudXBkYXRlTWF0cmljZXMoY2FudmFzKTtcbiAgICB9XG5cbiAgICB1cGRhdGUoc3RhdGU6IElucHV0U3RhdGUpIHtcbiAgICAgICAgdGhpcy51cGRhdGVDb250cm9scyhzdGF0ZSk7XG4gICAgICAgIHRoaXMudXBkYXRlTWF0cmljZXMoc3RhdGUuY2FudmFzKTtcbiAgICAgICAgdGhpcy51cGRhdGVDbGljayhzdGF0ZSk7XG5cbiAgICAgICAgaWYgKHN0YXRlLklzS2V5UHJlc3NlZChcInBcIikpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMucG9zKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMub2Zmc2V0KTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwic3BlZWQgaXMgbm93OiBcIiArIHRoaXMuc3BlZWQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdXBkYXRlTWF0cmljZXMoY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudCkge1xuICAgICAgICB0aGlzLndvcmxkTWF0cml4ID0gdGhpcy5nZXRXb3JsZE1hdHJpeCgpO1xuICAgICAgICB0aGlzLnByb2plY3RNYXRyaXggPSB0aGlzLmdldFByb2plY3Rpb25NYXRyaXgoY2FudmFzKTtcbiAgICAgICAgdGhpcy50b3RhbE1hdHJpeCA9IHRoaXMud29ybGRNYXRyaXgubXVsdGlwbGllZCh0aGlzLnByb2plY3RNYXRyaXgpO1xuICAgIH1cblxuICAgIGxvb2thdChwb3NpdGlvbjogVmVjdG9yMywgdGFyZ2V0OiBWZWN0b3IzKSB7XG4gICAgICAgIC8vIHNldCBtYXRyaWNlcyB0byB0aGUgdGhpbmdcbiAgICAgICAgbGV0IG1hdHJpeCA9IE1hdHJpeDQubmV3TG9va0F0KHBvc2l0aW9uLCB0YXJnZXQsIHRoaXMud29ybGRQbGFuZS5raGF0KTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHVwZGF0ZUNsaWNrKHN0YXRlOiBJbnB1dFN0YXRlKSB7XG4gICAgICAgIC8vIHRvZG9cbiAgICB9XG5cbiAgICBwcml2YXRlIHVwZGF0ZUNvbnRyb2xzKHN0YXRlOiBJbnB1dFN0YXRlKSB7XG4gICAgICAgIGxldCBkZWx0YVNjcm9sbCA9IHN0YXRlLnNjcm9sbFZhbHVlICogMS4yO1xuXG4gICAgICAgIHRoaXMub2Zmc2V0LnogPSB0aGlzLnpfb2Zmc2V0IC0gZGVsdGFTY3JvbGw7XG4gICAgICAgIGlmIChzdGF0ZS5Jc0tleVByZXNzZWQoXCJTaGlmdFwiKSkge1xuICAgICAgICAgICAgdGhpcy5zcGVlZCAqPSAyO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdGF0ZS5Jc0tleVByZXNzZWQoXCJDb250cm9sXCIpKSB7XG4gICAgICAgICAgICB0aGlzLnNwZWVkID0gTWF0aC5tYXgodGhpcy5zcGVlZCAqIDAuNSwgMC4xKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGRlYWwgd2l0aCBtb3VzZVxuICAgICAgICBsZXQgcHJldlBvcyA9IHRoaXMubW91c2VQb3MuY2xvbmUoKTtcbiAgICAgICAgdGhpcy5tb3VzZVBvcyA9IHN0YXRlLm1vdXNlUG9zLmNsb25lKCk7XG4gICAgICAgIGxldCBkZWx0YSA9IHByZXZQb3MuY2xvbmUoKS5zdWIodGhpcy5tb3VzZVBvcyk7XG5cbiAgICAgICAgdGhpcy5nZXRNb3VzZVdvcmxkUmF5KHN0YXRlLmNhbnZhcy53aWR0aCwgc3RhdGUuY2FudmFzLmhlaWdodCk7XG5cbiAgICAgICAgaWYgKHN0YXRlLm1vdXNlUmlnaHREb3duKSB7XG4gICAgICAgICAgICB0aGlzLmFuZ2xlQWxwaGEgPSBHZW9uTWF0aC5jbGFtcCh0aGlzLmFuZ2xlQWxwaGEgKyBkZWx0YS55ICogMC4wMSwgMCwgTWF0aC5QSSk7XG4gICAgICAgICAgICB0aGlzLmFuZ2xlQmV0YSArPSBkZWx0YS54ICogLTAuMDE7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiByZWxhdGl2ZVVuaXRZKGFuZ2xlOiBudW1iZXIpIHtcbiAgICAgICAgICAgIGxldCBtID0gTWF0cml4NC5uZXdaUm90YXRpb24oYW5nbGUpO1xuICAgICAgICAgICAgcmV0dXJuIG0ubXVsdGlwbHlWZWN0b3IoVmVjdG9yMy51bml0WSgpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIHJlbGF0aXZlVW5pdFgoYW5nbGU6IG51bWJlcikge1xuICAgICAgICAgICAgbGV0IG0gPSBNYXRyaXg0Lm5ld1pSb3RhdGlvbihhbmdsZSk7XG4gICAgICAgICAgICByZXR1cm4gbS5tdWx0aXBseVZlY3RvcihWZWN0b3IzLnVuaXRYKCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0aGlzLmNhbk1vdmUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzdGF0ZS5Jc0tleURvd24oXCJzXCIpKSB0aGlzLnBvcy5hZGQocmVsYXRpdmVVbml0WSgtdGhpcy5hbmdsZUJldGEpLnNjYWxlKDAuMDEgKiB0aGlzLnNwZWVkKSk7XG4gICAgICAgIGlmIChzdGF0ZS5Jc0tleURvd24oXCJ3XCIpKSB0aGlzLnBvcy5hZGQocmVsYXRpdmVVbml0WSgtdGhpcy5hbmdsZUJldGEpLnNjYWxlKC0wLjAxICogdGhpcy5zcGVlZCkpO1xuICAgICAgICBpZiAoc3RhdGUuSXNLZXlEb3duKFwiYVwiKSkgdGhpcy5wb3MuYWRkKHJlbGF0aXZlVW5pdFgoLXRoaXMuYW5nbGVCZXRhKS5zY2FsZSgwLjAxICogdGhpcy5zcGVlZCkpO1xuICAgICAgICBpZiAoc3RhdGUuSXNLZXlEb3duKFwiZFwiKSkgdGhpcy5wb3MuYWRkKHJlbGF0aXZlVW5pdFgoLXRoaXMuYW5nbGVCZXRhKS5zY2FsZSgtMC4wMSAqIHRoaXMuc3BlZWQpKTtcbiAgICAgICAgaWYgKHN0YXRlLklzS2V5RG93bihcInFcIikpIHRoaXMucG9zLnogKz0gMC4wMSAqIHRoaXMuc3BlZWQ7XG4gICAgICAgIGlmIChzdGF0ZS5Jc0tleURvd24oXCJlXCIpKSB0aGlzLnBvcy56IC09IDAuMDEgKiB0aGlzLnNwZWVkO1xuICAgIH1cblxuICAgIGdldENhbWVyYVBvaW50KCk6IFZlY3RvcjMge1xuICAgICAgICByZXR1cm4gdGhpcy53b3JsZE1hdHJpeC5pbnZlcnNlKCkubXVsdGlwbHlWZWN0b3IobmV3IFZlY3RvcjMoMCwgMCwgMCkpO1xuICAgIH1cblxuICAgIGdldE1vdXNlV29ybGRSYXkoY2FudmFzV2lkdGg6IG51bWJlciwgY2FudmFzSGVpZ2h0OiBudW1iZXIsIHVzZU1vdXNlID0gdHJ1ZSk6IFJheSB7XG4gICAgICAgIC8vIGdldCBhIHJheSBmcm9tIG9yaWdpbiB0aHJvdWdoIG1vdXNlcG9zXG5cbiAgICAgICAgLy8gbW91c2UgdW5pdCBzY3JlZW4gcG9zaXRpb246XG4gICAgICAgIC8vICAgICAgIC0tLS0tLS0tLS0tLS0tIC0wLjVcbiAgICAgICAgLy8gICAgICAgfCAgICAgICAgICAgIHxcbiAgICAgICAgLy8gICAgICAgfCAgICAgIC4oMCwwKXxcbiAgICAgICAgLy8gICAgICAgfCAgICAgICAgICAgIHxcbiAgICAgICAgLy8gICAgICAgLS0tLS0tLS0tLS0tLS0gMC41XG4gICAgICAgIC8vICAgICAtMC43MiAgICAgICAgMC43MlxuICAgICAgICAvLyAgICAoMC43MiA9IDAuNSAqIGFzcGVjdClcbiAgICAgICAgLy9cblxuICAgICAgICBsZXQgc2l6ZSA9IDAuNTsgLy8gc2l6ZSBpbmRpY2F0b3Igb2YgdGhlIGZ1c3RydW1cbiAgICAgICAgbGV0IG1wID0gdGhpcy5tb3VzZVBvcztcbiAgICAgICAgbGV0IGFzcGVjdCA9IGNhbnZhc1dpZHRoIC8gY2FudmFzSGVpZ2h0O1xuICAgICAgICBsZXQgbW91c2VVbml0WCA9ICgtc2l6ZSArIG1wLnggLyBjYW52YXNXaWR0aCkgKiBhc3BlY3Q7XG4gICAgICAgIGxldCBtb3VzZVVuaXRZID0gLXNpemUgKyBtcC55IC8gY2FudmFzSGVpZ2h0O1xuXG4gICAgICAgIGxldCBmID0gc2l6ZSAvIE1hdGgudGFuKHRoaXMuZm92IC8gMik7IC8vIGZvY2FsIGxlbmd0aFxuXG4gICAgICAgIGxldCBpbnZXb3JsZCA9IHRoaXMud29ybGRNYXRyaXguaW52ZXJzZSgpO1xuICAgICAgICBsZXQgb3JpZ2luID0gaW52V29ybGQubXVsdGlwbHlWZWN0b3IobmV3IFZlY3RvcjMoMCwgMCwgMCkpO1xuXG4gICAgICAgIC8vIFRPRE8gaW5zdGVhZCBvZiBkb2luZyB0aGlzLCBqdXN0IGV4dHJhY3QgdGhlIHgsIHksIGFuZCB6IGNvbHVtbnMgb2YgaW52V29ybGRcbiAgICAgICAgbGV0IGlEZXN0aW55ID0gaW52V29ybGQubXVsdGlwbHlWZWN0b3IobmV3IFZlY3RvcjMoMSwgMCwgMCkpO1xuICAgICAgICBsZXQgakRlc3RpbnkgPSBpbnZXb3JsZC5tdWx0aXBseVZlY3RvcihuZXcgVmVjdG9yMygwLCAxLCAwKSk7XG4gICAgICAgIGxldCBrRGVzdGlueSA9IGludldvcmxkLm11bHRpcGx5VmVjdG9yKG5ldyBWZWN0b3IzKDAsIDAsIC0xKSk7XG5cbiAgICAgICAgbGV0IGloYXQgPSBpRGVzdGlueS5zdWIob3JpZ2luKS5ub3JtYWxpemUoKTtcbiAgICAgICAgbGV0IGpoYXQgPSBqRGVzdGlueS5zdWIob3JpZ2luKS5ub3JtYWxpemUoKTtcbiAgICAgICAgbGV0IGtoYXQgPSBrRGVzdGlueS5zdWIob3JpZ2luKS5ub3JtYWxpemUoKTtcblxuICAgICAgICAvLyBwYXJkb24gdGhpcyBpbnNhbmVseSB1Z2x5IHN0YXRlbWVudFxuICAgICAgICBsZXQgc2NyZWVuUG9pbnQgPSB1c2VNb3VzZVxuICAgICAgICAgICAgPyBvcmlnaW4uYWRkZWQoa2hhdC5zY2FsZWQoZikpLmFkZChpaGF0LnNjYWxlZChtb3VzZVVuaXRYKSkuYWRkKGpoYXQuc2NhbGVkKC1tb3VzZVVuaXRZKSlcbiAgICAgICAgICAgIDogb3JpZ2luLmFkZGVkKGtoYXQuc2NhbGVkKGYpKTtcblxuICAgICAgICByZXR1cm4gUmF5LmZyb21Qb2ludHMob3JpZ2luLCBzY3JlZW5Qb2ludCk7XG4gICAgfVxuXG4gICAgZ2V0V29ybGRNYXRyaXgoKTogTWF0cml4NCB7XG4gICAgICAgIGxldCBvZmZzZXQgPSB0aGlzLm9mZnNldDtcbiAgICAgICAgbGV0IGFuZ2xlQSA9IHRoaXMuYW5nbGVBbHBoYTtcbiAgICAgICAgbGV0IGFuZ2xlQiA9IHRoaXMuYW5nbGVCZXRhO1xuXG4gICAgICAgIC8vIHRyYW5zbGF0ZSBzbyB6IG1lYW5zICd1cCdcbiAgICAgICAgbGV0IHl6RmxpcCA9IG5ldyBNYXRyaXg0KFsxLCAwLCAwLCAwLCAwLCAwLCAxLCAwLCAwLCAxLCAwLCAwLCAwLCAwLCAwLCAxXSk7XG5cbiAgICAgICAgLy8gdHJhbnNsYXRlZCB0byBmaXQgc2NyZWVuXG4gICAgICAgIGxldCBwb3NpdGlvbiA9IE1hdHJpeDQubmV3VHJhbnNsYXRpb24odGhpcy5wb3MueCwgdGhpcy5wb3MueSwgdGhpcy5wb3Mueik7XG4gICAgICAgIGxldCBtT2Zmc2V0ID0gTWF0cml4NC5uZXdUcmFuc2xhdGlvbihvZmZzZXQueCwgb2Zmc2V0LnksIG9mZnNldC56KTtcblxuICAgICAgICAvLyByb3RhdGVkIGJ5IHVzZXJcbiAgICAgICAgbGV0IHhfcm90YXRpb24gPSBNYXRyaXg0Lm5ld1hSb3RhdGlvbihhbmdsZUEpO1xuICAgICAgICBsZXQgel9yb3RhdGlvbiA9IE1hdHJpeDQubmV3WlJvdGF0aW9uKGFuZ2xlQik7XG4gICAgICAgIGxldCByb3RhdGlvbiA9IHpfcm90YXRpb24ubXVsdGlwbHkoeF9yb3RhdGlvbik7XG5cbiAgICAgICAgLy8gbGV0IHRyYW5zZm9ybSA9IG1PZmZzZXQubXVsdGlwbHkocm90YXRpb24pLm11bHRpcGx5KHBvc2l0aW9uKTtcblxuICAgICAgICBsZXQgdHJhbnNmb3JtID0gcG9zaXRpb24ubXVsdGlwbHkocm90YXRpb24pLm11bHRpcGx5KG1PZmZzZXQpO1xuICAgICAgICByZXR1cm4gdHJhbnNmb3JtO1xuICAgIH1cblxuICAgIGdldFByb2plY3Rpb25NYXRyaXgoY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudCk6IE1hdHJpeDQge1xuICAgICAgICAvLyBhc3BlY3RzXG4gICAgICAgIGxldCBhc3BlY3QgPSBjYW52YXMud2lkdGggLyBjYW52YXMuaGVpZ2h0OyAvLyBub3RlOiB0aGlzIHNob3VsZCBiZSBjb25zdGFudFxuXG4gICAgICAgIC8vIGxldCB6X3BsYW5lID0gLTEuIC8gTWF0aC50YW4ocGkgLyA4Lik7XG5cbiAgICAgICAgLy8gcHJvamVjdGlvbiB0byBzY3JlZW5cbiAgICAgICAgLy8gbGV0IHByb2plY3Rpb24gPSBNYXRyaXg0Lm5ld09ydGhvZ3JhcGhpYygtMSwgMSwgLTEsIDEsIDAuMSwgMC4xKTtcbiAgICAgICAgbGV0IHByb2plY3Rpb24gPSBNYXRyaXg0Lm5ld1BlcnNwZWN0aXZlKHRoaXMuZm92LCBhc3BlY3QsIHRoaXMuek5lYXIsIHRoaXMuekZhcik7XG4gICAgICAgIHJldHVybiBwcm9qZWN0aW9uO1xuICAgIH1cbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/render/camera.ts\n");

/***/ }),

/***/ "./src/render/dot-renderer2.ts":
/*!*************************************!*\
  !*** ./src/render/dot-renderer2.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"DotRenderer2\": () => /* binding */ DotRenderer2\n/* harmony export */ });\n/* harmony import */ var _renderer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./renderer */ \"./src/render/renderer.ts\");\n// jos feenstra\r\n\r\nclass DotRenderer2 extends _renderer__WEBPACK_IMPORTED_MODULE_0__.Renderer {\r\n    constructor(gl, size = 5, color = [1, 1, 1, 1], square = true) {\r\n        // note: I like vertex & fragments to be included in the script itself.\r\n        // when you change vertex or fragment, this class has to deal with it.\r\n        // putting them somewhere else doesnt make sense to me,\r\n        // they are coupled 1 to 1.\r\n        let vertexSource = `\n        attribute vec2 a_position;\n        \n        uniform vec2 u_resolution;\n        uniform float u_size;\n\n        void main() {\n            vec2 clipped = ((a_position / u_resolution) * 2.0) - 1.0;\n      \n            gl_PointSize = u_size;\n            gl_Position = vec4(clipped, 0, 1);\n            // gl_Position = vec4(0,0,0,1);\n        }\n        `;\r\n        let fragmentSourceSquare = `\n        precision mediump int;\n        precision mediump float;\n\n        uniform vec4 u_Color;\n        vec2 center = vec2(0.5, 0.5);\n\n        void main() {\n            gl_FragColor = vec4(1,1,1,1);\n        }\n        `;\r\n        let fragmentSourceRound = `\n        precision mediump int;\n        precision mediump float;\n\n        uniform vec4 u_Color;\n        vec2 center = vec2(0.5, 0.5);\n\n        void main() {\n            if (distance(center, gl_PointCoord) > 0.5) {\n               discard;\n            }\n            gl_FragColor = vec4(1,1,1,1);\n        }\n        `;\r\n        // setup program\r\n        if (square) {\r\n            super(gl, vertexSource, fragmentSourceSquare);\r\n        }\r\n        else {\r\n            super(gl, vertexSource, fragmentSourceRound);\r\n        }\r\n        this.u_resolution = gl.getUniformLocation(this.program, \"u_resolution\");\r\n        this.u_size = gl.getUniformLocation(this.program, \"u_size\");\r\n        this.u_color = gl.getUniformLocation(this.program, \"u_color\");\r\n        this.color = color;\r\n        this.size = size;\r\n        // Bind it to ARRAY_BUFFER (think of it as ARRAY_BUFFER = positionBuffer)\r\n        // look up where the vertex data needs to go.\r\n        this.a_position = gl.getAttribLocation(this.program, \"a_position\");\r\n        this.a_position_buffer = gl.createBuffer();\r\n        gl.bindBuffer(gl.ARRAY_BUFFER, this.a_position_buffer);\r\n    }\r\n    // render 1 image to the screen\r\n    render(gl, dots) {\r\n        // Tell it to use our program (pair of shaders)\r\n        gl.useProgram(this.program);\r\n        // set uniforms\r\n        gl.uniform2f(this.u_resolution, gl.canvas.width, gl.canvas.height);\r\n        gl.uniform1f(this.u_size, this.size);\r\n        gl.uniform4f(this.u_color, this.color[0], this.color[1], this.color[2], this.color[3]);\r\n        // // Bind the position buffer.\r\n        gl.enableVertexAttribArray(this.a_position);\r\n        gl.bindBuffer(gl.ARRAY_BUFFER, this.a_position_buffer);\r\n        // // Tell the attribute how to get data out of positionBuffer (ARRAY_BUFFER)\r\n        var size = 2; // 2 components per iteration\r\n        var type = gl.FLOAT; // the data is 32bit floats\r\n        var normalize = false; // don't normalize the data\r\n        var stride = 0; // 0 = move forward size * sizeof(type) each iteration to get the next position\r\n        var offset = 0; // start at the beginning of the buffer\r\n        gl.vertexAttribPointer(this.a_position, size, type, normalize, stride, offset);\r\n        // fill with data;\r\n        let data = this.toFloat32Array(dots);\r\n        gl.bufferData(gl.ARRAY_BUFFER, data, gl.DYNAMIC_DRAW);\r\n        // Draw the point.\r\n        var primitiveType = gl.POINTS;\r\n        var offset = 0;\r\n        var count = dots.length;\r\n        gl.drawArrays(primitiveType, offset, count);\r\n    }\r\n    // Fill the buffer with the values that define a rectangle.\r\n    toFloat32Array(dots) {\r\n        let data = new Float32Array(dots.length * 2);\r\n        for (let i = 0; i < dots.length; i++) {\r\n            data[i * 2] = dots[i].x;\r\n            data[i * 2 + 1] = dots[i].y;\r\n        }\r\n        return data;\r\n    }\r\n    randomInt(range) {\r\n        return Math.floor(Math.random() * range);\r\n    }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9nZW9uLWVuZ2luZS8uL3NyYy9yZW5kZXIvZG90LXJlbmRlcmVyMi50cz8wMjUyIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUEsZUFBZTtBQUd1QjtBQUUvQixNQUFNLFlBQWEsU0FBUSwrQ0FBUTtJQVl0QyxZQUFZLEVBQXlCLEVBQUUsT0FBZSxDQUFDLEVBQUUsUUFBa0IsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxTQUFrQixJQUFJO1FBQzNHLHVFQUF1RTtRQUN2RSxzRUFBc0U7UUFDdEUsdURBQXVEO1FBQ3ZELDJCQUEyQjtRQUMzQixJQUFJLFlBQVksR0FBVzs7Ozs7Ozs7Ozs7OztTQWExQixDQUFDO1FBQ0YsSUFBSSxvQkFBb0IsR0FBVzs7Ozs7Ozs7OztTQVVsQyxDQUFDO1FBRUYsSUFBSSxtQkFBbUIsR0FBVzs7Ozs7Ozs7Ozs7OztTQWFqQyxDQUFDO1FBRUYsZ0JBQWdCO1FBQ2hCLElBQUksTUFBTSxFQUFFO1lBQ1IsS0FBSyxDQUFDLEVBQUUsRUFBRSxZQUFZLEVBQUUsb0JBQW9CLENBQUMsQ0FBQztTQUNqRDthQUFNO1lBQ0gsS0FBSyxDQUFDLEVBQUUsRUFBRSxZQUFZLEVBQUUsbUJBQW1CLENBQUMsQ0FBQztTQUNoRDtRQUVELElBQUksQ0FBQyxZQUFZLEdBQUcsRUFBRSxDQUFDLGtCQUFrQixDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUUsY0FBYyxDQUFFLENBQUM7UUFDekUsSUFBSSxDQUFDLE1BQU0sR0FBRyxFQUFFLENBQUMsa0JBQWtCLENBQUMsSUFBSSxDQUFDLE9BQU8sRUFBRSxRQUFRLENBQUUsQ0FBQztRQUM3RCxJQUFJLENBQUMsT0FBTyxHQUFHLEVBQUUsQ0FBQyxrQkFBa0IsQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLFNBQVMsQ0FBRSxDQUFDO1FBRS9ELElBQUksQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO1FBQ25CLElBQUksQ0FBQyxJQUFJ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LEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUN4QixJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1NBQy9CO1FBQ0QsT0FBTyxJQUFJLENBQUM7SUFDaEIsQ0FBQztJQUVELFNBQVMsQ0FBQyxLQUFhO1FBQ25CLE9BQU8sSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFLEdBQUcsS0FBSyxDQUFDLENBQUM7SUFDN0MsQ0FBQztDQUNKIiwiZmlsZSI6Ii4vc3JjL3JlbmRlci9kb3QtcmVuZGVyZXIyLnRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gam9zIGZlZW5zdHJhXG5cbmltcG9ydCB7IFZlY3RvcjIgfSBmcm9tIFwiLi4vbWF0aC92ZWN0b3JcIjtcbmltcG9ydCB7IFJlbmRlcmVyIH0gZnJvbSBcIi4vcmVuZGVyZXJcIjtcblxuZXhwb3J0IGNsYXNzIERvdFJlbmRlcmVyMiBleHRlbmRzIFJlbmRlcmVyIHtcbiAgICAvLyBhdHRyaWJ1dGUgJiB1bmlmb3JtIGxvY2F0aW9uc1xuICAgIGFfcG9zaXRpb246IG51bWJlcjtcbiAgICBhX3Bvc2l0aW9uX2J1ZmZlcjogV2ViR0xCdWZmZXI7XG5cbiAgICB1X3Jlc29sdXRpb246IFdlYkdMVW5pZm9ybUxvY2F0aW9uO1xuICAgIHVfY29sb3I6IFdlYkdMVW5pZm9ybUxvY2F0aW9uO1xuICAgIHVfc2l6ZTogV2ViR0xVbmlmb3JtTG9jYXRpb247XG5cbiAgICBjb2xvcjogbnVtYmVyW107XG4gICAgc2l6ZTogbnVtYmVyO1xuXG4gICAgY29uc3RydWN0b3IoZ2w6IFdlYkdMUmVuZGVyaW5nQ29udGV4dCwgc2l6ZTogbnVtYmVyID0gNSwgY29sb3I6IG51bWJlcltdID0gWzEsIDEsIDEsIDFdLCBzcXVhcmU6IGJvb2xlYW4gPSB0cnVlKSB7XG4gICAgICAgIC8vIG5vdGU6IEkgbGlrZSB2ZXJ0ZXggJiBmcmFnbWVudHMgdG8gYmUgaW5jbHVkZWQgaW4gdGhlIHNjcmlwdCBpdHNlbGYuXG4gICAgICAgIC8vIHdoZW4geW91IGNoYW5nZSB2ZXJ0ZXggb3IgZnJhZ21lbnQsIHRoaXMgY2xhc3MgaGFzIHRvIGRlYWwgd2l0aCBpdC5cbiAgICAgICAgLy8gcHV0dGluZyB0aGVtIHNvbWV3aGVyZSBlbHNlIGRvZXNudCBtYWtlIHNlbnNlIHRvIG1lLFxuICAgICAgICAvLyB0aGV5IGFyZSBjb3VwbGVkIDEgdG8gMS5cbiAgICAgICAgbGV0IHZlcnRleFNvdXJjZTogc3RyaW5nID0gYFxuICAgICAgICBhdHRyaWJ1dGUgdmVjMiBhX3Bvc2l0aW9uO1xuICAgICAgICBcbiAgICAgICAgdW5pZm9ybSB2ZWMyIHVfcmVzb2x1dGlvbjtcbiAgICAgICAgdW5pZm9ybSBmbG9hdCB1X3NpemU7XG5cbiAgICAgICAgdm9pZCBtYWluKCkge1xuICAgICAgICAgICAgdmVjMiBjbGlwcGVkID0gKChhX3Bvc2l0aW9uIC8gdV9yZXNvbHV0aW9uKSAqIDIuMCkgLSAxLjA7XG4gICAgICBcbiAgICAgICAgICAgIGdsX1BvaW50U2l6ZSA9IHVfc2l6ZTtcbiAgICAgICAgICAgIGdsX1Bvc2l0aW9uID0gdmVjNChjbGlwcGVkLCAwLCAxKTtcbiAgICAgICAgICAgIC8vIGdsX1Bvc2l0aW9uID0gdmVjNCgwLDAsMCwxKTtcbiAgICAgICAgfVxuICAgICAgICBgO1xuICAgICAgICBsZXQgZnJhZ21lbnRTb3VyY2VTcXVhcmU6IHN0cmluZyA9IGBcbiAgICAgICAgcHJlY2lzaW9uIG1lZGl1bXAgaW50O1xuICAgICAgICBwcmVjaXNpb24gbWVkaXVtcCBmbG9hdDtcblxuICAgICAgICB1bmlmb3JtIHZlYzQgdV9Db2xvcjtcbiAgICAgICAgdmVjMiBjZW50ZXIgPSB2ZWMyKDAuNSwgMC41KTtcblxuICAgICAgICB2b2lkIG1haW4oKSB7XG4gICAgICAgICAgICBnbF9GcmFnQ29sb3IgPSB2ZWM0KDEsMSwxLDEpO1xuICAgICAgICB9XG4gICAgICAgIGA7XG5cbiAgICAgICAgbGV0IGZyYWdtZW50U291cmNlUm91bmQ6IHN0cmluZyA9IGBcbiAgICAgICAgcHJlY2lzaW9uIG1lZGl1bXAgaW50O1xuICAgICAgICBwcmVjaXNpb24gbWVkaXVtcCBmbG9hdDtcblxuICAgICAgICB1bmlmb3JtIHZlYzQgdV9Db2xvcjtcbiAgICAgICAgdmVjMiBjZW50ZXIgPSB2ZWMyKDAuNSwgMC41KTtcblxuICAgICAgICB2b2lkIG1haW4oKSB7XG4gICAgICAgICAgICBpZiAoZGlzdGFuY2UoY2VudGVyLCBnbF9Qb2ludENvb3JkKSA+IDAuNSkge1xuICAgICAgICAgICAgICAgZGlzY2FyZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGdsX0ZyYWdDb2xvciA9IHZlYzQoMSwxLDEsMSk7XG4gICAgICAgIH1cbiAgICAgICAgYDtcblxuICAgICAgICAvLyBzZXR1cCBwcm9ncmFtXG4gICAgICAgIGlmIChzcXVhcmUpIHtcbiAgICAgICAgICAgIHN1cGVyKGdsLCB2ZXJ0ZXhTb3VyY2UsIGZyYWdtZW50U291cmNlU3F1YXJlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHN1cGVyKGdsLCB2ZXJ0ZXhTb3VyY2UsIGZyYWdtZW50U291cmNlUm91bmQpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy51X3Jlc29sdXRpb24gPSBnbC5nZXRVbmlmb3JtTG9jYXRpb24odGhpcy5wcm9ncmFtLCBcInVfcmVzb2x1dGlvblwiKSE7XG4gICAgICAgIHRoaXMudV9zaXplID0gZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHRoaXMucHJvZ3JhbSwgXCJ1X3NpemVcIikhO1xuICAgICAgICB0aGlzLnVfY29sb3IgPSBnbC5nZXRVbmlmb3JtTG9jYXRpb24odGhpcy5wcm9ncmFtLCBcInVfY29sb3JcIikhO1xuXG4gICAgICAgIHRoaXMuY29sb3IgPSBjb2xvcjtcbiAgICAgICAgdGhpcy5zaXplID0gc2l6ZTtcblxuICAgICAgICAvLyBCaW5kIGl0IHRvIEFSUkFZX0JVRkZFUiAodGhpbmsgb2YgaXQgYXMgQVJSQVlfQlVGRkVSID0gcG9zaXRpb25CdWZmZXIpXG4gICAgICAgIC8vIGxvb2sgdXAgd2hlcmUgdGhlIHZlcnRleCBkYXRhIG5lZWRzIHRvIGdvLlxuICAgICAgICB0aGlzLmFfcG9zaXRpb24gPSBnbC5nZXRBdHRyaWJMb2NhdGlvbih0aGlzLnByb2dyYW0sIFwiYV9wb3NpdGlvblwiKTtcbiAgICAgICAgdGhpcy5hX3Bvc2l0aW9uX2J1ZmZlciA9IGdsLmNyZWF0ZUJ1ZmZlcigpITtcbiAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIHRoaXMuYV9wb3NpdGlvbl9idWZmZXIpO1xuICAgIH1cblxuICAgIC8vIHJlbmRlciAxIGltYWdlIHRvIHRoZSBzY3JlZW5cbiAgICByZW5kZXIoZ2w6IFdlYkdMUmVuZGVyaW5nQ29udGV4dCwgZG90czogVmVjdG9yMltdKSB7XG4gICAgICAgIC8vIFRlbGwgaXQgdG8gdXNlIG91ciBwcm9ncmFtIChwYWlyIG9mIHNoYWRlcnMpXG4gICAgICAgIGdsLnVzZVByb2dyYW0odGhpcy5wcm9ncmFtKTtcblxuICAgICAgICAvLyBzZXQgdW5pZm9ybXNcbiAgICAgICAgZ2wudW5pZm9ybTJmKHRoaXMudV9yZXNvbHV0aW9uLCBnbC5jYW52YXMud2lkdGgsIGdsLmNhbnZhcy5oZWlnaHQpO1xuICAgICAgICBnbC51bmlmb3JtMWYodGhpcy51X3NpemUsIHRoaXMuc2l6ZSk7XG4gICAgICAgIGdsLnVuaWZvcm00Zih0aGlzLnVfY29sb3IsIHRoaXMuY29sb3JbMF0sIHRoaXMuY29sb3JbMV0sIHRoaXMuY29sb3JbMl0sIHRoaXMuY29sb3JbM10pO1xuXG4gICAgICAgIC8vIC8vIEJpbmQgdGhlIHBvc2l0aW9uIGJ1ZmZlci5cbiAgICAgICAgZ2wuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkodGhpcy5hX3Bvc2l0aW9uKTtcbiAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIHRoaXMuYV9wb3NpdGlvbl9idWZmZXIpO1xuXG4gICAgICAgIC8vIC8vIFRlbGwgdGhlIGF0dHJpYnV0ZSBob3cgdG8gZ2V0IGRhdGEgb3V0IG9mIHBvc2l0aW9uQnVmZmVyIChBUlJBWV9CVUZGRVIpXG4gICAgICAgIHZhciBzaXplID0gMjsgLy8gMiBjb21wb25lbnRzIHBlciBpdGVyYXRpb25cbiAgICAgICAgdmFyIHR5cGUgPSBnbC5GTE9BVDsgLy8gdGhlIGRhdGEgaXMgMzJiaXQgZmxvYXRzXG4gICAgICAgIHZhciBub3JtYWxpemUgPSBmYWxzZTsgLy8gZG9uJ3Qgbm9ybWFsaXplIHRoZSBkYXRhXG4gICAgICAgIHZhciBzdHJpZGUgPSAwOyAvLyAwID0gbW92ZSBmb3J3YXJkIHNpemUgKiBzaXplb2YodHlwZSkgZWFjaCBpdGVyYXRpb24gdG8gZ2V0IHRoZSBuZXh0IHBvc2l0aW9uXG4gICAgICAgIHZhciBvZmZzZXQgPSAwOyAvLyBzdGFydCBhdCB0aGUgYmVnaW5uaW5nIG9mIHRoZSBidWZmZXJcbiAgICAgICAgZ2wudmVydGV4QXR0cmliUG9pbnRlcih0aGlzLmFfcG9zaXRpb24sIHNpemUsIHR5cGUsIG5vcm1hbGl6ZSwgc3RyaWRlLCBvZmZzZXQpO1xuXG4gICAgICAgIC8vIGZpbGwgd2l0aCBkYXRhO1xuICAgICAgICBsZXQgZGF0YSA9IHRoaXMudG9GbG9hdDMyQXJyYXkoZG90cyk7XG4gICAgICAgIGdsLmJ1ZmZlckRhdGEoZ2wuQVJSQVlfQlVGRkVSLCBkYXRhLCBnbC5EWU5BTUlDX0RSQVcpO1xuXG4gICAgICAgIC8vIERyYXcgdGhlIHBvaW50LlxuICAgICAgICB2YXIgcHJpbWl0aXZlVHlwZSA9IGdsLlBPSU5UUztcbiAgICAgICAgdmFyIG9mZnNldCA9IDA7XG4gICAgICAgIHZhciBjb3VudCA9IGRvdHMubGVuZ3RoO1xuICAgICAgICBnbC5kcmF3QXJyYXlzKHByaW1pdGl2ZVR5cGUsIG9mZnNldCwgY291bnQpO1xuICAgIH1cblxuICAgIC8vIEZpbGwgdGhlIGJ1ZmZlciB3aXRoIHRoZSB2YWx1ZXMgdGhhdCBkZWZpbmUgYSByZWN0YW5nbGUuXG4gICAgdG9GbG9hdDMyQXJyYXkoZG90czogVmVjdG9yMltdKTogRmxvYXQzMkFycmF5IHtcbiAgICAgICAgbGV0IGRhdGEgPSBuZXcgRmxvYXQzMkFycmF5KGRvdHMubGVuZ3RoICogMik7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZG90cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgZGF0YVtpICogMl0gPSBkb3RzW2ldLng7XG4gICAgICAgICAgICBkYXRhW2kgKiAyICsgMV0gPSBkb3RzW2ldLnk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfVxuXG4gICAgcmFuZG9tSW50KHJhbmdlOiBudW1iZXIpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogcmFuZ2UpO1xuICAgIH1cbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/render/dot-renderer2.ts\n");

/***/ }),

/***/ "./src/render/dot-renderer3.ts":
/*!*************************************!*\
  !*** ./src/render/dot-renderer3.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"DotRenderer3\": () => /* binding */ DotRenderer3\n/* harmony export */ });\n/* harmony import */ var _data_vector_array__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../data/vector-array */ \"./src/data/vector-array.ts\");\n/* harmony import */ var _renderer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./renderer */ \"./src/render/renderer.ts\");\n// jos feenstra\r\n\r\n\r\nclass DotRenderer3 extends _renderer__WEBPACK_IMPORTED_MODULE_1__.Renderer {\r\n    constructor(gl, radius = 5, color = [1, 1, 1, 1], square = true) {\r\n        // note: I like vertex & fragments to be included in the script itself.\r\n        // when you change vertex or fragment, this class has to deal with it.\r\n        // putting them somewhere else doesnt make sense to me,\r\n        // they are coupled 1 to 1.\r\n        let vertexSource = `\n        precision mediump int;\n        precision mediump float;\n\n        uniform mat4 u_transform;\n        uniform vec4 u_color;\n        uniform float u_size;\n\n        attribute vec3 a_vertex;\n\n        void main() {\n            // Set the size of a rendered point.\n            gl_PointSize = u_size;\n\n            // Transform the location of the vertex.\n            gl_Position = u_transform * vec4(a_vertex, 1.0);\n        }\n\n        `;\r\n        let fragmentSourceSquare = `\n        precision mediump int;\n        precision mediump float;\n\n        uniform vec4 u_color;\n        // vec2 center = vec2(0.5, 0.5);\n\n        void main() {\n            gl_FragColor = u_color;\n        }\n        `;\r\n        let fragmentSourceRound = `\n        precision mediump int;\n        precision mediump float;\n\n        uniform vec4 u_color;\n        vec2 center = vec2(0.5, 0.5);\n\n        void main() {\n            if (distance(center, gl_PointCoord) > 0.5) {\n               discard;\n            }\n            gl_FragColor = u_color;\n        }\n        `;\r\n        // setup program\r\n        if (square) {\r\n            super(gl, vertexSource, fragmentSourceSquare);\r\n        }\r\n        else {\r\n            super(gl, vertexSource, fragmentSourceRound);\r\n        }\r\n        this.u_transform = gl.getUniformLocation(this.program, \"u_transform\");\r\n        this.u_size = gl.getUniformLocation(this.program, \"u_size\");\r\n        this.u_color = gl.getUniformLocation(this.program, \"u_color\");\r\n        this.color = color;\r\n        this.size = radius;\r\n        this.count = 0;\r\n        // Bind it to ARRAY_BUFFER (think of it as ARRAY_BUFFER = positionBuffer)\r\n        // look up where the vertex data needs to go.\r\n        this.a_position = gl.getAttribLocation(this.program, \"a_vertex\");\r\n        this.a_position_buffer = gl.createBuffer();\r\n        gl.bindBuffer(gl.ARRAY_BUFFER, this.a_position_buffer);\r\n    }\r\n    set(vectors, speed) {\r\n        let gl = this.gl;\r\n        gl.useProgram(this.program);\r\n        // convert all possible entries to a general entry\r\n        let array = (0,_data_vector_array__WEBPACK_IMPORTED_MODULE_0__.getGeneralFloatMatrix)(vectors);\r\n        // from some other thing\r\n        this.count = array.count();\r\n        // // Bind the position buffer.\r\n        gl.bindBuffer(gl.ARRAY_BUFFER, this.a_position_buffer);\r\n        gl.vertexAttribPointer(this.a_position, array._width, gl.FLOAT, false, 0, 0);\r\n        gl.bufferData(gl.ARRAY_BUFFER, array.data, super.convertDrawSpeed(speed));\r\n    }\r\n    render(gl, matrix) {\r\n        // Tell it to use our program (pair of shaders)\r\n        gl.useProgram(this.program);\r\n        // set uniforms\r\n        // console.log(matrix.data);\r\n        gl.uniformMatrix4fv(this.u_transform, false, matrix.data);\r\n        gl.uniform1f(this.u_size, this.size);\r\n        gl.uniform4f(this.u_color, this.color[0], this.color[1], this.color[2], this.color[3]);\r\n        // // Bind the position buffer.\r\n        gl.bindBuffer(gl.ARRAY_BUFFER, this.a_position_buffer);\r\n        gl.enableVertexAttribArray(this.a_position);\r\n        // Draw the point.\r\n        gl.drawArrays(gl.POINTS, 0, this.count);\r\n    }\r\n    setAndRender(gl, matrix, vectors) {\r\n        this.set(vectors, _renderer__WEBPACK_IMPORTED_MODULE_1__.DrawSpeed.DynamicDraw);\r\n        this.render(gl, matrix);\r\n    }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9nZW9uLWVuZ2luZS8uL3NyYy9yZW5kZXIvZG90LXJlbmRlcmVyMy50cz9iMGNkIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLGVBQWU7QUFHMEU7QUFHeEM7QUFFMUMsTUFBTSxZQUFhLFNBQVEsK0NBQVE7SUFhdEMsWUFBWSxFQUF5QixFQUFFLFNBQWlCLENBQUMsRUFBRSxRQUFrQixDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLFNBQWtCLElBQUk7UUFDN0csdUVBQXVFO1FBQ3ZFLHNFQUFzRTtRQUN0RSx1REFBdUQ7UUFDdkQsMkJBQTJCO1FBQzNCLElBQUksWUFBWSxHQUFXOzs7Ozs7Ozs7Ozs7Ozs7Ozs7U0FrQjFCLENBQUM7UUFDRixJQUFJLG9CQUFvQixHQUFXOzs7Ozs7Ozs7O1NBVWxDLENBQUM7UUFFRixJQUFJLG1CQUFtQixHQUFXOzs7Ozs7Ozs7Ozs7O1NBYWpDLENBQUM7UUFFRixnQkFBZ0I7UUFDaEIsSUFBSSxNQUFNLEVBQUU7WUFDUixLQUFLLENBQUMsRUFBRSxFQUFFLFlBQVksRUFBRSxvQkFBb0IsQ0FBQyxDQUFDO1NBQ2pEO2FBQU07WUFDSCxLQUFLLENBQUMsRUFBRSxFQUFFLFlBQVksRUFBRSxtQkFBbUIsQ0FBQyxDQUFDO1NBQ2hEO1FBRUQsSUFBSSxDQUFDLFdBQVcsR0FBRyxFQUFFLENBQUMsa0JBQWtCLENBQUMsSUFBSSxDQUFDLE9BQU8sRUFBRSxhQUFhLENBQUUsQ0FBQztRQUN2RSxJQUFJLENBQUMsTUFBTSxHQUFHLEVBQUUsQ0FBQyxrQkFBa0IsQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLFFBQVEsQ0FBRSxDQUFDO1FBQzdELElBQUksQ0FBQyxPQUFPLEdBQUcsRUFBRSxDQUFDLGtCQUFrQixDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUUsU0FBUyxDQUFFLENBQUM7UUFFL0QsSUFBSSxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUM7UUFDbkIs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LCJzb3VyY2VzQ29udGVudCI6WyIvLyBqb3MgZmVlbnN0cmFcblxuaW1wb3J0IHsgRmxvYXRNYXRyaXggfSBmcm9tIFwiLi4vZGF0YS9mbG9hdC1tYXRyaXhcIjtcbmltcG9ydCB7IGdldEdlbmVyYWxGbG9hdE1hdHJpeCwgVmVjdG9yMkFycmF5LCBWZWN0b3IzQXJyYXkgfSBmcm9tIFwiLi4vZGF0YS92ZWN0b3ItYXJyYXlcIjtcbmltcG9ydCB7IE1hdHJpeDQgfSBmcm9tIFwiLi4vbWF0aC9tYXRyaXhcIjtcbmltcG9ydCB7IFZlY3RvcjIsIFZlY3RvcjMgfSBmcm9tIFwiLi4vbWF0aC92ZWN0b3JcIjtcbmltcG9ydCB7IERyYXdTcGVlZCwgUmVuZGVyZXIgfSBmcm9tIFwiLi9yZW5kZXJlclwiO1xuXG5leHBvcnQgY2xhc3MgRG90UmVuZGVyZXIzIGV4dGVuZHMgUmVuZGVyZXIge1xuICAgIC8vIGF0dHJpYnV0ZSAmIHVuaWZvcm0gbG9jYXRpb25zXG4gICAgYV9wb3NpdGlvbjogbnVtYmVyO1xuICAgIGFfcG9zaXRpb25fYnVmZmVyOiBXZWJHTEJ1ZmZlcjtcblxuICAgIHVfdHJhbnNmb3JtOiBXZWJHTFVuaWZvcm1Mb2NhdGlvbjtcbiAgICB1X2NvbG9yOiBXZWJHTFVuaWZvcm1Mb2NhdGlvbjtcbiAgICB1X3NpemU6IFdlYkdMVW5pZm9ybUxvY2F0aW9uO1xuXG4gICAgY29sb3I6IG51bWJlcltdO1xuICAgIHNpemU6IG51bWJlcjtcbiAgICBjb3VudDogbnVtYmVyO1xuXG4gICAgY29uc3RydWN0b3IoZ2w6IFdlYkdMUmVuZGVyaW5nQ29udGV4dCwgcmFkaXVzOiBudW1iZXIgPSA1LCBjb2xvcjogbnVtYmVyW10gPSBbMSwgMSwgMSwgMV0sIHNxdWFyZTogYm9vbGVhbiA9IHRydWUpIHtcbiAgICAgICAgLy8gbm90ZTogSSBsaWtlIHZlcnRleCAmIGZyYWdtZW50cyB0byBiZSBpbmNsdWRlZCBpbiB0aGUgc2NyaXB0IGl0c2VsZi5cbiAgICAgICAgLy8gd2hlbiB5b3UgY2hhbmdlIHZlcnRleCBvciBmcmFnbWVudCwgdGhpcyBjbGFzcyBoYXMgdG8gZGVhbCB3aXRoIGl0LlxuICAgICAgICAvLyBwdXR0aW5nIHRoZW0gc29tZXdoZXJlIGVsc2UgZG9lc250IG1ha2Ugc2Vuc2UgdG8gbWUsXG4gICAgICAgIC8vIHRoZXkgYXJlIGNvdXBsZWQgMSB0byAxLlxuICAgICAgICBsZXQgdmVydGV4U291cmNlOiBzdHJpbmcgPSBgXG4gICAgICAgIHByZWNpc2lvbiBtZWRpdW1wIGludDtcbiAgICAgICAgcHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7XG5cbiAgICAgICAgdW5pZm9ybSBtYXQ0IHVfdHJhbnNmb3JtO1xuICAgICAgICB1bmlmb3JtIHZlYzQgdV9jb2xvcjtcbiAgICAgICAgdW5pZm9ybSBmbG9hdCB1X3NpemU7XG5cbiAgICAgICAgYXR0cmlidXRlIHZlYzMgYV92ZXJ0ZXg7XG5cbiAgICAgICAgdm9pZCBtYWluKCkge1xuICAgICAgICAgICAgLy8gU2V0IHRoZSBzaXplIG9mIGEgcmVuZGVyZWQgcG9pbnQuXG4gICAgICAgICAgICBnbF9Qb2ludFNpemUgPSB1X3NpemU7XG5cbiAgICAgICAgICAgIC8vIFRyYW5zZm9ybSB0aGUgbG9jYXRpb24gb2YgdGhlIHZlcnRleC5cbiAgICAgICAgICAgIGdsX1Bvc2l0aW9uID0gdV90cmFuc2Zvcm0gKiB2ZWM0KGFfdmVydGV4LCAxLjApO1xuICAgICAgICB9XG5cbiAgICAgICAgYDtcbiAgICAgICAgbGV0IGZyYWdtZW50U291cmNlU3F1YXJlOiBzdHJpbmcgPSBgXG4gICAgICAgIHByZWNpc2lvbiBtZWRpdW1wIGludDtcbiAgICAgICAgcHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7XG5cbiAgICAgICAgdW5pZm9ybSB2ZWM0IHVfY29sb3I7XG4gICAgICAgIC8vIHZlYzIgY2VudGVyID0gdmVjMigwLjUsIDAuNSk7XG5cbiAgICAgICAgdm9pZCBtYWluKCkge1xuICAgICAgICAgICAgZ2xfRnJhZ0NvbG9yID0gdV9jb2xvcjtcbiAgICAgICAgfVxuICAgICAgICBgO1xuXG4gICAgICAgIGxldCBmcmFnbWVudFNvdXJjZVJvdW5kOiBzdHJpbmcgPSBgXG4gICAgICAgIHByZWNpc2lvbiBtZWRpdW1wIGludDtcbiAgICAgICAgcHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7XG5cbiAgICAgICAgdW5pZm9ybSB2ZWM0IHVfY29sb3I7XG4gICAgICAgIHZlYzIgY2VudGVyID0gdmVjMigwLjUsIDAuNSk7XG5cbiAgICAgICAgdm9pZCBtYWluKCkge1xuICAgICAgICAgICAgaWYgKGRpc3RhbmNlKGNlbnRlciwgZ2xfUG9pbnRDb29yZCkgPiAwLjUpIHtcbiAgICAgICAgICAgICAgIGRpc2NhcmQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBnbF9GcmFnQ29sb3IgPSB1X2NvbG9yO1xuICAgICAgICB9XG4gICAgICAgIGA7XG5cbiAgICAgICAgLy8gc2V0dXAgcHJvZ3JhbVxuICAgICAgICBpZiAoc3F1YXJlKSB7XG4gICAgICAgICAgICBzdXBlcihnbCwgdmVydGV4U291cmNlLCBmcmFnbWVudFNvdXJjZVNxdWFyZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzdXBlcihnbCwgdmVydGV4U291cmNlLCBmcmFnbWVudFNvdXJjZVJvdW5kKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMudV90cmFuc2Zvcm0gPSBnbC5nZXRVbmlmb3JtTG9jYXRpb24odGhpcy5wcm9ncmFtLCBcInVfdHJhbnNmb3JtXCIpITtcbiAgICAgICAgdGhpcy51X3NpemUgPSBnbC5nZXRVbmlmb3JtTG9jYXRpb24odGhpcy5wcm9ncmFtLCBcInVfc2l6ZVwiKSE7XG4gICAgICAgIHRoaXMudV9jb2xvciA9IGdsLmdldFVuaWZvcm1Mb2NhdGlvbih0aGlzLnByb2dyYW0sIFwidV9jb2xvclwiKSE7XG5cbiAgICAgICAgdGhpcy5jb2xvciA9IGNvbG9yO1xuICAgICAgICB0aGlzLnNpemUgPSByYWRpdXM7XG4gICAgICAgIHRoaXMuY291bnQgPSAwO1xuXG4gICAgICAgIC8vIEJpbmQgaXQgdG8gQVJSQVlfQlVGRkVSICh0aGluayBvZiBpdCBhcyBBUlJBWV9CVUZGRVIgPSBwb3NpdGlvbkJ1ZmZlcilcbiAgICAgICAgLy8gbG9vayB1cCB3aGVyZSB0aGUgdmVydGV4IGRhdGEgbmVlZHMgdG8gZ28uXG4gICAgICAgIHRoaXMuYV9wb3NpdGlvbiA9IGdsLmdldEF0dHJpYkxvY2F0aW9uKHRoaXMucHJvZ3JhbSwgXCJhX3ZlcnRleFwiKTtcbiAgICAgICAgdGhpcy5hX3Bvc2l0aW9uX2J1ZmZlciA9IGdsLmNyZWF0ZUJ1ZmZlcigpITtcbiAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIHRoaXMuYV9wb3NpdGlvbl9idWZmZXIpO1xuICAgIH1cblxuICAgIHNldCh2ZWN0b3JzOiBWZWN0b3IyQXJyYXkgfCBWZWN0b3IzQXJyYXkgfCBWZWN0b3IyW10gfCBWZWN0b3IzW10sIHNwZWVkOiBEcmF3U3BlZWQpIHtcbiAgICAgICAgbGV0IGdsID0gdGhpcy5nbDtcbiAgICAgICAgZ2wudXNlUHJvZ3JhbSh0aGlzLnByb2dyYW0pO1xuXG4gICAgICAgIC8vIGNvbnZlcnQgYWxsIHBvc3NpYmxlIGVudHJpZXMgdG8gYSBnZW5lcmFsIGVudHJ5XG4gICAgICAgIGxldCBhcnJheSA9IGdldEdlbmVyYWxGbG9hdE1hdHJpeCh2ZWN0b3JzKTtcblxuICAgICAgICAvLyBmcm9tIHNvbWUgb3RoZXIgdGhpbmdcbiAgICAgICAgdGhpcy5jb3VudCA9IGFycmF5LmNvdW50KCk7XG5cbiAgICAgICAgLy8gLy8gQmluZCB0aGUgcG9zaXRpb24gYnVmZmVyLlxuICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgdGhpcy5hX3Bvc2l0aW9uX2J1ZmZlcik7XG4gICAgICAgIGdsLnZlcnRleEF0dHJpYlBvaW50ZXIodGhpcy5hX3Bvc2l0aW9uLCBhcnJheS5fd2lkdGgsIGdsLkZMT0FULCBmYWxzZSwgMCwgMCk7XG4gICAgICAgIGdsLmJ1ZmZlckRhdGEoZ2wuQVJSQVlfQlVGRkVSLCBhcnJheS5kYXRhLCBzdXBlci5jb252ZXJ0RHJhd1NwZWVkKHNwZWVkKSk7XG4gICAgfVxuXG4gICAgcmVuZGVyKGdsOiBXZWJHTFJlbmRlcmluZ0NvbnRleHQsIG1hdHJpeDogTWF0cml4NCkge1xuICAgICAgICAvLyBUZWxsIGl0IHRvIHVzZSBvdXIgcHJvZ3JhbSAocGFpciBvZiBzaGFkZXJzKVxuICAgICAgICBnbC51c2VQcm9ncmFtKHRoaXMucHJvZ3JhbSk7XG5cbiAgICAgICAgLy8gc2V0IHVuaWZvcm1zXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKG1hdHJpeC5kYXRhKTtcbiAgICAgICAgZ2wudW5pZm9ybU1hdHJpeDRmdih0aGlzLnVfdHJhbnNmb3JtLCBmYWxzZSwgbWF0cml4LmRhdGEpO1xuICAgICAgICBnbC51bmlmb3JtMWYodGhpcy51X3NpemUsIHRoaXMuc2l6ZSk7XG4gICAgICAgIGdsLnVuaWZvcm00Zih0aGlzLnVfY29sb3IsIHRoaXMuY29sb3JbMF0sIHRoaXMuY29sb3JbMV0sIHRoaXMuY29sb3JbMl0sIHRoaXMuY29sb3JbM10pO1xuXG4gICAgICAgIC8vIC8vIEJpbmQgdGhlIHBvc2l0aW9uIGJ1ZmZlci5cbiAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIHRoaXMuYV9wb3NpdGlvbl9idWZmZXIpO1xuICAgICAgICBnbC5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheSh0aGlzLmFfcG9zaXRpb24pO1xuXG4gICAgICAgIC8vIERyYXcgdGhlIHBvaW50LlxuICAgICAgICBnbC5kcmF3QXJyYXlzKGdsLlBPSU5UUywgMCwgdGhpcy5jb3VudCk7XG4gICAgfVxuXG4gICAgc2V0QW5kUmVuZGVyKFxuICAgICAgICBnbDogV2ViR0xSZW5kZXJpbmdDb250ZXh0LFxuICAgICAgICBtYXRyaXg6IE1hdHJpeDQsXG4gICAgICAgIHZlY3RvcnM6IFZlY3RvcjJBcnJheSB8IFZlY3RvcjNBcnJheSB8IFZlY3RvcjJbXSB8IFZlY3RvcjNbXSxcbiAgICApIHtcbiAgICAgICAgdGhpcy5zZXQodmVjdG9ycywgRHJhd1NwZWVkLkR5bmFtaWNEcmF3KTtcbiAgICAgICAgdGhpcy5yZW5kZXIoZ2wsIG1hdHJpeCk7XG4gICAgfVxufVxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/render/dot-renderer3.ts\n");

/***/ }),

/***/ "./src/render/graph-debug-renderer.ts":
/*!********************************************!*\
  !*** ./src/render/graph-debug-renderer.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"GraphDebugRenderer\": () => /* binding */ GraphDebugRenderer\n/* harmony export */ });\n/* harmony import */ var _renderer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./renderer */ \"./src/render/renderer.ts\");\n/* harmony import */ var _line_renderer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./line-renderer */ \"./src/render/line-renderer.ts\");\n/* harmony import */ var _simple_mesh_renderer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./simple-mesh-renderer */ \"./src/render/simple-mesh-renderer.ts\");\n/* harmony import */ var _mesh_normals_renderer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./mesh-normals-renderer */ \"./src/render/mesh-normals-renderer.ts\");\n/* harmony import */ var _dot_renderer3__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./dot-renderer3 */ \"./src/render/dot-renderer3.ts\");\n// name:    mesh-renderer.ts\r\n// author:  Jos Feenstra\r\n// purpose: WebGL based rendering of a mesh.\r\n\r\n\r\n\r\n\r\n\r\nclass GraphDebugRenderer {\r\n    constructor(gl, faceColor = [1, 0, 0, 0.25], edgeColor = [1, 0, 0, 1], renderNormal = true) {\r\n        this.faceRend = new _simple_mesh_renderer__WEBPACK_IMPORTED_MODULE_2__.SimpleMeshRenderer(gl, faceColor);\r\n        this.lineRend = new _line_renderer__WEBPACK_IMPORTED_MODULE_1__.LineRenderer(gl, edgeColor);\r\n        this.pointRend = new _dot_renderer3__WEBPACK_IMPORTED_MODULE_4__.DotRenderer3(gl, 7, edgeColor, false);\r\n        if (renderNormal)\r\n            this.normRend = new _mesh_normals_renderer__WEBPACK_IMPORTED_MODULE_3__.NormalRenderer(gl);\r\n    }\r\n    set(graph, speed = _renderer__WEBPACK_IMPORTED_MODULE_0__.DrawSpeed.StaticDraw) {\r\n        //this.faceRend.setMesh(gl, mesh);\r\n        this.pointRend.set(graph.allVertPositions(), speed);\r\n        this.lineRend.set(this.lineRend.gl, graph.toLines(), speed);\r\n        // this.normRend?.setWithLists(graph.allVertPositions(), graph.allNorms(), speed);\r\n    }\r\n    // render 1 image to the screen\r\n    render(gl, camera) {\r\n        this.pointRend.render(gl, camera.totalMatrix);\r\n        // this.faceRend.render(gl, camera.totalMatrix);\r\n        this.lineRend.render(gl, camera.totalMatrix);\r\n        // this.normRend?.render(gl, camera);\r\n    }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9nZW9uLWVuZ2luZS8uL3NyYy9yZW5kZXIvZ3JhcGgtZGVidWctcmVuZGVyZXIudHM/YjIxOCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQSw0QkFBNEI7QUFDNUIsd0JBQXdCO0FBQ3hCLDRDQUE0QztBQU9LO0FBQ0Y7QUFDYTtBQUNIO0FBRVY7QUFHeEMsTUFBTSxrQkFBa0I7SUFNM0IsWUFBWSxFQUF5QixFQUFFLFNBQVMsR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLElBQUksQ0FBQyxFQUFFLFNBQVMsR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLFlBQVksR0FBRyxJQUFJO1FBQzdHLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxxRUFBa0IsQ0FBQyxFQUFFLEVBQUUsU0FBUyxDQUFDLENBQUM7UUFDdEQsSUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLHdEQUFZLENBQUMsRUFBRSxFQUFFLFNBQVMsQ0FBQyxDQUFDO1FBQ2hELElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSx3REFBWSxDQUFDLEVBQUUsRUFBRSxDQUFDLEVBQUUsU0FBUyxFQUFFLEtBQUssQ0FBQyxDQUFDO1FBQzNELElBQUksWUFBWTtZQUFFLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxrRUFBYyxDQUFDLEVBQUUsQ0FBQyxDQUFDO0lBQzdELENBQUM7SUFFRCxHQUFHLENBQUMsS0FBWSxFQUFFLFFBQW1CLDJEQUFvQjtRQUNyRCxrQ0FBa0M7UUFFbEMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLGdCQUFnQixFQUFFLEVBQUUsS0FBSyxDQUFDLENBQUM7UUFDcEQsSUFBSSxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxFQUFFLEVBQUUsS0FBSyxDQUFDLE9BQU8sRUFBRSxFQUFFLEtBQUssQ0FBQyxDQUFDO1FBQzVELGtGQUFrRjtJQUN0RixDQUFDO0lBRUQsK0JBQStCO0lBQy9CLE1BQU0sQ0FBQyxFQUF5QixFQUFFLE1BQWM7UUFDNUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsRUFBRSxFQUFFLE1BQU0sQ0FBQyxXQUFXLENBQUMsQ0FBQztRQUM5QyxnREFBZ0Q7UUFDaEQsSUFBSSxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUMsRUFBRSxFQUFFLE1BQU0sQ0FBQyxXQUFXLENBQUMsQ0FBQztRQUM3QyxxQ0FBcUM7SUFDekMsQ0FBQztDQUNKIiwiZmlsZSI6Ii4vc3JjL3JlbmRlci9ncmFwaC1kZWJ1Zy1yZW5kZXJlci50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIG5hbWU6ICAgIG1lc2gtcmVuZGVyZXIudHNcbi8vIGF1dGhvcjogIEpvcyBGZWVuc3RyYVxuLy8gcHVycG9zZTogV2ViR0wgYmFzZWQgcmVuZGVyaW5nIG9mIGEgbWVzaC5cblxuaW1wb3J0IHsgSW50TWF0cml4IH0gZnJvbSBcIi4uL2RhdGEvaW50LW1hdHJpeFwiO1xuaW1wb3J0IHsgTGluZUFycmF5IH0gZnJvbSBcIi4uL21lc2gvbGluZS1hcnJheVwiO1xuaW1wb3J0IHsgVmVjdG9yM0FycmF5IH0gZnJvbSBcIi4uL2RhdGEvdmVjdG9yLWFycmF5XCI7XG5pbXBvcnQgeyBSZW5kZXJhYmxlIH0gZnJvbSBcIi4uL21lc2gvcmVuZGVyLW1lc2hcIjtcbmltcG9ydCB7IE1hdHJpeDQgfSBmcm9tIFwiLi4vbWF0aC9tYXRyaXhcIjtcbmltcG9ydCB7IERyYXdTcGVlZCwgUmVuZGVyZXIgfSBmcm9tIFwiLi9yZW5kZXJlclwiO1xuaW1wb3J0IHsgTGluZVJlbmRlcmVyIH0gZnJvbSBcIi4vbGluZS1yZW5kZXJlclwiO1xuaW1wb3J0IHsgU2ltcGxlTWVzaFJlbmRlcmVyIH0gZnJvbSBcIi4vc2ltcGxlLW1lc2gtcmVuZGVyZXJcIjtcbmltcG9ydCB7IE5vcm1hbFJlbmRlcmVyIH0gZnJvbSBcIi4vbWVzaC1ub3JtYWxzLXJlbmRlcmVyXCI7XG5pbXBvcnQgeyBDYW1lcmEgfSBmcm9tIFwiLi9jYW1lcmFcIjtcbmltcG9ydCB7IERvdFJlbmRlcmVyMyB9IGZyb20gXCIuL2RvdC1yZW5kZXJlcjNcIjtcbmltcG9ydCB7IEdyYXBoIH0gZnJvbSBcIi4uL21lc2gvZ3JhcGhcIjtcblxuZXhwb3J0IGNsYXNzIEdyYXBoRGVidWdSZW5kZXJlciB7XG4gICAgZmFjZVJlbmQ6IFNpbXBsZU1lc2hSZW5kZXJlcjtcbiAgICBsaW5lUmVuZDogTGluZVJlbmRlcmVyO1xuICAgIHBvaW50UmVuZDogRG90UmVuZGVyZXIzO1xuICAgIG5vcm1SZW5kPzogTm9ybWFsUmVuZGVyZXI7XG5cbiAgICBjb25zdHJ1Y3RvcihnbDogV2ViR0xSZW5kZXJpbmdDb250ZXh0LCBmYWNlQ29sb3IgPSBbMSwgMCwgMCwgMC4yNV0sIGVkZ2VDb2xvciA9IFsxLCAwLCAwLCAxXSwgcmVuZGVyTm9ybWFsID0gdHJ1ZSkge1xuICAgICAgICB0aGlzLmZhY2VSZW5kID0gbmV3IFNpbXBsZU1lc2hSZW5kZXJlcihnbCwgZmFjZUNvbG9yKTtcbiAgICAgICAgdGhpcy5saW5lUmVuZCA9IG5ldyBMaW5lUmVuZGVyZXIoZ2wsIGVkZ2VDb2xvcik7XG4gICAgICAgIHRoaXMucG9pbnRSZW5kID0gbmV3IERvdFJlbmRlcmVyMyhnbCwgNywgZWRnZUNvbG9yLCBmYWxzZSk7XG4gICAgICAgIGlmIChyZW5kZXJOb3JtYWwpIHRoaXMubm9ybVJlbmQgPSBuZXcgTm9ybWFsUmVuZGVyZXIoZ2wpO1xuICAgIH1cblxuICAgIHNldChncmFwaDogR3JhcGgsIHNwZWVkOiBEcmF3U3BlZWQgPSBEcmF3U3BlZWQuU3RhdGljRHJhdykge1xuICAgICAgICAvL3RoaXMuZmFjZVJlbmQuc2V0TWVzaChnbCwgbWVzaCk7XG5cbiAgICAgICAgdGhpcy5wb2ludFJlbmQuc2V0KGdyYXBoLmFsbFZlcnRQb3NpdGlvbnMoKSwgc3BlZWQpO1xuICAgICAgICB0aGlzLmxpbmVSZW5kLnNldCh0aGlzLmxpbmVSZW5kLmdsLCBncmFwaC50b0xpbmVzKCksIHNwZWVkKTtcbiAgICAgICAgLy8gdGhpcy5ub3JtUmVuZD8uc2V0V2l0aExpc3RzKGdyYXBoLmFsbFZlcnRQb3NpdGlvbnMoKSwgZ3JhcGguYWxsTm9ybXMoKSwgc3BlZWQpO1xuICAgIH1cblxuICAgIC8vIHJlbmRlciAxIGltYWdlIHRvIHRoZSBzY3JlZW5cbiAgICByZW5kZXIoZ2w6IFdlYkdMUmVuZGVyaW5nQ29udGV4dCwgY2FtZXJhOiBDYW1lcmEpIHtcbiAgICAgICAgdGhpcy5wb2ludFJlbmQucmVuZGVyKGdsLCBjYW1lcmEudG90YWxNYXRyaXgpO1xuICAgICAgICAvLyB0aGlzLmZhY2VSZW5kLnJlbmRlcihnbCwgY2FtZXJhLnRvdGFsTWF0cml4KTtcbiAgICAgICAgdGhpcy5saW5lUmVuZC5yZW5kZXIoZ2wsIGNhbWVyYS50b3RhbE1hdHJpeCk7XG4gICAgICAgIC8vIHRoaXMubm9ybVJlbmQ/LnJlbmRlcihnbCwgY2FtZXJhKTtcbiAgICB9XG59XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/render/graph-debug-renderer.ts\n");

/***/ }),

/***/ "./src/render/line-renderer.ts":
/*!*************************************!*\
  !*** ./src/render/line-renderer.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"LineRenderer\": () => /* binding */ LineRenderer\n/* harmony export */ });\n/* harmony import */ var _renderer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./renderer */ \"./src/render/renderer.ts\");\n/* harmony import */ var _mesh_mesh__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../mesh/mesh */ \"./src/mesh/mesh.ts\");\n// name:    simple-line-renderer.ts\r\n// author:  Jos Feenstra\r\n// purpose: WebGL based rendering of lines.\r\n\r\n\r\nclass LineRenderer extends _renderer__WEBPACK_IMPORTED_MODULE_0__.Renderer {\r\n    constructor(gl, color = [1, 0, 0, 0.5]) {\r\n        // note: I like vertex & fragments to be included in the script itself.\r\n        // when you change vertex or fragment, this class has to deal with it.\r\n        // putting them somewhere else doesnt make sense to me,\r\n        // they are coupled 1 to 1.\r\n        const vs = `\n        precision mediump int;\n        precision mediump float;\n\n        attribute vec4 a_position;\n        uniform mat4 u_transform;\n        uniform vec4 u_color;\n\n        void main() {\n            gl_Position = u_transform * a_position;\n        }\n        `;\r\n        const fs = `\n        precision mediump int;\n        precision mediump float;\n\n        uniform vec4 u_color;\n\n        void main () {\n            gl_FragColor = u_color;\n        }\n        `;\r\n        // setup program\r\n        super(gl, vs, fs);\r\n        this.u_transform = gl.getUniformLocation(this.program, \"u_transform\");\r\n        this.u_color = gl.getUniformLocation(this.program, \"u_color\");\r\n        // we need 2 buffers\r\n        this.a_position = gl.getAttribLocation(this.program, \"a_position\");\r\n        this.a_position_buffer = gl.createBuffer();\r\n        this.index_buffer = gl.createBuffer();\r\n        // set uniforms which wont change\r\n        gl.useProgram(this.program);\r\n        gl.uniform4f(this.u_color, color[0], color[1], color[2], color[3]);\r\n        this.count = 0;\r\n        this.vertCount = 0;\r\n    }\r\n    set(gl, data, speed = _renderer__WEBPACK_IMPORTED_MODULE_0__.DrawSpeed.StaticDraw) {\r\n        // save how many faces need to be drawn\r\n        let links;\r\n        let verts;\r\n        if (data instanceof _mesh_mesh__WEBPACK_IMPORTED_MODULE_1__.Mesh) {\r\n            verts = data.verts;\r\n            links = data.links.getData();\r\n        }\r\n        else {\r\n            verts = data.verts;\r\n            links = data.links;\r\n        }\r\n        // console.log(links);\r\n        gl.useProgram(this.program);\r\n        this.count = links.length;\r\n        this.vertCount = verts._width;\r\n        let drawspeed = this.convertDrawSpeed(speed);\r\n        // vertices\r\n        gl.bindBuffer(gl.ARRAY_BUFFER, this.a_position_buffer);\r\n        gl.enableVertexAttribArray(this.a_position);\r\n        gl.vertexAttribPointer(this.a_position, this.vertCount, gl.FLOAT, false, 0, 0);\r\n        gl.bufferData(gl.ARRAY_BUFFER, verts.data, drawspeed);\r\n        // indices\r\n        gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, this.index_buffer);\r\n        gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, links.buffer, drawspeed);\r\n    }\r\n    render(gl, matrix) {\r\n        // Tell it to use our program (pair of shaders)\r\n        // POINTERS MUST ALSO BE SET, DO EVERYTHING EXCEPT GL.BUFFERDATA\r\n        gl.useProgram(this.program);\r\n        gl.enableVertexAttribArray(this.a_position);\r\n        gl.bindBuffer(gl.ARRAY_BUFFER, this.a_position_buffer);\r\n        gl.vertexAttribPointer(this.a_position, this.vertCount, gl.FLOAT, false, 0, 0);\r\n        gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, this.index_buffer);\r\n        // set uniforms\r\n        gl.uniformMatrix4fv(this.u_transform, false, matrix.data);\r\n        // Draw the point.\r\n        gl.drawElements(gl.LINES, this.count, gl.UNSIGNED_SHORT, 0);\r\n    }\r\n    setAndRender(gl, matrix, data) {\r\n        this.set(gl, data, _renderer__WEBPACK_IMPORTED_MODULE_0__.DrawSpeed.DynamicDraw);\r\n        this.render(gl, matrix);\r\n    }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9nZW9uLWVuZ2luZS8uL3NyYy9yZW5kZXIvbGluZS1yZW5kZXJlci50cz9jNWVjIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLG1DQUFtQztBQUNuQyx3QkFBd0I7QUFDeEIsMkNBQTJDO0FBU007QUFDYjtBQUU3QixNQUFNLFlBQWEsU0FBUSwrQ0FBUTtJQVF0QyxZQUFZLEVBQXlCLEVBQUUsS0FBSyxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsR0FBRyxDQUFDO1FBQ3pELHVFQUF1RTtRQUN2RSxzRUFBc0U7UUFDdEUsdURBQXVEO1FBQ3ZELDJCQUEyQjtRQUMzQixNQUFNLEVBQUUsR0FBRzs7Ozs7Ozs7Ozs7U0FXVixDQUFDO1FBRUYsTUFBTSxFQUFFLEdBQUc7Ozs7Ozs7OztTQVNWLENBQUM7UUFFRixnQkFBZ0I7UUFDaEIsS0FBSyxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxDQUFDLENBQUM7UUFDbEIsSUFBSSxDQUFDLFdBQVcsR0FBRyxFQUFFLENBQUMsa0JBQWtCLENBQUMsSUFBSSxDQUFDLE9BQU8sRUFBRSxhQUFhLENBQUUsQ0FBQztRQUN2RSxJQUFJLENBQUMsT0FBTyxHQUFHLEVBQUUsQ0FBQyxrQkFBa0IsQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLFNBQVMsQ0FBRSxDQUFDO1FBRS9ELG9CQUFvQjtRQUNwQixJQUFJLENBQUMsVUFBVSxHQUFHLEVBQUUsQ0FBQyxpQkFBaUIsQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLFlBQVksQ0FBQyxDQUFDO1FBRW5FLElBQUksQ0FBQyxpQkFBaUIsR0FBRyxFQUFFLENBQUMsWUFBWSxFQUFHLENBQUM7UUFDNUMsSUFBSSxDQUFDLFlBQVksR0FBRyxFQUFFLENBQUMsWUFBWSxFQUFHLENBQUM7UUFFdkMsaUNBQWlDO1FBQ2pDLEVBQUUsQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBQzVCLEVBQUUs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QjtRQUNsQixFQUFFLENBQUMsWUFBWSxDQUFDLEVBQUUsQ0FBQyxLQUFLLEVBQUUsSUFBSSxDQUFDLEtBQUssRUFBRSxFQUFFLENBQUMsY0FBYyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQ2hFLENBQUM7SUFFRCxZQUFZLENBQUMsRUFBeUIsRUFBRSxNQUFlLEVBQUUsSUFBZTtRQUNwRSxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsRUFBRSxJQUFJLEVBQUUsNERBQXFCLENBQUMsQ0FBQztRQUMxQyxJQUFJLENBQUMsTUFBTSxDQUFDLEVBQUUsRUFBRSxNQUFNLENBQUMsQ0FBQztJQUM1QixDQUFDO0NBQ0oiLCJmaWxlIjoiLi9zcmMvcmVuZGVyL2xpbmUtcmVuZGVyZXIudHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBuYW1lOiAgICBzaW1wbGUtbGluZS1yZW5kZXJlci50c1xuLy8gYXV0aG9yOiAgSm9zIEZlZW5zdHJhXG4vLyBwdXJwb3NlOiBXZWJHTCBiYXNlZCByZW5kZXJpbmcgb2YgbGluZXMuXG5cbmltcG9ydCB7IEZsb2F0TWF0cml4IH0gZnJvbSBcIi4uL2RhdGEvZmxvYXQtbWF0cml4XCI7XG5pbXBvcnQgeyBWZWN0b3IyQXJyYXksIFZlY3RvcjNBcnJheSB9IGZyb20gXCIuLi9kYXRhL3ZlY3Rvci1hcnJheVwiO1xuaW1wb3J0IHsgUmVuZGVyYWJsZSB9IGZyb20gXCIuLi9tZXNoL3JlbmRlci1tZXNoXCI7XG5pbXBvcnQgeyBQb2x5bGluZSB9IGZyb20gXCIuLi9nZW8vcG9seWxpbmVcIjtcbmltcG9ydCB7IE1hdHJpeDQgfSBmcm9tIFwiLi4vbWF0aC9tYXRyaXhcIjtcbmltcG9ydCB7IFZlY3RvcjMgfSBmcm9tIFwiLi4vbWF0aC92ZWN0b3JcIjtcbmltcG9ydCB7IExpbmVBcnJheSB9IGZyb20gXCIuLi9tZXNoL2xpbmUtYXJyYXlcIjtcbmltcG9ydCB7IERyYXdTcGVlZCwgUmVuZGVyZXIgfSBmcm9tIFwiLi9yZW5kZXJlclwiO1xuaW1wb3J0IHsgTWVzaCB9IGZyb20gXCIuLi9tZXNoL21lc2hcIjtcblxuZXhwb3J0IGNsYXNzIExpbmVSZW5kZXJlciBleHRlbmRzIFJlbmRlcmVyIHtcbiAgICBhX3Bvc2l0aW9uOiBudW1iZXI7XG4gICAgYV9wb3NpdGlvbl9idWZmZXI6IFdlYkdMQnVmZmVyO1xuICAgIGluZGV4X2J1ZmZlcjogV2ViR0xCdWZmZXI7XG4gICAgdV90cmFuc2Zvcm06IFdlYkdMVW5pZm9ybUxvY2F0aW9uO1xuICAgIHVfY29sb3I6IFdlYkdMVW5pZm9ybUxvY2F0aW9uO1xuICAgIGNvdW50OiBudW1iZXI7XG4gICAgdmVydENvdW50OiBudW1iZXI7XG4gICAgY29uc3RydWN0b3IoZ2w6IFdlYkdMUmVuZGVyaW5nQ29udGV4dCwgY29sb3IgPSBbMSwgMCwgMCwgMC41XSkge1xuICAgICAgICAvLyBub3RlOiBJIGxpa2UgdmVydGV4ICYgZnJhZ21lbnRzIHRvIGJlIGluY2x1ZGVkIGluIHRoZSBzY3JpcHQgaXRzZWxmLlxuICAgICAgICAvLyB3aGVuIHlvdSBjaGFuZ2UgdmVydGV4IG9yIGZyYWdtZW50LCB0aGlzIGNsYXNzIGhhcyB0byBkZWFsIHdpdGggaXQuXG4gICAgICAgIC8vIHB1dHRpbmcgdGhlbSBzb21ld2hlcmUgZWxzZSBkb2VzbnQgbWFrZSBzZW5zZSB0byBtZSxcbiAgICAgICAgLy8gdGhleSBhcmUgY291cGxlZCAxIHRvIDEuXG4gICAgICAgIGNvbnN0IHZzID0gYFxuICAgICAgICBwcmVjaXNpb24gbWVkaXVtcCBpbnQ7XG4gICAgICAgIHByZWNpc2lvbiBtZWRpdW1wIGZsb2F0O1xuXG4gICAgICAgIGF0dHJpYnV0ZSB2ZWM0IGFfcG9zaXRpb247XG4gICAgICAgIHVuaWZvcm0gbWF0NCB1X3RyYW5zZm9ybTtcbiAgICAgICAgdW5pZm9ybSB2ZWM0IHVfY29sb3I7XG5cbiAgICAgICAgdm9pZCBtYWluKCkge1xuICAgICAgICAgICAgZ2xfUG9zaXRpb24gPSB1X3RyYW5zZm9ybSAqIGFfcG9zaXRpb247XG4gICAgICAgIH1cbiAgICAgICAgYDtcblxuICAgICAgICBjb25zdCBmcyA9IGBcbiAgICAgICAgcHJlY2lzaW9uIG1lZGl1bXAgaW50O1xuICAgICAgICBwcmVjaXNpb24gbWVkaXVtcCBmbG9hdDtcblxuICAgICAgICB1bmlmb3JtIHZlYzQgdV9jb2xvcjtcblxuICAgICAgICB2b2lkIG1haW4gKCkge1xuICAgICAgICAgICAgZ2xfRnJhZ0NvbG9yID0gdV9jb2xvcjtcbiAgICAgICAgfVxuICAgICAgICBgO1xuXG4gICAgICAgIC8vIHNldHVwIHByb2dyYW1cbiAgICAgICAgc3VwZXIoZ2wsIHZzLCBmcyk7XG4gICAgICAgIHRoaXMudV90cmFuc2Zvcm0gPSBnbC5nZXRVbmlmb3JtTG9jYXRpb24odGhpcy5wcm9ncmFtLCBcInVfdHJhbnNmb3JtXCIpITtcbiAgICAgICAgdGhpcy51X2NvbG9yID0gZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHRoaXMucHJvZ3JhbSwgXCJ1X2NvbG9yXCIpITtcblxuICAgICAgICAvLyB3ZSBuZWVkIDIgYnVmZmVyc1xuICAgICAgICB0aGlzLmFfcG9zaXRpb24gPSBnbC5nZXRBdHRyaWJMb2NhdGlvbih0aGlzLnByb2dyYW0sIFwiYV9wb3NpdGlvblwiKTtcblxuICAgICAgICB0aGlzLmFfcG9zaXRpb25fYnVmZmVyID0gZ2wuY3JlYXRlQnVmZmVyKCkhO1xuICAgICAgICB0aGlzLmluZGV4X2J1ZmZlciA9IGdsLmNyZWF0ZUJ1ZmZlcigpITtcblxuICAgICAgICAvLyBzZXQgdW5pZm9ybXMgd2hpY2ggd29udCBjaGFuZ2VcbiAgICAgICAgZ2wudXNlUHJvZ3JhbSh0aGlzLnByb2dyYW0pO1xuICAgICAgICBnbC51bmlmb3JtNGYodGhpcy51X2NvbG9yLCBjb2xvclswXSwgY29sb3JbMV0sIGNvbG9yWzJdLCBjb2xvclszXSk7XG4gICAgICAgIHRoaXMuY291bnQgPSAwO1xuICAgICAgICB0aGlzLnZlcnRDb3VudCA9IDA7XG4gICAgfVxuXG4gICAgc2V0KGdsOiBXZWJHTFJlbmRlcmluZ0NvbnRleHQsIGRhdGE6IExpbmVBcnJheSB8IE1lc2gsIHNwZWVkID0gRHJhd1NwZWVkLlN0YXRpY0RyYXcpIHtcbiAgICAgICAgLy8gc2F2ZSBob3cgbWFueSBmYWNlcyBuZWVkIHRvIGJlIGRyYXduXG4gICAgICAgIGxldCBsaW5rcztcbiAgICAgICAgbGV0IHZlcnRzO1xuICAgICAgICBpZiAoZGF0YSBpbnN0YW5jZW9mIE1lc2gpIHtcbiAgICAgICAgICAgIHZlcnRzID0gZGF0YS52ZXJ0cztcbiAgICAgICAgICAgIGxpbmtzID0gZGF0YS5saW5rcy5nZXREYXRhKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2ZXJ0cyA9IGRhdGEudmVydHM7XG4gICAgICAgICAgICBsaW5rcyA9IGRhdGEubGlua3M7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBjb25zb2xlLmxvZyhsaW5rcyk7XG5cbiAgICAgICAgZ2wudXNlUHJvZ3JhbSh0aGlzLnByb2dyYW0pO1xuICAgICAgICB0aGlzLmNvdW50ID0gbGlua3MubGVuZ3RoO1xuICAgICAgICB0aGlzLnZlcnRDb3VudCA9IHZlcnRzLl93aWR0aDtcbiAgICAgICAgbGV0IGRyYXdzcGVlZCA9IHRoaXMuY29udmVydERyYXdTcGVlZChzcGVlZCk7XG5cbiAgICAgICAgLy8gdmVydGljZXNcbiAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIHRoaXMuYV9wb3NpdGlvbl9idWZmZXIpO1xuICAgICAgICBnbC5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheSh0aGlzLmFfcG9zaXRpb24pO1xuICAgICAgICBnbC52ZXJ0ZXhBdHRyaWJQb2ludGVyKHRoaXMuYV9wb3NpdGlvbiwgdGhpcy52ZXJ0Q291bnQsIGdsLkZMT0FULCBmYWxzZSwgMCwgMCk7XG4gICAgICAgIGdsLmJ1ZmZlckRhdGEoZ2wuQVJSQVlfQlVGRkVSLCB2ZXJ0cy5kYXRhLCBkcmF3c3BlZWQpO1xuXG4gICAgICAgIC8vIGluZGljZXNcbiAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5FTEVNRU5UX0FSUkFZX0JVRkZFUiwgdGhpcy5pbmRleF9idWZmZXIpO1xuICAgICAgICBnbC5idWZmZXJEYXRhKGdsLkVMRU1FTlRfQVJSQVlfQlVGRkVSLCBsaW5rcy5idWZmZXIsIGRyYXdzcGVlZCk7XG4gICAgfVxuXG4gICAgcmVuZGVyKGdsOiBXZWJHTFJlbmRlcmluZ0NvbnRleHQsIG1hdHJpeDogTWF0cml4NCkge1xuICAgICAgICAvLyBUZWxsIGl0IHRvIHVzZSBvdXIgcHJvZ3JhbSAocGFpciBvZiBzaGFkZXJzKVxuICAgICAgICAvLyBQT0lOVEVSUyBNVVNUIEFMU08gQkUgU0VULCBETyBFVkVSWVRISU5HIEVYQ0VQVCBHTC5CVUZGRVJEQVRBXG4gICAgICAgIGdsLnVzZVByb2dyYW0odGhpcy5wcm9ncmFtKTtcblxuICAgICAgICBnbC5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheSh0aGlzLmFfcG9zaXRpb24pO1xuICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgdGhpcy5hX3Bvc2l0aW9uX2J1ZmZlcik7XG4gICAgICAgIGdsLnZlcnRleEF0dHJpYlBvaW50ZXIodGhpcy5hX3Bvc2l0aW9uLCB0aGlzLnZlcnRDb3VudCwgZ2wuRkxPQVQsIGZhbHNlLCAwLCAwKTtcbiAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5FTEVNRU5UX0FSUkFZX0JVRkZFUiwgdGhpcy5pbmRleF9idWZmZXIpO1xuXG4gICAgICAgIC8vIHNldCB1bmlmb3Jtc1xuICAgICAgICBnbC51bmlmb3JtTWF0cml4NGZ2KHRoaXMudV90cmFuc2Zvcm0sIGZhbHNlLCBtYXRyaXguZGF0YSk7XG5cbiAgICAgICAgLy8gRHJhdyB0aGUgcG9pbnQuXG4gICAgICAgIGdsLmRyYXdFbGVtZW50cyhnbC5MSU5FUywgdGhpcy5jb3VudCwgZ2wuVU5TSUdORURfU0hPUlQsIDApO1xuICAgIH1cblxuICAgIHNldEFuZFJlbmRlcihnbDogV2ViR0xSZW5kZXJpbmdDb250ZXh0LCBtYXRyaXg6IE1hdHJpeDQsIGRhdGE6IExpbmVBcnJheSkge1xuICAgICAgICB0aGlzLnNldChnbCwgZGF0YSwgRHJhd1NwZWVkLkR5bmFtaWNEcmF3KTtcbiAgICAgICAgdGhpcy5yZW5kZXIoZ2wsIG1hdHJpeCk7XG4gICAgfVxufVxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/render/line-renderer.ts\n");

/***/ }),

/***/ "./src/render/mesh-debug-renderer.ts":
/*!*******************************************!*\
  !*** ./src/render/mesh-debug-renderer.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"MeshDebugRenderer\": () => /* binding */ MeshDebugRenderer\n/* harmony export */ });\n/* harmony import */ var _mesh_line_array__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../mesh/line-array */ \"./src/mesh/line-array.ts\");\n/* harmony import */ var _renderer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./renderer */ \"./src/render/renderer.ts\");\n/* harmony import */ var _line_renderer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./line-renderer */ \"./src/render/line-renderer.ts\");\n/* harmony import */ var _simple_mesh_renderer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./simple-mesh-renderer */ \"./src/render/simple-mesh-renderer.ts\");\n/* harmony import */ var _mesh_normals_renderer__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./mesh-normals-renderer */ \"./src/render/mesh-normals-renderer.ts\");\n// name:    mesh-renderer.ts\r\n// author:  Jos Feenstra\r\n// purpose: WebGL based rendering of a mesh.\r\n\r\n\r\n\r\n\r\n\r\nclass MeshDebugRenderer {\r\n    constructor(gl, faceColor = [1, 0, 0, 0.25], edgeColor = [1, 0, 0, 1], renderNormal = true) {\r\n        this.faceRend = new _simple_mesh_renderer__WEBPACK_IMPORTED_MODULE_3__.SimpleMeshRenderer(gl, faceColor);\r\n        this.lineRend = new _line_renderer__WEBPACK_IMPORTED_MODULE_2__.LineRenderer(gl, edgeColor);\r\n        if (renderNormal)\r\n            this.normRend = new _mesh_normals_renderer__WEBPACK_IMPORTED_MODULE_4__.NormalRenderer(gl);\r\n    }\r\n    set(gl, mesh, speed = _renderer__WEBPACK_IMPORTED_MODULE_1__.DrawSpeed.StaticDraw) {\r\n        var _a;\r\n        this.faceRend.setMesh(gl, mesh);\r\n        this.lineRend.set(gl, _mesh_line_array__WEBPACK_IMPORTED_MODULE_0__.LineArray.fromMesh(mesh), speed);\r\n        (_a = this.normRend) === null || _a === void 0 ? void 0 : _a.set(mesh, speed);\r\n    }\r\n    // render 1 image to the screen\r\n    render(gl, camera) {\r\n        var _a;\r\n        this.faceRend.render(gl, camera.totalMatrix);\r\n        this.lineRend.render(gl, camera.totalMatrix);\r\n        (_a = this.normRend) === null || _a === void 0 ? void 0 : _a.render(gl, camera);\r\n    }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9nZW9uLWVuZ2luZS8uL3NyYy9yZW5kZXIvbWVzaC1kZWJ1Zy1yZW5kZXJlci50cz9mZmVlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBLDRCQUE0QjtBQUM1Qix3QkFBd0I7QUFDeEIsNENBQTRDO0FBR0c7QUFJRTtBQUNGO0FBQ2E7QUFDSDtBQUdsRCxNQUFNLGlCQUFpQjtJQUsxQixZQUFZLEVBQXlCLEVBQUUsU0FBUyxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsSUFBSSxDQUFDLEVBQUUsU0FBUyxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsWUFBWSxHQUFHLElBQUk7UUFDN0csSUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLHFFQUFrQixDQUFDLEVBQUUsRUFBRSxTQUFTLENBQUMsQ0FBQztRQUN0RCxJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksd0RBQVksQ0FBQyxFQUFFLEVBQUUsU0FBUyxDQUFDLENBQUM7UUFDaEQsSUFBSSxZQUFZO1lBQUUsSUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLGtFQUFjLENBQUMsRUFBRSxDQUFDLENBQUM7SUFDN0QsQ0FBQztJQUVELEdBQUcsQ0FBQyxFQUF5QixFQUFFLElBQWdCLEVBQUUsUUFBbUIsMkRBQW9COztRQUNwRixJQUFJLENBQUMsUUFBUSxDQUFDLE9BQU8sQ0FBQyxFQUFFLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDaEMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsRUFBRSxFQUFFLGdFQUFrQixDQUFDLElBQUksQ0FBQyxFQUFFLEtBQUssQ0FBQyxDQUFDO1FBQ3ZELFVBQUksQ0FBQyxRQUFRLDBDQUFFLEdBQUcsQ0FBQyxJQUFJLEVBQUUsS0FBSyxFQUFFO0lBQ3BDLENBQUM7SUFFRCwrQkFBK0I7SUFDL0IsTUFBTSxDQUFDLEVBQXlCLEVBQUUsTUFBYzs7UUFDNUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUMsRUFBRSxFQUFFLE1BQU0sQ0FBQyxXQUFXLENBQUMsQ0FBQztRQUM3QyxJQUFJLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxFQUFFLEVBQUUsTUFBTSxDQUFDLFdBQVcsQ0FBQyxDQUFDO1FBQzdDLFVBQUksQ0FBQyxRQUFRLDBDQUFFLE1BQU0sQ0FBQyxFQUFFLEVBQUUsTUFBTSxFQUFFO0lBQ3RDLENBQUM7Q0FDSiIsImZpbGUiOiIuL3NyYy9yZW5kZXIvbWVzaC1kZWJ1Zy1yZW5kZXJlci50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIG5hbWU6ICAgIG1lc2gtcmVuZGVyZXIudHNcbi8vIGF1dGhvcjogIEpvcyBGZWVuc3RyYVxuLy8gcHVycG9zZTogV2ViR0wgYmFzZWQgcmVuZGVyaW5nIG9mIGEgbWVzaC5cblxuaW1wb3J0IHsgSW50TWF0cml4IH0gZnJvbSBcIi4uL2RhdGEvaW50LW1hdHJpeFwiO1xuaW1wb3J0IHsgTGluZUFycmF5IH0gZnJvbSBcIi4uL21lc2gvbGluZS1hcnJheVwiO1xuaW1wb3J0IHsgVmVjdG9yM0FycmF5IH0gZnJvbSBcIi4uL2RhdGEvdmVjdG9yLWFycmF5XCI7XG5pbXBvcnQgeyBSZW5kZXJhYmxlIH0gZnJvbSBcIi4uL21lc2gvcmVuZGVyLW1lc2hcIjtcbmltcG9ydCB7IE1hdHJpeDQgfSBmcm9tIFwiLi4vbWF0aC9tYXRyaXhcIjtcbmltcG9ydCB7IERyYXdTcGVlZCwgUmVuZGVyZXIgfSBmcm9tIFwiLi9yZW5kZXJlclwiO1xuaW1wb3J0IHsgTGluZVJlbmRlcmVyIH0gZnJvbSBcIi4vbGluZS1yZW5kZXJlclwiO1xuaW1wb3J0IHsgU2ltcGxlTWVzaFJlbmRlcmVyIH0gZnJvbSBcIi4vc2ltcGxlLW1lc2gtcmVuZGVyZXJcIjtcbmltcG9ydCB7IE5vcm1hbFJlbmRlcmVyIH0gZnJvbSBcIi4vbWVzaC1ub3JtYWxzLXJlbmRlcmVyXCI7XG5pbXBvcnQgeyBDYW1lcmEgfSBmcm9tIFwiLi9jYW1lcmFcIjtcblxuZXhwb3J0IGNsYXNzIE1lc2hEZWJ1Z1JlbmRlcmVyIHtcbiAgICBmYWNlUmVuZDogU2ltcGxlTWVzaFJlbmRlcmVyO1xuICAgIGxpbmVSZW5kOiBMaW5lUmVuZGVyZXI7XG4gICAgbm9ybVJlbmQ/OiBOb3JtYWxSZW5kZXJlcjtcblxuICAgIGNvbnN0cnVjdG9yKGdsOiBXZWJHTFJlbmRlcmluZ0NvbnRleHQsIGZhY2VDb2xvciA9IFsxLCAwLCAwLCAwLjI1XSwgZWRnZUNvbG9yID0gWzEsIDAsIDAsIDFdLCByZW5kZXJOb3JtYWwgPSB0cnVlKSB7XG4gICAgICAgIHRoaXMuZmFjZVJlbmQgPSBuZXcgU2ltcGxlTWVzaFJlbmRlcmVyKGdsLCBmYWNlQ29sb3IpO1xuICAgICAgICB0aGlzLmxpbmVSZW5kID0gbmV3IExpbmVSZW5kZXJlcihnbCwgZWRnZUNvbG9yKTtcbiAgICAgICAgaWYgKHJlbmRlck5vcm1hbCkgdGhpcy5ub3JtUmVuZCA9IG5ldyBOb3JtYWxSZW5kZXJlcihnbCk7XG4gICAgfVxuXG4gICAgc2V0KGdsOiBXZWJHTFJlbmRlcmluZ0NvbnRleHQsIG1lc2g6IFJlbmRlcmFibGUsIHNwZWVkOiBEcmF3U3BlZWQgPSBEcmF3U3BlZWQuU3RhdGljRHJhdykge1xuICAgICAgICB0aGlzLmZhY2VSZW5kLnNldE1lc2goZ2wsIG1lc2gpO1xuICAgICAgICB0aGlzLmxpbmVSZW5kLnNldChnbCwgTGluZUFycmF5LmZyb21NZXNoKG1lc2gpLCBzcGVlZCk7XG4gICAgICAgIHRoaXMubm9ybVJlbmQ/LnNldChtZXNoLCBzcGVlZCk7XG4gICAgfVxuXG4gICAgLy8gcmVuZGVyIDEgaW1hZ2UgdG8gdGhlIHNjcmVlblxuICAgIHJlbmRlcihnbDogV2ViR0xSZW5kZXJpbmdDb250ZXh0LCBjYW1lcmE6IENhbWVyYSkge1xuICAgICAgICB0aGlzLmZhY2VSZW5kLnJlbmRlcihnbCwgY2FtZXJhLnRvdGFsTWF0cml4KTtcbiAgICAgICAgdGhpcy5saW5lUmVuZC5yZW5kZXIoZ2wsIGNhbWVyYS50b3RhbE1hdHJpeCk7XG4gICAgICAgIHRoaXMubm9ybVJlbmQ/LnJlbmRlcihnbCwgY2FtZXJhKTtcbiAgICB9XG59XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/render/mesh-debug-renderer.ts\n");

/***/ }),

/***/ "./src/render/mesh-normals-renderer.ts":
/*!*********************************************!*\
  !*** ./src/render/mesh-normals-renderer.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"NormalRenderer\": () => /* binding */ NormalRenderer\n/* harmony export */ });\n/* harmony import */ var _data_vector_array__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../data/vector-array */ \"./src/data/vector-array.ts\");\n/* harmony import */ var _mesh_render_mesh__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../mesh/render-mesh */ \"./src/mesh/render-mesh.ts\");\n/* harmony import */ var _math_vector__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../math/vector */ \"./src/math/vector.ts\");\n/* harmony import */ var _mesh_line_array__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../mesh/line-array */ \"./src/mesh/line-array.ts\");\n/* harmony import */ var _renderer__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./renderer */ \"./src/render/renderer.ts\");\n// name:    simple-line-renderer.ts\r\n// author:  Jos Feenstra\r\n// purpose: WebGL based rendering of lines.\r\n\r\n\r\n\r\n\r\n\r\nclass NormalRenderer extends _renderer__WEBPACK_IMPORTED_MODULE_4__.Renderer {\r\n    constructor(gl) {\r\n        // note: I like vertex & fragments to be included in the script itself.\r\n        // when you change vertex or fragment, this class has to deal with it.\r\n        // putting them somewhere else doesnt make sense to me,\r\n        // they are coupled 1 to 1.\r\n        const vs = `\n        precision mediump int;\n        precision mediump float;\n\n        attribute vec4 a_vertex;\n        attribute vec4 a_vertex_color;\n\n        uniform mat4 u_transform;\n\n        varying vec4 v_color;\n\n        void main() {\n            gl_Position = u_transform * a_vertex;\n            v_color = a_vertex_color;\n        }\n        `;\r\n        const fs = `\n        precision mediump int;\n        precision mediump float;\n\n        varying vec4 v_color;\n\n        void main () {\n            gl_FragColor = v_color;\n        }\n        `;\r\n        // setup program\r\n        super(gl, vs, fs);\r\n        this.u_transform = gl.getUniformLocation(this.program, \"u_transform\");\r\n        // we need 2 buffers\r\n        this.a_position = gl.getAttribLocation(this.program, \"a_vertex\");\r\n        this.a_color = gl.getAttribLocation(this.program, \"a_vertex_color\");\r\n        this.a_position_buffer = gl.createBuffer();\r\n        this.a_color_buffer = gl.createBuffer();\r\n        this.index_buffer = gl.createBuffer();\r\n        gl.useProgram(this.program);\r\n        this.count = 0;\r\n        this.vertCount = 0;\r\n        this.scale = 0.4;\r\n    }\r\n    setWithLists(pos, norms, speed = _renderer__WEBPACK_IMPORTED_MODULE_4__.DrawSpeed.StaticDraw) { }\r\n    // take a general render mesh, and extract normals\r\n    set(rend, speed = _renderer__WEBPACK_IMPORTED_MODULE_4__.DrawSpeed.StaticDraw) {\r\n        // save how many verts need to be drawn\r\n        let gl = this.gl;\r\n        gl.useProgram(this.program);\r\n        let drawspeed = this.convertDrawSpeed(speed);\r\n        this.vertCount = 3;\r\n        let lineverts;\r\n        let normals;\r\n        // different buffer fills based upon normal kind\r\n        let normalKind = rend.getNormalType();\r\n        if (normalKind == _mesh_render_mesh__WEBPACK_IMPORTED_MODULE_1__.NormalKind.Face) {\r\n            let faceCount = rend.mesh.links.count();\r\n            this.count = faceCount * 2;\r\n            lineverts = new _data_vector_array__WEBPACK_IMPORTED_MODULE_0__.Vector3Array(this.count);\r\n            normals = new _data_vector_array__WEBPACK_IMPORTED_MODULE_0__.Vector3Array(this.count);\r\n            for (let f = 0; f < faceCount; f++) {\r\n                let center = rend.getFaceVertices(f).average();\r\n                let normal = rend.norms.getVector(f);\r\n                let i1 = f * 2;\r\n                let i2 = f * 2 + 1;\r\n                lineverts.setVector(i1, center);\r\n                lineverts.setVector(i2, center.add(normal.scaled(this.scale)));\r\n                let color = normal.add(new _math_vector__WEBPACK_IMPORTED_MODULE_2__.Vector3(1, 1, 1).div(2));\r\n                normals.setVector(i1, color);\r\n                normals.setVector(i2, color);\r\n            }\r\n        }\r\n        else if (normalKind == _mesh_render_mesh__WEBPACK_IMPORTED_MODULE_1__.NormalKind.Vertex) {\r\n            let vertCount = rend.mesh.verts.count();\r\n            this.count = vertCount * 2;\r\n            lineverts = new _data_vector_array__WEBPACK_IMPORTED_MODULE_0__.Vector3Array(this.count);\r\n            normals = new _data_vector_array__WEBPACK_IMPORTED_MODULE_0__.Vector3Array(this.count);\r\n            for (let i = 0; i < vertCount; i++) {\r\n                let center = rend.mesh.verts.getVector(i);\r\n                let normal = rend.norms.getVector(i);\r\n                let i1 = i * 2;\r\n                let i2 = i * 2 + 1;\r\n                lineverts.setVector(i1, center);\r\n                lineverts.setVector(i2, center.add(normal.scaled(this.scale)));\r\n                let color = normal.add(new _math_vector__WEBPACK_IMPORTED_MODULE_2__.Vector3(1, 1, 1)).div(2);\r\n                normals.setVector(i1, color);\r\n                normals.setVector(i2, color);\r\n            }\r\n            // console.log(normals);\r\n        }\r\n        else {\r\n            console.warn(\"no normals for type\", normalKind);\r\n            this.count = 0;\r\n            return;\r\n        }\r\n        // vertices\r\n        gl.bindBuffer(gl.ARRAY_BUFFER, this.a_position_buffer);\r\n        gl.enableVertexAttribArray(this.a_position);\r\n        gl.vertexAttribPointer(this.a_position, this.vertCount, gl.FLOAT, false, 0, 0);\r\n        gl.bufferData(gl.ARRAY_BUFFER, lineverts.data, drawspeed);\r\n        // normals\r\n        gl.bindBuffer(gl.ARRAY_BUFFER, this.a_color_buffer);\r\n        gl.enableVertexAttribArray(this.a_color);\r\n        gl.vertexAttribPointer(this.a_color, this.vertCount, gl.FLOAT, false, 0, 0);\r\n        gl.bufferData(gl.ARRAY_BUFFER, normals.data, drawspeed);\r\n        // indices\r\n        gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, this.index_buffer);\r\n        gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, (0,_mesh_line_array__WEBPACK_IMPORTED_MODULE_3__.getDefaultIndices)(this.count), drawspeed);\r\n    }\r\n    render(gl, camera) {\r\n        let matrix = camera.totalMatrix;\r\n        // Tell it to use our program (pair of shaders)\r\n        // POINTERS MUST ALSO BE SET, DO EVERYTHING EXCEPT GL.BUFFERDATA\r\n        gl.useProgram(this.program);\r\n        // buffer 1\r\n        gl.bindBuffer(gl.ARRAY_BUFFER, this.a_position_buffer);\r\n        gl.enableVertexAttribArray(this.a_position);\r\n        gl.vertexAttribPointer(this.a_position, this.vertCount, gl.FLOAT, false, 0, 0);\r\n        // buffer 2\r\n        gl.bindBuffer(gl.ARRAY_BUFFER, this.a_color_buffer);\r\n        gl.enableVertexAttribArray(this.a_color);\r\n        gl.vertexAttribPointer(this.a_color, this.vertCount, gl.FLOAT, false, 0, 0);\r\n        // index buffer\r\n        gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, this.index_buffer);\r\n        // set uniforms\r\n        gl.uniformMatrix4fv(this.u_transform, false, matrix.data);\r\n        // Draw the point.\r\n        gl.drawElements(gl.LINES, this.count, gl.UNSIGNED_SHORT, 0);\r\n    }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9nZW9uLWVuZ2luZS8uL3NyYy9yZW5kZXIvbWVzaC1ub3JtYWxzLXJlbmRlcmVyLnRzP2FjMWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUEsbUNBQW1DO0FBQ25DLHdCQUF3QjtBQUN4QiwyQ0FBMkM7QUFHdUI7QUFDTDtBQUdwQjtBQUN5QjtBQUNqQjtBQUcxQyxNQUFNLGNBQWUsU0FBUSwrQ0FBUTtJQWF4QyxZQUFZLEVBQXlCO1FBQ2pDLHVFQUF1RTtRQUN2RSxzRUFBc0U7UUFDdEUsdURBQXVEO1FBQ3ZELDJCQUEyQjtRQUMzQixNQUFNLEVBQUUsR0FBRzs7Ozs7Ozs7Ozs7Ozs7O1NBZVYsQ0FBQztRQUVGLE1BQU0sRUFBRSxHQUFHOzs7Ozs7Ozs7U0FTVixDQUFDO1FBRUYsZ0JBQWdCO1FBQ2hCLEtBQUssQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsQ0FBQyxDQUFDO1FBQ2xCLElBQUksQ0FBQyxXQUFXLEdBQUcsRUFBRSxDQUFDLGtCQUFrQixDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUUsYUFBYSxDQUFFLENBQUM7UUFFdkUsb0JBQW9CO1FBQ3BCLElBQUksQ0FBQyxVQUFVLEdBQUcsRUFBRSxDQUFDLGlCQUFpQixDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUUsVUFBVSxDQUFDLENBQUM7UUFDakUsSUFBSSxDQUFDLE9BQU8sR0FBRyxFQUFFLENBQUMsaUJBQWlCLENBQUMsSUFBSSxDQUFDLE9BQU8sRUFBRSxnQkFBZ0IsQ0FBQyxDQUFDO1FBRXBFLElBQUksQ0FBQyxpQkFBaUIsR0FBRyxFQUFFLENBQUMsWUFBWSxFQUFHLENBQUM7UUFDNUMsSUFBSSxDQUFDLGNBQWMsR0FBRyxFQUFFLENBQUMsWUFBWSxFQUFHLENBQUM7UUFDekMsSUFBSSxDQUFDLFlBQVksR0FBRyxFQUFFLENBQUMsWUFBWSxFQUFHLENBQUM7UUFFdkMsRUFBRSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENB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ZW50IjpbIi8vIG5hbWU6ICAgIHNpbXBsZS1saW5lLXJlbmRlcmVyLnRzXG4vLyBhdXRob3I6ICBKb3MgRmVlbnN0cmFcbi8vIHB1cnBvc2U6IFdlYkdMIGJhc2VkIHJlbmRlcmluZyBvZiBsaW5lcy5cblxuaW1wb3J0IHsgRmxvYXRNYXRyaXggfSBmcm9tIFwiLi4vZGF0YS9mbG9hdC1tYXRyaXhcIjtcbmltcG9ydCB7IFZlY3RvcjJBcnJheSwgVmVjdG9yM0FycmF5IH0gZnJvbSBcIi4uL2RhdGEvdmVjdG9yLWFycmF5XCI7XG5pbXBvcnQgeyBOb3JtYWxLaW5kLCBSZW5kZXJhYmxlIH0gZnJvbSBcIi4uL21lc2gvcmVuZGVyLW1lc2hcIjtcbmltcG9ydCB7IFBvbHlsaW5lIH0gZnJvbSBcIi4uL2dlby9wb2x5bGluZVwiO1xuaW1wb3J0IHsgTWF0cml4NCB9IGZyb20gXCIuLi9tYXRoL21hdHJpeFwiO1xuaW1wb3J0IHsgVmVjdG9yMyB9IGZyb20gXCIuLi9tYXRoL3ZlY3RvclwiO1xuaW1wb3J0IHsgZ2V0RGVmYXVsdEluZGljZXMsIExpbmVBcnJheSB9IGZyb20gXCIuLi9tZXNoL2xpbmUtYXJyYXlcIjtcbmltcG9ydCB7IERyYXdTcGVlZCwgUmVuZGVyZXIgfSBmcm9tIFwiLi9yZW5kZXJlclwiO1xuaW1wb3J0IHsgQ2FtZXJhIH0gZnJvbSBcIi4vY2FtZXJhXCI7XG5cbmV4cG9ydCBjbGFzcyBOb3JtYWxSZW5kZXJlciBleHRlbmRzIFJlbmRlcmVyIHtcbiAgICBhX3Bvc2l0aW9uOiBudW1iZXI7XG4gICAgYV9wb3NpdGlvbl9idWZmZXI6IFdlYkdMQnVmZmVyO1xuICAgIGluZGV4X2J1ZmZlcjogV2ViR0xCdWZmZXI7XG5cbiAgICB1X3RyYW5zZm9ybTogV2ViR0xVbmlmb3JtTG9jYXRpb247XG5cbiAgICBjb3VudDogbnVtYmVyO1xuICAgIHZlcnRDb3VudDogbnVtYmVyO1xuICAgIGFfY29sb3JfYnVmZmVyOiBXZWJHTEJ1ZmZlcjtcbiAgICBhX2NvbG9yOiBudW1iZXI7XG4gICAgc2NhbGU6IG51bWJlcjtcblxuICAgIGNvbnN0cnVjdG9yKGdsOiBXZWJHTFJlbmRlcmluZ0NvbnRleHQpIHtcbiAgICAgICAgLy8gbm90ZTogSSBsaWtlIHZlcnRleCAmIGZyYWdtZW50cyB0byBiZSBpbmNsdWRlZCBpbiB0aGUgc2NyaXB0IGl0c2VsZi5cbiAgICAgICAgLy8gd2hlbiB5b3UgY2hhbmdlIHZlcnRleCBvciBmcmFnbWVudCwgdGhpcyBjbGFzcyBoYXMgdG8gZGVhbCB3aXRoIGl0LlxuICAgICAgICAvLyBwdXR0aW5nIHRoZW0gc29tZXdoZXJlIGVsc2UgZG9lc250IG1ha2Ugc2Vuc2UgdG8gbWUsXG4gICAgICAgIC8vIHRoZXkgYXJlIGNvdXBsZWQgMSB0byAxLlxuICAgICAgICBjb25zdCB2cyA9IGBcbiAgICAgICAgcHJlY2lzaW9uIG1lZGl1bXAgaW50O1xuICAgICAgICBwcmVjaXNpb24gbWVkaXVtcCBmbG9hdDtcblxuICAgICAgICBhdHRyaWJ1dGUgdmVjNCBhX3ZlcnRleDtcbiAgICAgICAgYXR0cmlidXRlIHZlYzQgYV92ZXJ0ZXhfY29sb3I7XG5cbiAgICAgICAgdW5pZm9ybSBtYXQ0IHVfdHJhbnNmb3JtO1xuXG4gICAgICAgIHZhcnlpbmcgdmVjNCB2X2NvbG9yO1xuXG4gICAgICAgIHZvaWQgbWFpbigpIHtcbiAgICAgICAgICAgIGdsX1Bvc2l0aW9uID0gdV90cmFuc2Zvcm0gKiBhX3ZlcnRleDtcbiAgICAgICAgICAgIHZfY29sb3IgPSBhX3ZlcnRleF9jb2xvcjtcbiAgICAgICAgfVxuICAgICAgICBgO1xuXG4gICAgICAgIGNvbnN0IGZzID0gYFxuICAgICAgICBwcmVjaXNpb24gbWVkaXVtcCBpbnQ7XG4gICAgICAgIHByZWNpc2lvbiBtZWRpdW1wIGZsb2F0O1xuXG4gICAgICAgIHZhcnlpbmcgdmVjNCB2X2NvbG9yO1xuXG4gICAgICAgIHZvaWQgbWFpbiAoKSB7XG4gICAgICAgICAgICBnbF9GcmFnQ29sb3IgPSB2X2NvbG9yO1xuICAgICAgICB9XG4gICAgICAgIGA7XG5cbiAgICAgICAgLy8gc2V0dXAgcHJvZ3JhbVxuICAgICAgICBzdXBlcihnbCwgdnMsIGZzKTtcbiAgICAgICAgdGhpcy51X3RyYW5zZm9ybSA9IGdsLmdldFVuaWZvcm1Mb2NhdGlvbih0aGlzLnByb2dyYW0sIFwidV90cmFuc2Zvcm1cIikhO1xuXG4gICAgICAgIC8vIHdlIG5lZWQgMiBidWZmZXJzXG4gICAgICAgIHRoaXMuYV9wb3NpdGlvbiA9IGdsLmdldEF0dHJpYkxvY2F0aW9uKHRoaXMucHJvZ3JhbSwgXCJhX3ZlcnRleFwiKTtcbiAgICAgICAgdGhpcy5hX2NvbG9yID0gZ2wuZ2V0QXR0cmliTG9jYXRpb24odGhpcy5wcm9ncmFtLCBcImFfdmVydGV4X2NvbG9yXCIpO1xuXG4gICAgICAgIHRoaXMuYV9wb3NpdGlvbl9idWZmZXIgPSBnbC5jcmVhdGVCdWZmZXIoKSE7XG4gICAgICAgIHRoaXMuYV9jb2xvcl9idWZmZXIgPSBnbC5jcmVhdGVCdWZmZXIoKSE7XG4gICAgICAgIHRoaXMuaW5kZXhfYnVmZmVyID0gZ2wuY3JlYXRlQnVmZmVyKCkhO1xuXG4gICAgICAgIGdsLnVzZVByb2dyYW0odGhpcy5wcm9ncmFtKTtcbiAgICAgICAgdGhpcy5jb3VudCA9IDA7XG4gICAgICAgIHRoaXMudmVydENvdW50ID0gMDtcbiAgICAgICAgdGhpcy5zY2FsZSA9IDAuNDtcbiAgICB9XG5cbiAgICBzZXRXaXRoTGlzdHMocG9zOiBWZWN0b3IzW10sIG5vcm1zOiBWZWN0b3IzW10sIHNwZWVkID0gRHJhd1NwZWVkLlN0YXRpY0RyYXcpIHt9XG5cbiAgICAvLyB0YWtlIGEgZ2VuZXJhbCByZW5kZXIgbWVzaCwgYW5kIGV4dHJhY3Qgbm9ybWFsc1xuICAgIHNldChyZW5kOiBSZW5kZXJhYmxlLCBzcGVlZCA9IERyYXdTcGVlZC5TdGF0aWNEcmF3KSB7XG4gICAgICAgIC8vIHNhdmUgaG93IG1hbnkgdmVydHMgbmVlZCB0byBiZSBkcmF3blxuICAgICAgICBsZXQgZ2wgPSB0aGlzLmdsO1xuICAgICAgICBnbC51c2VQcm9ncmFtKHRoaXMucHJvZ3JhbSk7XG4gICAgICAgIGxldCBkcmF3c3BlZWQgPSB0aGlzLmNvbnZlcnREcmF3U3BlZWQoc3BlZWQpO1xuICAgICAgICB0aGlzLnZlcnRDb3VudCA9IDM7XG5cbiAgICAgICAgbGV0IGxpbmV2ZXJ0czogVmVjdG9yM0FycmF5O1xuICAgICAgICBsZXQgbm9ybWFsczogVmVjdG9yM0FycmF5O1xuXG4gICAgICAgIC8vIGRpZmZlcmVudCBidWZmZXIgZmlsbHMgYmFzZWQgdXBvbiBub3JtYWwga2luZFxuICAgICAgICBsZXQgbm9ybWFsS2luZCA9IHJlbmQuZ2V0Tm9ybWFsVHlwZSgpO1xuICAgICAgICBpZiAobm9ybWFsS2luZCA9PSBOb3JtYWxLaW5kLkZhY2UpIHtcbiAgICAgICAgICAgIGxldCBmYWNlQ291bnQgPSByZW5kLm1lc2gubGlua3MuY291bnQoKTtcbiAgICAgICAgICAgIHRoaXMuY291bnQgPSBmYWNlQ291bnQgKiAyO1xuXG4gICAgICAgICAgICBsaW5ldmVydHMgPSBuZXcgVmVjdG9yM0FycmF5KHRoaXMuY291bnQpO1xuICAgICAgICAgICAgbm9ybWFscyA9IG5ldyBWZWN0b3IzQXJyYXkodGhpcy5jb3VudCk7XG5cbiAgICAgICAgICAgIGZvciAobGV0IGYgPSAwOyBmIDwgZmFjZUNvdW50OyBmKyspIHtcbiAgICAgICAgICAgICAgICBsZXQgY2VudGVyID0gcmVuZC5nZXRGYWNlVmVydGljZXMoZikuYXZlcmFnZSgpO1xuICAgICAgICAgICAgICAgIGxldCBub3JtYWwgPSByZW5kLm5vcm1zLmdldFZlY3RvcihmKTtcbiAgICAgICAgICAgICAgICBsZXQgaTEgPSBmICogMjtcbiAgICAgICAgICAgICAgICBsZXQgaTIgPSBmICogMiArIDE7XG5cbiAgICAgICAgICAgICAgICBsaW5ldmVydHMuc2V0VmVjdG9yKGkxLCBjZW50ZXIpO1xuICAgICAgICAgICAgICAgIGxpbmV2ZXJ0cy5zZXRWZWN0b3IoaTIsIGNlbnRlci5hZGQobm9ybWFsLnNjYWxlZCh0aGlzLnNjYWxlKSkpO1xuICAgICAgICAgICAgICAgIGxldCBjb2xvciA9IG5vcm1hbC5hZGQobmV3IFZlY3RvcjMoMSwgMSwgMSkuZGl2KDIpKTtcbiAgICAgICAgICAgICAgICBub3JtYWxzLnNldFZlY3RvcihpMSwgY29sb3IpO1xuICAgICAgICAgICAgICAgIG5vcm1hbHMuc2V0VmVjdG9yKGkyLCBjb2xvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAobm9ybWFsS2luZCA9PSBOb3JtYWxLaW5kLlZlcnRleCkge1xuICAgICAgICAgICAgbGV0IHZlcnRDb3VudCA9IHJlbmQubWVzaC52ZXJ0cy5jb3VudCgpO1xuICAgICAgICAgICAgdGhpcy5jb3VudCA9IHZlcnRDb3VudCAqIDI7XG5cbiAgICAgICAgICAgIGxpbmV2ZXJ0cyA9IG5ldyBWZWN0b3IzQXJyYXkodGhpcy5jb3VudCk7XG4gICAgICAgICAgICBub3JtYWxzID0gbmV3IFZlY3RvcjNBcnJheSh0aGlzLmNvdW50KTtcblxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB2ZXJ0Q291bnQ7IGkrKykge1xuICAgICAgICAgICAgICAgIGxldCBjZW50ZXIgPSByZW5kLm1lc2gudmVydHMuZ2V0VmVjdG9yKGkpO1xuICAgICAgICAgICAgICAgIGxldCBub3JtYWwgPSByZW5kLm5vcm1zLmdldFZlY3RvcihpKTtcbiAgICAgICAgICAgICAgICBsZXQgaTEgPSBpICogMjtcbiAgICAgICAgICAgICAgICBsZXQgaTIgPSBpICogMiArIDE7XG5cbiAgICAgICAgICAgICAgICBsaW5ldmVydHMuc2V0VmVjdG9yKGkxLCBjZW50ZXIpO1xuICAgICAgICAgICAgICAgIGxpbmV2ZXJ0cy5zZXRWZWN0b3IoaTIsIGNlbnRlci5hZGQobm9ybWFsLnNjYWxlZCh0aGlzLnNjYWxlKSkpO1xuXG4gICAgICAgICAgICAgICAgbGV0IGNvbG9yID0gbm9ybWFsLmFkZChuZXcgVmVjdG9yMygxLCAxLCAxKSkuZGl2KDIpO1xuICAgICAgICAgICAgICAgIG5vcm1hbHMuc2V0VmVjdG9yKGkxLCBjb2xvcik7XG4gICAgICAgICAgICAgICAgbm9ybWFscy5zZXRWZWN0b3IoaTIsIGNvbG9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKG5vcm1hbHMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKFwibm8gbm9ybWFscyBmb3IgdHlwZVwiLCBub3JtYWxLaW5kKTtcbiAgICAgICAgICAgIHRoaXMuY291bnQgPSAwO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdmVydGljZXNcbiAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIHRoaXMuYV9wb3NpdGlvbl9idWZmZXIpO1xuICAgICAgICBnbC5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheSh0aGlzLmFfcG9zaXRpb24pO1xuICAgICAgICBnbC52ZXJ0ZXhBdHRyaWJQb2ludGVyKHRoaXMuYV9wb3NpdGlvbiwgdGhpcy52ZXJ0Q291bnQsIGdsLkZMT0FULCBmYWxzZSwgMCwgMCk7XG4gICAgICAgIGdsLmJ1ZmZlckRhdGEoZ2wuQVJSQVlfQlVGRkVSLCBsaW5ldmVydHMuZGF0YSwgZHJhd3NwZWVkKTtcblxuICAgICAgICAvLyBub3JtYWxzXG4gICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCB0aGlzLmFfY29sb3JfYnVmZmVyKTtcbiAgICAgICAgZ2wuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkodGhpcy5hX2NvbG9yKTtcbiAgICAgICAgZ2wudmVydGV4QXR0cmliUG9pbnRlcih0aGlzLmFfY29sb3IsIHRoaXMudmVydENvdW50LCBnbC5GTE9BVCwgZmFsc2UsIDAsIDApO1xuICAgICAgICBnbC5idWZmZXJEYXRhKGdsLkFSUkFZX0JVRkZFUiwgbm9ybWFscy5kYXRhLCBkcmF3c3BlZWQpO1xuXG4gICAgICAgIC8vIGluZGljZXNcbiAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5FTEVNRU5UX0FSUkFZX0JVRkZFUiwgdGhpcy5pbmRleF9idWZmZXIpO1xuICAgICAgICBnbC5idWZmZXJEYXRhKGdsLkVMRU1FTlRfQVJSQVlfQlVGRkVSLCBnZXREZWZhdWx0SW5kaWNlcyh0aGlzLmNvdW50KSwgZHJhd3NwZWVkKTtcbiAgICB9XG5cbiAgICByZW5kZXIoZ2w6IFdlYkdMUmVuZGVyaW5nQ29udGV4dCwgY2FtZXJhOiBDYW1lcmEpIHtcbiAgICAgICAgbGV0IG1hdHJpeCA9IGNhbWVyYS50b3RhbE1hdHJpeDtcblxuICAgICAgICAvLyBUZWxsIGl0IHRvIHVzZSBvdXIgcHJvZ3JhbSAocGFpciBvZiBzaGFkZXJzKVxuICAgICAgICAvLyBQT0lOVEVSUyBNVVNUIEFMU08gQkUgU0VULCBETyBFVkVSWVRISU5HIEVYQ0VQVCBHTC5CVUZGRVJEQVRBXG4gICAgICAgIGdsLnVzZVByb2dyYW0odGhpcy5wcm9ncmFtKTtcblxuICAgICAgICAvLyBidWZmZXIgMVxuICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgdGhpcy5hX3Bvc2l0aW9uX2J1ZmZlcik7XG4gICAgICAgIGdsLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KHRoaXMuYV9wb3NpdGlvbik7XG4gICAgICAgIGdsLnZlcnRleEF0dHJpYlBvaW50ZXIodGhpcy5hX3Bvc2l0aW9uLCB0aGlzLnZlcnRDb3VudCwgZ2wuRkxPQVQsIGZhbHNlLCAwLCAwKTtcblxuICAgICAgICAvLyBidWZmZXIgMlxuICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgdGhpcy5hX2NvbG9yX2J1ZmZlcik7XG4gICAgICAgIGdsLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KHRoaXMuYV9jb2xvcik7XG4gICAgICAgIGdsLnZlcnRleEF0dHJpYlBvaW50ZXIodGhpcy5hX2NvbG9yLCB0aGlzLnZlcnRDb3VudCwgZ2wuRkxPQVQsIGZhbHNlLCAwLCAwKTtcblxuICAgICAgICAvLyBpbmRleCBidWZmZXJcbiAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5FTEVNRU5UX0FSUkFZX0JVRkZFUiwgdGhpcy5pbmRleF9idWZmZXIpO1xuXG4gICAgICAgIC8vIHNldCB1bmlmb3Jtc1xuICAgICAgICBnbC51bmlmb3JtTWF0cml4NGZ2KHRoaXMudV90cmFuc2Zvcm0sIGZhbHNlLCBtYXRyaXguZGF0YSk7XG5cbiAgICAgICAgLy8gRHJhdyB0aGUgcG9pbnQuXG4gICAgICAgIGdsLmRyYXdFbGVtZW50cyhnbC5MSU5FUywgdGhpcy5jb3VudCwgZ2wuVU5TSUdORURfU0hPUlQsIDApO1xuICAgIH1cbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/render/mesh-normals-renderer.ts\n");

/***/ }),

/***/ "./src/render/rectangle-renderer.ts":
/*!******************************************!*\
  !*** ./src/render/rectangle-renderer.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"RectangleRenderer\": () => /* binding */ RectangleRenderer\n/* harmony export */ });\n/* harmony import */ var _renderer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./renderer */ \"./src/render/renderer.ts\");\n// jos feenstra\r\n\r\nclass RectangleRenderer extends _renderer__WEBPACK_IMPORTED_MODULE_0__.Renderer {\r\n    constructor(gl) {\r\n        // note: I like vertex & fragments to be included in the script itself.\r\n        // when you change vertex or fragment, this class has to deal with it.\r\n        // putting them somewhere else doesnt make sense to me,\r\n        // they are coupled 1 to 1.\r\n        let vertexSource = `\n        attribute vec2 a_position;\n\n        uniform vec2 u_resolution;\n\n        void main() {\n            // convert the rectangle from pixels to 0.0 to 1.0\n            vec2 zeroToOne = ((a_position / u_resolution) * 2.0) - 1.0;\n\n            // convert from 0->1 to 0->2\n            // vec2 zeroToTwo = zeroToOne * 2.0;\n\n            // convert from 0->2 to -1->+1 (clipspace)\n            // vec2 clipSpace = zeroToTwo - 1.0;\n\n            gl_Position = vec4(zeroToOne * vec2(1, -1), 0, 1);\n        }\n        `;\r\n        let fragmentSource = `\n        precision mediump float;\n\n        uniform vec4 u_color;\n        \n        void main() {\n           gl_FragColor = u_color;\n        }\n        `;\r\n        // setup program\r\n        super(gl, vertexSource, fragmentSource);\r\n        // look up where the vertex data needs to go.\r\n        this.a_position = gl.getAttribLocation(this.program, \"a_position\");\r\n        this.a_position_buffer = gl.createBuffer();\r\n        this.u_resolution = gl.getUniformLocation(this.program, \"u_resolution\");\r\n        this.u_color = gl.getUniformLocation(this.program, \"u_color\");\r\n        // Create a buffer to put three 2d clip space points in\r\n        // Bind it to ARRAY_BUFFER (think of it as ARRAY_BUFFER = positionBuffer)\r\n        gl.bindBuffer(gl.ARRAY_BUFFER, this.a_position_buffer);\r\n    }\r\n    render(gl, rs) {\r\n        // Clear the canvas\r\n        gl.clearColor(0, 0, 0, 0);\r\n        gl.clear(gl.COLOR_BUFFER_BIT);\r\n        // Tell it to use our program (pair of shaders)\r\n        gl.useProgram(this.program);\r\n        // Turn on the attribute\r\n        gl.enableVertexAttribArray(this.a_position);\r\n        gl.uniform2f(this.u_resolution, gl.canvas.width, gl.canvas.height);\r\n        // Bind the position buffer.\r\n        gl.bindBuffer(gl.ARRAY_BUFFER, this.a_position_buffer);\r\n        // Tell the attribute how to get data out of positionBuffer (ARRAY_BUFFER)\r\n        var size = 2; // 2 components per iteration\r\n        var type = gl.FLOAT; // the data is 32bit floats\r\n        var normalize = false; // don't normalize the data\r\n        var stride = 0; // 0 = move forward size * sizeof(type) each iteration to get the next position\r\n        var offset = 0; // start at the beginning of the buffer\r\n        gl.vertexAttribPointer(this.a_position, size, type, normalize, stride, offset);\r\n        // draw 50 random rectangles in random colors\r\n        for (let r of rs) {\r\n            // Setup a random rectangle\r\n            // This will write to positionBuffer because\r\n            // its the last thing we bound on the ARRAY_BUFFER\r\n            // bind point\r\n            this.setRectangle(gl, r);\r\n            // Set a random color.\r\n            gl.uniform4f(this.u_color, Math.random(), Math.random(), Math.random(), 1);\r\n            // Draw the rectangle.\r\n            var primitiveType = gl.TRIANGLES;\r\n            var offset = 0;\r\n            var count = 6;\r\n            gl.drawArrays(primitiveType, offset, count);\r\n        }\r\n    }\r\n    // Fill the buffer with the values that define a rectangle.\r\n    setRectangle(gl, r) {\r\n        let verts = r.getVertices();\r\n        gl.bufferData(gl.ARRAY_BUFFER, new Float32Array([\r\n            verts[0].x,\r\n            verts[0].y,\r\n            verts[1].x,\r\n            verts[1].y,\r\n            verts[2].x,\r\n            verts[2].y,\r\n            verts[2].x,\r\n            verts[2].y,\r\n            verts[1].x,\r\n            verts[1].y,\r\n            verts[3].x,\r\n            verts[3].y,\r\n        ]), gl.STATIC_DRAW);\r\n    }\r\n    randomInt(range) {\r\n        return Math.floor(Math.random() * range);\r\n    }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9nZW9uLWVuZ2luZS8uL3NyYy9yZW5kZXIvcmVjdGFuZ2xlLXJlbmRlcmVyLnRzP2RjMmYiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQSxlQUFlO0FBR3VCO0FBRS9CLE1BQU0saUJBQWtCLFNBQVEsK0NBQVE7SUFPM0MsWUFBWSxFQUF5QjtRQUNqQyx1RUFBdUU7UUFDdkUsc0VBQXNFO1FBQ3RFLHVEQUF1RDtRQUN2RCwyQkFBMkI7UUFDM0IsSUFBSSxZQUFZLEdBQVc7Ozs7Ozs7Ozs7Ozs7Ozs7O1NBaUIxQixDQUFDO1FBQ0YsSUFBSSxjQUFjLEdBQVc7Ozs7Ozs7O1NBUTVCLENBQUM7UUFFRixnQkFBZ0I7UUFDaEIsS0FBSyxDQUFDLEVBQUUsRUFBRSxZQUFZLEVBQUUsY0FBYyxDQUFDLENBQUM7UUFFeEMsNkNBQTZDO1FBQzdDLElBQUksQ0FBQyxVQUFVLEdBQUcsRUFBRSxDQUFDLGlCQUFpQixDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUUsWUFBWSxDQUFDLENBQUM7UUFDbkUsSUFBSSxDQUFDLGlCQUFpQixHQUFHLEVBQUUsQ0FBQyxZQUFZLEVBQUcsQ0FBQztRQUM1QyxJQUFJLENBQUMsWUFBWSxHQUFHLEVBQUUsQ0FBQyxrQkFBa0IsQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLGNBQWMsQ0FBRSxDQUFDO1FBQ3pFLElBQUksQ0FBQyxPQUFPLEdBQUcsRUFBRSxDQUFDLGtCQUFrQixDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUUsU0FBUyxDQUFFLENBQUM7UUFFL0QsdURBQXVEO1FBRXZELHlFQUF5RTtRQUN6RSxFQUFFLENBQUMsVUFBVSxDQUFDLEVBQUUsQ0FBQyxZQUFZLEVBQUUsSUFBSSxDQUFDLGlCQUFpQixDQUFDLENBQUM7SUFDM0QsQ0FBQztJQUVELE1BQU0sQ0FBQyxFQUF5QixFQUFFLEVBQWdCO1FBQzlDLG1CQUFtQjtRQUNuQixFQUFFLENBQUMsVUFBVSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FB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QztTQUNiLENBQUMsRUFDRixFQUFFLENBQUMsV0FBVyxDQUNqQixDQUFDO0lBQ04sQ0FBQztJQUVELFNBQVMsQ0FBQyxLQUFhO1FBQ25CLE9BQU8sSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFLEdBQUcsS0FBSyxDQUFDLENBQUM7SUFDN0MsQ0FBQztDQUNKIiwiZmlsZSI6Ii4vc3JjL3JlbmRlci9yZWN0YW5nbGUtcmVuZGVyZXIudHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBqb3MgZmVlbnN0cmFcblxuaW1wb3J0IHsgUmVjdGFuZ2xlMiB9IGZyb20gXCIuLi9nZW8vcmVjdGFuZ2xlXCI7XG5pbXBvcnQgeyBSZW5kZXJlciB9IGZyb20gXCIuL3JlbmRlcmVyXCI7XG5cbmV4cG9ydCBjbGFzcyBSZWN0YW5nbGVSZW5kZXJlciBleHRlbmRzIFJlbmRlcmVyIHtcbiAgICAvLyBhdHRyaWJ1dGUgJiB1bmlmb3JtIGxvY2F0aW9uc1xuICAgIGFfcG9zaXRpb246IG51bWJlcjtcbiAgICBhX3Bvc2l0aW9uX2J1ZmZlcjogV2ViR0xCdWZmZXI7XG4gICAgdV9yZXNvbHV0aW9uOiBXZWJHTFVuaWZvcm1Mb2NhdGlvbjtcbiAgICB1X2NvbG9yOiBXZWJHTFVuaWZvcm1Mb2NhdGlvbjtcblxuICAgIGNvbnN0cnVjdG9yKGdsOiBXZWJHTFJlbmRlcmluZ0NvbnRleHQpIHtcbiAgICAgICAgLy8gbm90ZTogSSBsaWtlIHZlcnRleCAmIGZyYWdtZW50cyB0byBiZSBpbmNsdWRlZCBpbiB0aGUgc2NyaXB0IGl0c2VsZi5cbiAgICAgICAgLy8gd2hlbiB5b3UgY2hhbmdlIHZlcnRleCBvciBmcmFnbWVudCwgdGhpcyBjbGFzcyBoYXMgdG8gZGVhbCB3aXRoIGl0LlxuICAgICAgICAvLyBwdXR0aW5nIHRoZW0gc29tZXdoZXJlIGVsc2UgZG9lc250IG1ha2Ugc2Vuc2UgdG8gbWUsXG4gICAgICAgIC8vIHRoZXkgYXJlIGNvdXBsZWQgMSB0byAxLlxuICAgICAgICBsZXQgdmVydGV4U291cmNlOiBzdHJpbmcgPSBgXG4gICAgICAgIGF0dHJpYnV0ZSB2ZWMyIGFfcG9zaXRpb247XG5cbiAgICAgICAgdW5pZm9ybSB2ZWMyIHVfcmVzb2x1dGlvbjtcblxuICAgICAgICB2b2lkIG1haW4oKSB7XG4gICAgICAgICAgICAvLyBjb252ZXJ0IHRoZSByZWN0YW5nbGUgZnJvbSBwaXhlbHMgdG8gMC4wIHRvIDEuMFxuICAgICAgICAgICAgdmVjMiB6ZXJvVG9PbmUgPSAoKGFfcG9zaXRpb24gLyB1X3Jlc29sdXRpb24pICogMi4wKSAtIDEuMDtcblxuICAgICAgICAgICAgLy8gY29udmVydCBmcm9tIDAtPjEgdG8gMC0+MlxuICAgICAgICAgICAgLy8gdmVjMiB6ZXJvVG9Ud28gPSB6ZXJvVG9PbmUgKiAyLjA7XG5cbiAgICAgICAgICAgIC8vIGNvbnZlcnQgZnJvbSAwLT4yIHRvIC0xLT4rMSAoY2xpcHNwYWNlKVxuICAgICAgICAgICAgLy8gdmVjMiBjbGlwU3BhY2UgPSB6ZXJvVG9Ud28gLSAxLjA7XG5cbiAgICAgICAgICAgIGdsX1Bvc2l0aW9uID0gdmVjNCh6ZXJvVG9PbmUgKiB2ZWMyKDEsIC0xKSwgMCwgMSk7XG4gICAgICAgIH1cbiAgICAgICAgYDtcbiAgICAgICAgbGV0IGZyYWdtZW50U291cmNlOiBzdHJpbmcgPSBgXG4gICAgICAgIHByZWNpc2lvbiBtZWRpdW1wIGZsb2F0O1xuXG4gICAgICAgIHVuaWZvcm0gdmVjNCB1X2NvbG9yO1xuICAgICAgICBcbiAgICAgICAgdm9pZCBtYWluKCkge1xuICAgICAgICAgICBnbF9GcmFnQ29sb3IgPSB1X2NvbG9yO1xuICAgICAgICB9XG4gICAgICAgIGA7XG5cbiAgICAgICAgLy8gc2V0dXAgcHJvZ3JhbVxuICAgICAgICBzdXBlcihnbCwgdmVydGV4U291cmNlLCBmcmFnbWVudFNvdXJjZSk7XG5cbiAgICAgICAgLy8gbG9vayB1cCB3aGVyZSB0aGUgdmVydGV4IGRhdGEgbmVlZHMgdG8gZ28uXG4gICAgICAgIHRoaXMuYV9wb3NpdGlvbiA9IGdsLmdldEF0dHJpYkxvY2F0aW9uKHRoaXMucHJvZ3JhbSwgXCJhX3Bvc2l0aW9uXCIpO1xuICAgICAgICB0aGlzLmFfcG9zaXRpb25fYnVmZmVyID0gZ2wuY3JlYXRlQnVmZmVyKCkhO1xuICAgICAgICB0aGlzLnVfcmVzb2x1dGlvbiA9IGdsLmdldFVuaWZvcm1Mb2NhdGlvbih0aGlzLnByb2dyYW0sIFwidV9yZXNvbHV0aW9uXCIpITtcbiAgICAgICAgdGhpcy51X2NvbG9yID0gZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHRoaXMucHJvZ3JhbSwgXCJ1X2NvbG9yXCIpITtcblxuICAgICAgICAvLyBDcmVhdGUgYSBidWZmZXIgdG8gcHV0IHRocmVlIDJkIGNsaXAgc3BhY2UgcG9pbnRzIGluXG5cbiAgICAgICAgLy8gQmluZCBpdCB0byBBUlJBWV9CVUZGRVIgKHRoaW5rIG9mIGl0IGFzIEFSUkFZX0JVRkZFUiA9IHBvc2l0aW9uQnVmZmVyKVxuICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgdGhpcy5hX3Bvc2l0aW9uX2J1ZmZlcik7XG4gICAgfVxuXG4gICAgcmVuZGVyKGdsOiBXZWJHTFJlbmRlcmluZ0NvbnRleHQsIHJzOiBSZWN0YW5nbGUyW10pIHtcbiAgICAgICAgLy8gQ2xlYXIgdGhlIGNhbnZhc1xuICAgICAgICBnbC5jbGVhckNvbG9yKDAsIDAsIDAsIDApO1xuICAgICAgICBnbC5jbGVhcihnbC5DT0xPUl9CVUZGRVJfQklUKTtcblxuICAgICAgICAvLyBUZWxsIGl0IHRvIHVzZSBvdXIgcHJvZ3JhbSAocGFpciBvZiBzaGFkZXJzKVxuICAgICAgICBnbC51c2VQcm9ncmFtKHRoaXMucHJvZ3JhbSk7XG5cbiAgICAgICAgLy8gVHVybiBvbiB0aGUgYXR0cmlidXRlXG4gICAgICAgIGdsLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KHRoaXMuYV9wb3NpdGlvbik7XG5cbiAgICAgICAgZ2wudW5pZm9ybTJmKHRoaXMudV9yZXNvbHV0aW9uLCBnbC5jYW52YXMud2lkdGgsIGdsLmNhbnZhcy5oZWlnaHQpO1xuXG4gICAgICAgIC8vIEJpbmQgdGhlIHBvc2l0aW9uIGJ1ZmZlci5cbiAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIHRoaXMuYV9wb3NpdGlvbl9idWZmZXIpO1xuXG4gICAgICAgIC8vIFRlbGwgdGhlIGF0dHJpYnV0ZSBob3cgdG8gZ2V0IGRhdGEgb3V0IG9mIHBvc2l0aW9uQnVmZmVyIChBUlJBWV9CVUZGRVIpXG4gICAgICAgIHZhciBzaXplID0gMjsgLy8gMiBjb21wb25lbnRzIHBlciBpdGVyYXRpb25cbiAgICAgICAgdmFyIHR5cGUgPSBnbC5GTE9BVDsgLy8gdGhlIGRhdGEgaXMgMzJiaXQgZmxvYXRzXG4gICAgICAgIHZhciBub3JtYWxpemUgPSBmYWxzZTsgLy8gZG9uJ3Qgbm9ybWFsaXplIHRoZSBkYXRhXG4gICAgICAgIHZhciBzdHJpZGUgPSAwOyAvLyAwID0gbW92ZSBmb3J3YXJkIHNpemUgKiBzaXplb2YodHlwZSkgZWFjaCBpdGVyYXRpb24gdG8gZ2V0IHRoZSBuZXh0IHBvc2l0aW9uXG4gICAgICAgIHZhciBvZmZzZXQgPSAwOyAvLyBzdGFydCBhdCB0aGUgYmVnaW5uaW5nIG9mIHRoZSBidWZmZXJcbiAgICAgICAgZ2wudmVydGV4QXR0cmliUG9pbnRlcih0aGlzLmFfcG9zaXRpb24sIHNpemUsIHR5cGUsIG5vcm1hbGl6ZSwgc3RyaWRlLCBvZmZzZXQpO1xuXG4gICAgICAgIC8vIGRyYXcgNTAgcmFuZG9tIHJlY3RhbmdsZXMgaW4gcmFuZG9tIGNvbG9yc1xuICAgICAgICBmb3IgKGxldCByIG9mIHJzKSB7XG4gICAgICAgICAgICAvLyBTZXR1cCBhIHJhbmRvbSByZWN0YW5nbGVcbiAgICAgICAgICAgIC8vIFRoaXMgd2lsbCB3cml0ZSB0byBwb3NpdGlvbkJ1ZmZlciBiZWNhdXNlXG4gICAgICAgICAgICAvLyBpdHMgdGhlIGxhc3QgdGhpbmcgd2UgYm91bmQgb24gdGhlIEFSUkFZX0JVRkZFUlxuICAgICAgICAgICAgLy8gYmluZCBwb2ludFxuICAgICAgICAgICAgdGhpcy5zZXRSZWN0YW5nbGUoZ2wsIHIpO1xuXG4gICAgICAgICAgICAvLyBTZXQgYSByYW5kb20gY29sb3IuXG4gICAgICAgICAgICBnbC51bmlmb3JtNGYodGhpcy51X2NvbG9yLCBNYXRoLnJhbmRvbSgpLCBNYXRoLnJhbmRvbSgpLCBNYXRoLnJhbmRvbSgpLCAxKTtcblxuICAgICAgICAgICAgLy8gRHJhdyB0aGUgcmVjdGFuZ2xlLlxuICAgICAgICAgICAgdmFyIHByaW1pdGl2ZVR5cGUgPSBnbC5UUklBTkdMRVM7XG4gICAgICAgICAgICB2YXIgb2Zmc2V0ID0gMDtcbiAgICAgICAgICAgIHZhciBjb3VudCA9IDY7XG4gICAgICAgICAgICBnbC5kcmF3QXJyYXlzKHByaW1pdGl2ZVR5cGUsIG9mZnNldCwgY291bnQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gRmlsbCB0aGUgYnVmZmVyIHdpdGggdGhlIHZhbHVlcyB0aGF0IGRlZmluZSBhIHJlY3RhbmdsZS5cbiAgICBzZXRSZWN0YW5nbGUoZ2w6IFdlYkdMUmVuZGVyaW5nQ29udGV4dCwgcjogUmVjdGFuZ2xlMikge1xuICAgICAgICBsZXQgdmVydHMgPSByLmdldFZlcnRpY2VzKCk7XG4gICAgICAgIGdsLmJ1ZmZlckRhdGEoXG4gICAgICAgICAgICBnbC5BUlJBWV9CVUZGRVIsXG4gICAgICAgICAgICBuZXcgRmxvYXQzMkFycmF5KFtcbiAgICAgICAgICAgICAgICB2ZXJ0c1swXS54LFxuICAgICAgICAgICAgICAgIHZlcnRzWzBdLnksXG4gICAgICAgICAgICAgICAgdmVydHNbMV0ueCxcbiAgICAgICAgICAgICAgICB2ZXJ0c1sxXS55LFxuICAgICAgICAgICAgICAgIHZlcnRzWzJdLngsXG4gICAgICAgICAgICAgICAgdmVydHNbMl0ueSxcbiAgICAgICAgICAgICAgICB2ZXJ0c1syXS54LFxuICAgICAgICAgICAgICAgIHZlcnRzWzJdLnksXG4gICAgICAgICAgICAgICAgdmVydHNbMV0ueCxcbiAgICAgICAgICAgICAgICB2ZXJ0c1sxXS55LFxuICAgICAgICAgICAgICAgIHZlcnRzWzNdLngsXG4gICAgICAgICAgICAgICAgdmVydHNbM10ueSxcbiAgICAgICAgICAgIF0pLFxuICAgICAgICAgICAgZ2wuU1RBVElDX0RSQVcsXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgcmFuZG9tSW50KHJhbmdlOiBudW1iZXIpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogcmFuZ2UpO1xuICAgIH1cbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/render/rectangle-renderer.ts\n");

/***/ }),

/***/ "./src/render/renderer.ts":
/*!********************************!*\
  !*** ./src/render/renderer.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"DrawSpeed\": () => /* binding */ DrawSpeed,\n/* harmony export */   \"Renderer\": () => /* binding */ Renderer\n/* harmony export */ });\n// webgl-helpers.ts\r\n//\r\n// author: Jos Feenstra\r\n// credits to : https://webglfundamentals.org/\r\n// note: im still figuring out how to organize this\r\n// import { Scene } from \"./scene\";\r\nvar nextTextureId = 0;\r\nvar rendercallsperframe = 0;\r\nvar DrawSpeed;\r\n(function (DrawSpeed) {\r\n    DrawSpeed[DrawSpeed[\"StaticDraw\"] = 0] = \"StaticDraw\";\r\n    DrawSpeed[DrawSpeed[\"DynamicDraw\"] = 1] = \"DynamicDraw\";\r\n})(DrawSpeed || (DrawSpeed = {}));\r\nclass Renderer {\r\n    constructor(gl, vertexScript, fragmentScript) {\r\n        this.gl = gl;\r\n        this.program = Renderer.createProgramFromScripts(gl, vertexScript, fragmentScript);\r\n    }\r\n    buffer(...vars) {\r\n        rendercallsperframe += 1;\r\n    }\r\n    render(...vars) {\r\n        rendercallsperframe += 1;\r\n    }\r\n    static getNextTextureID() {\r\n        let id = nextTextureId;\r\n        nextTextureId += 1;\r\n        return id;\r\n    }\r\n    static resizeCanvas(gl) {\r\n        // Lookup the size the browser is displaying the canvas in CSS pixels.\r\n        let canvas = gl.canvas;\r\n        const displayWidth = canvas.clientWidth;\r\n        const displayHeight = canvas.clientHeight;\r\n        // Check if the canvas is not the same size.\r\n        const needResize = gl.canvas.width !== displayWidth || gl.canvas.height !== displayHeight;\r\n        if (needResize) {\r\n            // Make the canvas the same size\r\n            gl.canvas.width = displayWidth;\r\n            gl.canvas.height = displayHeight;\r\n        }\r\n        // Tell WebGL how to convert from clip space to pixels\r\n        gl.viewport(0, 0, gl.canvas.width, gl.canvas.height);\r\n        return needResize;\r\n    }\r\n    convertDrawSpeed(speed) {\r\n        if (speed == DrawSpeed.DynamicDraw) {\r\n            return this.gl.DYNAMIC_DRAW;\r\n        }\r\n        else {\r\n            return this.gl.STATIC_DRAW;\r\n        }\r\n    }\r\n    static initWebglContext(canvas) {\r\n        let possiblyGl = canvas.getContext(\"webgl\");\r\n        if (possiblyGl == undefined) {\r\n            console.log(\"webgl unavailable...\");\r\n        }\r\n        let gl = possiblyGl;\r\n        gl.enable(gl.BLEND);\r\n        gl.blendFunc(gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA);\r\n        gl.enable(gl.CULL_FACE);\r\n        gl.enable(gl.DEPTH_TEST);\r\n        gl.clearColor(0.0, 0.0, 0.0, 1.0);\r\n        gl.clearDepth(1);\r\n        return gl;\r\n    }\r\n    static compileShader(gl, shaderSource, shaderType) {\r\n        let shader = gl.createShader(shaderType);\r\n        gl.shaderSource(shader, shaderSource);\r\n        gl.compileShader(shader);\r\n        let success = gl.getShaderParameter(shader, gl.COMPILE_STATUS);\r\n        if (!success) {\r\n            throw \"could not compile shader:\" + shaderSource + gl.getShaderInfoLog(shader);\r\n        }\r\n        return shader;\r\n    }\r\n    static createProgram(gl, vertexShader, fragmentShader) {\r\n        let program = gl.createProgram();\r\n        gl.attachShader(program, vertexShader);\r\n        gl.attachShader(program, fragmentShader);\r\n        gl.linkProgram(program);\r\n        let success = gl.getProgramParameter(program, gl.LINK_STATUS);\r\n        if (!success) {\r\n            throw \"program failed to link:\" + gl.getProgramInfoLog(program);\r\n        }\r\n        return program;\r\n    }\r\n    static createProgramFromScripts(gl, vertexScript, fragmentScript) {\r\n        let vertexShader = Renderer.compileShader(gl, vertexScript, gl.VERTEX_SHADER);\r\n        let fragmentShader = Renderer.compileShader(gl, fragmentScript, gl.FRAGMENT_SHADER);\r\n        return Renderer.createProgram(gl, vertexShader, fragmentShader);\r\n    }\r\n}\r\nRenderer.rendercallsperframe = 0;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9nZW9uLWVuZ2luZS8uL3NyYy9yZW5kZXIvcmVuZGVyZXIudHM/YjVjNyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7OztBQUFBLG1CQUFtQjtBQUNuQixFQUFFO0FBQ0YsdUJBQXVCO0FBQ3ZCLDhDQUE4QztBQUM5QyxtREFBbUQ7QUFFbkQsbUNBQW1DO0FBRW5DLElBQUksYUFBYSxHQUFHLENBQUMsQ0FBQztBQUN0QixJQUFJLG1CQUFtQixHQUFHLENBQUMsQ0FBQztBQUU1QixJQUFZLFNBR1g7QUFIRCxXQUFZLFNBQVM7SUFDakIscURBQVU7SUFDVix1REFBVztBQUNmLENBQUMsRUFIVyxTQUFTLEtBQVQsU0FBUyxRQUdwQjtBQUVNLE1BQU0sUUFBUTtJQUtqQixZQUFZLEVBQXlCLEVBQUUsWUFBb0IsRUFBRSxjQUFzQjtRQUMvRSxJQUFJLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQztRQUNiLElBQUksQ0FBQyxPQUFPLEdBQUcsUUFBUSxDQUFDLHdCQUF3QixDQUFDLEVBQUUsRUFBRSxZQUFZLEVBQUUsY0FBYyxDQUFDLENBQUM7SUFDdkYsQ0FBQztJQUVELE1BQU0sQ0FBQyxHQUFHLElBQVM7UUFDZixtQkFBbUIsSUFBSSxDQUFDLENBQUM7SUFDN0IsQ0FBQztJQUVELE1BQU0sQ0FBQyxHQUFHLElBQVM7UUFDZixtQkFBbUIsSUFBSSxDQUFDLENBQUM7SUFDN0IsQ0FBQztJQUVELE1BQU0sQ0FBQyxnQkFBZ0I7UUFDbkIsSUFBSSxFQUFFLEdBQUcsYUFBYSxDQUFDO1FBQ3ZCLGFBQWEsSUFBSSxDQUFDLENBQUM7UUFDbkIsT0FBTyxFQUFFLENBQUM7SUFDZCxDQUFDO0lBRUQsTUFBTSxDQUFDLFlBQVksQ0FBQyxFQUF5QjtRQUN6QyxzRUFBc0U7UUFDdEUsSUFBSSxNQUFNLEdBQUcsRUFBRSxDQUFDLE1BQTJCLENBQUM7UUFFNUMsTUFBTSxZQUFZLEdBQUcsTUFBTSxDQUFDLFdBQVcsQ0FBQztRQUN4QyxNQUFNLGFBQWEsR0FB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T0FBTyxDQUFDLENBQUM7UUFDeEIsSUFBSSxPQUFPLEdBQUcsRUFBRSxDQUFDLG1CQUFtQixDQUFDLE9BQU8sRUFBRSxFQUFFLENBQUMsV0FBVyxDQUFDLENBQUM7UUFDOUQsSUFBSSxDQUFDLE9BQU8sRUFBRTtZQUNWLE1BQU0seUJBQXlCLEdBQUcsRUFBRSxDQUFDLGlCQUFpQixDQUFDLE9BQU8sQ0FBQyxDQUFDO1NBQ25FO1FBQ0QsT0FBTyxPQUFPLENBQUM7SUFDbkIsQ0FBQztJQUVELE1BQU0sQ0FBQyx3QkFBd0IsQ0FDM0IsRUFBeUIsRUFDekIsWUFBb0IsRUFDcEIsY0FBc0I7UUFFdEIsSUFBSSxZQUFZLEdBQUcsUUFBUSxDQUFDLGFBQWEsQ0FBQyxFQUFFLEVBQUUsWUFBWSxFQUFFLEVBQUUsQ0FBQyxhQUFhLENBQUMsQ0FBQztRQUM5RSxJQUFJLGNBQWMsR0FBRyxRQUFRLENBQUMsYUFBYSxDQUFDLEVBQUUsRUFBRSxjQUFjLEVBQUUsRUFBRSxDQUFDLGVBQWUsQ0FBQyxDQUFDO1FBQ3BGLE9BQU8sUUFBUSxDQUFDLGFBQWEsQ0FBQyxFQUFFLEVBQUUsWUFBWSxFQUFFLGNBQWMsQ0FBQyxDQUFDO0lBQ3BFLENBQUM7O0FBcEdNLDRCQUFtQixHQUFHLENBQUMsQ0FBQyIsImZpbGUiOiIuL3NyYy9yZW5kZXIvcmVuZGVyZXIudHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyB3ZWJnbC1oZWxwZXJzLnRzXG4vL1xuLy8gYXV0aG9yOiBKb3MgRmVlbnN0cmFcbi8vIGNyZWRpdHMgdG8gOiBodHRwczovL3dlYmdsZnVuZGFtZW50YWxzLm9yZy9cbi8vIG5vdGU6IGltIHN0aWxsIGZpZ3VyaW5nIG91dCBob3cgdG8gb3JnYW5pemUgdGhpc1xuXG4vLyBpbXBvcnQgeyBTY2VuZSB9IGZyb20gXCIuL3NjZW5lXCI7XG5cbnZhciBuZXh0VGV4dHVyZUlkID0gMDtcbnZhciByZW5kZXJjYWxsc3BlcmZyYW1lID0gMDtcblxuZXhwb3J0IGVudW0gRHJhd1NwZWVkIHtcbiAgICBTdGF0aWNEcmF3LCAvLyBpZiB5b3UgcGxhbiBvbiB1c2luZyB0aGUgJ3NldCcgbWV0aG9kIG9ubHkgYSBjb3VwbGUgb2YgdGltZXMgLyBvbmNlXG4gICAgRHluYW1pY0RyYXcsIC8vIGlmIHlvdSBwbGFuIG9uIHVzaW5nIHRoZSAnc2V0JyBtZXRob2QgZXZlcnkgZnJhbWVcbn1cblxuZXhwb3J0IGNsYXNzIFJlbmRlcmVyIHtcbiAgICBnbDogV2ViR0xSZW5kZXJpbmdDb250ZXh0O1xuICAgIHByb2dyYW06IFdlYkdMUHJvZ3JhbTtcbiAgICBzdGF0aWMgcmVuZGVyY2FsbHNwZXJmcmFtZSA9IDA7XG5cbiAgICBjb25zdHJ1Y3RvcihnbDogV2ViR0xSZW5kZXJpbmdDb250ZXh0LCB2ZXJ0ZXhTY3JpcHQ6IHN0cmluZywgZnJhZ21lbnRTY3JpcHQ6IHN0cmluZykge1xuICAgICAgICB0aGlzLmdsID0gZ2w7XG4gICAgICAgIHRoaXMucHJvZ3JhbSA9IFJlbmRlcmVyLmNyZWF0ZVByb2dyYW1Gcm9tU2NyaXB0cyhnbCwgdmVydGV4U2NyaXB0LCBmcmFnbWVudFNjcmlwdCk7XG4gICAgfVxuXG4gICAgYnVmZmVyKC4uLnZhcnM6IGFueSkge1xuICAgICAgICByZW5kZXJjYWxsc3BlcmZyYW1lICs9IDE7XG4gICAgfVxuXG4gICAgcmVuZGVyKC4uLnZhcnM6IGFueSkge1xuICAgICAgICByZW5kZXJjYWxsc3BlcmZyYW1lICs9IDE7XG4gICAgfVxuXG4gICAgc3RhdGljIGdldE5leHRUZXh0dXJlSUQoKSB7XG4gICAgICAgIGxldCBpZCA9IG5leHRUZXh0dXJlSWQ7XG4gICAgICAgIG5leHRUZXh0dXJlSWQgKz0gMTtcbiAgICAgICAgcmV0dXJuIGlkO1xuICAgIH1cblxuICAgIHN0YXRpYyByZXNpemVDYW52YXMoZ2w6IFdlYkdMUmVuZGVyaW5nQ29udGV4dCkge1xuICAgICAgICAvLyBMb29rdXAgdGhlIHNpemUgdGhlIGJyb3dzZXIgaXMgZGlzcGxheWluZyB0aGUgY2FudmFzIGluIENTUyBwaXhlbHMuXG4gICAgICAgIGxldCBjYW52YXMgPSBnbC5jYW52YXMgYXMgSFRNTENhbnZhc0VsZW1lbnQ7XG5cbiAgICAgICAgY29uc3QgZGlzcGxheVdpZHRoID0gY2FudmFzLmNsaWVudFdpZHRoO1xuICAgICAgICBjb25zdCBkaXNwbGF5SGVpZ2h0ID0gY2FudmFzLmNsaWVudEhlaWdodDtcblxuICAgICAgICAvLyBDaGVjayBpZiB0aGUgY2FudmFzIGlzIG5vdCB0aGUgc2FtZSBzaXplLlxuICAgICAgICBjb25zdCBuZWVkUmVzaXplID0gZ2wuY2FudmFzLndpZHRoICE9PSBkaXNwbGF5V2lkdGggfHwgZ2wuY2FudmFzLmhlaWdodCAhPT0gZGlzcGxheUhlaWdodDtcblxuICAgICAgICBpZiAobmVlZFJlc2l6ZSkge1xuICAgICAgICAgICAgLy8gTWFrZSB0aGUgY2FudmFzIHRoZSBzYW1lIHNpemVcbiAgICAgICAgICAgIGdsLmNhbnZhcy53aWR0aCA9IGRpc3BsYXlXaWR0aDtcbiAgICAgICAgICAgIGdsLmNhbnZhcy5oZWlnaHQgPSBkaXNwbGF5SGVpZ2h0O1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVGVsbCBXZWJHTCBob3cgdG8gY29udmVydCBmcm9tIGNsaXAgc3BhY2UgdG8gcGl4ZWxzXG4gICAgICAgIGdsLnZpZXdwb3J0KDAsIDAsIGdsLmNhbnZhcy53aWR0aCwgZ2wuY2FudmFzLmhlaWdodCk7XG5cbiAgICAgICAgcmV0dXJuIG5lZWRSZXNpemU7XG4gICAgfVxuXG4gICAgY29udmVydERyYXdTcGVlZChzcGVlZDogRHJhd1NwZWVkKTogbnVtYmVyIHtcbiAgICAgICAgaWYgKHNwZWVkID09IERyYXdTcGVlZC5EeW5hbWljRHJhdykge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2wuRFlOQU1JQ19EUkFXO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2wuU1RBVElDX0RSQVc7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzdGF0aWMgaW5pdFdlYmdsQ29udGV4dChjYW52YXM6IEhUTUxDYW52YXNFbGVtZW50KSB7XG4gICAgICAgIGxldCBwb3NzaWJseUdsID0gY2FudmFzLmdldENvbnRleHQoXCJ3ZWJnbFwiKTtcbiAgICAgICAgaWYgKHBvc3NpYmx5R2wgPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIndlYmdsIHVuYXZhaWxhYmxlLi4uXCIpO1xuICAgICAgICB9XG4gICAgICAgIGxldCBnbCA9IHBvc3NpYmx5R2whO1xuXG4gICAgICAgIGdsLmVuYWJsZShnbC5CTEVORCk7XG4gICAgICAgIGdsLmJsZW5kRnVuYyhnbC5TUkNfQUxQSEEsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEEpO1xuICAgICAgICBnbC5lbmFibGUoZ2wuQ1VMTF9GQUNFKTtcbiAgICAgICAgZ2wuZW5hYmxlKGdsLkRFUFRIX1RFU1QpO1xuXG4gICAgICAgIGdsLmNsZWFyQ29sb3IoMC4wLCAwLjAsIDAuMCwgMS4wKTtcbiAgICAgICAgZ2wuY2xlYXJEZXB0aCgxKTtcblxuICAgICAgICByZXR1cm4gZ2w7XG4gICAgfVxuXG4gICAgc3RhdGljIGNvbXBpbGVTaGFkZXIoZ2w6IFdlYkdMUmVuZGVyaW5nQ29udGV4dCwgc2hhZGVyU291cmNlOiBzdHJpbmcsIHNoYWRlclR5cGU6IG51bWJlcik6IFdlYkdMU2hhZGVyIHtcbiAgICAgICAgbGV0IHNoYWRlciA9IGdsLmNyZWF0ZVNoYWRlcihzaGFkZXJUeXBlKSE7XG4gICAgICAgIGdsLnNoYWRlclNvdXJjZShzaGFkZXIsIHNoYWRlclNvdXJjZSk7XG4gICAgICAgIGdsLmNvbXBpbGVTaGFkZXIoc2hhZGVyKTtcbiAgICAgICAgbGV0IHN1Y2Nlc3MgPSBnbC5nZXRTaGFkZXJQYXJhbWV0ZXIoc2hhZGVyLCBnbC5DT01QSUxFX1NUQVRVUyk7XG4gICAgICAgIGlmICghc3VjY2Vzcykge1xuICAgICAgICAgICAgdGhyb3cgXCJjb3VsZCBub3QgY29tcGlsZSBzaGFkZXI6XCIgKyBzaGFkZXJTb3VyY2UgKyBnbC5nZXRTaGFkZXJJbmZvTG9nKHNoYWRlcik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNoYWRlcjtcbiAgICB9XG5cbiAgICBzdGF0aWMgY3JlYXRlUHJvZ3JhbShnbDogV2ViR0xSZW5kZXJpbmdDb250ZXh0LCB2ZXJ0ZXhTaGFkZXI6IFdlYkdMU2hhZGVyLCBmcmFnbWVudFNoYWRlcjogV2ViR0xTaGFkZXIpIHtcbiAgICAgICAgbGV0IHByb2dyYW0gPSBnbC5jcmVhdGVQcm9ncmFtKCkhO1xuICAgICAgICBnbC5hdHRhY2hTaGFkZXIocHJvZ3JhbSwgdmVydGV4U2hhZGVyKTtcbiAgICAgICAgZ2wuYXR0YWNoU2hhZGVyKHByb2dyYW0sIGZyYWdtZW50U2hhZGVyKTtcbiAgICAgICAgZ2wubGlua1Byb2dyYW0ocHJvZ3JhbSk7XG4gICAgICAgIGxldCBzdWNjZXNzID0gZ2wuZ2V0UHJvZ3JhbVBhcmFtZXRlcihwcm9ncmFtLCBnbC5MSU5LX1NUQVRVUyk7XG4gICAgICAgIGlmICghc3VjY2Vzcykge1xuICAgICAgICAgICAgdGhyb3cgXCJwcm9ncmFtIGZhaWxlZCB0byBsaW5rOlwiICsgZ2wuZ2V0UHJvZ3JhbUluZm9Mb2cocHJvZ3JhbSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHByb2dyYW07XG4gICAgfVxuXG4gICAgc3RhdGljIGNyZWF0ZVByb2dyYW1Gcm9tU2NyaXB0cyhcbiAgICAgICAgZ2w6IFdlYkdMUmVuZGVyaW5nQ29udGV4dCxcbiAgICAgICAgdmVydGV4U2NyaXB0OiBzdHJpbmcsXG4gICAgICAgIGZyYWdtZW50U2NyaXB0OiBzdHJpbmcsXG4gICAgKTogV2ViR0xQcm9ncmFtIHtcbiAgICAgICAgbGV0IHZlcnRleFNoYWRlciA9IFJlbmRlcmVyLmNvbXBpbGVTaGFkZXIoZ2wsIHZlcnRleFNjcmlwdCwgZ2wuVkVSVEVYX1NIQURFUik7XG4gICAgICAgIGxldCBmcmFnbWVudFNoYWRlciA9IFJlbmRlcmVyLmNvbXBpbGVTaGFkZXIoZ2wsIGZyYWdtZW50U2NyaXB0LCBnbC5GUkFHTUVOVF9TSEFERVIpO1xuICAgICAgICByZXR1cm4gUmVuZGVyZXIuY3JlYXRlUHJvZ3JhbShnbCwgdmVydGV4U2hhZGVyLCBmcmFnbWVudFNoYWRlcik7XG4gICAgfVxufVxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/render/renderer.ts\n");

/***/ }),

/***/ "./src/render/shaded-mesh-renderer.ts":
/*!********************************************!*\
  !*** ./src/render/shaded-mesh-renderer.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ShadedMeshRenderer\": () => /* binding */ ShadedMeshRenderer\n/* harmony export */ });\n/* harmony import */ var _mesh_line_array__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../mesh/line-array */ \"./src/mesh/line-array.ts\");\n/* harmony import */ var _data_vector_array__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../data/vector-array */ \"./src/data/vector-array.ts\");\n/* harmony import */ var _mesh_render_mesh__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../mesh/render-mesh */ \"./src/mesh/render-mesh.ts\");\n/* harmony import */ var _math_matrix__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../math/matrix */ \"./src/math/matrix.ts\");\n/* harmony import */ var _renderer__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./renderer */ \"./src/render/renderer.ts\");\n/* harmony import */ var _math_vector__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../math/vector */ \"./src/math/vector.ts\");\n/* harmony import */ var _lib__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../lib */ \"./src/lib.ts\");\n// name:    mesh-renderer.ts\r\n// author:  Jos Feenstra\r\n// purpose: A shader wrapper for rendering shaded, textured, meshes\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclass ShadedMeshRenderer extends _renderer__WEBPACK_IMPORTED_MODULE_4__.Renderer {\r\n    constructor(gl) {\r\n        const vs = `\n\n        attribute vec4 a_vertex_position;\n        attribute vec3 a_vertex_normal;\n        attribute float a_vertex_ambi;\n    \n        uniform mat4 u_normal_matrix;\n        uniform mat4 u_model_view_matrix;\n        uniform mat4 u_projection_matrix;\n\n        // should be uniforms constances\n        uniform vec3 u_ambient_light;\n        uniform vec3 u_dir_light_color;\n        uniform vec3 u_dir_light_vector;  \n\n        // varying vec2 v_texture_coord;\n        varying vec3 v_lighting;\n    \n        void main(void) {\n\n            gl_Position = u_projection_matrix * u_model_view_matrix * a_vertex_position;\n            // v_texture_coord = a_texture_coord;\n        \n            // Apply lighting effect\n            // highpr is removed\n            vec4 transformedNormal = u_normal_matrix * vec4(a_vertex_normal, 1.0);\n            float directional = max(dot(transformedNormal.xyz, u_dir_light_vector), 0.0);\n            v_lighting = (u_ambient_light + (u_dir_light_color * directional));\n        }\n        `;\r\n        const fs = `\n        precision mediump float;\n\n        // Calculates the diffuse factor produced by the light illumination  \n        // if done like this, color could look nicer\n        // float diffuseFactor(vec3 normal, vec3 light_direction) {\n        //     float df = dot(normalize(normal), normalize(light_direction));\n        //     if (gl_FrontFacing) {\n        //         df = -df;\n        //     }\n        //     return max(0.0, df);\n        // }\n\n        varying vec3 v_lighting;\n\n        void main() {\n\n            // Fragment shader output\n            gl_FragColor = vec4(v_lighting, 1.0);\n        }\n        `;\r\n        // setup program\r\n        super(gl, vs, fs);\r\n        gl.useProgram(this.program);\r\n        this.count = 0;\r\n        this.size = 0;\r\n        // init uniforms\r\n        this.u_normal_matrix = gl.getUniformLocation(this.program, \"u_normal_matrix\");\r\n        this.u_model_view_matrix = gl.getUniformLocation(this.program, \"u_model_view_matrix\");\r\n        this.u_projection_matrix = gl.getUniformLocation(this.program, \"u_projection_matrix\");\r\n        // light uniforms\r\n        this.u_ambient_light = gl.getUniformLocation(this.program, \"u_ambient_light\");\r\n        this.u_dir_light_color = gl.getUniformLocation(this.program, \"u_dir_light_color\");\r\n        this.u_dir_light_vector = gl.getUniformLocation(this.program, \"u_dir_light_vector\");\r\n        // init attributes: verts | normals | ambi\r\n        this.a_vertex_position = gl.getAttribLocation(this.program, \"a_vertex_position\");\r\n        this.a_vertex_postition_buffer = gl.createBuffer();\r\n        this.a_vertex_normal = gl.getAttribLocation(this.program, \"a_vertex_normal\");\r\n        this.a_vertex_normal_buffer = gl.createBuffer();\r\n        this.a_vertex_ambi = gl.getAttribLocation(this.program, \"a_vertex_ambi\");\r\n        this.a_vertex_ambi_buffer = gl.createBuffer();\r\n        this.index_buffer = gl.createBuffer();\r\n    }\r\n    set(gl, rend, speed = _renderer__WEBPACK_IMPORTED_MODULE_4__.DrawSpeed.StaticDraw) {\r\n        // NOTE: processing time is longer: we use DrawArray instead of DrawElements, to deal with normals & uv data\r\n        let normalType = rend.getNormalType();\r\n        if (normalType == _mesh_render_mesh__WEBPACK_IMPORTED_MODULE_2__.NormalKind.Face) {\r\n            // save how many verts need to be drawn\r\n            gl.useProgram(this.program);\r\n            this.count = rend.mesh.links.data.length;\r\n            let ds = this.convertDrawSpeed(speed);\r\n            // convert to non-indexed verts & norms\r\n            let verts = new _data_vector_array__WEBPACK_IMPORTED_MODULE_1__.Vector3Array(this.count);\r\n            let norms = new _data_vector_array__WEBPACK_IMPORTED_MODULE_1__.Vector3Array(this.count);\r\n            let ambi = new Float32Array(this.count);\r\n            let faceCount = rend.mesh.links.count();\r\n            for (let i = 0; i < rend.mesh.links.count(); i++) {\r\n                let norm = rend.norms.getVector(i);\r\n                rend.mesh.links.getRow(i).forEach((v, j) => {\r\n                    let id = i * 3 + j;\r\n                    verts.setVector(id, rend.mesh.verts.getVector(v));\r\n                    norms.setVector(id, norm);\r\n                    ambi[id] = 1;\r\n                });\r\n            }\r\n            // buffer 1\r\n            gl.bindBuffer(gl.ARRAY_BUFFER, this.a_vertex_postition_buffer);\r\n            gl.vertexAttribPointer(this.a_vertex_position, 3, gl.FLOAT, false, 0, 0);\r\n            gl.bufferData(gl.ARRAY_BUFFER, verts.data.buffer, ds);\r\n            // buffer 2\r\n            gl.bindBuffer(gl.ARRAY_BUFFER, this.a_vertex_normal_buffer);\r\n            gl.vertexAttribPointer(this.a_vertex_normal, 3, gl.FLOAT, false, 0, 0);\r\n            gl.bufferData(gl.ARRAY_BUFFER, norms.data.buffer, ds);\r\n            // buffer 3\r\n            // gl.bindBuffer(gl.ARRAY_BUFFER, this.a_vertex_ambi_buffer);\r\n            // gl.vertexAttribPointer(this.a_vertex_ambi, 1, gl.FLOAT, false, 0, 0);\r\n            // gl.bufferData(gl.ARRAY_BUFFER, ambi, ds);\r\n            // index\r\n            gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, this.index_buffer);\r\n            gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, (0,_mesh_line_array__WEBPACK_IMPORTED_MODULE_0__.getDefaultIndices)(this.count).buffer, this.convertDrawSpeed(speed));\r\n        }\r\n        else if (normalType == _mesh_render_mesh__WEBPACK_IMPORTED_MODULE_2__.NormalKind.Vertex) {\r\n            // save how many verts need to be drawn\r\n            gl.useProgram(this.program);\r\n            let ds = this.convertDrawSpeed(speed);\r\n            // convert to non-indexed verts & norms\r\n            let ambi = rend.ambi;\r\n            let faceCount = rend.mesh.links.count();\r\n            this.count = rend.mesh.links.data.length;\r\n            // console.log(rend.mesh.links);\r\n            // buffer 1\r\n            gl.bindBuffer(gl.ARRAY_BUFFER, this.a_vertex_postition_buffer);\r\n            gl.vertexAttribPointer(this.a_vertex_position, 3, gl.FLOAT, false, 0, 0);\r\n            gl.bufferData(gl.ARRAY_BUFFER, rend.mesh.verts.data, ds);\r\n            // buffer 2\r\n            gl.bindBuffer(gl.ARRAY_BUFFER, this.a_vertex_normal_buffer);\r\n            gl.vertexAttribPointer(this.a_vertex_normal, 3, gl.FLOAT, false, 0, 0);\r\n            gl.bufferData(gl.ARRAY_BUFFER, rend.norms.data, ds);\r\n            // buffer 3\r\n            // gl.bindBuffer(gl.ARRAY_BUFFER, this.a_vertex_ambi_buffer);\r\n            // gl.vertexAttribPointer(this.a_vertex_ambi, 1, gl.FLOAT, false, 0, 0);\r\n            // gl.bufferData(gl.ARRAY_BUFFER, ambi, ds);\r\n            // index\r\n            gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, this.index_buffer);\r\n            gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, rend.mesh.links.data, ds);\r\n        }\r\n        else if (normalType == _mesh_render_mesh__WEBPACK_IMPORTED_MODULE_2__.NormalKind.MultiVertex) {\r\n            console.log(\"cannot render multi vertex normals\");\r\n        }\r\n        else {\r\n            console.log(\"cannot render with this normal data\");\r\n        }\r\n        if (this.count > _lib__WEBPACK_IMPORTED_MODULE_6__.Const.MAX_U16) {\r\n            this.count = _lib__WEBPACK_IMPORTED_MODULE_6__.Const.MAX_U16;\r\n        }\r\n    }\r\n    // render 1 image to the screen\r\n    render(gl, camera) {\r\n        // console.log(\"rendering..\");\r\n        // use the program\r\n        gl.useProgram(this.program);\r\n        // set uniforms\r\n        gl.uniformMatrix4fv(this.u_normal_matrix, false, _math_matrix__WEBPACK_IMPORTED_MODULE_3__.Matrix4.newIdentity().data);\r\n        gl.uniformMatrix4fv(this.u_model_view_matrix, false, camera.worldMatrix.data);\r\n        gl.uniformMatrix4fv(this.u_projection_matrix, false, camera.projectMatrix.data);\r\n        let vec = camera.getMouseWorldRay(gl.canvas.width, gl.canvas.height, false).normal;\r\n        gl.uniform3fv(this.u_ambient_light, new _math_vector__WEBPACK_IMPORTED_MODULE_5__.Vector3(0.2, 0.2, 0.2).toArray());\r\n        gl.uniform3fv(this.u_dir_light_color, new _math_vector__WEBPACK_IMPORTED_MODULE_5__.Vector3(1, 1, 1.0).toArray());\r\n        gl.uniform3fv(this.u_dir_light_vector, vec.scale(-1).toArray());\r\n        // buffer 1\r\n        gl.enableVertexAttribArray(this.a_vertex_position);\r\n        gl.bindBuffer(gl.ARRAY_BUFFER, this.a_vertex_postition_buffer);\r\n        gl.vertexAttribPointer(this.a_vertex_position, 3, gl.FLOAT, false, 0, 0);\r\n        // buffer 2\r\n        gl.enableVertexAttribArray(this.a_vertex_normal);\r\n        gl.bindBuffer(gl.ARRAY_BUFFER, this.a_vertex_normal_buffer);\r\n        gl.vertexAttribPointer(this.a_vertex_normal, 3, gl.FLOAT, false, 0, 0);\r\n        // buffer 3\r\n        // gl.enableVertexAttribArray(this.a_vertex_ambi);\r\n        // gl.bindBuffer(gl.ARRAY_BUFFER, this.a_vertex_ambi_buffer);\r\n        // gl.vertexAttribPointer(this.a_vertex_normal, 3, gl.FLOAT, false, 0, 0);\r\n        // indices\r\n        gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, this.index_buffer);\r\n        // draw!\r\n        gl.drawElements(gl.TRIANGLES, this.count, gl.UNSIGNED_SHORT, 0);\r\n    }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9nZW9uLWVuZ2luZS8uL3NyYy9yZW5kZXIvc2hhZGVkLW1lc2gtcmVuZGVyZXIudHM/NWY2NiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFBLDRCQUE0QjtBQUM1Qix3QkFBd0I7QUFDeEIsbUVBQW1FO0FBR0Q7QUFDZDtBQUNTO0FBQ3BCO0FBQ1E7QUFJUjtBQUNWO0FBRXhCLE1BQU0sa0JBQW1CLFNBQVEsK0NBQVE7SUFzQjVDLFlBQVksRUFBeUI7UUFDakMsTUFBTSxFQUFFLEdBQUc7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O1NBNkJWLENBQUM7UUFFRixNQUFNLEVBQUUsR0FBRzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7U0FvQlYsQ0FBQztRQUVGLGdCQUFnQjtRQUNoQixLQUFLLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUMsQ0FBQztRQUVsQixFQUFFLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQztRQUM1QixJQUFJLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQztRQUNmLElBQUksQ0FBQyxJQUFJLEdBQUcsQ0FBQyxDQUFDO1FBRWQsZ0JBQWdCO1FBQ2hCLElBQUksQ0FBQyxlQUFlLEdBQUcsRUFBRSxDQUFDLGtCQUFrQixDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUUsaUJBQWlCLENBQUUsQ0FBQztRQUMvRSxJQUFJLENBQUMsbUJBQW1CLEdBQUcsRUFBRSxDQUFDLGtCQUFrQixDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUUscUJBQXFCLENBQUUsQ0FBQztRQUN2RixJQUFJLENBQUMsbUJBQW1CLEdBQUcsRUFBRSxDQUFDLGtCQUFrQixDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUUscUJBQXFCLENBQUUsQ0FBQztRQUV2RixpQkFBaUI7UUFDakIsSUFBSSxDQUFDLGVBQWUsR0FBRyxFQUFFLENBQUMsa0JBQWtCLENBQUMsSUFBSSxDQUFDLE9BQU8sRUFBRSxpQkFBaUIsQ0FBRSxDQUFDO1FBQy9FLElBQUksQ0FBQyxpQkFBaUIsR0FBRyxFQUFFLENBQUMsa0JBQWtCLENBQUMsSUFBSSxDQUFDLE9BQU8sRUFBRSxtQkFBbUIsQ0FBRSxDQUFDO1FBQ25GLElBQUksQ0FBQyxrQkFBa0IsR0FBRyxFQUFFLENBQUMsa0JBQWtCLENBQUMsSUFBSSxDQUFDLE9BQU8sRUFBRSxvQkFBb0IsQ0FBRSxDQUFDO1FBRXJGLDBDQUEwQztRQUMxQyxJQUFJLENBQUMsaUJBQWlCLEdBQUcsRUFBRSxDQUFDLGlCQUFpQixDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUUsbUJBQW1CLENBQUMsQ0FBQztRQUNqRixJQUFJLENBQUMseUJBQXlCLEdBQUcsRUFBRSxDQUFDLFlBQVksRUFBRyxDQUFDO1FBRXBELElBQUksQ0FBQyxlQUFlLEdBQUcsRUFBRSxDQUFDLGlCQUFpQixDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUUsaUJBQWlCLENBQUMsQ0FBQztRQUM3RSxJQUFJLENBQUMsc0JBQXNCLEdBQUcsRUFBRSxDQUFDLFlBQVksRUFBRyxDQUFDO1FBRWpELElBQUksQ0FBQyxhQUFhLEdBQUcsRUFBRSxDQUFDLGlCQUFpQixDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUUsZUFBZSxDQUFDLENBQUM7UUFDekUsSUFBSSxDQUFDLG9CQUFvQixHQUFHLEVBQUUsQ0FBQyxZQUFZLEVBQUcsQ0FBQztRQUUvQyxJQUFJLENBQUMsWUFBWSxHQUFHLEVBQUUsQ0FBQyxZQUFZLEVBQUcsQ0FBQztJQUMzQyxDQUFDO0lBRUQsR0FBRyxDQUFDLEVBQXlCLEVBQUUsSUFBZ0IsRUFBRSxRQUFtQiwyREFBb0I7UUFDcEYsNEdBQTRHO1FBQzVHLElBQUksVUFBVSxHQUFHLElBQUksQ0FBQyxhQUFhLEVBQUUsQ0FBQztRQUN0QyxJQUFJLFVBQVUsSUFBSSw4REFBZSxFQUFFO1lBQy9CLHVDQUF1QztZQUN2QyxFQUFFLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQztZQUM1QixJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUM7WUFDekMsSUFBSSxFQUFFLEdBQUcsSUFBSSxDQUFDLGdCQUFnQixDQUFDLEtBQUssQ0FBQyxDQUFDO1lBRXRDLHVDQUF1QztZQUN2QyxJQUFJLEtBQUssR0FBRyxJQUFJLDREQUFZLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO1lBQ3pDLElBQUksS0FBSyxHQUFHLElBQUksNERBQVksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7WUFDekMsSUFBSSxJQUFJLEdBQUcsSUFBSSxZQUFZLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO1lBRXhDLElBQUksU0FBUyxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssRUFBRSxDQUFDO1lBQ3hDLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRTtnQkFDOUMsSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUM7Z0JBQ25DLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUU7b0JBQ3ZDLElBQUksRUFBRSxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO29CQUNuQixLQUFLLENBQUMsU0FBUyxDQUFDLEVBQUUsRUFBRSxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztvQkFDbEQsS0FBSyxDQUFDLFNBQVMsQ0FBQyxFQUFFLEVBQUUsSUFBSSxDQUFDLENBQUM7b0JBQzFCLElBQUksQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUM7Z0JBQ2pCLENBQUMsQ0FBQyxDQUFDO2FBQ047WUFFRCxXQUFXO1lBQ1gsRUFBRSxDQUFDLFVBQVUsQ0FBQyxFQUFFLENBQUMsWUFBWSxFQUFFLElBQUksQ0FBQyx5QkFBeUIsQ0FBQyxDQUFDO1lBQy9ELEVBQUUsQ0FBQyxtQkFBbUIsQ0FBQyxJQUFJLENBQUMsaUJBQWlCLEVBQUUsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxLQUFLLEVBQUUsS0FBSyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztZQUN6RSxFQUFFLENBQUMsVUFBVSxDQUFDLEVBQUUsQ0FBQyxZQUFZLEVBQUUsS0FBSyxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsRUFBRSxDQUFDLENBQUM7WUFFdEQsV0FBVztZQUNYLEVBQUUsQ0FBQyxVQUFVLENBQUMsRUFBRSxDQUFDLFlBQVksRUFBRSxJQUFJLENBQUMsc0JBQXNCLENBQUMsQ0FBQztZQUM1RCxFQUFFLENBQUMsbUJBQW1CLENBQUMsSUFBSSxDQUFDLGVBQWUsRUFBRSxDQUFDLEVBQUUsRUFBRSxDQUFDLEtBQUssRUFBRSxLQUFLLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO1lBQ3ZFLEVBQUUsQ0FBQyxVQUFVLENBQUMsRUFBRSxDQUFDLFlBQVksRUFBRSxLQUFLLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBRSxFQUFFLENBQUMsQ0FBQztZQUV0RCxXQUFXO1lBQ1gsNkRBQTZEO1lBQzdELHdFQUF3RTtZQUN4RSw0Q0FBNEM7WUFFNUMsUUFBUTtZQUNSLEVBQUUsQ0FBQyxVQUFVLENBQUMsRUFBRSxDQUFDLG9CQUFvQixFQUFFLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQztZQUMxRCxFQUFFLENBQUMsVUFBVSxDQUFDLEVBQUUsQ0FBQyxvQkFBb0IsRUFBRSxtRUFBaUIsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsTUFBTSxFQUFFLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO1NBQzlHO2FBQU0sSUFBSSxVQUFVLElBQUksZ0VBQWlCLEVBQUU7WUFDeEMsdUNBQXVDO1lBQ3ZDLEVBQUUsQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDO1lBRTVCLElBQUksRUFBRSxHQUFHLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxLQUFLLENBQUMsQ0FBQztZQUV0Qyx1Q0FBdUM7WUFDdkMsSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQztZQUVyQixJQUFJLFNBQVMsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLEVBQUUsQ0FBQztZQUN4QyxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUM7WUFDekMsZ0NBQWdDO1lBRWhDLFdBQVc7WUFDWCxFQUFFLENBQUMsVUFBVSxDQUFDLEVBQUUsQ0FBQyxZQUFZLEVBQUUsSUFBSSxDQUFDLHlCQUF5QixDQUFDLENBQUM7WUFDL0QsRUFBRSxDQUFDLG1CQUFtQixDQUFDLElBQUksQ0FBQyxpQkFBaUIsRUFBRSxDQUFDLEVBQUUsRUFBRSxDQUFDLEtBQUssRUFBRSxLQUFLLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO1lBQ3pFLEVBQUUsQ0FBQyxVQUFVLENBQUMsRUFBRSxDQUFDLFlBQVksRUFBRSxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLEVBQUUsRUFBRSxDQUFDLENBQUM7WUFFekQsV0FBVztZQUNYLEVBQUUsQ0FBQyxVQUFVLENBQUMsRUFBRSxDQUFDLFlBQVksRUFBRSxJQUFJLENBQUMsc0JBQXNCLENBQUMsQ0FBQztZQUM1RCxFQUFFLENBQUMsbUJBQW1CLENBQUMsSUFBSSxDQUFDLGVBQWUsRUFBRSxDQUFDLEVBQUUsRUFBRSxDQUFDLEtBQUssRUFBRSxLQUFLLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO1lBQ3ZFLEVBQUUsQ0FBQyxVQUFVLENBQUMsRUFBRSxDQUFDLFlBQVksRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksRUFBRSxFQUFFLENBQUMsQ0FBQztZQUVwRCxXQUFXO1lBQ1gsNkRBQTZEO1lBQzdELHdFQUF3RTtZQUN4RSw0Q0FBNEM7WUFFNUMsUUFBUTtZQUNSLEVBQUUsQ0FBQyxVQUFVLENBQUMsRUFBRSxDQUFDLG9CQUFvQixFQUFFLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQztZQUMxRCxFQUFFLENBQUMsVUFBVSxDQUFDLEVBQUUsQ0FBQyxvQkFBb0IsRUFBRSxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLEVBQUUsRUFBRSxDQUFDLENBQUM7U0FDcEU7YUFBTSxJQUFJLFVBQVUsSUFBSSxxRUFBc0IsRUFBRTtZQUM3QyxPQUFPLENBQUMsR0FBRyxDQUFDLG9DQUFvQyxDQUFDLENBQUM7U0FDckQ7YUFBTTtZQUNILE9BQU8sQ0FBQyxHQUFHLENBQUMscUNBQXFDLENBQUMsQ0FBQztTQUN0RDtRQUNELElBQUksSUFBSSxDQUFDLEtBQUssR0FBRywrQ0FBYSxFQUFFO1lBQzVCLElBQUksQ0FBQyxLQUFLLEdBQUcsK0NBQWEsQ0FBQztTQUM5QjtJQUNMLENBQUM7SUFFRCwrQkFBK0I7SUFDL0IsTUFBTSxDQUFDLEVBQXlCLEVBQUUsTUFBYztRQUM1Qyw4QkFBOEI7UUFFOUIsa0JBQWtCO1FBQ2xCLEVBQUUsQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBRTVCLGVBQWU7UUFDZixFQUFFLENBQUMsZ0JBQWdCLENBQUMsSUFBSSxDQUFDLGVBQWUsRUFBRSxLQUFLLEVBQUUsNkRBQW1CLEVBQUUsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUM3RSxFQUFFLENBQUMsZ0JBQWdCLENBQUMsSUFBSSxDQUFDLG1CQUFtQixFQUFFLEtBQUssRUFBRSxNQUFNLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQzlFLEVBQUUsQ0FBQyxnQkFBZ0IsQ0FBQyxJQUFJLENBQUMsbUJBQW1CLEVBQUUsS0FBSyxFQUFFLE1BQU0sQ0FBQyxhQUFhLENBQUMsSUFBSSxDQUFDLENBQUM7UUFFaEYsSUFBSSxHQUFHLEdBQUcsTUFBTSxDQUFDLGdCQUFnQixDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUMsS0FBSyxFQUFFLEVBQUUsQ0FBQyxNQUFNLENBQUMsTUFBTSxFQUFFLEtBQUssQ0FBQyxDQUFDLE1BQU0sQ0FBQztRQUNuRixFQUFFLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxlQUFlLEVBQUUsSUFBSSxpREFBTyxDQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxDQUFDLENBQUMsT0FBTyxFQUFFLENBQUMsQ0FBQztRQUMxRSxFQUFFLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxpQkFBaUIsRUFBRSxJQUFJLGlEQUFPLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxDQUFDO1FBQ3hFLEVBQUUsQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLGtCQUFrQixFQUFFLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxDQUFDO1FBRWhFLFdBQVc7UUFDWCxFQUFFLENBQUMsdUJBQXVCLENBQUMsSUFBSSxDQUFDLGlCQUFpQixDQUFDLENBQUM7UUFDbkQsRUFBRSxDQUFDLFVBQVUsQ0FBQyxFQUFFLENBQUMsWUFBWSxFQUFFLElBQUksQ0FBQyx5QkFBeUIsQ0FBQyxDQUFDO1FBQy9ELEVBQUUsQ0FBQyxtQkFBbUIsQ0FBQyxJQUFJLENBQUMsaUJBQWlCLEVBQUUsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxLQUFLLEVBQUUsS0FBSyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztRQUV6RSxXQUFXO1FBQ1gsRUFBRSxDQUFDLHVCQUF1QixDQUFDLElBQUksQ0FBQyxlQUFlLENBQUMsQ0FBQztRQUNqRCxFQUFFLENBQUMsVUFBVSxDQUFDLEVBQUUsQ0FBQyxZQUFZLEVBQUUsSUFBSSxDQUFDLHNCQUFzQixDQUFDLENBQUM7UUFDNUQsRUFBRSxDQUFDLG1CQUFtQixDQUFDLElBQUksQ0FBQyxlQUFlLEVBQUUsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxLQUFLLEVBQUUsS0FBSyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztRQUV2RSxXQUFXO1FBQ1gsa0RBQWtEO1FBQ2xELDZEQUE2RDtRQUM3RCwwRUFBMEU7UUFFMUUsVUFBVTtRQUNWLEVBQUUsQ0FBQyxVQUFVLENBQUMsRUFBRSxDQUFDLG9CQUFvQixFQUFFLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQztRQUUxRCxRQUFRO1FBQ1IsRUFBRSxDQUFDLFlBQVksQ0FBQyxFQUFFLENBQUMsU0FBUyxFQUFFLElBQUksQ0FBQyxLQUFLLEVBQUUsRUFBRSxDQUFDLGNBQWMsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUNwRSxDQUFDO0NBQ0oiLCJmaWxlIjoiLi9zcmMvcmVuZGVyL3NoYWRlZC1tZXNoLXJlbmRlcmVyLnRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gbmFtZTogICAgbWVzaC1yZW5kZXJlci50c1xuLy8gYXV0aG9yOiAgSm9zIEZlZW5zdHJhXG4vLyBwdXJwb3NlOiBBIHNoYWRlciB3cmFwcGVyIGZvciByZW5kZXJpbmcgc2hhZGVkLCB0ZXh0dXJlZCwgbWVzaGVzXG5cbmltcG9ydCB7IEludE1hdHJpeCB9IGZyb20gXCIuLi9kYXRhL2ludC1tYXRyaXhcIjtcbmltcG9ydCB7IGdldERlZmF1bHRJbmRpY2VzLCBMaW5lQXJyYXkgfSBmcm9tIFwiLi4vbWVzaC9saW5lLWFycmF5XCI7XG5pbXBvcnQgeyBWZWN0b3IzQXJyYXkgfSBmcm9tIFwiLi4vZGF0YS92ZWN0b3ItYXJyYXlcIjtcbmltcG9ydCB7IE5vcm1hbEtpbmQsIFJlbmRlcmFibGUgfSBmcm9tIFwiLi4vbWVzaC9yZW5kZXItbWVzaFwiO1xuaW1wb3J0IHsgTWF0cml4NCB9IGZyb20gXCIuLi9tYXRoL21hdHJpeFwiO1xuaW1wb3J0IHsgRHJhd1NwZWVkLCBSZW5kZXJlciB9IGZyb20gXCIuL3JlbmRlcmVyXCI7XG5pbXBvcnQgeyBMaW5lUmVuZGVyZXIgfSBmcm9tIFwiLi9saW5lLXJlbmRlcmVyXCI7XG5pbXBvcnQgeyBTaW1wbGVNZXNoUmVuZGVyZXIgfSBmcm9tIFwiLi9zaW1wbGUtbWVzaC1yZW5kZXJlclwiO1xuaW1wb3J0IHsgQ2FtZXJhIH0gZnJvbSBcIi4vY2FtZXJhXCI7XG5pbXBvcnQgeyBWZWN0b3IzIH0gZnJvbSBcIi4uL21hdGgvdmVjdG9yXCI7XG5pbXBvcnQgeyBDb25zdCB9IGZyb20gXCIuLi9saWJcIjtcblxuZXhwb3J0IGNsYXNzIFNoYWRlZE1lc2hSZW5kZXJlciBleHRlbmRzIFJlbmRlcmVyIHtcbiAgICAvLyBhdHRyaWJ1dGUgJiB1bmlmb3JtIGxvY2F0aW9uc1xuICAgIGFfdmVydGV4X3Bvc2l0aW9uOiBudW1iZXI7XG4gICAgYV92ZXJ0ZXhfcG9zdGl0aW9uX2J1ZmZlcjogV2ViR0xCdWZmZXI7XG5cbiAgICBjb3VudDogbnVtYmVyO1xuICAgIHNpemU6IG51bWJlcjtcblxuICAgIHVfbm9ybWFsX21hdHJpeDogV2ViR0xVbmlmb3JtTG9jYXRpb247XG4gICAgdV9tb2RlbF92aWV3X21hdHJpeDogV2ViR0xVbmlmb3JtTG9jYXRpb247XG4gICAgdV9wcm9qZWN0aW9uX21hdHJpeDogV2ViR0xVbmlmb3JtTG9jYXRpb247XG5cbiAgICBhX3ZlcnRleF9ub3JtYWw6IG51bWJlcjtcbiAgICBhX3ZlcnRleF9ub3JtYWxfYnVmZmVyOiBXZWJHTEJ1ZmZlcjtcbiAgICB1X2FtYmllbnRfbGlnaHQ6IFdlYkdMVW5pZm9ybUxvY2F0aW9uO1xuICAgIHVfZGlyX2xpZ2h0X2NvbG9yOiBXZWJHTFVuaWZvcm1Mb2NhdGlvbjtcbiAgICB1X2Rpcl9saWdodF92ZWN0b3I6IFdlYkdMVW5pZm9ybUxvY2F0aW9uO1xuICAgIGFfdmVydGV4X2FtYmk6IG51bWJlcjtcbiAgICBhX3ZlcnRleF9hbWJpX2J1ZmZlcjogV2ViR0xCdWZmZXI7XG5cbiAgICBpbmRleF9idWZmZXI6IFdlYkdMQnVmZmVyO1xuXG4gICAgY29uc3RydWN0b3IoZ2w6IFdlYkdMUmVuZGVyaW5nQ29udGV4dCkge1xuICAgICAgICBjb25zdCB2cyA9IGBcblxuICAgICAgICBhdHRyaWJ1dGUgdmVjNCBhX3ZlcnRleF9wb3NpdGlvbjtcbiAgICAgICAgYXR0cmlidXRlIHZlYzMgYV92ZXJ0ZXhfbm9ybWFsO1xuICAgICAgICBhdHRyaWJ1dGUgZmxvYXQgYV92ZXJ0ZXhfYW1iaTtcbiAgICBcbiAgICAgICAgdW5pZm9ybSBtYXQ0IHVfbm9ybWFsX21hdHJpeDtcbiAgICAgICAgdW5pZm9ybSBtYXQ0IHVfbW9kZWxfdmlld19tYXRyaXg7XG4gICAgICAgIHVuaWZvcm0gbWF0NCB1X3Byb2plY3Rpb25fbWF0cml4O1xuXG4gICAgICAgIC8vIHNob3VsZCBiZSB1bmlmb3JtcyBjb25zdGFuY2VzXG4gICAgICAgIHVuaWZvcm0gdmVjMyB1X2FtYmllbnRfbGlnaHQ7XG4gICAgICAgIHVuaWZvcm0gdmVjMyB1X2Rpcl9saWdodF9jb2xvcjtcbiAgICAgICAgdW5pZm9ybSB2ZWMzIHVfZGlyX2xpZ2h0X3ZlY3RvcjsgIFxuXG4gICAgICAgIC8vIHZhcnlpbmcgdmVjMiB2X3RleHR1cmVfY29vcmQ7XG4gICAgICAgIHZhcnlpbmcgdmVjMyB2X2xpZ2h0aW5nO1xuICAgIFxuICAgICAgICB2b2lkIG1haW4odm9pZCkge1xuXG4gICAgICAgICAgICBnbF9Qb3NpdGlvbiA9IHVfcHJvamVjdGlvbl9tYXRyaXggKiB1X21vZGVsX3ZpZXdfbWF0cml4ICogYV92ZXJ0ZXhfcG9zaXRpb247XG4gICAgICAgICAgICAvLyB2X3RleHR1cmVfY29vcmQgPSBhX3RleHR1cmVfY29vcmQ7XG4gICAgICAgIFxuICAgICAgICAgICAgLy8gQXBwbHkgbGlnaHRpbmcgZWZmZWN0XG4gICAgICAgICAgICAvLyBoaWdocHIgaXMgcmVtb3ZlZFxuICAgICAgICAgICAgdmVjNCB0cmFuc2Zvcm1lZE5vcm1hbCA9IHVfbm9ybWFsX21hdHJpeCAqIHZlYzQoYV92ZXJ0ZXhfbm9ybWFsLCAxLjApO1xuICAgICAgICAgICAgZmxvYXQgZGlyZWN0aW9uYWwgPSBtYXgoZG90KHRyYW5zZm9ybWVkTm9ybWFsLnh5eiwgdV9kaXJfbGlnaHRfdmVjdG9yKSwgMC4wKTtcbiAgICAgICAgICAgIHZfbGlnaHRpbmcgPSAodV9hbWJpZW50X2xpZ2h0ICsgKHVfZGlyX2xpZ2h0X2NvbG9yICogZGlyZWN0aW9uYWwpKTtcbiAgICAgICAgfVxuICAgICAgICBgO1xuXG4gICAgICAgIGNvbnN0IGZzID0gYFxuICAgICAgICBwcmVjaXNpb24gbWVkaXVtcCBmbG9hdDtcblxuICAgICAgICAvLyBDYWxjdWxhdGVzIHRoZSBkaWZmdXNlIGZhY3RvciBwcm9kdWNlZCBieSB0aGUgbGlnaHQgaWxsdW1pbmF0aW9uICBcbiAgICAgICAgLy8gaWYgZG9uZSBsaWtlIHRoaXMsIGNvbG9yIGNvdWxkIGxvb2sgbmljZXJcbiAgICAgICAgLy8gZmxvYXQgZGlmZnVzZUZhY3Rvcih2ZWMzIG5vcm1hbCwgdmVjMyBsaWdodF9kaXJlY3Rpb24pIHtcbiAgICAgICAgLy8gICAgIGZsb2F0IGRmID0gZG90KG5vcm1hbGl6ZShub3JtYWwpLCBub3JtYWxpemUobGlnaHRfZGlyZWN0aW9uKSk7XG4gICAgICAgIC8vICAgICBpZiAoZ2xfRnJvbnRGYWNpbmcpIHtcbiAgICAgICAgLy8gICAgICAgICBkZiA9IC1kZjtcbiAgICAgICAgLy8gICAgIH1cbiAgICAgICAgLy8gICAgIHJldHVybiBtYXgoMC4wLCBkZik7XG4gICAgICAgIC8vIH1cblxuICAgICAgICB2YXJ5aW5nIHZlYzMgdl9saWdodGluZztcblxuICAgICAgICB2b2lkIG1haW4oKSB7XG5cbiAgICAgICAgICAgIC8vIEZyYWdtZW50IHNoYWRlciBvdXRwdXRcbiAgICAgICAgICAgIGdsX0ZyYWdDb2xvciA9IHZlYzQodl9saWdodGluZywgMS4wKTtcbiAgICAgICAgfVxuICAgICAgICBgO1xuXG4gICAgICAgIC8vIHNldHVwIHByb2dyYW1cbiAgICAgICAgc3VwZXIoZ2wsIHZzLCBmcyk7XG5cbiAgICAgICAgZ2wudXNlUHJvZ3JhbSh0aGlzLnByb2dyYW0pO1xuICAgICAgICB0aGlzLmNvdW50ID0gMDtcbiAgICAgICAgdGhpcy5zaXplID0gMDtcblxuICAgICAgICAvLyBpbml0IHVuaWZvcm1zXG4gICAgICAgIHRoaXMudV9ub3JtYWxfbWF0cml4ID0gZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHRoaXMucHJvZ3JhbSwgXCJ1X25vcm1hbF9tYXRyaXhcIikhO1xuICAgICAgICB0aGlzLnVfbW9kZWxfdmlld19tYXRyaXggPSBnbC5nZXRVbmlmb3JtTG9jYXRpb24odGhpcy5wcm9ncmFtLCBcInVfbW9kZWxfdmlld19tYXRyaXhcIikhO1xuICAgICAgICB0aGlzLnVfcHJvamVjdGlvbl9tYXRyaXggPSBnbC5nZXRVbmlmb3JtTG9jYXRpb24odGhpcy5wcm9ncmFtLCBcInVfcHJvamVjdGlvbl9tYXRyaXhcIikhO1xuXG4gICAgICAgIC8vIGxpZ2h0IHVuaWZvcm1zXG4gICAgICAgIHRoaXMudV9hbWJpZW50X2xpZ2h0ID0gZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHRoaXMucHJvZ3JhbSwgXCJ1X2FtYmllbnRfbGlnaHRcIikhO1xuICAgICAgICB0aGlzLnVfZGlyX2xpZ2h0X2NvbG9yID0gZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHRoaXMucHJvZ3JhbSwgXCJ1X2Rpcl9saWdodF9jb2xvclwiKSE7XG4gICAgICAgIHRoaXMudV9kaXJfbGlnaHRfdmVjdG9yID0gZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHRoaXMucHJvZ3JhbSwgXCJ1X2Rpcl9saWdodF92ZWN0b3JcIikhO1xuXG4gICAgICAgIC8vIGluaXQgYXR0cmlidXRlczogdmVydHMgfCBub3JtYWxzIHwgYW1iaVxuICAgICAgICB0aGlzLmFfdmVydGV4X3Bvc2l0aW9uID0gZ2wuZ2V0QXR0cmliTG9jYXRpb24odGhpcy5wcm9ncmFtLCBcImFfdmVydGV4X3Bvc2l0aW9uXCIpO1xuICAgICAgICB0aGlzLmFfdmVydGV4X3Bvc3RpdGlvbl9idWZmZXIgPSBnbC5jcmVhdGVCdWZmZXIoKSE7XG5cbiAgICAgICAgdGhpcy5hX3ZlcnRleF9ub3JtYWwgPSBnbC5nZXRBdHRyaWJMb2NhdGlvbih0aGlzLnByb2dyYW0sIFwiYV92ZXJ0ZXhfbm9ybWFsXCIpO1xuICAgICAgICB0aGlzLmFfdmVydGV4X25vcm1hbF9idWZmZXIgPSBnbC5jcmVhdGVCdWZmZXIoKSE7XG5cbiAgICAgICAgdGhpcy5hX3ZlcnRleF9hbWJpID0gZ2wuZ2V0QXR0cmliTG9jYXRpb24odGhpcy5wcm9ncmFtLCBcImFfdmVydGV4X2FtYmlcIik7XG4gICAgICAgIHRoaXMuYV92ZXJ0ZXhfYW1iaV9idWZmZXIgPSBnbC5jcmVhdGVCdWZmZXIoKSE7XG5cbiAgICAgICAgdGhpcy5pbmRleF9idWZmZXIgPSBnbC5jcmVhdGVCdWZmZXIoKSE7XG4gICAgfVxuXG4gICAgc2V0KGdsOiBXZWJHTFJlbmRlcmluZ0NvbnRleHQsIHJlbmQ6IFJlbmRlcmFibGUsIHNwZWVkOiBEcmF3U3BlZWQgPSBEcmF3U3BlZWQuU3RhdGljRHJhdykge1xuICAgICAgICAvLyBOT1RFOiBwcm9jZXNzaW5nIHRpbWUgaXMgbG9uZ2VyOiB3ZSB1c2UgRHJhd0FycmF5IGluc3RlYWQgb2YgRHJhd0VsZW1lbnRzLCB0byBkZWFsIHdpdGggbm9ybWFscyAmIHV2IGRhdGFcbiAgICAgICAgbGV0IG5vcm1hbFR5cGUgPSByZW5kLmdldE5vcm1hbFR5cGUoKTtcbiAgICAgICAgaWYgKG5vcm1hbFR5cGUgPT0gTm9ybWFsS2luZC5GYWNlKSB7XG4gICAgICAgICAgICAvLyBzYXZlIGhvdyBtYW55IHZlcnRzIG5lZWQgdG8gYmUgZHJhd25cbiAgICAgICAgICAgIGdsLnVzZVByb2dyYW0odGhpcy5wcm9ncmFtKTtcbiAgICAgICAgICAgIHRoaXMuY291bnQgPSByZW5kLm1lc2gubGlua3MuZGF0YS5sZW5ndGg7XG4gICAgICAgICAgICBsZXQgZHMgPSB0aGlzLmNvbnZlcnREcmF3U3BlZWQoc3BlZWQpO1xuXG4gICAgICAgICAgICAvLyBjb252ZXJ0IHRvIG5vbi1pbmRleGVkIHZlcnRzICYgbm9ybXNcbiAgICAgICAgICAgIGxldCB2ZXJ0cyA9IG5ldyBWZWN0b3IzQXJyYXkodGhpcy5jb3VudCk7XG4gICAgICAgICAgICBsZXQgbm9ybXMgPSBuZXcgVmVjdG9yM0FycmF5KHRoaXMuY291bnQpO1xuICAgICAgICAgICAgbGV0IGFtYmkgPSBuZXcgRmxvYXQzMkFycmF5KHRoaXMuY291bnQpO1xuXG4gICAgICAgICAgICBsZXQgZmFjZUNvdW50ID0gcmVuZC5tZXNoLmxpbmtzLmNvdW50KCk7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJlbmQubWVzaC5saW5rcy5jb3VudCgpOyBpKyspIHtcbiAgICAgICAgICAgICAgICBsZXQgbm9ybSA9IHJlbmQubm9ybXMuZ2V0VmVjdG9yKGkpO1xuICAgICAgICAgICAgICAgIHJlbmQubWVzaC5saW5rcy5nZXRSb3coaSkuZm9yRWFjaCgodiwgaikgPT4ge1xuICAgICAgICAgICAgICAgICAgICBsZXQgaWQgPSBpICogMyArIGo7XG4gICAgICAgICAgICAgICAgICAgIHZlcnRzLnNldFZlY3RvcihpZCwgcmVuZC5tZXNoLnZlcnRzLmdldFZlY3Rvcih2KSk7XG4gICAgICAgICAgICAgICAgICAgIG5vcm1zLnNldFZlY3RvcihpZCwgbm9ybSk7XG4gICAgICAgICAgICAgICAgICAgIGFtYmlbaWRdID0gMTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gYnVmZmVyIDFcbiAgICAgICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCB0aGlzLmFfdmVydGV4X3Bvc3RpdGlvbl9idWZmZXIpO1xuICAgICAgICAgICAgZ2wudmVydGV4QXR0cmliUG9pbnRlcih0aGlzLmFfdmVydGV4X3Bvc2l0aW9uLCAzLCBnbC5GTE9BVCwgZmFsc2UsIDAsIDApO1xuICAgICAgICAgICAgZ2wuYnVmZmVyRGF0YShnbC5BUlJBWV9CVUZGRVIsIHZlcnRzLmRhdGEuYnVmZmVyLCBkcyk7XG5cbiAgICAgICAgICAgIC8vIGJ1ZmZlciAyXG4gICAgICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgdGhpcy5hX3ZlcnRleF9ub3JtYWxfYnVmZmVyKTtcbiAgICAgICAgICAgIGdsLnZlcnRleEF0dHJpYlBvaW50ZXIodGhpcy5hX3ZlcnRleF9ub3JtYWwsIDMsIGdsLkZMT0FULCBmYWxzZSwgMCwgMCk7XG4gICAgICAgICAgICBnbC5idWZmZXJEYXRhKGdsLkFSUkFZX0JVRkZFUiwgbm9ybXMuZGF0YS5idWZmZXIsIGRzKTtcblxuICAgICAgICAgICAgLy8gYnVmZmVyIDNcbiAgICAgICAgICAgIC8vIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCB0aGlzLmFfdmVydGV4X2FtYmlfYnVmZmVyKTtcbiAgICAgICAgICAgIC8vIGdsLnZlcnRleEF0dHJpYlBvaW50ZXIodGhpcy5hX3ZlcnRleF9hbWJpLCAxLCBnbC5GTE9BVCwgZmFsc2UsIDAsIDApO1xuICAgICAgICAgICAgLy8gZ2wuYnVmZmVyRGF0YShnbC5BUlJBWV9CVUZGRVIsIGFtYmksIGRzKTtcblxuICAgICAgICAgICAgLy8gaW5kZXhcbiAgICAgICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIsIHRoaXMuaW5kZXhfYnVmZmVyKTtcbiAgICAgICAgICAgIGdsLmJ1ZmZlckRhdGEoZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIsIGdldERlZmF1bHRJbmRpY2VzKHRoaXMuY291bnQpLmJ1ZmZlciwgdGhpcy5jb252ZXJ0RHJhd1NwZWVkKHNwZWVkKSk7XG4gICAgICAgIH0gZWxzZSBpZiAobm9ybWFsVHlwZSA9PSBOb3JtYWxLaW5kLlZlcnRleCkge1xuICAgICAgICAgICAgLy8gc2F2ZSBob3cgbWFueSB2ZXJ0cyBuZWVkIHRvIGJlIGRyYXduXG4gICAgICAgICAgICBnbC51c2VQcm9ncmFtKHRoaXMucHJvZ3JhbSk7XG5cbiAgICAgICAgICAgIGxldCBkcyA9IHRoaXMuY29udmVydERyYXdTcGVlZChzcGVlZCk7XG5cbiAgICAgICAgICAgIC8vIGNvbnZlcnQgdG8gbm9uLWluZGV4ZWQgdmVydHMgJiBub3Jtc1xuICAgICAgICAgICAgbGV0IGFtYmkgPSByZW5kLmFtYmk7XG5cbiAgICAgICAgICAgIGxldCBmYWNlQ291bnQgPSByZW5kLm1lc2gubGlua3MuY291bnQoKTtcbiAgICAgICAgICAgIHRoaXMuY291bnQgPSByZW5kLm1lc2gubGlua3MuZGF0YS5sZW5ndGg7XG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhyZW5kLm1lc2gubGlua3MpO1xuXG4gICAgICAgICAgICAvLyBidWZmZXIgMVxuICAgICAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIHRoaXMuYV92ZXJ0ZXhfcG9zdGl0aW9uX2J1ZmZlcik7XG4gICAgICAgICAgICBnbC52ZXJ0ZXhBdHRyaWJQb2ludGVyKHRoaXMuYV92ZXJ0ZXhfcG9zaXRpb24sIDMsIGdsLkZMT0FULCBmYWxzZSwgMCwgMCk7XG4gICAgICAgICAgICBnbC5idWZmZXJEYXRhKGdsLkFSUkFZX0JVRkZFUiwgcmVuZC5tZXNoLnZlcnRzLmRhdGEsIGRzKTtcblxuICAgICAgICAgICAgLy8gYnVmZmVyIDJcbiAgICAgICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCB0aGlzLmFfdmVydGV4X25vcm1hbF9idWZmZXIpO1xuICAgICAgICAgICAgZ2wudmVydGV4QXR0cmliUG9pbnRlcih0aGlzLmFfdmVydGV4X25vcm1hbCwgMywgZ2wuRkxPQVQsIGZhbHNlLCAwLCAwKTtcbiAgICAgICAgICAgIGdsLmJ1ZmZlckRhdGEoZ2wuQVJSQVlfQlVGRkVSLCByZW5kLm5vcm1zLmRhdGEsIGRzKTtcblxuICAgICAgICAgICAgLy8gYnVmZmVyIDNcbiAgICAgICAgICAgIC8vIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCB0aGlzLmFfdmVydGV4X2FtYmlfYnVmZmVyKTtcbiAgICAgICAgICAgIC8vIGdsLnZlcnRleEF0dHJpYlBvaW50ZXIodGhpcy5hX3ZlcnRleF9hbWJpLCAxLCBnbC5GTE9BVCwgZmFsc2UsIDAsIDApO1xuICAgICAgICAgICAgLy8gZ2wuYnVmZmVyRGF0YShnbC5BUlJBWV9CVUZGRVIsIGFtYmksIGRzKTtcblxuICAgICAgICAgICAgLy8gaW5kZXhcbiAgICAgICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIsIHRoaXMuaW5kZXhfYnVmZmVyKTtcbiAgICAgICAgICAgIGdsLmJ1ZmZlckRhdGEoZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIsIHJlbmQubWVzaC5saW5rcy5kYXRhLCBkcyk7XG4gICAgICAgIH0gZWxzZSBpZiAobm9ybWFsVHlwZSA9PSBOb3JtYWxLaW5kLk11bHRpVmVydGV4KSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcImNhbm5vdCByZW5kZXIgbXVsdGkgdmVydGV4IG5vcm1hbHNcIik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcImNhbm5vdCByZW5kZXIgd2l0aCB0aGlzIG5vcm1hbCBkYXRhXCIpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmNvdW50ID4gQ29uc3QuTUFYX1UxNikge1xuICAgICAgICAgICAgdGhpcy5jb3VudCA9IENvbnN0Lk1BWF9VMTY7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyByZW5kZXIgMSBpbWFnZSB0byB0aGUgc2NyZWVuXG4gICAgcmVuZGVyKGdsOiBXZWJHTFJlbmRlcmluZ0NvbnRleHQsIGNhbWVyYTogQ2FtZXJhKSB7XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKFwicmVuZGVyaW5nLi5cIik7XG5cbiAgICAgICAgLy8gdXNlIHRoZSBwcm9ncmFtXG4gICAgICAgIGdsLnVzZVByb2dyYW0odGhpcy5wcm9ncmFtKTtcblxuICAgICAgICAvLyBzZXQgdW5pZm9ybXNcbiAgICAgICAgZ2wudW5pZm9ybU1hdHJpeDRmdih0aGlzLnVfbm9ybWFsX21hdHJpeCwgZmFsc2UsIE1hdHJpeDQubmV3SWRlbnRpdHkoKS5kYXRhKTtcbiAgICAgICAgZ2wudW5pZm9ybU1hdHJpeDRmdih0aGlzLnVfbW9kZWxfdmlld19tYXRyaXgsIGZhbHNlLCBjYW1lcmEud29ybGRNYXRyaXguZGF0YSk7XG4gICAgICAgIGdsLnVuaWZvcm1NYXRyaXg0ZnYodGhpcy51X3Byb2plY3Rpb25fbWF0cml4LCBmYWxzZSwgY2FtZXJhLnByb2plY3RNYXRyaXguZGF0YSk7XG5cbiAgICAgICAgbGV0IHZlYyA9IGNhbWVyYS5nZXRNb3VzZVdvcmxkUmF5KGdsLmNhbnZhcy53aWR0aCwgZ2wuY2FudmFzLmhlaWdodCwgZmFsc2UpLm5vcm1hbDtcbiAgICAgICAgZ2wudW5pZm9ybTNmdih0aGlzLnVfYW1iaWVudF9saWdodCwgbmV3IFZlY3RvcjMoMC4yLCAwLjIsIDAuMikudG9BcnJheSgpKTtcbiAgICAgICAgZ2wudW5pZm9ybTNmdih0aGlzLnVfZGlyX2xpZ2h0X2NvbG9yLCBuZXcgVmVjdG9yMygxLCAxLCAxLjApLnRvQXJyYXkoKSk7XG4gICAgICAgIGdsLnVuaWZvcm0zZnYodGhpcy51X2Rpcl9saWdodF92ZWN0b3IsIHZlYy5zY2FsZSgtMSkudG9BcnJheSgpKTtcblxuICAgICAgICAvLyBidWZmZXIgMVxuICAgICAgICBnbC5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheSh0aGlzLmFfdmVydGV4X3Bvc2l0aW9uKTtcbiAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIHRoaXMuYV92ZXJ0ZXhfcG9zdGl0aW9uX2J1ZmZlcik7XG4gICAgICAgIGdsLnZlcnRleEF0dHJpYlBvaW50ZXIodGhpcy5hX3ZlcnRleF9wb3NpdGlvbiwgMywgZ2wuRkxPQVQsIGZhbHNlLCAwLCAwKTtcblxuICAgICAgICAvLyBidWZmZXIgMlxuICAgICAgICBnbC5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheSh0aGlzLmFfdmVydGV4X25vcm1hbCk7XG4gICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCB0aGlzLmFfdmVydGV4X25vcm1hbF9idWZmZXIpO1xuICAgICAgICBnbC52ZXJ0ZXhBdHRyaWJQb2ludGVyKHRoaXMuYV92ZXJ0ZXhfbm9ybWFsLCAzLCBnbC5GTE9BVCwgZmFsc2UsIDAsIDApO1xuXG4gICAgICAgIC8vIGJ1ZmZlciAzXG4gICAgICAgIC8vIGdsLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KHRoaXMuYV92ZXJ0ZXhfYW1iaSk7XG4gICAgICAgIC8vIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCB0aGlzLmFfdmVydGV4X2FtYmlfYnVmZmVyKTtcbiAgICAgICAgLy8gZ2wudmVydGV4QXR0cmliUG9pbnRlcih0aGlzLmFfdmVydGV4X25vcm1hbCwgMywgZ2wuRkxPQVQsIGZhbHNlLCAwLCAwKTtcblxuICAgICAgICAvLyBpbmRpY2VzXG4gICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIsIHRoaXMuaW5kZXhfYnVmZmVyKTtcblxuICAgICAgICAvLyBkcmF3IVxuICAgICAgICBnbC5kcmF3RWxlbWVudHMoZ2wuVFJJQU5HTEVTLCB0aGlzLmNvdW50LCBnbC5VTlNJR05FRF9TSE9SVCwgMCk7XG4gICAgfVxufVxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/render/shaded-mesh-renderer.ts\n");

/***/ }),

/***/ "./src/render/simple-mesh-renderer.ts":
/*!********************************************!*\
  !*** ./src/render/simple-mesh-renderer.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"SimpleMeshRenderer\": () => /* binding */ SimpleMeshRenderer\n/* harmony export */ });\n/* harmony import */ var _renderer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./renderer */ \"./src/render/renderer.ts\");\n// name:    mesh-renderer.ts\r\n// author:  Jos Feenstra\r\n// purpose: WebGL based rendering of a mesh.\r\n\r\nclass SimpleMeshRenderer extends _renderer__WEBPACK_IMPORTED_MODULE_0__.Renderer {\r\n    constructor(gl, color = [1, 0, 0, 0.25]) {\r\n        const vs = `\n        precision mediump int;\n        precision mediump float;\n\n        attribute vec4 a_position;\n        uniform mat4 u_transform;\n        uniform vec4 u_color;\n\n        void main() {\n            gl_Position = u_transform * a_position;\n        }\n        `;\r\n        const fs = `\n        precision mediump int;\n        precision mediump float;\n\n        uniform vec4 u_color;\n\n        void main () {\n            gl_FragColor = u_color;\n        }\n        `;\r\n        // setup program\r\n        super(gl, vs, fs);\r\n        this.u_transform = gl.getUniformLocation(this.program, \"u_transform\");\r\n        this.u_color = gl.getUniformLocation(this.program, \"u_color\");\r\n        gl.useProgram(this.program);\r\n        gl.uniform4f(this.u_color, color[0], color[1], color[2], color[3]);\r\n        this.count = 0;\r\n        this.size = 0;\r\n        // we need 2 buffers\r\n        // -> 1 float buffer for the positions of all vertices.\r\n        // -> 1 int buffer for the index of all triangles\r\n        this.a_position = gl.getAttribLocation(this.program, \"a_position\");\r\n        this.a_position_buffer = gl.createBuffer();\r\n        this.index_buffer = gl.createBuffer();\r\n    }\r\n    setMesh(gl, rend, speed = _renderer__WEBPACK_IMPORTED_MODULE_0__.DrawSpeed.StaticDraw) {\r\n        return this.set(gl, rend.mesh.verts, rend.mesh.links, speed);\r\n    }\r\n    set(gl, verts, faces, speed = _renderer__WEBPACK_IMPORTED_MODULE_0__.DrawSpeed.StaticDraw) {\r\n        // save how many faces need to be drawn\r\n        gl.useProgram(this.program);\r\n        this.count = faces.data.length;\r\n        // vertices\r\n        gl.bindBuffer(gl.ARRAY_BUFFER, this.a_position_buffer);\r\n        this.size = 3;\r\n        var type = gl.FLOAT;\r\n        var normalize = false;\r\n        gl.vertexAttribPointer(this.a_position, this.size, gl.FLOAT, false, 0, 0);\r\n        gl.bufferData(gl.ARRAY_BUFFER, verts.data, this.convertDrawSpeed(speed));\r\n        // indices\r\n        gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, this.index_buffer);\r\n        gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, faces.data, this.convertDrawSpeed(speed));\r\n    }\r\n    // render 1 image to the screen\r\n    render(gl, matrix) {\r\n        // Tell it to use our program (pair of shaders)\r\n        gl.useProgram(this.program);\r\n        gl.enableVertexAttribArray(this.a_position);\r\n        gl.bindBuffer(gl.ARRAY_BUFFER, this.a_position_buffer);\r\n        gl.vertexAttribPointer(this.a_position, this.size, gl.FLOAT, false, 0, 0);\r\n        gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, this.index_buffer);\r\n        // set uniforms\r\n        gl.uniformMatrix4fv(this.u_transform, false, matrix.data);\r\n        // Draw the point.\r\n        gl.drawElements(gl.TRIANGLES, this.count, gl.UNSIGNED_SHORT, 0);\r\n    }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9nZW9uLWVuZ2luZS8uL3NyYy9yZW5kZXIvc2ltcGxlLW1lc2gtcmVuZGVyZXIudHM/ZDkxMyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7OztBQUFBLDRCQUE0QjtBQUM1Qix3QkFBd0I7QUFDeEIsNENBQTRDO0FBTUs7QUFFMUMsTUFBTSxrQkFBbUIsU0FBUSwrQ0FBUTtJQVM1QyxZQUFZLEVBQXlCLEVBQUUsS0FBSyxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsSUFBSSxDQUFDO1FBQzFELE1BQU0sRUFBRSxHQUFHOzs7Ozs7Ozs7OztTQVdWLENBQUM7UUFFRixNQUFNLEVBQUUsR0FBRzs7Ozs7Ozs7O1NBU1YsQ0FBQztRQUVGLGdCQUFnQjtRQUNoQixLQUFLLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUMsQ0FBQztRQUVsQixJQUFJLENBQUMsV0FBVyxHQUFHLEVBQUUsQ0FBQyxrQkFBa0IsQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLGFBQWEsQ0FBRSxDQUFDO1FBQ3ZFLElBQUksQ0FBQyxPQUFPLEdBQUcsRUFBRSxDQUFDLGtCQUFrQixDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUUsU0FBUyxDQUFFLENBQUM7UUFDL0QsRUFBRSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUM7UUFDNUIsRUFBRSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLEtBQUssQ0FBQyxDQUFDLENBQUMsRUFBRSxLQUFLLENBQUMsQ0FBQyxDQUFDLEVBQUUsS0FBSyxDQUFDLENBQUMsQ0FBQyxFQUFFLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ25FLElBQUksQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDO1FBQ2YsSUFBSSxDQUFDLElBQUksR0FBRyxDQUFDLENBQUM7UUFFZCxvQkFBb0I7UUFDcEIsdURBQXVEO1FBQ3ZELGlEQUFpRDtRQUNqRCxJQUFJLENB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Q0FBQztJQUNwRSxDQUFDO0NBQ0oiLCJmaWxlIjoiLi9zcmMvcmVuZGVyL3NpbXBsZS1tZXNoLXJlbmRlcmVyLnRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gbmFtZTogICAgbWVzaC1yZW5kZXJlci50c1xuLy8gYXV0aG9yOiAgSm9zIEZlZW5zdHJhXG4vLyBwdXJwb3NlOiBXZWJHTCBiYXNlZCByZW5kZXJpbmcgb2YgYSBtZXNoLlxuXG5pbXBvcnQgeyBJbnRNYXRyaXggfSBmcm9tIFwiLi4vZGF0YS9pbnQtbWF0cml4XCI7XG5pbXBvcnQgeyBWZWN0b3IzQXJyYXkgfSBmcm9tIFwiLi4vZGF0YS92ZWN0b3ItYXJyYXlcIjtcbmltcG9ydCB7IFJlbmRlcmFibGUgfSBmcm9tIFwiLi4vbWVzaC9yZW5kZXItbWVzaFwiO1xuaW1wb3J0IHsgTWF0cml4NCB9IGZyb20gXCIuLi9tYXRoL21hdHJpeFwiO1xuaW1wb3J0IHsgRHJhd1NwZWVkLCBSZW5kZXJlciB9IGZyb20gXCIuL3JlbmRlcmVyXCI7XG5cbmV4cG9ydCBjbGFzcyBTaW1wbGVNZXNoUmVuZGVyZXIgZXh0ZW5kcyBSZW5kZXJlciB7XG4gICAgLy8gYXR0cmlidXRlICYgdW5pZm9ybSBsb2NhdGlvbnNcbiAgICBhX3Bvc2l0aW9uOiBudW1iZXI7XG4gICAgYV9wb3NpdGlvbl9idWZmZXI6IFdlYkdMQnVmZmVyO1xuICAgIGluZGV4X2J1ZmZlcjogV2ViR0xCdWZmZXI7XG4gICAgdV90cmFuc2Zvcm06IFdlYkdMVW5pZm9ybUxvY2F0aW9uO1xuICAgIHVfY29sb3I6IFdlYkdMVW5pZm9ybUxvY2F0aW9uO1xuICAgIGNvdW50OiBudW1iZXI7XG4gICAgc2l6ZTogbnVtYmVyO1xuICAgIGNvbnN0cnVjdG9yKGdsOiBXZWJHTFJlbmRlcmluZ0NvbnRleHQsIGNvbG9yID0gWzEsIDAsIDAsIDAuMjVdKSB7XG4gICAgICAgIGNvbnN0IHZzID0gYFxuICAgICAgICBwcmVjaXNpb24gbWVkaXVtcCBpbnQ7XG4gICAgICAgIHByZWNpc2lvbiBtZWRpdW1wIGZsb2F0O1xuXG4gICAgICAgIGF0dHJpYnV0ZSB2ZWM0IGFfcG9zaXRpb247XG4gICAgICAgIHVuaWZvcm0gbWF0NCB1X3RyYW5zZm9ybTtcbiAgICAgICAgdW5pZm9ybSB2ZWM0IHVfY29sb3I7XG5cbiAgICAgICAgdm9pZCBtYWluKCkge1xuICAgICAgICAgICAgZ2xfUG9zaXRpb24gPSB1X3RyYW5zZm9ybSAqIGFfcG9zaXRpb247XG4gICAgICAgIH1cbiAgICAgICAgYDtcblxuICAgICAgICBjb25zdCBmcyA9IGBcbiAgICAgICAgcHJlY2lzaW9uIG1lZGl1bXAgaW50O1xuICAgICAgICBwcmVjaXNpb24gbWVkaXVtcCBmbG9hdDtcblxuICAgICAgICB1bmlmb3JtIHZlYzQgdV9jb2xvcjtcblxuICAgICAgICB2b2lkIG1haW4gKCkge1xuICAgICAgICAgICAgZ2xfRnJhZ0NvbG9yID0gdV9jb2xvcjtcbiAgICAgICAgfVxuICAgICAgICBgO1xuXG4gICAgICAgIC8vIHNldHVwIHByb2dyYW1cbiAgICAgICAgc3VwZXIoZ2wsIHZzLCBmcyk7XG5cbiAgICAgICAgdGhpcy51X3RyYW5zZm9ybSA9IGdsLmdldFVuaWZvcm1Mb2NhdGlvbih0aGlzLnByb2dyYW0sIFwidV90cmFuc2Zvcm1cIikhO1xuICAgICAgICB0aGlzLnVfY29sb3IgPSBnbC5nZXRVbmlmb3JtTG9jYXRpb24odGhpcy5wcm9ncmFtLCBcInVfY29sb3JcIikhO1xuICAgICAgICBnbC51c2VQcm9ncmFtKHRoaXMucHJvZ3JhbSk7XG4gICAgICAgIGdsLnVuaWZvcm00Zih0aGlzLnVfY29sb3IsIGNvbG9yWzBdLCBjb2xvclsxXSwgY29sb3JbMl0sIGNvbG9yWzNdKTtcbiAgICAgICAgdGhpcy5jb3VudCA9IDA7XG4gICAgICAgIHRoaXMuc2l6ZSA9IDA7XG5cbiAgICAgICAgLy8gd2UgbmVlZCAyIGJ1ZmZlcnNcbiAgICAgICAgLy8gLT4gMSBmbG9hdCBidWZmZXIgZm9yIHRoZSBwb3NpdGlvbnMgb2YgYWxsIHZlcnRpY2VzLlxuICAgICAgICAvLyAtPiAxIGludCBidWZmZXIgZm9yIHRoZSBpbmRleCBvZiBhbGwgdHJpYW5nbGVzXG4gICAgICAgIHRoaXMuYV9wb3NpdGlvbiA9IGdsLmdldEF0dHJpYkxvY2F0aW9uKHRoaXMucHJvZ3JhbSwgXCJhX3Bvc2l0aW9uXCIpO1xuICAgICAgICB0aGlzLmFfcG9zaXRpb25fYnVmZmVyID0gZ2wuY3JlYXRlQnVmZmVyKCkhO1xuICAgICAgICB0aGlzLmluZGV4X2J1ZmZlciA9IGdsLmNyZWF0ZUJ1ZmZlcigpITtcbiAgICB9XG5cbiAgICBzZXRNZXNoKGdsOiBXZWJHTFJlbmRlcmluZ0NvbnRleHQsIHJlbmQ6IFJlbmRlcmFibGUsIHNwZWVkOiBEcmF3U3BlZWQgPSBEcmF3U3BlZWQuU3RhdGljRHJhdykge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXQoZ2wsIHJlbmQubWVzaC52ZXJ0cywgcmVuZC5tZXNoLmxpbmtzLCBzcGVlZCk7XG4gICAgfVxuXG4gICAgc2V0KGdsOiBXZWJHTFJlbmRlcmluZ0NvbnRleHQsIHZlcnRzOiBWZWN0b3IzQXJyYXksIGZhY2VzOiBJbnRNYXRyaXgsIHNwZWVkOiBEcmF3U3BlZWQgPSBEcmF3U3BlZWQuU3RhdGljRHJhdykge1xuICAgICAgICAvLyBzYXZlIGhvdyBtYW55IGZhY2VzIG5lZWQgdG8gYmUgZHJhd25cbiAgICAgICAgZ2wudXNlUHJvZ3JhbSh0aGlzLnByb2dyYW0pO1xuICAgICAgICB0aGlzLmNvdW50ID0gZmFjZXMuZGF0YS5sZW5ndGg7XG5cbiAgICAgICAgLy8gdmVydGljZXNcbiAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIHRoaXMuYV9wb3NpdGlvbl9idWZmZXIpO1xuICAgICAgICB0aGlzLnNpemUgPSAzO1xuICAgICAgICB2YXIgdHlwZSA9IGdsLkZMT0FUO1xuICAgICAgICB2YXIgbm9ybWFsaXplID0gZmFsc2U7XG4gICAgICAgIGdsLnZlcnRleEF0dHJpYlBvaW50ZXIodGhpcy5hX3Bvc2l0aW9uLCB0aGlzLnNpemUsIGdsLkZMT0FULCBmYWxzZSwgMCwgMCk7XG4gICAgICAgIGdsLmJ1ZmZlckRhdGEoZ2wuQVJSQVlfQlVGRkVSLCB2ZXJ0cy5kYXRhLCB0aGlzLmNvbnZlcnREcmF3U3BlZWQoc3BlZWQpKTtcblxuICAgICAgICAvLyBpbmRpY2VzXG4gICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIsIHRoaXMuaW5kZXhfYnVmZmVyKTtcbiAgICAgICAgZ2wuYnVmZmVyRGF0YShnbC5FTEVNRU5UX0FSUkFZX0JVRkZFUiwgZmFjZXMuZGF0YSwgdGhpcy5jb252ZXJ0RHJhd1NwZWVkKHNwZWVkKSk7XG4gICAgfVxuXG4gICAgLy8gcmVuZGVyIDEgaW1hZ2UgdG8gdGhlIHNjcmVlblxuICAgIHJlbmRlcihnbDogV2ViR0xSZW5kZXJpbmdDb250ZXh0LCBtYXRyaXg6IE1hdHJpeDQpIHtcbiAgICAgICAgLy8gVGVsbCBpdCB0byB1c2Ugb3VyIHByb2dyYW0gKHBhaXIgb2Ygc2hhZGVycylcbiAgICAgICAgZ2wudXNlUHJvZ3JhbSh0aGlzLnByb2dyYW0pO1xuICAgICAgICBnbC5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheSh0aGlzLmFfcG9zaXRpb24pO1xuICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgdGhpcy5hX3Bvc2l0aW9uX2J1ZmZlcik7XG4gICAgICAgIGdsLnZlcnRleEF0dHJpYlBvaW50ZXIodGhpcy5hX3Bvc2l0aW9uLCB0aGlzLnNpemUsIGdsLkZMT0FULCBmYWxzZSwgMCwgMCk7XG4gICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIsIHRoaXMuaW5kZXhfYnVmZmVyKTtcblxuICAgICAgICAvLyBzZXQgdW5pZm9ybXNcbiAgICAgICAgZ2wudW5pZm9ybU1hdHJpeDRmdih0aGlzLnVfdHJhbnNmb3JtLCBmYWxzZSwgbWF0cml4LmRhdGEpO1xuXG4gICAgICAgIC8vIERyYXcgdGhlIHBvaW50LlxuICAgICAgICBnbC5kcmF3RWxlbWVudHMoZ2wuVFJJQU5HTEVTLCB0aGlzLmNvdW50LCBnbC5VTlNJR05FRF9TSE9SVCwgMCk7XG4gICAgfVxufVxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/render/simple-mesh-renderer.ts\n");

/***/ }),

/***/ "./src/render/texture-mesh-renderer.ts":
/*!*********************************************!*\
  !*** ./src/render/texture-mesh-renderer.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"TextureMeshRenderer\": () => /* binding */ TextureMeshRenderer\n/* harmony export */ });\n/* harmony import */ var _renderer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./renderer */ \"./src/render/renderer.ts\");\n// name:    mesh-renderer.ts\r\n// author:  Jos Feenstra\r\n// purpose: WebGL based rendering of a mesh.\r\n\r\nclass TextureMeshRenderer extends _renderer__WEBPACK_IMPORTED_MODULE_0__.Renderer {\r\n    constructor(gl) {\r\n        const vs = `\n        // precision mediump int;\n        // precision mediump float;\n\n        attribute vec4 a_position;\n        attribute vec2 a_texcoord;\n\n        uniform mat4 u_transform;\n\n        varying vec2 v_texcoord;\n\n        void main() {\n            gl_Position = u_transform * a_position;\n            v_texcoord = a_texcoord;\n        }\n        `;\r\n        const fs = `\n        precision mediump float;\n\n        varying vec2 v_texcoord;\n\n        uniform sampler2D u_texture;\n\n        void main() {\n            gl_FragColor = texture2D(u_texture, v_texcoord);\n        }\n        `;\r\n        // setup program\r\n        super(gl, vs, fs);\r\n        gl.useProgram(this.program);\r\n        this.count = 0;\r\n        this.size = 0;\r\n        // init uniforms\r\n        this.u_transform = gl.getUniformLocation(this.program, \"u_transform\");\r\n        this.u_texture = gl.getUniformLocation(this.program, \"u_texture\");\r\n        // init three buffers: verts | uvs | links\r\n        this.a_position = gl.getAttribLocation(this.program, \"a_position\");\r\n        this.a_position_buffer = gl.createBuffer();\r\n        this.a_texcoord = gl.getAttribLocation(this.program, \"a_texcoord\");\r\n        this.a_texcoord_buffer = gl.createBuffer();\r\n        this.index_buffer = gl.createBuffer();\r\n        // init texture\r\n        this.texture_id = _renderer__WEBPACK_IMPORTED_MODULE_0__.Renderer.getNextTextureID();\r\n        this.texture = gl.createTexture();\r\n    }\r\n    setAndRender(gl, matrix, mesh) {\r\n        this.set(gl, mesh, _renderer__WEBPACK_IMPORTED_MODULE_0__.DrawSpeed.DynamicDraw);\r\n        this.render(gl, matrix);\r\n    }\r\n    set(gl, r, speed = _renderer__WEBPACK_IMPORTED_MODULE_0__.DrawSpeed.StaticDraw) {\r\n        if (!r.texture) {\r\n            console.warn(\"Mesh does not contain a texture!\");\r\n            return;\r\n        }\r\n        // save how many faces need to be drawn\r\n        gl.useProgram(this.program);\r\n        this.count = r.mesh.links.data.length;\r\n        // buffer 1\r\n        gl.bindBuffer(gl.ARRAY_BUFFER, this.a_position_buffer);\r\n        gl.vertexAttribPointer(this.a_position, 3, gl.FLOAT, false, 0, 0);\r\n        gl.bufferData(gl.ARRAY_BUFFER, r.mesh.verts.data, this.convertDrawSpeed(speed));\r\n        // buffer 2\r\n        gl.bindBuffer(gl.ARRAY_BUFFER, this.a_texcoord_buffer);\r\n        gl.vertexAttribPointer(this.a_texcoord, 2, gl.FLOAT, false, 0, 0);\r\n        gl.bufferData(gl.ARRAY_BUFFER, r.uvs.data, this.convertDrawSpeed(speed));\r\n        // buffer 3\r\n        gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, this.index_buffer);\r\n        gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, new Uint16Array(r.mesh.links.data), this.convertDrawSpeed(speed));\r\n        // texture\r\n        gl.activeTexture(gl.TEXTURE0 + this.texture_id);\r\n        gl.bindTexture(gl.TEXTURE_2D, this.texture);\r\n        gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, r.texture);\r\n        // alternative texture -> Fill the texture with a 1x1 blue pixel.\r\n        // gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, 1, 1, 0, gl.RGBA, gl.UNSIGNED_BYTE, new Uint8Array([0, 128, 128, 255]));\r\n        // gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, 1, 1, 0, gl.RGBA, gl.UNSIGNED_BYTE, mesh.texture.data);\r\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);\r\n        gl.generateMipmap(gl.TEXTURE_2D);\r\n    }\r\n    // render 1 image to the screen\r\n    render(gl, matrix) {\r\n        // console.log(\"rendering..\");\r\n        // use the program\r\n        gl.useProgram(this.program);\r\n        // set uniforms\r\n        gl.uniformMatrix4fv(this.u_transform, false, matrix.data);\r\n        // set texture\r\n        gl.uniform1i(this.u_texture, this.texture_id);\r\n        gl.activeTexture(gl.TEXTURE0 + this.texture_id);\r\n        gl.bindTexture(gl.TEXTURE_2D, this.texture);\r\n        // buffer 1\r\n        gl.enableVertexAttribArray(this.a_position);\r\n        gl.bindBuffer(gl.ARRAY_BUFFER, this.a_position_buffer);\r\n        gl.vertexAttribPointer(this.a_position, 3, gl.FLOAT, false, 0, 0);\r\n        // buffer 2\r\n        gl.enableVertexAttribArray(this.a_texcoord);\r\n        gl.bindBuffer(gl.ARRAY_BUFFER, this.a_texcoord_buffer);\r\n        gl.vertexAttribPointer(this.a_texcoord, 2, gl.FLOAT, false, 0, 0);\r\n        // buffer 3\r\n        gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, this.index_buffer);\r\n        // draw!\r\n        gl.drawElements(gl.TRIANGLES, this.count, gl.UNSIGNED_SHORT, 0);\r\n    }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9nZW9uLWVuZ2luZS8uL3NyYy9yZW5kZXIvdGV4dHVyZS1tZXNoLXJlbmRlcmVyLnRzPzhkMjQiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQSw0QkFBNEI7QUFDNUIsd0JBQXdCO0FBQ3hCLDRDQUE0QztBQU9LO0FBSTFDLE1BQU0sbUJBQW9CLFNBQVEsK0NBQVE7SUFpQjdDLFlBQVksRUFBeUI7UUFDakMsTUFBTSxFQUFFLEdBQUc7Ozs7Ozs7Ozs7Ozs7OztTQWVWLENBQUM7UUFFRixNQUFNLEVBQUUsR0FBRzs7Ozs7Ozs7OztTQVVWLENBQUM7UUFFRixnQkFBZ0I7UUFDaEIsS0FBSyxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxDQUFDLENBQUM7UUFDbEIsRUFBRSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUM7UUFDNUIsSUFBSSxDQUFDLEtBQUssR0FBRyxDQUFDLENBQUM7UUFDZixJQUFJLENBQUMsSUFBSSxHQUFHLENBQUMsQ0FBQztRQUVkLGdCQUFnQjtRQUNoQixJQUFJLENBQUMsV0FBVyxHQUFHLEVBQUUsQ0FBQyxrQkFBa0IsQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLGFBQWEsQ0FBRSxDQUFDO1FBQ3ZFLElBQUksQ0FBQyxTQUFTLEdBQUcsRUFBRSxDQUFDLGtCQUFrQixDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUUsV0FBVyxDQUFFLENBQUM7UUFFbkUsMENBQTBDO1FBQzFDLElBQUksQ0FBQyxVQUFVLEdBQUcsRUFBRSxDQUFDLGlCQUFpQixDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUUsWUFBWSxDQUFDLENBQUM7UUFDbkUsSUFBSSxDQUFDLGlCQUFpQixHQUFHLEVBQUUsQ0FBQyxZQUFZLEVBQUcsQ0FBQztRQUU1QyxJQUFJLENBQUMsVUFBVSxHQUFHLEVBQUUsQ0FBQyxpQkFBaUIsQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLFlBQVksQ0FBQyxDQUFDO1FBQ25FLElBQUks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O1FBRWxFLFdBQVc7UUFDWCxFQUFFLENBQUMsdUJBQXVCLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDO1FBQzVDLEVBQUUsQ0FBQyxVQUFVLENBQUMsRUFBRSxDQUFDLFlBQVksRUFBRSxJQUFJLENBQUMsaUJBQWlCLENBQUMsQ0FBQztRQUN2RCxFQUFFLENBQUMsbUJBQW1CLENBQUMsSUFBSSxDQUFDLFVBQVUsRUFBRSxDQUFDLEVBQUUsRUFBRSxDQUFDLEtBQUssRUFBRSxLQUFLLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO1FBRWxFLFdBQVc7UUFDWCxFQUFFLENBQUMsVUFBVSxDQUFDLEVBQUUsQ0FBQyxvQkFBb0IsRUFBRSxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUM7UUFFMUQsUUFBUTtRQUNSLEVBQUUsQ0FBQyxZQUFZLENBQUMsRUFBRSxDQUFDLFNBQVMsRUFBRSxJQUFJLENBQUMsS0FBSyxFQUFFLEVBQUUsQ0FBQyxjQUFjLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDcEUsQ0FBQztDQUNKIiwiZmlsZSI6Ii4vc3JjL3JlbmRlci90ZXh0dXJlLW1lc2gtcmVuZGVyZXIudHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBuYW1lOiAgICBtZXNoLXJlbmRlcmVyLnRzXG4vLyBhdXRob3I6ICBKb3MgRmVlbnN0cmFcbi8vIHB1cnBvc2U6IFdlYkdMIGJhc2VkIHJlbmRlcmluZyBvZiBhIG1lc2guXG5cbmltcG9ydCB7IEludE1hdHJpeCB9IGZyb20gXCIuLi9kYXRhL2ludC1tYXRyaXhcIjtcbmltcG9ydCB7IExpbmVBcnJheSB9IGZyb20gXCIuLi9tZXNoL2xpbmUtYXJyYXlcIjtcbmltcG9ydCB7IFZlY3RvcjNBcnJheSB9IGZyb20gXCIuLi9kYXRhL3ZlY3Rvci1hcnJheVwiO1xuaW1wb3J0IHsgUmVuZGVyYWJsZSB9IGZyb20gXCIuLi9tZXNoL3JlbmRlci1tZXNoXCI7XG5pbXBvcnQgeyBNYXRyaXg0IH0gZnJvbSBcIi4uL21hdGgvbWF0cml4XCI7XG5pbXBvcnQgeyBEcmF3U3BlZWQsIFJlbmRlcmVyIH0gZnJvbSBcIi4vcmVuZGVyZXJcIjtcbmltcG9ydCB7IExpbmVSZW5kZXJlciB9IGZyb20gXCIuL2xpbmUtcmVuZGVyZXJcIjtcbmltcG9ydCB7IFNpbXBsZU1lc2hSZW5kZXJlciB9IGZyb20gXCIuL3NpbXBsZS1tZXNoLXJlbmRlcmVyXCI7XG5cbmV4cG9ydCBjbGFzcyBUZXh0dXJlTWVzaFJlbmRlcmVyIGV4dGVuZHMgUmVuZGVyZXIge1xuICAgIC8vIGF0dHJpYnV0ZSAmIHVuaWZvcm0gbG9jYXRpb25zXG4gICAgYV9wb3NpdGlvbjogbnVtYmVyO1xuICAgIGFfcG9zaXRpb25fYnVmZmVyOiBXZWJHTEJ1ZmZlcjtcbiAgICBpbmRleF9idWZmZXI6IFdlYkdMQnVmZmVyO1xuXG4gICAgdV90cmFuc2Zvcm06IFdlYkdMVW5pZm9ybUxvY2F0aW9uO1xuICAgIC8vIHVfdGV4dHVyZTogV2ViR0xVbmlmb3JtTG9jYXRpb247XG5cbiAgICBjb3VudDogbnVtYmVyO1xuICAgIHNpemU6IG51bWJlcjtcbiAgICBhX3RleGNvb3JkOiBudW1iZXI7XG4gICAgYV90ZXhjb29yZF9idWZmZXI6IFdlYkdMQnVmZmVyO1xuICAgIHVfdGV4dHVyZTogV2ViR0xVbmlmb3JtTG9jYXRpb247XG4gICAgdGV4dHVyZV9pZDogbnVtYmVyO1xuICAgIHRleHR1cmU6IFdlYkdMVGV4dHVyZSB8IG51bGw7XG5cbiAgICBjb25zdHJ1Y3RvcihnbDogV2ViR0xSZW5kZXJpbmdDb250ZXh0KSB7XG4gICAgICAgIGNvbnN0IHZzID0gYFxuICAgICAgICAvLyBwcmVjaXNpb24gbWVkaXVtcCBpbnQ7XG4gICAgICAgIC8vIHByZWNpc2lvbiBtZWRpdW1wIGZsb2F0O1xuXG4gICAgICAgIGF0dHJpYnV0ZSB2ZWM0IGFfcG9zaXRpb247XG4gICAgICAgIGF0dHJpYnV0ZSB2ZWMyIGFfdGV4Y29vcmQ7XG5cbiAgICAgICAgdW5pZm9ybSBtYXQ0IHVfdHJhbnNmb3JtO1xuXG4gICAgICAgIHZhcnlpbmcgdmVjMiB2X3RleGNvb3JkO1xuXG4gICAgICAgIHZvaWQgbWFpbigpIHtcbiAgICAgICAgICAgIGdsX1Bvc2l0aW9uID0gdV90cmFuc2Zvcm0gKiBhX3Bvc2l0aW9uO1xuICAgICAgICAgICAgdl90ZXhjb29yZCA9IGFfdGV4Y29vcmQ7XG4gICAgICAgIH1cbiAgICAgICAgYDtcblxuICAgICAgICBjb25zdCBmcyA9IGBcbiAgICAgICAgcHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7XG5cbiAgICAgICAgdmFyeWluZyB2ZWMyIHZfdGV4Y29vcmQ7XG5cbiAgICAgICAgdW5pZm9ybSBzYW1wbGVyMkQgdV90ZXh0dXJlO1xuXG4gICAgICAgIHZvaWQgbWFpbigpIHtcbiAgICAgICAgICAgIGdsX0ZyYWdDb2xvciA9IHRleHR1cmUyRCh1X3RleHR1cmUsIHZfdGV4Y29vcmQpO1xuICAgICAgICB9XG4gICAgICAgIGA7XG5cbiAgICAgICAgLy8gc2V0dXAgcHJvZ3JhbVxuICAgICAgICBzdXBlcihnbCwgdnMsIGZzKTtcbiAgICAgICAgZ2wudXNlUHJvZ3JhbSh0aGlzLnByb2dyYW0pO1xuICAgICAgICB0aGlzLmNvdW50ID0gMDtcbiAgICAgICAgdGhpcy5zaXplID0gMDtcblxuICAgICAgICAvLyBpbml0IHVuaWZvcm1zXG4gICAgICAgIHRoaXMudV90cmFuc2Zvcm0gPSBnbC5nZXRVbmlmb3JtTG9jYXRpb24odGhpcy5wcm9ncmFtLCBcInVfdHJhbnNmb3JtXCIpITtcbiAgICAgICAgdGhpcy51X3RleHR1cmUgPSBnbC5nZXRVbmlmb3JtTG9jYXRpb24odGhpcy5wcm9ncmFtLCBcInVfdGV4dHVyZVwiKSE7XG5cbiAgICAgICAgLy8gaW5pdCB0aHJlZSBidWZmZXJzOiB2ZXJ0cyB8IHV2cyB8IGxpbmtzXG4gICAgICAgIHRoaXMuYV9wb3NpdGlvbiA9IGdsLmdldEF0dHJpYkxvY2F0aW9uKHRoaXMucHJvZ3JhbSwgXCJhX3Bvc2l0aW9uXCIpO1xuICAgICAgICB0aGlzLmFfcG9zaXRpb25fYnVmZmVyID0gZ2wuY3JlYXRlQnVmZmVyKCkhO1xuXG4gICAgICAgIHRoaXMuYV90ZXhjb29yZCA9IGdsLmdldEF0dHJpYkxvY2F0aW9uKHRoaXMucHJvZ3JhbSwgXCJhX3RleGNvb3JkXCIpO1xuICAgICAgICB0aGlzLmFfdGV4Y29vcmRfYnVmZmVyID0gZ2wuY3JlYXRlQnVmZmVyKCkhO1xuXG4gICAgICAgIHRoaXMuaW5kZXhfYnVmZmVyID0gZ2wuY3JlYXRlQnVmZmVyKCkhO1xuXG4gICAgICAgIC8vIGluaXQgdGV4dHVyZVxuICAgICAgICB0aGlzLnRleHR1cmVfaWQgPSBSZW5kZXJlci5nZXROZXh0VGV4dHVyZUlEKCk7XG4gICAgICAgIHRoaXMudGV4dHVyZSA9IGdsLmNyZWF0ZVRleHR1cmUoKTtcbiAgICB9XG5cbiAgICBzZXRBbmRSZW5kZXIoZ2w6IFdlYkdMUmVuZGVyaW5nQ29udGV4dCwgbWF0cml4OiBNYXRyaXg0LCBtZXNoOiBSZW5kZXJhYmxlKSB7XG4gICAgICAgIHRoaXMuc2V0KGdsLCBtZXNoLCBEcmF3U3BlZWQuRHluYW1pY0RyYXcpO1xuICAgICAgICB0aGlzLnJlbmRlcihnbCwgbWF0cml4KTtcbiAgICB9XG5cbiAgICBzZXQoZ2w6IFdlYkdMUmVuZGVyaW5nQ29udGV4dCwgcjogUmVuZGVyYWJsZSwgc3BlZWQ6IERyYXdTcGVlZCA9IERyYXdTcGVlZC5TdGF0aWNEcmF3KSB7XG4gICAgICAgIGlmICghci50ZXh0dXJlKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oXCJNZXNoIGRvZXMgbm90IGNvbnRhaW4gYSB0ZXh0dXJlIVwiKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHNhdmUgaG93IG1hbnkgZmFjZXMgbmVlZCB0byBiZSBkcmF3blxuICAgICAgICBnbC51c2VQcm9ncmFtKHRoaXMucHJvZ3JhbSk7XG4gICAgICAgIHRoaXMuY291bnQgPSByLm1lc2gubGlua3MuZGF0YS5sZW5ndGg7XG5cbiAgICAgICAgLy8gYnVmZmVyIDFcbiAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIHRoaXMuYV9wb3NpdGlvbl9idWZmZXIpO1xuICAgICAgICBnbC52ZXJ0ZXhBdHRyaWJQb2ludGVyKHRoaXMuYV9wb3NpdGlvbiwgMywgZ2wuRkxPQVQsIGZhbHNlLCAwLCAwKTtcbiAgICAgICAgZ2wuYnVmZmVyRGF0YShnbC5BUlJBWV9CVUZGRVIsIHIubWVzaC52ZXJ0cy5kYXRhLCB0aGlzLmNvbnZlcnREcmF3U3BlZWQoc3BlZWQpKTtcblxuICAgICAgICAvLyBidWZmZXIgMlxuICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgdGhpcy5hX3RleGNvb3JkX2J1ZmZlcik7XG4gICAgICAgIGdsLnZlcnRleEF0dHJpYlBvaW50ZXIodGhpcy5hX3RleGNvb3JkLCAyLCBnbC5GTE9BVCwgZmFsc2UsIDAsIDApO1xuICAgICAgICBnbC5idWZmZXJEYXRhKGdsLkFSUkFZX0JVRkZFUiwgci51dnMuZGF0YSwgdGhpcy5jb252ZXJ0RHJhd1NwZWVkKHNwZWVkKSk7XG5cbiAgICAgICAgLy8gYnVmZmVyIDNcbiAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5FTEVNRU5UX0FSUkFZX0JVRkZFUiwgdGhpcy5pbmRleF9idWZmZXIpO1xuICAgICAgICBnbC5idWZmZXJEYXRhKGdsLkVMRU1FTlRfQVJSQVlfQlVGRkVSLCBuZXcgVWludDE2QXJyYXkoci5tZXNoLmxpbmtzLmRhdGEpLCB0aGlzLmNvbnZlcnREcmF3U3BlZWQoc3BlZWQpKTtcblxuICAgICAgICAvLyB0ZXh0dXJlXG4gICAgICAgIGdsLmFjdGl2ZVRleHR1cmUoZ2wuVEVYVFVSRTAgKyB0aGlzLnRleHR1cmVfaWQpO1xuICAgICAgICBnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELCB0aGlzLnRleHR1cmUpO1xuICAgICAgICBnbC50ZXhJbWFnZTJEKGdsLlRFWFRVUkVfMkQsIDAsIGdsLlJHQkEsIGdsLlJHQkEsIGdsLlVOU0lHTkVEX0JZVEUsIHIudGV4dHVyZSk7XG4gICAgICAgIC8vIGFsdGVybmF0aXZlIHRleHR1cmUgLT4gRmlsbCB0aGUgdGV4dHVyZSB3aXRoIGEgMXgxIGJsdWUgcGl4ZWwuXG4gICAgICAgIC8vIGdsLnRleEltYWdlMkQoZ2wuVEVYVFVSRV8yRCwgMCwgZ2wuUkdCQSwgMSwgMSwgMCwgZ2wuUkdCQSwgZ2wuVU5TSUdORURfQllURSwgbmV3IFVpbnQ4QXJyYXkoWzAsIDEyOCwgMTI4LCAyNTVdKSk7XG4gICAgICAgIC8vIGdsLnRleEltYWdlMkQoZ2wuVEVYVFVSRV8yRCwgMCwgZ2wuUkdCQSwgMSwgMSwgMCwgZ2wuUkdCQSwgZ2wuVU5TSUdORURfQllURSwgbWVzaC50ZXh0dXJlLmRhdGEpO1xuICAgICAgICBnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsIGdsLlRFWFRVUkVfTUlOX0ZJTFRFUiwgZ2wuTkVBUkVTVCk7XG4gICAgICAgIGdsLmdlbmVyYXRlTWlwbWFwKGdsLlRFWFRVUkVfMkQpO1xuICAgIH1cblxuICAgIC8vIHJlbmRlciAxIGltYWdlIHRvIHRoZSBzY3JlZW5cbiAgICByZW5kZXIoZ2w6IFdlYkdMUmVuZGVyaW5nQ29udGV4dCwgbWF0cml4OiBNYXRyaXg0KSB7XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKFwicmVuZGVyaW5nLi5cIik7XG5cbiAgICAgICAgLy8gdXNlIHRoZSBwcm9ncmFtXG4gICAgICAgIGdsLnVzZVByb2dyYW0odGhpcy5wcm9ncmFtKTtcblxuICAgICAgICAvLyBzZXQgdW5pZm9ybXNcbiAgICAgICAgZ2wudW5pZm9ybU1hdHJpeDRmdih0aGlzLnVfdHJhbnNmb3JtLCBmYWxzZSwgbWF0cml4LmRhdGEpO1xuXG4gICAgICAgIC8vIHNldCB0ZXh0dXJlXG4gICAgICAgIGdsLnVuaWZvcm0xaSh0aGlzLnVfdGV4dHVyZSwgdGhpcy50ZXh0dXJlX2lkKTtcbiAgICAgICAgZ2wuYWN0aXZlVGV4dHVyZShnbC5URVhUVVJFMCArIHRoaXMudGV4dHVyZV9pZCk7XG4gICAgICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIHRoaXMudGV4dHVyZSk7XG5cbiAgICAgICAgLy8gYnVmZmVyIDFcbiAgICAgICAgZ2wuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkodGhpcy5hX3Bvc2l0aW9uKTtcbiAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIHRoaXMuYV9wb3NpdGlvbl9idWZmZXIpO1xuICAgICAgICBnbC52ZXJ0ZXhBdHRyaWJQb2ludGVyKHRoaXMuYV9wb3NpdGlvbiwgMywgZ2wuRkxPQVQsIGZhbHNlLCAwLCAwKTtcblxuICAgICAgICAvLyBidWZmZXIgMlxuICAgICAgICBnbC5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheSh0aGlzLmFfdGV4Y29vcmQpO1xuICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgdGhpcy5hX3RleGNvb3JkX2J1ZmZlcik7XG4gICAgICAgIGdsLnZlcnRleEF0dHJpYlBvaW50ZXIodGhpcy5hX3RleGNvb3JkLCAyLCBnbC5GTE9BVCwgZmFsc2UsIDAsIDApO1xuXG4gICAgICAgIC8vIGJ1ZmZlciAzXG4gICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIsIHRoaXMuaW5kZXhfYnVmZmVyKTtcblxuICAgICAgICAvLyBkcmF3IVxuICAgICAgICBnbC5kcmF3RWxlbWVudHMoZ2wuVFJJQU5HTEVTLCB0aGlzLmNvdW50LCBnbC5VTlNJR05FRF9TSE9SVCwgMCk7XG4gICAgfVxufVxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/render/texture-mesh-renderer.ts\n");

/***/ }),

/***/ "./src/system/core.ts":
/*!****************************!*\
  !*** ./src/system/core.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Core\": () => /* binding */ Core\n/* harmony export */ });\n/* harmony import */ var _input_state__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./input-state */ \"./src/system/input-state.ts\");\n/* harmony import */ var _fpsCounter__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./fpsCounter */ \"./src/system/fpsCounter.ts\");\n/* harmony import */ var _ui__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ui */ \"./src/system/ui.ts\");\n// Author: Jos Feenstra\r\n// Purpose: The Core app. This can hold multiple other apps with their own Update and Draw calls.\r\n// Use this to switch between Apps, or run multiple Apps.\r\n\r\n\r\n\r\nclass Core {\r\n    constructor(canvas, gl, uiFrame) {\r\n        this.STOP = false;\r\n        this.canvas = canvas;\r\n        this.gl = gl;\r\n        this.state = new _input_state__WEBPACK_IMPORTED_MODULE_0__.InputState(canvas);\r\n        this.fpsCounter = new _fpsCounter__WEBPACK_IMPORTED_MODULE_1__.FpsCounter();\r\n        this.ui = new _ui__WEBPACK_IMPORTED_MODULE_2__.UI(uiFrame);\r\n        this.apps = new Map();\r\n    }\r\n    // todo: cycle through apps\r\n    addApp(app) {\r\n        this.apps.set(app.name, app);\r\n        this.activateApp(app);\r\n    }\r\n    removeApp(appName) {\r\n        this.ui.removeContext(appName);\r\n        this.apps.delete(appName);\r\n    }\r\n    activateApp(app) {\r\n        this.ui.addContext(app.name);\r\n        app.ui(this.ui);\r\n        app.start();\r\n    }\r\n    update() {\r\n        this.state.preUpdate();\r\n        this.fpsCounter.update(this.state);\r\n        if (this.state.IsKeyPressed(\"Esc\"))\r\n            this.STOP = true;\r\n        this.apps.forEach((app) => {\r\n            app.update(this.state);\r\n        });\r\n        this.state.postUpdate();\r\n    }\r\n    draw() {\r\n        const canvas = this.canvas;\r\n        const gl = this.gl;\r\n        // put fps in the titel\r\n        document.title = \"fps: \" + this.fpsCounter.getFps();\r\n        // pre-gl business\r\n        if (window.innerHeight != canvas.height || window.innerWidth != canvas.width) {\r\n            canvas.height = window.innerHeight;\r\n            // canvas.clientHeight = window.innerHeight;\r\n            canvas.style.height = window.innerHeight.toString();\r\n            canvas.width = window.innerWidth;\r\n            // canvas.clientWidth = window.innerWidth;\r\n            canvas.style.width = window.innerWidth.toString();\r\n            gl.viewport(0, 0, window.innerWidth, window.innerHeight);\r\n        }\r\n        // Renderer.resizeCanvas(this.gl);\r\n        this.gl.clearColor(0, 0, 0, 0);\r\n        this.gl.clear(this.gl.COLOR_BUFFER_BIT);\r\n        // render all apps\r\n        // TODO : reverse order\r\n        this.apps.forEach((app) => {\r\n            app.draw(this.gl);\r\n        });\r\n    }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9nZW9uLWVuZ2luZS8uL3NyYy9zeXN0ZW0vY29yZS50cz8wOTAxIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQSx1QkFBdUI7QUFDdkIsaUdBQWlHO0FBQ2pHLHlEQUF5RDtBQUVkO0FBRUQ7QUFDaEI7QUFFbkIsTUFBTSxJQUFJO0lBV2IsWUFBWSxNQUF5QixFQUFFLEVBQXlCLEVBQUUsT0FBdUI7UUFGekYsU0FBSSxHQUFHLEtBQUssQ0FBQztRQUdULElBQUksQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDO1FBQ3JCLElBQUksQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDO1FBQ2IsSUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJLG9EQUFVLENBQUMsTUFBTSxDQUFDLENBQUM7UUFDcEMsSUFBSSxDQUFDLFVBQVUsR0FBRyxJQUFJLG1EQUFVLEVBQUUsQ0FBQztRQUNuQyxJQUFJLENBQUMsRUFBRSxHQUFHLElBQUksbUNBQUUsQ0FBQyxPQUFPLENBQUMsQ0FBQztRQUMxQixJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksR0FBRyxFQUFFLENBQUM7SUFDMUIsQ0FBQztJQUVELDJCQUEyQjtJQUMzQixNQUFNLENBQUMsR0FBUTtRQUNYLElBQUksQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxJQUFJLEVBQUUsR0FBRyxDQUFDLENBQUM7UUFDN0IsSUFBSSxDQUFDLFdBQVcsQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUMxQixDQUFDO0lBRUQsU0FBUyxDQUFDLE9BQWU7UUFDckIsSUFBSSxDQUFDLEVBQUUsQ0FBQyxhQUFhLENBQUMsT0FBTyxDQUFDLENBQUM7UUFDL0IsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLENBQUM7SUFDOUIsQ0FBQztJQUVELFdBQVcsQ0FBQyxHQUFRO1FBQ2hCLElBQUksQ0FBQyxFQUFFLENBQUMsVUFBVSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUM3QixHQUFHLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUNoQixHQUFHLENBQUMsS0FBSyxFQUFFLENBQUM7SUFDaEIsQ0FBQztJQUVELE1BQU07UUFDRixJQUFJLENBQUMsS0FBSyxDQUFDLFNBQVMsRUFBRSxDQUFDO1FBQ3ZCLElBQUksQ0FBQyxVQUFVLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUNuQyxJQUFJLElBQUksQ0FBQyxLQUFLLENBQUMsWUFBWSxDQUFDLEtBQUssQ0FBQztZQUFFLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO1FBQ3JELElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUMsR0FBRyxFQUFFLEVBQUU7WUFDdEIsR0FBRyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDM0IsQ0FBQyxDQUFDLENBQUM7UUFDSCxJQUFJLENBQUMsS0FBSyxDQUFDLFVBQVUsRUFBRSxDQUFDO0lBQzVCLENBQUM7SUFFRCxJQUFJO1FBQ0EsTUFBTSxNQUFNLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQztRQUMzQixNQUFNLEVBQUUsR0FBRyxJQUFJLENBQUMsRUFBRSxDQUFDO1FBRW5CLHVCQUF1QjtRQUN2QixRQUFRLENBQUMsS0FBSyxHQUFHLE9BQU8sR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFDLE1BQU0sRUFBRSxDQUFDO1FBRXBELGtCQUFrQjtRQUNsQixJQUFJLE1BQU0sQ0FBQyxXQUFXLElBQUksTUFBTSxDQUFDLE1BQU0sSUFBSSxNQUFNLENBQUMsVUFBVSxJQUFJLE1BQU0sQ0FBQyxLQUFLLEVBQUU7WUFDMUUsTUFBTSxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUMsV0FBVyxDQUFDO1lBQ25DLDRDQUE0QztZQUM1QyxNQUFNLENBQUMsS0FBSyxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUMsV0FBVyxDQUFDLFFBQVEsRUFBRSxDQUFDO1lBRXBELE1BQU0sQ0FBQyxLQUFLLEdBQUcsTUFBTSxDQUFDLFVBQVUsQ0FBQztZQUNqQywwQ0FBMEM7WUFDMUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxLQUFLLEdBQUcsTUFBTSxDQUFDLFVBQVUsQ0FBQyxRQUFRLEVBQUUsQ0FBQztZQUVsRCxFQUFFLENBQUMsUUFBUSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsTUFBTSxDQUFDLFVBQVUsRUFBRSxNQUFNLENBQUMsV0FBVyxDQUFDLENBQUM7U0FDNUQ7UUFFRCxrQ0FBa0M7UUFDbEMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxVQUFVLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7UUFDL0IsSUFBSSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDO1FBRXhDLGtCQUFrQjtRQUNsQix1QkFBdUI7UUFDdkIsSUFBSSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxHQUFHLEVBQUUsRUFBRTtZQUN0QixHQUFHLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUN0QixDQUFDLENBQUMsQ0FBQztJQUNQLENBQUM7Q0FDSiIsImZpbGUiOiIuL3NyYy9zeXN0ZW0vY29yZS50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIEF1dGhvcjogSm9zIEZlZW5zdHJhXG4vLyBQdXJwb3NlOiBUaGUgQ29yZSBhcHAuIFRoaXMgY2FuIGhvbGQgbXVsdGlwbGUgb3RoZXIgYXBwcyB3aXRoIHRoZWlyIG93biBVcGRhdGUgYW5kIERyYXcgY2FsbHMuXG4vLyBVc2UgdGhpcyB0byBzd2l0Y2ggYmV0d2VlbiBBcHBzLCBvciBydW4gbXVsdGlwbGUgQXBwcy5cblxuaW1wb3J0IHsgSW5wdXRTdGF0ZSB9IGZyb20gXCIuL2lucHV0LXN0YXRlXCI7XG5pbXBvcnQgeyBBcHAgfSBmcm9tIFwiLi4vYXBwL2FwcFwiO1xuaW1wb3J0IHsgRnBzQ291bnRlciB9IGZyb20gXCIuL2Zwc0NvdW50ZXJcIjtcbmltcG9ydCB7IFVJIH0gZnJvbSBcIi4vdWlcIjtcblxuZXhwb3J0IGNsYXNzIENvcmUge1xuICAgIGNhbnZhczogSFRNTENhbnZhc0VsZW1lbnQ7XG4gICAgZ2w6IFdlYkdMUmVuZGVyaW5nQ29udGV4dDtcbiAgICBzdGF0ZTogSW5wdXRTdGF0ZTtcbiAgICB1aTogVUk7XG4gICAgZnBzQ291bnRlcjogRnBzQ291bnRlcjtcblxuICAgIHByaXZhdGUgYXBwczogTWFwPHN0cmluZywgQXBwPjtcblxuICAgIFNUT1AgPSBmYWxzZTtcblxuICAgIGNvbnN0cnVjdG9yKGNhbnZhczogSFRNTENhbnZhc0VsZW1lbnQsIGdsOiBXZWJHTFJlbmRlcmluZ0NvbnRleHQsIHVpRnJhbWU6IEhUTUxEaXZFbGVtZW50KSB7XG4gICAgICAgIHRoaXMuY2FudmFzID0gY2FudmFzO1xuICAgICAgICB0aGlzLmdsID0gZ2w7XG4gICAgICAgIHRoaXMuc3RhdGUgPSBuZXcgSW5wdXRTdGF0ZShjYW52YXMpO1xuICAgICAgICB0aGlzLmZwc0NvdW50ZXIgPSBuZXcgRnBzQ291bnRlcigpO1xuICAgICAgICB0aGlzLnVpID0gbmV3IFVJKHVpRnJhbWUpO1xuICAgICAgICB0aGlzLmFwcHMgPSBuZXcgTWFwKCk7XG4gICAgfVxuXG4gICAgLy8gdG9kbzogY3ljbGUgdGhyb3VnaCBhcHBzXG4gICAgYWRkQXBwKGFwcDogQXBwKSB7XG4gICAgICAgIHRoaXMuYXBwcy5zZXQoYXBwLm5hbWUsIGFwcCk7XG4gICAgICAgIHRoaXMuYWN0aXZhdGVBcHAoYXBwKTtcbiAgICB9XG5cbiAgICByZW1vdmVBcHAoYXBwTmFtZTogc3RyaW5nKSB7XG4gICAgICAgIHRoaXMudWkucmVtb3ZlQ29udGV4dChhcHBOYW1lKTtcbiAgICAgICAgdGhpcy5hcHBzLmRlbGV0ZShhcHBOYW1lKTtcbiAgICB9XG5cbiAgICBhY3RpdmF0ZUFwcChhcHA6IEFwcCkge1xuICAgICAgICB0aGlzLnVpLmFkZENvbnRleHQoYXBwLm5hbWUpO1xuICAgICAgICBhcHAudWkodGhpcy51aSk7XG4gICAgICAgIGFwcC5zdGFydCgpO1xuICAgIH1cblxuICAgIHVwZGF0ZSgpIHtcbiAgICAgICAgdGhpcy5zdGF0ZS5wcmVVcGRhdGUoKTtcbiAgICAgICAgdGhpcy5mcHNDb3VudGVyLnVwZGF0ZSh0aGlzLnN0YXRlKTtcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUuSXNLZXlQcmVzc2VkKFwiRXNjXCIpKSB0aGlzLlNUT1AgPSB0cnVlO1xuICAgICAgICB0aGlzLmFwcHMuZm9yRWFjaCgoYXBwKSA9PiB7XG4gICAgICAgICAgICBhcHAudXBkYXRlKHRoaXMuc3RhdGUpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5zdGF0ZS5wb3N0VXBkYXRlKCk7XG4gICAgfVxuXG4gICAgZHJhdygpIHtcbiAgICAgICAgY29uc3QgY2FudmFzID0gdGhpcy5jYW52YXM7XG4gICAgICAgIGNvbnN0IGdsID0gdGhpcy5nbDtcblxuICAgICAgICAvLyBwdXQgZnBzIGluIHRoZSB0aXRlbFxuICAgICAgICBkb2N1bWVudC50aXRsZSA9IFwiZnBzOiBcIiArIHRoaXMuZnBzQ291bnRlci5nZXRGcHMoKTtcblxuICAgICAgICAvLyBwcmUtZ2wgYnVzaW5lc3NcbiAgICAgICAgaWYgKHdpbmRvdy5pbm5lckhlaWdodCAhPSBjYW52YXMuaGVpZ2h0IHx8IHdpbmRvdy5pbm5lcldpZHRoICE9IGNhbnZhcy53aWR0aCkge1xuICAgICAgICAgICAgY2FudmFzLmhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodDtcbiAgICAgICAgICAgIC8vIGNhbnZhcy5jbGllbnRIZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gICAgICAgICAgICBjYW52YXMuc3R5bGUuaGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0LnRvU3RyaW5nKCk7XG5cbiAgICAgICAgICAgIGNhbnZhcy53aWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoO1xuICAgICAgICAgICAgLy8gY2FudmFzLmNsaWVudFdpZHRoID0gd2luZG93LmlubmVyV2lkdGg7XG4gICAgICAgICAgICBjYW52YXMuc3R5bGUud2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aC50b1N0cmluZygpO1xuXG4gICAgICAgICAgICBnbC52aWV3cG9ydCgwLCAwLCB3aW5kb3cuaW5uZXJXaWR0aCwgd2luZG93LmlubmVySGVpZ2h0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFJlbmRlcmVyLnJlc2l6ZUNhbnZhcyh0aGlzLmdsKTtcbiAgICAgICAgdGhpcy5nbC5jbGVhckNvbG9yKDAsIDAsIDAsIDApO1xuICAgICAgICB0aGlzLmdsLmNsZWFyKHRoaXMuZ2wuQ09MT1JfQlVGRkVSX0JJVCk7XG5cbiAgICAgICAgLy8gcmVuZGVyIGFsbCBhcHBzXG4gICAgICAgIC8vIFRPRE8gOiByZXZlcnNlIG9yZGVyXG4gICAgICAgIHRoaXMuYXBwcy5mb3JFYWNoKChhcHApID0+IHtcbiAgICAgICAgICAgIGFwcC5kcmF3KHRoaXMuZ2wpO1xuICAgICAgICB9KTtcbiAgICB9XG59XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/system/core.ts\n");

/***/ }),

/***/ "./src/system/domwrappers.ts":
/*!***********************************!*\
  !*** ./src/system/domwrappers.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"addDropFileEventListeners\": () => /* binding */ addDropFileEventListeners,\n/* harmony export */   \"loadTextFromFile\": () => /* binding */ loadTextFromFile,\n/* harmony export */   \"loadJSONFromFile\": () => /* binding */ loadJSONFromFile,\n/* harmony export */   \"loadImageFromFile\": () => /* binding */ loadImageFromFile\n/* harmony export */ });\n// domwrappers.ts\r\n// author : Jos Feenstra\r\n// purpuse : wrap certain DOM functionalities\r\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nfunction addDropFileEventListeners(canvas, filesCallback) {\r\n    console.log(\"setting up drag events...\");\r\n    canvas.addEventListener(\"dragenter\", function (ev) {\r\n        // ev.stopPropagation();\r\n        ev.preventDefault();\r\n        console.log(\"entering entering...\");\r\n        return true;\r\n    }, true);\r\n    // setup file upload\r\n    canvas.addEventListener(\"dragover\", function (ev) {\r\n        //add hover class when drag over\r\n        // ev.stopPropagation();\r\n        ev.preventDefault();\r\n        console.log(\"over drag....\");\r\n        return true;\r\n    }, true);\r\n    canvas.addEventListener(\"dragleave\", function (ev) {\r\n        //remove hover class when drag out\r\n        // ev.stopPropagation();\r\n        ev.preventDefault();\r\n        console.log(\"leaving drag....\");\r\n        return true;\r\n    }, true);\r\n    canvas.addEventListener(\"drop\", function (ev) {\r\n        //prevent browser from open the file when drop off\r\n        ev.stopPropagation();\r\n        ev.preventDefault();\r\n        //retrieve uploaded files data\r\n        var files = ev.dataTransfer.files;\r\n        filesCallback(files);\r\n        return true;\r\n    }, true);\r\n}\r\nfunction loadImageTest(files) {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        let image = yield loadImageFromFile(files.item(0));\r\n    });\r\n}\r\nfunction loadTextFromFile(file) {\r\n    return new Promise((resolve, reject) => {\r\n        let reader = new FileReader();\r\n        reader.readAsText(file);\r\n        reader.onload = () => {\r\n            // console.log(reader.result);\r\n            resolve(reader.result);\r\n        };\r\n        reader.onerror = (error) => reject(error);\r\n    });\r\n}\r\nfunction loadJSONFromFile(file) {\r\n    return new Promise((resolve, reject) => {\r\n        let reader = new FileReader();\r\n        reader.readAsText(file);\r\n        reader.onload = () => {\r\n            // console.log(reader.result);\r\n            resolve(JSON.parse(reader.result));\r\n        };\r\n        reader.onerror = (error) => reject(error);\r\n    });\r\n}\r\nfunction loadImageFromFile(file) {\r\n    return new Promise((resolve, reject) => {\r\n        let reader = new FileReader();\r\n        reader.readAsDataURL(file);\r\n        reader.onload = () => loadImageHelper1(reader).then((imageData) => resolve(imageData), (error) => reject(error));\r\n    });\r\n}\r\nfunction loadImageHelper1(fileReader) {\r\n    return new Promise(function (resolve, reject) {\r\n        let img = document.createElement(\"img\");\r\n        img.src = fileReader.result;\r\n        img.onload = () => resolve(loadImageHelper2(img));\r\n        img.onerror = () => reject(new Error(`Script load error for ${img}`));\r\n    });\r\n}\r\nfunction loadImageHelper2(image) {\r\n    var _a;\r\n    // turn it into image data by building a complete canvas and sampling it\r\n    let canvas = document.createElement(\"canvas\");\r\n    canvas.width = image.width;\r\n    canvas.height = image.height;\r\n    let ctx = canvas.getContext(\"2d\");\r\n    ctx.drawImage(image, 0, 0);\r\n    let data = ctx.getImageData(0, 0, image.width, image.height);\r\n    (_a = canvas.parentNode) === null || _a === void 0 ? void 0 : _a.removeChild(canvas);\r\n    return data;\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9nZW9uLWVuZ2luZS8uL3NyYy9zeXN0ZW0vZG9td3JhcHBlcnMudHM/ZDFmOCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUEsaUJBQWlCO0FBQ2pCLHdCQUF3QjtBQUN4Qiw2Q0FBNkM7Ozs7Ozs7Ozs7QUFJdEMsU0FBUyx5QkFBeUIsQ0FBQyxNQUF5QixFQUFFLGFBQXlDO0lBQzFHLE9BQU8sQ0FBQyxHQUFHLENBQUMsMkJBQTJCLENBQUMsQ0FBQztJQUN6QyxNQUFNLENBQUMsZ0JBQWdCLENBQ25CLFdBQVcsRUFDWCxVQUFVLEVBQWE7UUFDbkIsd0JBQXdCO1FBQ3hCLEVBQUUsQ0FBQyxjQUFjLEVBQUUsQ0FBQztRQUNwQixPQUFPLENBQUMsR0FBRyxDQUFDLHNCQUFzQixDQUFDLENBQUM7UUFDcEMsT0FBTyxJQUFJLENBQUM7SUFDaEIsQ0FBQyxFQUNELElBQUksQ0FDUCxDQUFDO0lBRUYsb0JBQW9CO0lBQ3BCLE1BQU0sQ0FBQyxnQkFBZ0IsQ0FDbkIsVUFBVSxFQUNWLFVBQVUsRUFBYTtRQUNuQixnQ0FBZ0M7UUFDaEMsd0JBQXdCO1FBQ3hCLEVBQUUsQ0FBQyxjQUFjLEVBQUUsQ0FBQztRQUNwQixPQUFPLENBQUMsR0FBRyxDQUFDLGVBQWUsQ0FBQyxDQUFDO1FBQzdCLE9BQU8sSUFBSSxDQUFDO0lBQ2hCLENBQUMsRUFDRCxJQUFJLENBQ1AsQ0FBQztJQUVGLE1BQU0sQ0FBQyxnQkFBZ0IsQ0FDbkIsV0FBVyxFQUNYLFVBQVUsRUFBYTtRQUNuQixrQ0FBa0M7UUFDbEMsd0JBQXdCO1FBQ3hCLEVBQUUsQ0FBQyxjQUFjLEVBQUUsQ0FBQztRQUNwQixPQUFPLENBQUMsR0FBRyxDQUFDLGtCQUFrQixDQUFDLENBQUM7UUFDaEMsT0FBTyxJQUFJLENBQUM7SUFDaEIsQ0FBQyxFQUNELElBQUksQ0FDUCxDQUFDO0lBRUYsTUFBTSxDQUFDLGdCQUFnQixDQUNuQixNQUFNLEVBQ04sVUFBVSxFQUFhO1FBQ25CLGtEQUFr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LENBQUMsTUFBTSxDQUFDLElBQUksS0FBSyxDQUFDLHlCQUF5QixHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDMUUsQ0FBQyxDQUFDLENBQUM7QUFDUCxDQUFDO0FBRUQsU0FBUyxnQkFBZ0IsQ0FBQyxLQUF1Qjs7SUFDN0Msd0VBQXdFO0lBQ3hFLElBQUksTUFBTSxHQUFHLFFBQVEsQ0FBQyxhQUFhLENBQUMsUUFBUSxDQUFFLENBQUM7SUFDL0MsTUFBTSxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUMsS0FBSyxDQUFDO0lBQzNCLE1BQU0sQ0FBQyxNQUFNLEdBQUcsS0FBSyxDQUFDLE1BQU0sQ0FBQztJQUM3QixJQUFJLEdBQUcsR0FBRyxNQUFNLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBRSxDQUFDO0lBQ25DLEdBQUcsQ0FBQyxTQUFTLENBQUMsS0FBSyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUMzQixJQUFJLElBQUksR0FBRyxHQUFHLENBQUMsWUFBWSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsS0FBSyxDQUFDLEtBQUssRUFBRSxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUM7SUFDN0QsWUFBTSxDQUFDLFVBQVUsMENBQUUsV0FBVyxDQUFDLE1BQU0sRUFBRTtJQUN2QyxPQUFPLElBQUksQ0FBQztBQUNoQixDQUFDIiwiZmlsZSI6Ii4vc3JjL3N5c3RlbS9kb213cmFwcGVycy50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIGRvbXdyYXBwZXJzLnRzXG4vLyBhdXRob3IgOiBKb3MgRmVlbnN0cmFcbi8vIHB1cnB1c2UgOiB3cmFwIGNlcnRhaW4gRE9NIGZ1bmN0aW9uYWxpdGllc1xuXG4vLyBzZXQgYW55IHRvIGRvY3VtZW50IHRvIGFkZCBkcm9wIGZ1bmN0aW9uYWxpdHkgdG8gdGhlIGVudGlyZSBkb2N1bWVudCwgb3IgdXNlIGFueSBvdGhlciBkaXYuXG50eXBlIEZ1bmNHZW5lcmljUmV0dXJuID0gPFQ+KCkgPT4gVDtcbmV4cG9ydCBmdW5jdGlvbiBhZGREcm9wRmlsZUV2ZW50TGlzdGVuZXJzKGNhbnZhczogSFRNTENhbnZhc0VsZW1lbnQsIGZpbGVzQ2FsbGJhY2s6IENhbGxiYWNrT25lUGFyYW08RmlsZUxpc3Q+KSB7XG4gICAgY29uc29sZS5sb2coXCJzZXR0aW5nIHVwIGRyYWcgZXZlbnRzLi4uXCIpO1xuICAgIGNhbnZhcy5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgICBcImRyYWdlbnRlclwiLFxuICAgICAgICBmdW5jdGlvbiAoZXY6IERyYWdFdmVudCkge1xuICAgICAgICAgICAgLy8gZXYuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICBldi5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJlbnRlcmluZyBlbnRlcmluZy4uLlwiKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9LFxuICAgICAgICB0cnVlLFxuICAgICk7XG5cbiAgICAvLyBzZXR1cCBmaWxlIHVwbG9hZFxuICAgIGNhbnZhcy5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgICBcImRyYWdvdmVyXCIsXG4gICAgICAgIGZ1bmN0aW9uIChldjogRHJhZ0V2ZW50KSB7XG4gICAgICAgICAgICAvL2FkZCBob3ZlciBjbGFzcyB3aGVuIGRyYWcgb3ZlclxuICAgICAgICAgICAgLy8gZXYuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICBldi5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJvdmVyIGRyYWcuLi4uXCIpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0sXG4gICAgICAgIHRydWUsXG4gICAgKTtcblxuICAgIGNhbnZhcy5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgICBcImRyYWdsZWF2ZVwiLFxuICAgICAgICBmdW5jdGlvbiAoZXY6IERyYWdFdmVudCkge1xuICAgICAgICAgICAgLy9yZW1vdmUgaG92ZXIgY2xhc3Mgd2hlbiBkcmFnIG91dFxuICAgICAgICAgICAgLy8gZXYuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICBldi5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJsZWF2aW5nIGRyYWcuLi4uXCIpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0sXG4gICAgICAgIHRydWUsXG4gICAgKTtcblxuICAgIGNhbnZhcy5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgICBcImRyb3BcIixcbiAgICAgICAgZnVuY3Rpb24gKGV2OiBEcmFnRXZlbnQpIHtcbiAgICAgICAgICAgIC8vcHJldmVudCBicm93c2VyIGZyb20gb3BlbiB0aGUgZmlsZSB3aGVuIGRyb3Agb2ZmXG4gICAgICAgICAgICBldi5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgIGV2LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgICAgIC8vcmV0cmlldmUgdXBsb2FkZWQgZmlsZXMgZGF0YVxuICAgICAgICAgICAgdmFyIGZpbGVzOiBGaWxlTGlzdCA9IGV2LmRhdGFUcmFuc2ZlciEuZmlsZXM7XG5cbiAgICAgICAgICAgIGZpbGVzQ2FsbGJhY2soZmlsZXMpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0sXG4gICAgICAgIHRydWUsXG4gICAgKTtcbn1cblxuaW50ZXJmYWNlIENhbGxiYWNrT25lUGFyYW08VDEsIFQyID0gdm9pZD4ge1xuICAgIChwYXJhbTE6IFQxKTogVDI7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGxvYWRJbWFnZVRlc3QoZmlsZXM6IEZpbGVMaXN0KSB7XG4gICAgbGV0IGltYWdlID0gYXdhaXQgbG9hZEltYWdlRnJvbUZpbGUoZmlsZXMuaXRlbSgwKSEpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbG9hZFRleHRGcm9tRmlsZShmaWxlOiBGaWxlKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICBsZXQgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcbiAgICAgICAgcmVhZGVyLnJlYWRBc1RleHQoZmlsZSk7XG4gICAgICAgIHJlYWRlci5vbmxvYWQgPSAoKSA9PiB7XG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhyZWFkZXIucmVzdWx0KTtcbiAgICAgICAgICAgIHJlc29sdmUocmVhZGVyLnJlc3VsdCBhcyBzdHJpbmcpO1xuICAgICAgICB9O1xuICAgICAgICByZWFkZXIub25lcnJvciA9IChlcnJvcikgPT4gcmVqZWN0KGVycm9yKTtcbiAgICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGxvYWRKU09ORnJvbUZpbGUoZmlsZTogRmlsZSk6IFByb21pc2U8SlNPTj4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgIGxldCByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xuICAgICAgICByZWFkZXIucmVhZEFzVGV4dChmaWxlKTtcbiAgICAgICAgcmVhZGVyLm9ubG9hZCA9ICgpID0+IHtcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHJlYWRlci5yZXN1bHQpO1xuICAgICAgICAgICAgcmVzb2x2ZShKU09OLnBhcnNlKHJlYWRlci5yZXN1bHQgYXMgc3RyaW5nKSk7XG4gICAgICAgIH07XG4gICAgICAgIHJlYWRlci5vbmVycm9yID0gKGVycm9yKSA9PiByZWplY3QoZXJyb3IpO1xuICAgIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbG9hZEltYWdlRnJvbUZpbGUoZmlsZTogRmlsZSk6IFByb21pc2U8SW1hZ2VEYXRhPiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgbGV0IHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XG4gICAgICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKGZpbGUpO1xuICAgICAgICByZWFkZXIub25sb2FkID0gKCkgPT5cbiAgICAgICAgICAgIGxvYWRJbWFnZUhlbHBlcjEocmVhZGVyKS50aGVuKFxuICAgICAgICAgICAgICAgIChpbWFnZURhdGEpID0+IHJlc29sdmUoaW1hZ2VEYXRhKSxcbiAgICAgICAgICAgICAgICAoZXJyb3IpID0+IHJlamVjdChlcnJvciksXG4gICAgICAgICAgICApO1xuICAgIH0pO1xufVxuXG5mdW5jdGlvbiBsb2FkSW1hZ2VIZWxwZXIxKGZpbGVSZWFkZXI6IEZpbGVSZWFkZXIpOiBQcm9taXNlPEltYWdlRGF0YT4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIGxldCBpbWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW1nXCIpIGFzIEhUTUxJbWFnZUVsZW1lbnQ7XG4gICAgICAgIGltZy5zcmMgPSBmaWxlUmVhZGVyLnJlc3VsdCBhcyBzdHJpbmc7XG5cbiAgICAgICAgaW1nLm9ubG9hZCA9ICgpID0+IHJlc29sdmUobG9hZEltYWdlSGVscGVyMihpbWcpKTtcbiAgICAgICAgaW1nLm9uZXJyb3IgPSAoKSA9PiByZWplY3QobmV3IEVycm9yKGBTY3JpcHQgbG9hZCBlcnJvciBmb3IgJHtpbWd9YCkpO1xuICAgIH0pO1xufVxuXG5mdW5jdGlvbiBsb2FkSW1hZ2VIZWxwZXIyKGltYWdlOiBIVE1MSW1hZ2VFbGVtZW50KTogSW1hZ2VEYXRhIHtcbiAgICAvLyB0dXJuIGl0IGludG8gaW1hZ2UgZGF0YSBieSBidWlsZGluZyBhIGNvbXBsZXRlIGNhbnZhcyBhbmQgc2FtcGxpbmcgaXRcbiAgICBsZXQgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKSE7XG4gICAgY2FudmFzLndpZHRoID0gaW1hZ2Uud2lkdGg7XG4gICAgY2FudmFzLmhlaWdodCA9IGltYWdlLmhlaWdodDtcbiAgICBsZXQgY3R4ID0gY2FudmFzLmdldENvbnRleHQoXCIyZFwiKSE7XG4gICAgY3R4LmRyYXdJbWFnZShpbWFnZSwgMCwgMCk7XG4gICAgbGV0IGRhdGEgPSBjdHguZ2V0SW1hZ2VEYXRhKDAsIDAsIGltYWdlLndpZHRoLCBpbWFnZS5oZWlnaHQpO1xuICAgIGNhbnZhcy5wYXJlbnROb2RlPy5yZW1vdmVDaGlsZChjYW52YXMpO1xuICAgIHJldHVybiBkYXRhO1xufVxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/system/domwrappers.ts\n");

/***/ }),

/***/ "./src/system/fpsCounter.ts":
/*!**********************************!*\
  !*** ./src/system/fpsCounter.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"FpsCounter\": () => /* binding */ FpsCounter\n/* harmony export */ });\nclass FpsCounter {\r\n    constructor() {\r\n        this.fps = 0;\r\n        this.updateEveryXTicks = 100;\r\n        this.elapsed = 0;\r\n        this.frames = 0;\r\n    }\r\n    update(state) {\r\n        this.frames += 1;\r\n        this.elapsed += state.tick;\r\n        if (this.elapsed > this.updateEveryXTicks) {\r\n            this.setFps();\r\n            this.elapsed = 0;\r\n            this.frames = 0;\r\n        }\r\n    }\r\n    setFps() {\r\n        this.fps = Math.round((this.frames / this.elapsed) * 1000);\r\n    }\r\n    getFps() {\r\n        return this.fps;\r\n    }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9nZW9uLWVuZ2luZS8uL3NyYy9zeXN0ZW0vZnBzQ291bnRlci50cz82NzhkIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7QUFFTyxNQUFNLFVBQVU7SUFNbkI7UUFMQSxRQUFHLEdBQUcsQ0FBQyxDQUFDO1FBQ1Isc0JBQWlCLEdBQUcsR0FBRyxDQUFDO1FBQ3hCLFlBQU8sR0FBRyxDQUFDLENBQUM7UUFDWixXQUFNLEdBQUcsQ0FBQyxDQUFDO0lBRUksQ0FBQztJQUVoQixNQUFNLENBQUMsS0FBaUI7UUFDcEIsSUFBSSxDQUFDLE1BQU0sSUFBSSxDQUFDLENBQUM7UUFDakIsSUFBSSxDQUFDLE9BQU8sSUFBSSxLQUFLLENBQUMsSUFBSSxDQUFDO1FBQzNCLElBQUksSUFBSSxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUMsaUJBQWlCLEVBQUU7WUFDdkMsSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDO1lBQ2QsSUFBSSxDQUFDLE9BQU8sR0FBRyxDQUFDLENBQUM7WUFDakIsSUFBSSxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUM7U0FDbkI7SUFDTCxDQUFDO0lBRUQsTUFBTTtRQUNGLElBQUksQ0FBQyxHQUFHLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDO0lBQy9ELENBQUM7SUFFRCxNQUFNO1FBQ0YsT0FBTyxJQUFJLENBQUMsR0FBRyxDQUFDO0lBQ3BCLENBQUM7Q0FDSiIsImZpbGUiOiIuL3NyYy9zeXN0ZW0vZnBzQ291bnRlci50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IElucHV0U3RhdGUgfSBmcm9tIFwiLi9pbnB1dC1zdGF0ZVwiO1xuXG5leHBvcnQgY2xhc3MgRnBzQ291bnRlciB7XG4gICAgZnBzID0gMDtcbiAgICB1cGRhdGVFdmVyeVhUaWNrcyA9IDEwMDtcbiAgICBlbGFwc2VkID0gMDtcbiAgICBmcmFtZXMgPSAwO1xuXG4gICAgY29uc3RydWN0b3IoKSB7fVxuXG4gICAgdXBkYXRlKHN0YXRlOiBJbnB1dFN0YXRlKSB7XG4gICAgICAgIHRoaXMuZnJhbWVzICs9IDE7XG4gICAgICAgIHRoaXMuZWxhcHNlZCArPSBzdGF0ZS50aWNrO1xuICAgICAgICBpZiAodGhpcy5lbGFwc2VkID4gdGhpcy51cGRhdGVFdmVyeVhUaWNrcykge1xuICAgICAgICAgICAgdGhpcy5zZXRGcHMoKTtcbiAgICAgICAgICAgIHRoaXMuZWxhcHNlZCA9IDA7XG4gICAgICAgICAgICB0aGlzLmZyYW1lcyA9IDA7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzZXRGcHMoKSB7XG4gICAgICAgIHRoaXMuZnBzID0gTWF0aC5yb3VuZCgodGhpcy5mcmFtZXMgLyB0aGlzLmVsYXBzZWQpICogMTAwMCk7XG4gICAgfVxuXG4gICAgZ2V0RnBzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5mcHM7XG4gICAgfVxufVxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/system/fpsCounter.ts\n");

/***/ }),

/***/ "./src/system/input-state.ts":
/*!***********************************!*\
  !*** ./src/system/input-state.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"InputState\": () => /* binding */ InputState\n/* harmony export */ });\n/* harmony import */ var _math_vector__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../math/vector */ \"./src/math/vector.ts\");\n// CanvasInputHandler.ts\r\n// author : Jos Feenstra\r\n// purpose : handle all input events.\r\n\r\nvar Key;\r\n(function (Key) {\r\n    Key[Key[\"A\"] = 0] = \"A\";\r\n    Key[Key[\"B\"] = 1] = \"B\";\r\n    Key[Key[\"C\"] = 2] = \"C\";\r\n    Key[Key[\"D\"] = 3] = \"D\";\r\n    Key[Key[\"E\"] = 4] = \"E\";\r\n    Key[Key[\"F\"] = 5] = \"F\";\r\n    Key[Key[\"G\"] = 6] = \"G\";\r\n    Key[Key[\"H\"] = 7] = \"H\";\r\n    Key[Key[\"I\"] = 8] = \"I\";\r\n    Key[Key[\"J\"] = 9] = \"J\";\r\n    Key[Key[\"K\"] = 10] = \"K\";\r\n    Key[Key[\"L\"] = 11] = \"L\";\r\n    Key[Key[\"M\"] = 12] = \"M\";\r\n    Key[Key[\"N\"] = 13] = \"N\";\r\n    Key[Key[\"O\"] = 14] = \"O\";\r\n    Key[Key[\"P\"] = 15] = \"P\";\r\n    Key[Key[\"Q\"] = 16] = \"Q\";\r\n    Key[Key[\"R\"] = 17] = \"R\";\r\n    Key[Key[\"S\"] = 18] = \"S\";\r\n    Key[Key[\"T\"] = 19] = \"T\";\r\n    Key[Key[\"U\"] = 20] = \"U\";\r\n    Key[Key[\"V\"] = 21] = \"V\";\r\n    Key[Key[\"W\"] = 22] = \"W\";\r\n    Key[Key[\"X\"] = 23] = \"X\";\r\n    Key[Key[\"Y\"] = 24] = \"Y\";\r\n    Key[Key[\"Z\"] = 25] = \"Z\";\r\n    Key[Key[\"Up\"] = 26] = \"Up\";\r\n    Key[Key[\"Down\"] = 27] = \"Down\";\r\n    Key[Key[\"Left\"] = 28] = \"Left\";\r\n    Key[Key[\"Right\"] = 29] = \"Right\";\r\n    Key[Key[\"Space\"] = 30] = \"Space\";\r\n    Key[Key[\"Control\"] = 31] = \"Control\";\r\n    Key[Key[\"Alt\"] = 32] = \"Alt\";\r\n    Key[Key[\"Shift\"] = 33] = \"Shift\";\r\n    Key[Key[\"Enter\"] = 34] = \"Enter\";\r\n    Key[Key[\"Esc\"] = 35] = \"Esc\";\r\n    Key[Key[\"N1\"] = 36] = \"N1\";\r\n    Key[Key[\"N2\"] = 37] = \"N2\";\r\n    Key[Key[\"N3\"] = 38] = \"N3\";\r\n    Key[Key[\"N4\"] = 39] = \"N4\";\r\n    Key[Key[\"N5\"] = 40] = \"N5\";\r\n    Key[Key[\"N6\"] = 41] = \"N6\";\r\n    Key[Key[\"N7\"] = 42] = \"N7\";\r\n    Key[Key[\"N8\"] = 43] = \"N8\";\r\n    Key[Key[\"N9\"] = 44] = \"N9\";\r\n    Key[Key[\"N0\"] = 45] = \"N0\";\r\n    Key[Key[\"Plus\"] = 46] = \"Plus\";\r\n    Key[Key[\"Minus\"] = 47] = \"Minus\";\r\n    Key[Key[\"Backspace\"] = 48] = \"Backspace\";\r\n})(Key || (Key = {}));\r\nfunction toMapping(key) {\r\n    switch (key) {\r\n        case Key.A:\r\n            return 1;\r\n        case Key.B:\r\n            return 2;\r\n        case Key.C:\r\n            return 3;\r\n        case Key.D:\r\n            return 4;\r\n        case Key.E:\r\n            return 5;\r\n        case Key.F:\r\n            return 6;\r\n        default:\r\n            return 0;\r\n    }\r\n}\r\nclass InputState {\r\n    constructor(canvas) {\r\n        this.mousePos = _math_vector__WEBPACK_IMPORTED_MODULE_0__.Vector2.zero();\r\n        this.mouseDelta = _math_vector__WEBPACK_IMPORTED_MODULE_0__.Vector2.zero();\r\n        this.mouseLeftDown = false;\r\n        this.mouseLeftPressed = false;\r\n        this.mouseLeftPrev = false;\r\n        this.mouseRightDown = false;\r\n        this.mouseRightPressed = false;\r\n        this.mouseRightPrev = false;\r\n        this.mouseMiddleDown = false;\r\n        this.mouseMiddlePressed = false;\r\n        this.mouseMiddlePrev = false;\r\n        this.keysDown = {};\r\n        this.keysPressed = [];\r\n        this.scrollValue = 0;\r\n        // link\r\n        this.canvas = canvas;\r\n        // time\r\n        this.tick = 0;\r\n        this.oldTime = Date.now();\r\n        this.newTime = this.oldTime;\r\n        this.startTime = Date.now();\r\n        this.minimumTick = 1000 / 144;\r\n        // mouse\r\n        canvas.addEventListener(\"mousemove\", this.setMousePos.bind(this));\r\n        canvas.addEventListener(\"mousedown\", this.setMouseDown.bind(this));\r\n        canvas.addEventListener(\"mouseup\", this.setMouseUp.bind(this));\r\n        canvas.addEventListener(\"contextmenu\", (e) => {\r\n            e.preventDefault();\r\n            e.stopPropagation();\r\n        });\r\n        canvas.addEventListener(\"mousemove\", this.setMousePos.bind(this));\r\n        canvas.addEventListener(\"wheel\", this.setMouseScroll.bind(this));\r\n        canvas.addEventListener(\"touchmove\", this.setTouch.bind(this));\r\n        canvas.addEventListener(\"touchstart\", this.setTouch.bind(this));\r\n        canvas.addEventListener(\"touchend\", this.setTouchUp.bind(this));\r\n        for (let i = 0; i < 223; i++)\r\n            this.keysDown[i] = false;\r\n        // keyboard\r\n        canvas.addEventListener(\"keydown\", this.onKeyDown.bind(this));\r\n        // canvas.addEventListener(\"keypressed\", this.onKeyPressed.bind(this));\r\n        canvas.addEventListener(\"keyup\", this.onKeyUp.bind(this));\r\n        // final\r\n        canvas.focus();\r\n    }\r\n    preUpdate() {\r\n        // this must be called every tick within whatever context this is used\r\n        // update time\r\n        this.newTime = Date.now();\r\n        this.tick = this.newTime - this.oldTime;\r\n        this.oldTime = this.newTime;\r\n        // update mouse\r\n        this.mouseLeftPressed = this.mouseLeftPrev != this.mouseLeftDown && this.mouseLeftDown;\r\n        this.mouseRightPressed = this.mouseRightPrev != this.mouseRightDown && this.mouseRightDown;\r\n        this.mouseMiddlePressed = this.mouseMiddlePrev != this.mouseMiddleDown && this.mouseMiddleDown;\r\n        this.mouseLeftPrev = this.mouseLeftDown;\r\n        this.mouseRightPrev = this.mouseRightDown;\r\n        this.mouseMiddlePrev = this.mouseMiddleDown;\r\n    }\r\n    postUpdate() {\r\n        // this also must be called for keyIsPressed to work\r\n        // refresh keypresses\r\n        this.keysPressed = [];\r\n    }\r\n    IsKeyDown(key) {\r\n        return this.keysDown[key];\r\n    }\r\n    IsKeyPressed(key) {\r\n        return this.keysPressed.includes(key);\r\n    }\r\n    onKeyDown(e) {\r\n        if (this.keysDown[e.key] == true)\r\n            return;\r\n        console.log(e.key);\r\n        this.keysDown[e.key.toLowerCase()] = true;\r\n        this.keysPressed.push(e.key);\r\n    }\r\n    onKeyUp(e) {\r\n        this.keysDown[e.key.toLowerCase()] = false;\r\n    }\r\n    onKeyPressed(e) {\r\n        // NOTE: i made a different system to handle this, see onKeyDown\r\n    }\r\n    setTouch(e) {\r\n        e.preventDefault();\r\n        this.mousePos = new _math_vector__WEBPACK_IMPORTED_MODULE_0__.Vector2(e.touches[0].clientX, e.touches[0].clientY);\r\n        this.mouseLeftDown = true;\r\n    }\r\n    setTouchUp(e) {\r\n        e.preventDefault();\r\n        this.mouseLeftDown = false;\r\n    }\r\n    setMouseScroll(e) {\r\n        // console.log(\"we be scrollin' now...\")\r\n        // normalize all scrolling behaviour\r\n        let value = 0.1;\r\n        if (e.deltaY < 0)\r\n            value = -0.1;\r\n        // we dont want negative scroll values...\r\n        this.scrollValue = Math.max(0, this.scrollValue + value);\r\n    }\r\n    setMousePos(e) {\r\n        // this is a bit messy, BUT, multiply by camera parameters\r\n        this.mousePos = new _math_vector__WEBPACK_IMPORTED_MODULE_0__.Vector2(e.clientX, e.clientY);\r\n    }\r\n    setMouseUp(e) {\r\n        let code = e.buttons;\r\n        if (code < 4) {\r\n            this.mouseMiddleDown = false;\r\n        }\r\n        if (code < 2) {\r\n            this.mouseRightDown = false;\r\n        }\r\n        if (code < 1) {\r\n            this.mouseLeftDown = false;\r\n        }\r\n    }\r\n    setMouseDown(e) {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        let code = e.buttons;\r\n        if (code >= 4) {\r\n            code -= 4;\r\n            this.mouseMiddleDown = true;\r\n        }\r\n        if (code >= 2) {\r\n            code -= 2;\r\n            this.mouseRightDown = true;\r\n        }\r\n        if (code >= 1) {\r\n            code -= 1;\r\n            this.mouseLeftDown = true;\r\n        }\r\n        return false;\r\n    }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9nZW9uLWVuZ2luZS8uL3NyYy9zeXN0ZW0vaW5wdXQtc3RhdGUudHM/MjIyOCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7OztBQUFBLHdCQUF3QjtBQUN4Qix3QkFBd0I7QUFDeEIscUNBQXFDO0FBRUk7QUFFekMsSUFBSyxHQWtESjtBQWxERCxXQUFLLEdBQUc7SUFDSix1QkFBQztJQUNELHVCQUFDO0lBQ0QsdUJBQUM7SUFDRCx1QkFBQztJQUNELHVCQUFDO0lBQ0QsdUJBQUM7SUFDRCx1QkFBQztJQUNELHVCQUFDO0lBQ0QsdUJBQUM7SUFDRCx1QkFBQztJQUNELHdCQUFDO0lBQ0Qsd0JBQUM7SUFDRCx3QkFBQztJQUNELHdCQUFDO0lBQ0Qsd0JBQUM7SUFDRCx3QkFBQztJQUNELHdCQUFDO0lBQ0Qsd0JBQUM7SUFDRCx3QkFBQztJQUNELHdCQUFDO0lBQ0Qsd0JBQUM7SUFDRCx3QkFBQztJQUNELHdCQUFDO0lBQ0Qsd0JBQUM7SUFDRCx3QkFBQztJQUNELHdCQUFDO0lBQ0QsMEJBQUU7SUFDRiw4QkFBSTtJQUNKLDhCQUFJO0lBQ0osZ0NBQUs7SUFDTCxnQ0FBSztJQUNMLG9DQUFPO0lBQ1AsNEJBQUc7SUFDSCxnQ0FBSztJQUNMLGdDQUFLO0lBQ0wsNEJBQUc7SUFDSCwwQkFBRTtJQUNGLDBCQUFFO0lBQ0YsMEJBQUU7SUFDRiwwQkFBRTtJQUNGLDBCQUFFO0lBQ0YsMEJBQUU7SUFDRiwwQkFBRTtJQUNGLDBCQUFFO0lBQ0YsMEJBQUU7SUFDRiwwQkFBRTtJQUNGLDhCQUFJO0lBQ0osZ0NBQUs7SUFDTCx3Q0FBUztBQUNiLENBQUMsRUFsREksR0FBRyxLQUFILEdBQUcsUUFrRFA7QUFFRCxTQUFTLFNBQVMsQ0FBQyxHQUFRO0lBQ3ZCLFFBQVEsR0FBRyxFQUFFO1FBQ1QsS0FBSyxHQUFHLENBQUMsQ0FBQztZQUNOLE9BQU8sQ0FBQyxDQUFDO1FBQ2IsS0FBSyxHQUFHLENBQUMsQ0FBQztZQUNOLE9BQU8sQ0FBQyxDQUFDO1FB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QUFjLEVBQUUsQ0FBQztRQUNuQixDQUFDLENBQUMsZUFBZSxFQUFFLENBQUM7UUFDcEIsSUFBSSxJQUFJLEdBQUcsQ0FBQyxDQUFDLE9BQU8sQ0FBQztRQUNyQixJQUFJLElBQUksSUFBSSxDQUFDLEVBQUU7WUFDWCxJQUFJLElBQUksQ0FBQyxDQUFDO1lBQ1YsSUFBSSxDQUFDLGVBQWUsR0FBRyxJQUFJLENBQUM7U0FDL0I7UUFDRCxJQUFJLElBQUksSUFBSSxDQUFDLEVBQUU7WUFDWCxJQUFJLElBQUksQ0FBQyxDQUFDO1lBQ1YsSUFBSSxDQUFDLGNBQWMsR0FBRyxJQUFJLENBQUM7U0FDOUI7UUFDRCxJQUFJLElBQUksSUFBSSxDQUFDLEVBQUU7WUFDWCxJQUFJLElBQUksQ0FBQyxDQUFDO1lBQ1YsSUFBSSxDQUFDLGFBQWEsR0FBRyxJQUFJLENBQUM7U0FDN0I7UUFDRCxPQUFPLEtBQUssQ0FBQztJQUNqQixDQUFDO0NBQ0oiLCJmaWxlIjoiLi9zcmMvc3lzdGVtL2lucHV0LXN0YXRlLnRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gQ2FudmFzSW5wdXRIYW5kbGVyLnRzXG4vLyBhdXRob3IgOiBKb3MgRmVlbnN0cmFcbi8vIHB1cnBvc2UgOiBoYW5kbGUgYWxsIGlucHV0IGV2ZW50cy5cblxuaW1wb3J0IHsgVmVjdG9yMiB9IGZyb20gXCIuLi9tYXRoL3ZlY3RvclwiO1xuXG5lbnVtIEtleSB7XG4gICAgQSxcbiAgICBCLFxuICAgIEMsXG4gICAgRCxcbiAgICBFLFxuICAgIEYsXG4gICAgRyxcbiAgICBILFxuICAgIEksXG4gICAgSixcbiAgICBLLFxuICAgIEwsXG4gICAgTSxcbiAgICBOLFxuICAgIE8sXG4gICAgUCxcbiAgICBRLFxuICAgIFIsXG4gICAgUyxcbiAgICBULFxuICAgIFUsXG4gICAgVixcbiAgICBXLFxuICAgIFgsXG4gICAgWSxcbiAgICBaLFxuICAgIFVwLFxuICAgIERvd24sXG4gICAgTGVmdCxcbiAgICBSaWdodCxcbiAgICBTcGFjZSxcbiAgICBDb250cm9sLFxuICAgIEFsdCxcbiAgICBTaGlmdCxcbiAgICBFbnRlcixcbiAgICBFc2MsXG4gICAgTjEsXG4gICAgTjIsXG4gICAgTjMsXG4gICAgTjQsXG4gICAgTjUsXG4gICAgTjYsXG4gICAgTjcsXG4gICAgTjgsXG4gICAgTjksXG4gICAgTjAsXG4gICAgUGx1cyxcbiAgICBNaW51cyxcbiAgICBCYWNrc3BhY2UsXG59XG5cbmZ1bmN0aW9uIHRvTWFwcGluZyhrZXk6IEtleSk6IG51bWJlciB7XG4gICAgc3dpdGNoIChrZXkpIHtcbiAgICAgICAgY2FzZSBLZXkuQTpcbiAgICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICBjYXNlIEtleS5COlxuICAgICAgICAgICAgcmV0dXJuIDI7XG4gICAgICAgIGNhc2UgS2V5LkM6XG4gICAgICAgICAgICByZXR1cm4gMztcbiAgICAgICAgY2FzZSBLZXkuRDpcbiAgICAgICAgICAgIHJldHVybiA0O1xuICAgICAgICBjYXNlIEtleS5FOlxuICAgICAgICAgICAgcmV0dXJuIDU7XG4gICAgICAgIGNhc2UgS2V5LkY6XG4gICAgICAgICAgICByZXR1cm4gNjtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgIH1cbn1cblxuZXhwb3J0IGludGVyZmFjZSBJS2V5cyB7XG4gICAgW2tleTogc3RyaW5nXTogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGNsYXNzIElucHV0U3RhdGUge1xuICAgIGNhbnZhczogSFRNTENhbnZhc0VsZW1lbnQ7XG5cbiAgICB0aWNrOiBudW1iZXI7XG4gICAgb2xkVGltZTogbnVtYmVyO1xuICAgIG5ld1RpbWU6IG51bWJlcjtcbiAgICBzdGFydFRpbWU6IG51bWJlcjtcbiAgICBtaW5pbXVtVGljazogbnVtYmVyO1xuXG4gICAgbW91c2VQb3M6IFZlY3RvcjIgPSBWZWN0b3IyLnplcm8oKTtcbiAgICBtb3VzZURlbHRhOiBWZWN0b3IyID0gVmVjdG9yMi56ZXJvKCk7XG4gICAgbW91c2VMZWZ0RG93biA9IGZhbHNlO1xuICAgIG1vdXNlTGVmdFByZXNzZWQgPSBmYWxzZTtcbiAgICBwcml2YXRlIG1vdXNlTGVmdFByZXYgPSBmYWxzZTtcblxuICAgIG1vdXNlUmlnaHREb3duID0gZmFsc2U7XG4gICAgbW91c2VSaWdodFByZXNzZWQgPSBmYWxzZTtcbiAgICBwcml2YXRlIG1vdXNlUmlnaHRQcmV2ID0gZmFsc2U7XG5cbiAgICBtb3VzZU1pZGRsZURvd24gPSBmYWxzZTtcbiAgICBtb3VzZU1pZGRsZVByZXNzZWQgPSBmYWxzZTtcbiAgICBwcml2YXRlIG1vdXNlTWlkZGxlUHJldiA9IGZhbHNlO1xuXG4gICAgcHJpdmF0ZSBrZXlzRG93bjogSUtleXMgPSB7fTtcbiAgICBwcml2YXRlIGtleXNQcmVzc2VkOiBzdHJpbmdbXSA9IFtdO1xuXG4gICAgc2Nyb2xsVmFsdWUgPSAwO1xuXG4gICAgLy8gZGVsZWdhdGUgZnVuY3Rpb25zXG4gICAgb25Nb3VzZVdoZWVsU2Nyb2xsPzogRnVuY3Rpb247XG4gICAgY29uc3RydWN0b3IoY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudCkge1xuICAgICAgICAvLyBsaW5rXG4gICAgICAgIHRoaXMuY2FudmFzID0gY2FudmFzO1xuXG4gICAgICAgIC8vIHRpbWVcbiAgICAgICAgdGhpcy50aWNrID0gMDtcbiAgICAgICAgdGhpcy5vbGRUaW1lID0gRGF0ZS5ub3coKTtcbiAgICAgICAgdGhpcy5uZXdUaW1lID0gdGhpcy5vbGRUaW1lO1xuICAgICAgICB0aGlzLnN0YXJ0VGltZSA9IERhdGUubm93KCk7XG4gICAgICAgIHRoaXMubWluaW11bVRpY2sgPSAxMDAwIC8gMTQ0O1xuXG4gICAgICAgIC8vIG1vdXNlXG4gICAgICAgIGNhbnZhcy5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsIHRoaXMuc2V0TW91c2VQb3MuYmluZCh0aGlzKSk7XG4gICAgICAgIGNhbnZhcy5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIHRoaXMuc2V0TW91c2VEb3duLmJpbmQodGhpcykpO1xuICAgICAgICBjYW52YXMuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIiwgdGhpcy5zZXRNb3VzZVVwLmJpbmQodGhpcykpO1xuICAgICAgICBjYW52YXMuYWRkRXZlbnRMaXN0ZW5lcihcImNvbnRleHRtZW51XCIsIChlKSA9PiB7XG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICB9KTtcbiAgICAgICAgY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIiwgdGhpcy5zZXRNb3VzZVBvcy5iaW5kKHRoaXMpKTtcbiAgICAgICAgY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoXCJ3aGVlbFwiLCB0aGlzLnNldE1vdXNlU2Nyb2xsLmJpbmQodGhpcykpO1xuICAgICAgICBjYW52YXMuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNobW92ZVwiLCB0aGlzLnNldFRvdWNoLmJpbmQodGhpcykpO1xuICAgICAgICBjYW52YXMuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoc3RhcnRcIiwgdGhpcy5zZXRUb3VjaC5iaW5kKHRoaXMpKTtcbiAgICAgICAgY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaGVuZFwiLCB0aGlzLnNldFRvdWNoVXAuYmluZCh0aGlzKSk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMjIzOyBpKyspIHRoaXMua2V5c0Rvd25baV0gPSBmYWxzZTtcblxuICAgICAgICAvLyBrZXlib2FyZFxuICAgICAgICBjYW52YXMuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5vbktleURvd24uYmluZCh0aGlzKSk7XG4gICAgICAgIC8vIGNhbnZhcy5hZGRFdmVudExpc3RlbmVyKFwia2V5cHJlc3NlZFwiLCB0aGlzLm9uS2V5UHJlc3NlZC5iaW5kKHRoaXMpKTtcbiAgICAgICAgY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoXCJrZXl1cFwiLCB0aGlzLm9uS2V5VXAuYmluZCh0aGlzKSk7XG5cbiAgICAgICAgLy8gZmluYWxcbiAgICAgICAgY2FudmFzLmZvY3VzKCk7XG4gICAgfVxuXG4gICAgcHVibGljIHByZVVwZGF0ZSgpIHtcbiAgICAgICAgLy8gdGhpcyBtdXN0IGJlIGNhbGxlZCBldmVyeSB0aWNrIHdpdGhpbiB3aGF0ZXZlciBjb250ZXh0IHRoaXMgaXMgdXNlZFxuXG4gICAgICAgIC8vIHVwZGF0ZSB0aW1lXG4gICAgICAgIHRoaXMubmV3VGltZSA9IERhdGUubm93KCk7XG4gICAgICAgIHRoaXMudGljayA9IHRoaXMubmV3VGltZSAtIHRoaXMub2xkVGltZTtcbiAgICAgICAgdGhpcy5vbGRUaW1lID0gdGhpcy5uZXdUaW1lO1xuXG4gICAgICAgIC8vIHVwZGF0ZSBtb3VzZVxuICAgICAgICB0aGlzLm1vdXNlTGVmdFByZXNzZWQgPSB0aGlzLm1vdXNlTGVmdFByZXYgIT0gdGhpcy5tb3VzZUxlZnREb3duICYmIHRoaXMubW91c2VMZWZ0RG93bjtcbiAgICAgICAgdGhpcy5tb3VzZVJpZ2h0UHJlc3NlZCA9IHRoaXMubW91c2VSaWdodFByZXYgIT0gdGhpcy5tb3VzZVJpZ2h0RG93biAmJiB0aGlzLm1vdXNlUmlnaHREb3duO1xuICAgICAgICB0aGlzLm1vdXNlTWlkZGxlUHJlc3NlZCA9IHRoaXMubW91c2VNaWRkbGVQcmV2ICE9IHRoaXMubW91c2VNaWRkbGVEb3duICYmIHRoaXMubW91c2VNaWRkbGVEb3duO1xuXG4gICAgICAgIHRoaXMubW91c2VMZWZ0UHJldiA9IHRoaXMubW91c2VMZWZ0RG93bjtcbiAgICAgICAgdGhpcy5tb3VzZVJpZ2h0UHJldiA9IHRoaXMubW91c2VSaWdodERvd247XG4gICAgICAgIHRoaXMubW91c2VNaWRkbGVQcmV2ID0gdGhpcy5tb3VzZU1pZGRsZURvd247XG4gICAgfVxuXG4gICAgcHVibGljIHBvc3RVcGRhdGUoKSB7XG4gICAgICAgIC8vIHRoaXMgYWxzbyBtdXN0IGJlIGNhbGxlZCBmb3Iga2V5SXNQcmVzc2VkIHRvIHdvcmtcblxuICAgICAgICAvLyByZWZyZXNoIGtleXByZXNzZXNcbiAgICAgICAgdGhpcy5rZXlzUHJlc3NlZCA9IFtdO1xuICAgIH1cblxuICAgIHB1YmxpYyBJc0tleURvd24oa2V5OiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMua2V5c0Rvd25ba2V5XTtcbiAgICB9XG5cbiAgICBwdWJsaWMgSXNLZXlQcmVzc2VkKGtleTogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLmtleXNQcmVzc2VkLmluY2x1ZGVzKGtleSk7XG4gICAgfVxuXG4gICAgcHVibGljIG9uS2V5RG93bihlOiBLZXlib2FyZEV2ZW50KSB7XG4gICAgICAgIGlmICh0aGlzLmtleXNEb3duW2Uua2V5XSA9PSB0cnVlKSByZXR1cm47XG4gICAgICAgIGNvbnNvbGUubG9nKGUua2V5KTtcbiAgICAgICAgdGhpcy5rZXlzRG93bltlLmtleS50b0xvd2VyQ2FzZSgpXSA9IHRydWU7XG4gICAgICAgIHRoaXMua2V5c1ByZXNzZWQucHVzaChlLmtleSk7XG4gICAgfVxuXG4gICAgcHVibGljIG9uS2V5VXAoZTogS2V5Ym9hcmRFdmVudCkge1xuICAgICAgICB0aGlzLmtleXNEb3duW2Uua2V5LnRvTG93ZXJDYXNlKCldID0gZmFsc2U7XG4gICAgfVxuXG4gICAgcHVibGljIG9uS2V5UHJlc3NlZChlOiBLZXlib2FyZEV2ZW50KSB7XG4gICAgICAgIC8vIE5PVEU6IGkgbWFkZSBhIGRpZmZlcmVudCBzeXN0ZW0gdG8gaGFuZGxlIHRoaXMsIHNlZSBvbktleURvd25cbiAgICB9XG5cbiAgICBwcml2YXRlIHNldFRvdWNoKGU6IFRvdWNoRXZlbnQpIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgIHRoaXMubW91c2VQb3MgPSBuZXcgVmVjdG9yMihlLnRvdWNoZXNbMF0uY2xpZW50WCwgZS50b3VjaGVzWzBdLmNsaWVudFkpO1xuICAgICAgICB0aGlzLm1vdXNlTGVmdERvd24gPSB0cnVlO1xuICAgIH1cblxuICAgIHByaXZhdGUgc2V0VG91Y2hVcChlOiBUb3VjaEV2ZW50KSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgdGhpcy5tb3VzZUxlZnREb3duID0gZmFsc2U7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzZXRNb3VzZVNjcm9sbChlOiBXaGVlbEV2ZW50KSB7XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKFwid2UgYmUgc2Nyb2xsaW4nIG5vdy4uLlwiKVxuXG4gICAgICAgIC8vIG5vcm1hbGl6ZSBhbGwgc2Nyb2xsaW5nIGJlaGF2aW91clxuICAgICAgICBsZXQgdmFsdWUgPSAwLjE7XG4gICAgICAgIGlmIChlLmRlbHRhWSA8IDApIHZhbHVlID0gLTAuMTtcblxuICAgICAgICAvLyB3ZSBkb250IHdhbnQgbmVnYXRpdmUgc2Nyb2xsIHZhbHVlcy4uLlxuICAgICAgICB0aGlzLnNjcm9sbFZhbHVlID0gTWF0aC5tYXgoMCwgdGhpcy5zY3JvbGxWYWx1ZSArIHZhbHVlKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHNldE1vdXNlUG9zKGU6IE1vdXNlRXZlbnQpIHtcbiAgICAgICAgLy8gdGhpcyBpcyBhIGJpdCBtZXNzeSwgQlVULCBtdWx0aXBseSBieSBjYW1lcmEgcGFyYW1ldGVyc1xuICAgICAgICB0aGlzLm1vdXNlUG9zID0gbmV3IFZlY3RvcjIoZS5jbGllbnRYLCBlLmNsaWVudFkpO1xuICAgIH1cblxuICAgIHByaXZhdGUgc2V0TW91c2VVcChlOiBNb3VzZUV2ZW50KSB7XG4gICAgICAgIGxldCBjb2RlID0gZS5idXR0b25zO1xuICAgICAgICBpZiAoY29kZSA8IDQpIHtcbiAgICAgICAgICAgIHRoaXMubW91c2VNaWRkbGVEb3duID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvZGUgPCAyKSB7XG4gICAgICAgICAgICB0aGlzLm1vdXNlUmlnaHREb3duID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvZGUgPCAxKSB7XG4gICAgICAgICAgICB0aGlzLm1vdXNlTGVmdERvd24gPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgc2V0TW91c2VEb3duKGU6IE1vdXNlRXZlbnQpIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICBsZXQgY29kZSA9IGUuYnV0dG9ucztcbiAgICAgICAgaWYgKGNvZGUgPj0gNCkge1xuICAgICAgICAgICAgY29kZSAtPSA0O1xuICAgICAgICAgICAgdGhpcy5tb3VzZU1pZGRsZURvd24gPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb2RlID49IDIpIHtcbiAgICAgICAgICAgIGNvZGUgLT0gMjtcbiAgICAgICAgICAgIHRoaXMubW91c2VSaWdodERvd24gPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb2RlID49IDEpIHtcbiAgICAgICAgICAgIGNvZGUgLT0gMTtcbiAgICAgICAgICAgIHRoaXMubW91c2VMZWZ0RG93biA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/system/input-state.ts\n");

/***/ }),

/***/ "./src/system/stopwatch.ts":
/*!*********************************!*\
  !*** ./src/system/stopwatch.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Stopwatch\": () => /* binding */ Stopwatch\n/* harmony export */ });\nclass Stopwatch {\r\n    constructor(oldTime, newTime) {\r\n        this.oldTime = oldTime;\r\n        this.newTime = newTime;\r\n    }\r\n    static new() {\r\n        let s = new Stopwatch(0, 0);\r\n        s.time();\r\n        return s;\r\n    }\r\n    time() {\r\n        this.newTime = this.getTime();\r\n        let timePast = this.newTime - this.oldTime;\r\n        this.oldTime = this.newTime;\r\n        return timePast;\r\n    }\r\n    getTime() {\r\n        return new Date().getTime();\r\n    }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9nZW9uLWVuZ2luZS8uL3NyYy9zeXN0ZW0vc3RvcHdhdGNoLnRzPzA3MmQiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7OztBQUFPLE1BQU0sU0FBUztJQUNsQixZQUE0QixPQUFlLEVBQVUsT0FBZTtRQUF4QyxZQUFPLEdBQVAsT0FBTyxDQUFRO1FBQVUsWUFBTyxHQUFQLE9BQU8sQ0FBUTtJQUFHLENBQUM7SUFFeEUsTUFBTSxDQUFDLEdBQUc7UUFDTixJQUFJLENBQUMsR0FBRyxJQUFJLFNBQVMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7UUFDNUIsQ0FBQyxDQUFDLElBQUksRUFBRSxDQUFDO1FBQ1QsT0FBTyxDQUFDLENBQUM7SUFDYixDQUFDO0lBRUQsSUFBSTtRQUNBLElBQUksQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDLE9BQU8sRUFBRSxDQUFDO1FBQzlCLElBQUksUUFBUSxHQUFHLElBQUksQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQztRQUMzQyxJQUFJLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUM7UUFDNUIsT0FBTyxRQUFRLENBQUM7SUFDcEIsQ0FBQztJQUVPLE9BQU87UUFDWCxPQUFPLElBQUksSUFBSSxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUM7SUFDaEMsQ0FBQztDQUNKIiwiZmlsZSI6Ii4vc3JjL3N5c3RlbS9zdG9wd2F0Y2gudHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY2xhc3MgU3RvcHdhdGNoIHtcbiAgICBwcml2YXRlIGNvbnN0cnVjdG9yKHByaXZhdGUgb2xkVGltZTogbnVtYmVyLCBwcml2YXRlIG5ld1RpbWU6IG51bWJlcikge31cblxuICAgIHN0YXRpYyBuZXcoKSB7XG4gICAgICAgIGxldCBzID0gbmV3IFN0b3B3YXRjaCgwLCAwKTtcbiAgICAgICAgcy50aW1lKCk7XG4gICAgICAgIHJldHVybiBzO1xuICAgIH1cblxuICAgIHRpbWUoKSB7XG4gICAgICAgIHRoaXMubmV3VGltZSA9IHRoaXMuZ2V0VGltZSgpO1xuICAgICAgICBsZXQgdGltZVBhc3QgPSB0aGlzLm5ld1RpbWUgLSB0aGlzLm9sZFRpbWU7XG4gICAgICAgIHRoaXMub2xkVGltZSA9IHRoaXMubmV3VGltZTtcbiAgICAgICAgcmV0dXJuIHRpbWVQYXN0O1xuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0VGltZSgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICAgIH1cbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/system/stopwatch.ts\n");

/***/ }),

/***/ "./src/system/ui.ts":
/*!**************************!*\
  !*** ./src/system/ui.ts ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"UI\": () => /* binding */ UI,\n/* harmony export */   \"Parameter\": () => /* binding */ Parameter,\n/* harmony export */   \"EnumParameter\": () => /* binding */ EnumParameter\n/* harmony export */ });\n/* harmony import */ var _math_math__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../math/math */ \"./src/math/math.ts\");\n// name:    ui.js\r\n// author:  Jos Feenstra\r\n// purpose: lets create the UI using html & dom api, because why the hell not\r\n\r\nclass UI {\r\n    constructor(frame) {\r\n        this.globalContext = frame;\r\n        this.currentContext = frame;\r\n    }\r\n    addContext(appName) {\r\n        this.currentContext = this.globalContext;\r\n        let appDiv = this.addDiv(appName + \" app-interface\");\r\n        this.currentContext = appDiv;\r\n    }\r\n    setContext(appName) {\r\n        this.globalContext.getElementsByClassName(appName);\r\n    }\r\n    removeContext(appName) {\r\n        this.setContext(appName);\r\n        let count = this.currentContext.childElementCount;\r\n        for (let i = count - 1; i >= 0; i -= 1) {\r\n            this.currentContext.removeChild(this.currentContext.children.item(i));\r\n        }\r\n        let temp = this.currentContext;\r\n        this.currentContext = this.globalContext;\r\n        this.currentContext.removeChild(temp);\r\n    }\r\n    addElement(element, className = \"\") {\r\n        let el = document.createElement(element);\r\n        el.className = className;\r\n        this.currentContext.appendChild(el);\r\n        return el;\r\n    }\r\n    addDiv(classname, items = []) {\r\n        let div = this.addElement(\"div\", classname);\r\n        items.forEach((item) => {\r\n            div.appendChild(item);\r\n        });\r\n        return div;\r\n    }\r\n    addBooleanParameter(param, onInput = () => { }) {\r\n        // create hacky button\r\n        // <label class=\"check-container\">\r\n        //   <input type=\"checkbox\" checked=\"checked\">\r\n        //   <span class=\"checkmark\"></span>\r\n        // </label>\r\n        let checkbox = this.addElement(\"input\", \"checkbox\");\r\n        checkbox.type = \"checkbox\";\r\n        checkbox.addEventListener(\"change\", () => {\r\n            let state = checkbox.checked;\r\n            param.set(state ? 1 : 0);\r\n            onInput(checkbox.valueAsNumber);\r\n            text1.innerText = param.name;\r\n        });\r\n        checkbox.checked = param.get() == 1;\r\n        // this needs to be done to make css happy\r\n        let checkcontainer = this.addElement(\"label\", \"check-container\");\r\n        let checkmark = this.addElement(\"span\", \"checkmark\");\r\n        checkcontainer.appendChild(checkbox);\r\n        checkcontainer.appendChild(checkmark);\r\n        // text\r\n        let text1 = this.addElement(\"p\", \"control-text\");\r\n        text1.innerText = param.name;\r\n        // TODO update beyond our control\r\n        param.onset = () => {\r\n            // console.log(\"TODO\");\r\n        };\r\n        this.addDiv(\"control\", [text1, checkcontainer]);\r\n        return checkbox;\r\n    }\r\n    addParameter(param, onInput = () => { }) {\r\n        let p;\r\n        if (param instanceof EnumParameter) {\r\n            p = param.p;\r\n        }\r\n        else {\r\n            p = param;\r\n        }\r\n        // create slider itself\r\n        let slider = this.addRangeInput(p, onInput);\r\n        // create slider title\r\n        let text1 = this.addElement(\"p\", \"control-text\");\r\n        text1.innerText = p.name;\r\n        // create slider value indicator\r\n        let text2 = this.addElement(\"p\", \"control-value\");\r\n        if (param instanceof EnumParameter) {\r\n            text2.innerText = param.getName();\r\n        }\r\n        else {\r\n            text2.innerText = slider.value;\r\n        }\r\n        // put them all together\r\n        this.addDiv(\"control\", [text1, slider, text2]);\r\n        // on update in code\r\n        p.onset = () => {\r\n            // console.log(\"TODO\");\r\n        };\r\n        // on update by user\r\n        slider.oninput = () => {\r\n            p.set(slider.valueAsNumber);\r\n            onInput(slider.valueAsNumber);\r\n            if (param instanceof EnumParameter) {\r\n                text2.innerText = param.getName();\r\n            }\r\n            else {\r\n                text2.innerText = slider.value;\r\n            }\r\n        };\r\n        return slider;\r\n    }\r\n    addRangeInput(param, onInput = () => { }) {\r\n        // a slider looks like this : <input type=\"range\" min=\"1\" max=\"100\" step=\"1\" value=\"50\">\r\n        let slider = this.addElement(\"input\", \"control-slider\");\r\n        slider.type = \"range\";\r\n        slider.min = param.min.toString();\r\n        slider.max = param.max.toString();\r\n        slider.valueAsNumber = param.state;\r\n        slider.step = param.step.toString();\r\n        return slider;\r\n    }\r\n    addText(text) {\r\n        let p = this.addElement(\"p\", \"ui-text\");\r\n        p.innerText = text;\r\n    }\r\n    addButton(name, callback) {\r\n        let button = this.addElement(\"button\", \"control-button\");\r\n        button.innerText = name;\r\n        button.addEventListener(\"click\", callback);\r\n        let text1 = this.addElement(\"p\", \"control-text\");\r\n        let control = this.addDiv(\"control\", [text1, button]);\r\n        return control;\r\n    }\r\n    addDropdown(enumParam, onchange) {\r\n        // <select>\r\n        //  <option>Cappuccino</option>\r\n        //  <option>Mocha</option>\r\n        // </select>\r\n        let count = enumParam.values.length;\r\n        let dropdownSelector = this.addElement(\"select\", \"enum-selector dropdown-select\");\r\n        for (let i = 0; i < count; i++) {\r\n            let o = this.addElement(\"option\", \"enum-item\");\r\n            o.innerText = enumParam.values[i];\r\n            dropdownSelector.appendChild(o);\r\n        }\r\n        // console.log(e);\r\n        dropdownSelector.addEventListener(\"change\", (e) => {\r\n            let target = e.target;\r\n            let i = target.selectedIndex;\r\n            enumParam.set(i);\r\n            onchange(i);\r\n        });\r\n        this.addDiv(\"dropdown-dark\", [dropdownSelector]);\r\n        return dropdownSelector;\r\n    }\r\n}\r\n// a slider parameter\r\nclass Parameter {\r\n    constructor(name, state, min = -Infinity, max = Infinity, step = 0.1) {\r\n        this.name = name;\r\n        this.state = state;\r\n        this.min = min;\r\n        this.max = max;\r\n        this.step = step;\r\n    }\r\n    static new(name, state, min = -Infinity, max = Infinity, step = 0.1) {\r\n        return new Parameter(name, state, min, max, step);\r\n    }\r\n    get() {\r\n        return this.state;\r\n    }\r\n    set(state) {\r\n        // TODO ROUND TO NEAREST STEP\r\n        let clamped = _math_math__WEBPACK_IMPORTED_MODULE_0__.GeonMath.clamp(state, this.min, this.max);\r\n        let rest = this.state - this.min;\r\n        let times = Math.min(rest / this.step);\r\n        let stepped = this.min + this.step * times;\r\n        this.state = _math_math__WEBPACK_IMPORTED_MODULE_0__.GeonMath.clamp(state, this.min, this.max);\r\n        if (this.onset)\r\n            this.onset(this.state);\r\n    }\r\n    getNPermutations() {\r\n        return Math.min((this.max - this.min) / this.step + 1);\r\n    }\r\n}\r\n// a parameter representing distinct states\r\nclass EnumParameter {\r\n    constructor(p, values) {\r\n        this.p = p;\r\n        this.values = values;\r\n    }\r\n    static new(name, state, descriptions) {\r\n        return new EnumParameter(new Parameter(name, state, 0, descriptions.length - 1, 1), descriptions);\r\n    }\r\n    getName() {\r\n        return this.values[this.get()];\r\n    }\r\n    // passthroughs\r\n    get() {\r\n        return this.p.get();\r\n    }\r\n    set(state) {\r\n        return this.p.set(state);\r\n    }\r\n    getNPermutations() {\r\n        return this.p.getNPermutations();\r\n    }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9nZW9uLWVuZ2luZS8uL3NyYy9zeXN0ZW0vdWkudHM/MDRiOCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUEsaUJBQWlCO0FBQ2pCLHdCQUF3QjtBQUN4Qiw2RUFBNkU7QUFFckM7QUFFakMsTUFBTSxFQUFFO0lBSVgsWUFBWSxLQUFxQjtRQUM3QixJQUFJLENBQUMsYUFBYSxHQUFHLEtBQUssQ0FBQztRQUMzQixJQUFJLENBQUMsY0FBYyxHQUFHLEtBQUssQ0FBQztJQUNoQyxDQUFDO0lBRUQsVUFBVSxDQUFDLE9BQWU7UUFDdEIsSUFBSSxDQUFDLGNBQWMsR0FBRyxJQUFJLENBQUMsYUFBYSxDQUFDO1FBQ3pDLElBQUksTUFBTSxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsT0FBTyxHQUFHLGdCQUFnQixDQUFDLENBQUM7UUFDckQsSUFBSSxDQUFDLGNBQWMsR0FBRyxNQUFNLENBQUM7SUFDakMsQ0FBQztJQUVELFVBQVUsQ0FBQyxPQUFlO1FBQ3RCLElBQUksQ0FBQyxhQUFhLENBQUMsc0JBQXNCLENBQUMsT0FBTyxDQUFDLENBQUM7SUFDdkQsQ0FBQztJQUVELGFBQWEsQ0FBQyxPQUFlO1FBQ3pCLElBQUksQ0FBQyxVQUFVLENBQUMsT0FBTyxDQUFDLENBQUM7UUFDekIsSUFBSSxLQUFLLEdBQUcsSUFBSSxDQUFDLGNBQWMsQ0FBQyxpQkFBaUIsQ0FBQztRQUNsRCxLQUFLLElBQUksQ0FBQyxHQUFHLEtBQUssR0FBRyxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxFQUFFO1lBQ3BDLElBQUksQ0FBQyxjQUFjLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxjQUFjLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUUsQ0FBQyxDQUFDO1NBQzFFO1FBRUQsSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDLGNBQWMsQ0FBQztRQUMvQixJQUFJLENBQUMsY0FBYyxHQUFHLElBQUks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Li9zcmMvc3lzdGVtL3VpLnRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gbmFtZTogICAgdWkuanNcbi8vIGF1dGhvcjogIEpvcyBGZWVuc3RyYVxuLy8gcHVycG9zZTogbGV0cyBjcmVhdGUgdGhlIFVJIHVzaW5nIGh0bWwgJiBkb20gYXBpLCBiZWNhdXNlIHdoeSB0aGUgaGVsbCBub3RcblxuaW1wb3J0IHsgR2Vvbk1hdGggfSBmcm9tIFwiLi4vbWF0aC9tYXRoXCI7XG5cbmV4cG9ydCBjbGFzcyBVSSB7XG4gICAgcmVhZG9ubHkgZ2xvYmFsQ29udGV4dDogSFRNTERpdkVsZW1lbnQ7XG4gICAgY3VycmVudENvbnRleHQhOiBIVE1MRGl2RWxlbWVudDtcblxuICAgIGNvbnN0cnVjdG9yKGZyYW1lOiBIVE1MRGl2RWxlbWVudCkge1xuICAgICAgICB0aGlzLmdsb2JhbENvbnRleHQgPSBmcmFtZTtcbiAgICAgICAgdGhpcy5jdXJyZW50Q29udGV4dCA9IGZyYW1lO1xuICAgIH1cblxuICAgIGFkZENvbnRleHQoYXBwTmFtZTogc3RyaW5nKSB7XG4gICAgICAgIHRoaXMuY3VycmVudENvbnRleHQgPSB0aGlzLmdsb2JhbENvbnRleHQ7XG4gICAgICAgIGxldCBhcHBEaXYgPSB0aGlzLmFkZERpdihhcHBOYW1lICsgXCIgYXBwLWludGVyZmFjZVwiKTtcbiAgICAgICAgdGhpcy5jdXJyZW50Q29udGV4dCA9IGFwcERpdjtcbiAgICB9XG5cbiAgICBzZXRDb250ZXh0KGFwcE5hbWU6IHN0cmluZykge1xuICAgICAgICB0aGlzLmdsb2JhbENvbnRleHQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShhcHBOYW1lKTtcbiAgICB9XG5cbiAgICByZW1vdmVDb250ZXh0KGFwcE5hbWU6IHN0cmluZykge1xuICAgICAgICB0aGlzLnNldENvbnRleHQoYXBwTmFtZSk7XG4gICAgICAgIGxldCBjb3VudCA9IHRoaXMuY3VycmVudENvbnRleHQuY2hpbGRFbGVtZW50Q291bnQ7XG4gICAgICAgIGZvciAobGV0IGkgPSBjb3VudCAtIDE7IGkgPj0gMDsgaSAtPSAxKSB7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRDb250ZXh0LnJlbW92ZUNoaWxkKHRoaXMuY3VycmVudENvbnRleHQuY2hpbGRyZW4uaXRlbShpKSEpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHRlbXAgPSB0aGlzLmN1cnJlbnRDb250ZXh0O1xuICAgICAgICB0aGlzLmN1cnJlbnRDb250ZXh0ID0gdGhpcy5nbG9iYWxDb250ZXh0O1xuICAgICAgICB0aGlzLmN1cnJlbnRDb250ZXh0LnJlbW92ZUNoaWxkKHRlbXApO1xuICAgIH1cblxuICAgIGFkZEVsZW1lbnQoZWxlbWVudDogc3RyaW5nLCBjbGFzc05hbWU6IHN0cmluZyA9IFwiXCIpOiBIVE1MRWxlbWVudCB7XG4gICAgICAgIGxldCBlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoZWxlbWVudCk7XG4gICAgICAgIGVsLmNsYXNzTmFtZSA9IGNsYXNzTmFtZTtcbiAgICAgICAgdGhpcy5jdXJyZW50Q29udGV4dC5hcHBlbmRDaGlsZChlbCk7XG4gICAgICAgIHJldHVybiBlbDtcbiAgICB9XG5cbiAgICBhZGREaXYoY2xhc3NuYW1lOiBzdHJpbmcsIGl0ZW1zOiBIVE1MRWxlbWVudFtdID0gW10pOiBIVE1MRGl2RWxlbWVudCB7XG4gICAgICAgIGxldCBkaXYgPSB0aGlzLmFkZEVsZW1lbnQoXCJkaXZcIiwgY2xhc3NuYW1lKSBhcyBIVE1MRGl2RWxlbWVudDtcbiAgICAgICAgaXRlbXMuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgICAgICAgZGl2LmFwcGVuZENoaWxkKGl0ZW0pO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGRpdjtcbiAgICB9XG5cbiAgICBhZGRCb29sZWFuUGFyYW1ldGVyKHBhcmFtOiBQYXJhbWV0ZXIsIG9uSW5wdXQ6ICh2OiBudW1iZXIpID0+IHZvaWQgPSAoKSA9PiB7fSkge1xuICAgICAgICAvLyBjcmVhdGUgaGFja3kgYnV0dG9uXG4gICAgICAgIC8vIDxsYWJlbCBjbGFzcz1cImNoZWNrLWNvbnRhaW5lclwiPlxuICAgICAgICAvLyAgIDxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBjaGVja2VkPVwiY2hlY2tlZFwiPlxuICAgICAgICAvLyAgIDxzcGFuIGNsYXNzPVwiY2hlY2ttYXJrXCI+PC9zcGFuPlxuICAgICAgICAvLyA8L2xhYmVsPlxuXG4gICAgICAgIGxldCBjaGVja2JveCA9IHRoaXMuYWRkRWxlbWVudChcImlucHV0XCIsIFwiY2hlY2tib3hcIikgYXMgSFRNTElucHV0RWxlbWVudDtcbiAgICAgICAgY2hlY2tib3gudHlwZSA9IFwiY2hlY2tib3hcIjtcbiAgICAgICAgY2hlY2tib3guYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLCAoKSA9PiB7XG4gICAgICAgICAgICBsZXQgc3RhdGUgPSBjaGVja2JveC5jaGVja2VkO1xuICAgICAgICAgICAgcGFyYW0uc2V0KHN0YXRlID8gMSA6IDApO1xuXG4gICAgICAgICAgICBvbklucHV0KGNoZWNrYm94LnZhbHVlQXNOdW1iZXIpO1xuICAgICAgICAgICAgdGV4dDEuaW5uZXJUZXh0ID0gcGFyYW0ubmFtZTtcbiAgICAgICAgfSk7XG4gICAgICAgIGNoZWNrYm94LmNoZWNrZWQgPSBwYXJhbS5nZXQoKSA9PSAxO1xuXG4gICAgICAgIC8vIHRoaXMgbmVlZHMgdG8gYmUgZG9uZSB0byBtYWtlIGNzcyBoYXBweVxuICAgICAgICBsZXQgY2hlY2tjb250YWluZXIgPSB0aGlzLmFkZEVsZW1lbnQoXCJsYWJlbFwiLCBcImNoZWNrLWNvbnRhaW5lclwiKTtcbiAgICAgICAgbGV0IGNoZWNrbWFyayA9IHRoaXMuYWRkRWxlbWVudChcInNwYW5cIiwgXCJjaGVja21hcmtcIik7XG4gICAgICAgIGNoZWNrY29udGFpbmVyLmFwcGVuZENoaWxkKGNoZWNrYm94KTtcbiAgICAgICAgY2hlY2tjb250YWluZXIuYXBwZW5kQ2hpbGQoY2hlY2ttYXJrKTtcblxuICAgICAgICAvLyB0ZXh0XG4gICAgICAgIGxldCB0ZXh0MSA9IHRoaXMuYWRkRWxlbWVudChcInBcIiwgXCJjb250cm9sLXRleHRcIik7XG4gICAgICAgIHRleHQxLmlubmVyVGV4dCA9IHBhcmFtLm5hbWU7XG5cbiAgICAgICAgLy8gVE9ETyB1cGRhdGUgYmV5b25kIG91ciBjb250cm9sXG4gICAgICAgIHBhcmFtLm9uc2V0ID0gKCkgPT4ge1xuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coXCJUT0RPXCIpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHRoaXMuYWRkRGl2KFwiY29udHJvbFwiLCBbdGV4dDEsIGNoZWNrY29udGFpbmVyXSk7XG5cbiAgICAgICAgcmV0dXJuIGNoZWNrYm94O1xuICAgIH1cblxuICAgIGFkZFBhcmFtZXRlcihwYXJhbTogUGFyYW1ldGVyIHwgRW51bVBhcmFtZXRlciwgb25JbnB1dDogKHY6IG51bWJlcikgPT4gdm9pZCA9ICgpID0+IHt9KSB7XG4gICAgICAgIGxldCBwOiBQYXJhbWV0ZXI7XG4gICAgICAgIGlmIChwYXJhbSBpbnN0YW5jZW9mIEVudW1QYXJhbWV0ZXIpIHtcbiAgICAgICAgICAgIHAgPSBwYXJhbS5wO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcCA9IHBhcmFtO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gY3JlYXRlIHNsaWRlciBpdHNlbGZcbiAgICAgICAgbGV0IHNsaWRlciA9IHRoaXMuYWRkUmFuZ2VJbnB1dChwLCBvbklucHV0KTtcblxuICAgICAgICAvLyBjcmVhdGUgc2xpZGVyIHRpdGxlXG4gICAgICAgIGxldCB0ZXh0MSA9IHRoaXMuYWRkRWxlbWVudChcInBcIiwgXCJjb250cm9sLXRleHRcIik7XG4gICAgICAgIHRleHQxLmlubmVyVGV4dCA9IHAubmFtZTtcblxuICAgICAgICAvLyBjcmVhdGUgc2xpZGVyIHZhbHVlIGluZGljYXRvclxuICAgICAgICBsZXQgdGV4dDIgPSB0aGlzLmFkZEVsZW1lbnQoXCJwXCIsIFwiY29udHJvbC12YWx1ZVwiKTtcbiAgICAgICAgaWYgKHBhcmFtIGluc3RhbmNlb2YgRW51bVBhcmFtZXRlcikge1xuICAgICAgICAgICAgdGV4dDIuaW5uZXJUZXh0ID0gcGFyYW0uZ2V0TmFtZSgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGV4dDIuaW5uZXJUZXh0ID0gc2xpZGVyLnZhbHVlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gcHV0IHRoZW0gYWxsIHRvZ2V0aGVyXG4gICAgICAgIHRoaXMuYWRkRGl2KFwiY29udHJvbFwiLCBbdGV4dDEsIHNsaWRlciwgdGV4dDJdKTtcblxuICAgICAgICAvLyBvbiB1cGRhdGUgaW4gY29kZVxuICAgICAgICBwLm9uc2V0ID0gKCkgPT4ge1xuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coXCJUT0RPXCIpO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8vIG9uIHVwZGF0ZSBieSB1c2VyXG4gICAgICAgIHNsaWRlci5vbmlucHV0ID0gKCkgPT4ge1xuICAgICAgICAgICAgcC5zZXQoc2xpZGVyLnZhbHVlQXNOdW1iZXIpO1xuICAgICAgICAgICAgb25JbnB1dChzbGlkZXIudmFsdWVBc051bWJlcik7XG4gICAgICAgICAgICBpZiAocGFyYW0gaW5zdGFuY2VvZiBFbnVtUGFyYW1ldGVyKSB7XG4gICAgICAgICAgICAgICAgdGV4dDIuaW5uZXJUZXh0ID0gcGFyYW0uZ2V0TmFtZSgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0ZXh0Mi5pbm5lclRleHQgPSBzbGlkZXIudmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBzbGlkZXI7XG4gICAgfVxuXG4gICAgYWRkUmFuZ2VJbnB1dChwYXJhbTogUGFyYW1ldGVyLCBvbklucHV0OiAodjogbnVtYmVyKSA9PiB2b2lkID0gKCkgPT4ge30pIHtcbiAgICAgICAgLy8gYSBzbGlkZXIgbG9va3MgbGlrZSB0aGlzIDogPGlucHV0IHR5cGU9XCJyYW5nZVwiIG1pbj1cIjFcIiBtYXg9XCIxMDBcIiBzdGVwPVwiMVwiIHZhbHVlPVwiNTBcIj5cbiAgICAgICAgbGV0IHNsaWRlciA9IHRoaXMuYWRkRWxlbWVudChcImlucHV0XCIsIFwiY29udHJvbC1zbGlkZXJcIikgYXMgSFRNTElucHV0RWxlbWVudDtcblxuICAgICAgICBzbGlkZXIudHlwZSA9IFwicmFuZ2VcIjtcbiAgICAgICAgc2xpZGVyLm1pbiA9IHBhcmFtLm1pbi50b1N0cmluZygpO1xuICAgICAgICBzbGlkZXIubWF4ID0gcGFyYW0ubWF4LnRvU3RyaW5nKCk7XG4gICAgICAgIHNsaWRlci52YWx1ZUFzTnVtYmVyID0gcGFyYW0uc3RhdGU7XG4gICAgICAgIHNsaWRlci5zdGVwID0gcGFyYW0uc3RlcC50b1N0cmluZygpO1xuXG4gICAgICAgIHJldHVybiBzbGlkZXI7XG4gICAgfVxuXG4gICAgYWRkVGV4dCh0ZXh0OiBzdHJpbmcpIHtcbiAgICAgICAgbGV0IHAgPSB0aGlzLmFkZEVsZW1lbnQoXCJwXCIsIFwidWktdGV4dFwiKTtcbiAgICAgICAgcC5pbm5lclRleHQgPSB0ZXh0O1xuICAgIH1cblxuICAgIGFkZEJ1dHRvbihuYW1lOiBzdHJpbmcsIGNhbGxiYWNrOiAoKSA9PiB2b2lkKSB7XG4gICAgICAgIGxldCBidXR0b24gPSB0aGlzLmFkZEVsZW1lbnQoXCJidXR0b25cIiwgXCJjb250cm9sLWJ1dHRvblwiKTtcbiAgICAgICAgYnV0dG9uLmlubmVyVGV4dCA9IG5hbWU7XG4gICAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgY2FsbGJhY2spO1xuXG4gICAgICAgIGxldCB0ZXh0MSA9IHRoaXMuYWRkRWxlbWVudChcInBcIiwgXCJjb250cm9sLXRleHRcIik7XG4gICAgICAgIGxldCBjb250cm9sID0gdGhpcy5hZGREaXYoXCJjb250cm9sXCIsIFt0ZXh0MSwgYnV0dG9uXSk7XG4gICAgICAgIHJldHVybiBjb250cm9sO1xuICAgIH1cblxuICAgIGFkZERyb3Bkb3duKGVudW1QYXJhbTogRW51bVBhcmFtZXRlciwgb25jaGFuZ2U6ICh2OiBudW1iZXIpID0+IHZvaWQpOiBIVE1MU2VsZWN0RWxlbWVudCB7XG4gICAgICAgIC8vIDxzZWxlY3Q+XG4gICAgICAgIC8vICA8b3B0aW9uPkNhcHB1Y2Npbm88L29wdGlvbj5cbiAgICAgICAgLy8gIDxvcHRpb24+TW9jaGE8L29wdGlvbj5cbiAgICAgICAgLy8gPC9zZWxlY3Q+XG5cbiAgICAgICAgbGV0IGNvdW50ID0gZW51bVBhcmFtLnZhbHVlcy5sZW5ndGg7XG5cbiAgICAgICAgbGV0IGRyb3Bkb3duU2VsZWN0b3IgPSB0aGlzLmFkZEVsZW1lbnQoXG4gICAgICAgICAgICBcInNlbGVjdFwiLFxuICAgICAgICAgICAgXCJlbnVtLXNlbGVjdG9yIGRyb3Bkb3duLXNlbGVjdFwiLFxuICAgICAgICApIGFzIEhUTUxTZWxlY3RFbGVtZW50O1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvdW50OyBpKyspIHtcbiAgICAgICAgICAgIGxldCBvID0gdGhpcy5hZGRFbGVtZW50KFwib3B0aW9uXCIsIFwiZW51bS1pdGVtXCIpO1xuICAgICAgICAgICAgby5pbm5lclRleHQgPSBlbnVtUGFyYW0udmFsdWVzW2ldO1xuICAgICAgICAgICAgZHJvcGRvd25TZWxlY3Rvci5hcHBlbmRDaGlsZChvKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBjb25zb2xlLmxvZyhlKTtcblxuICAgICAgICBkcm9wZG93blNlbGVjdG9yLmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIiwgKGU6IEV2ZW50KSA9PiB7XG4gICAgICAgICAgICBsZXQgdGFyZ2V0ID0gZS50YXJnZXQgYXMgSFRNTFNlbGVjdEVsZW1lbnQ7XG4gICAgICAgICAgICBsZXQgaSA9IHRhcmdldC5zZWxlY3RlZEluZGV4O1xuICAgICAgICAgICAgZW51bVBhcmFtLnNldChpKTtcbiAgICAgICAgICAgIG9uY2hhbmdlKGkpO1xuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLmFkZERpdihcImRyb3Bkb3duLWRhcmtcIiwgW2Ryb3Bkb3duU2VsZWN0b3JdKTtcblxuICAgICAgICByZXR1cm4gZHJvcGRvd25TZWxlY3RvcjtcbiAgICB9XG59XG5cbi8vIGEgc2xpZGVyIHBhcmFtZXRlclxuZXhwb3J0IGNsYXNzIFBhcmFtZXRlciB7XG4gICAgbmFtZTogc3RyaW5nO1xuICAgIHN0YXRlOiBudW1iZXI7XG4gICAgbWluOiBudW1iZXI7XG4gICAgbWF4OiBudW1iZXI7XG4gICAgc3RlcDogbnVtYmVyO1xuICAgIG9uc2V0PzogRnVuY3Rpb247XG5cbiAgICBjb25zdHJ1Y3RvcihuYW1lOiBzdHJpbmcsIHN0YXRlOiBudW1iZXIsIG1pbiA9IC1JbmZpbml0eSwgbWF4ID0gSW5maW5pdHksIHN0ZXAgPSAwLjEpIHtcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHN0YXRlO1xuXG4gICAgICAgIHRoaXMubWluID0gbWluO1xuICAgICAgICB0aGlzLm1heCA9IG1heDtcbiAgICAgICAgdGhpcy5zdGVwID0gc3RlcDtcbiAgICB9XG5cbiAgICBzdGF0aWMgbmV3KG5hbWU6IHN0cmluZywgc3RhdGU6IG51bWJlciwgbWluID0gLUluZmluaXR5LCBtYXggPSBJbmZpbml0eSwgc3RlcCA9IDAuMSkge1xuICAgICAgICByZXR1cm4gbmV3IFBhcmFtZXRlcihuYW1lLCBzdGF0ZSwgbWluLCBtYXgsIHN0ZXApO1xuICAgIH1cblxuICAgIGdldCgpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy5zdGF0ZTtcbiAgICB9XG5cbiAgICBzZXQoc3RhdGU6IG51bWJlcikge1xuICAgICAgICAvLyBUT0RPIFJPVU5EIFRPIE5FQVJFU1QgU1RFUFxuICAgICAgICBsZXQgY2xhbXBlZCA9IEdlb25NYXRoLmNsYW1wKHN0YXRlLCB0aGlzLm1pbiwgdGhpcy5tYXgpO1xuICAgICAgICBsZXQgcmVzdCA9IHRoaXMuc3RhdGUgLSB0aGlzLm1pbjtcbiAgICAgICAgbGV0IHRpbWVzID0gTWF0aC5taW4ocmVzdCAvIHRoaXMuc3RlcCk7XG4gICAgICAgIGxldCBzdGVwcGVkID0gdGhpcy5taW4gKyB0aGlzLnN0ZXAgKiB0aW1lcztcbiAgICAgICAgdGhpcy5zdGF0ZSA9IEdlb25NYXRoLmNsYW1wKHN0YXRlLCB0aGlzLm1pbiwgdGhpcy5tYXgpO1xuICAgICAgICBpZiAodGhpcy5vbnNldCkgdGhpcy5vbnNldCh0aGlzLnN0YXRlKTtcbiAgICB9XG5cbiAgICBnZXROUGVybXV0YXRpb25zKCkge1xuICAgICAgICByZXR1cm4gTWF0aC5taW4oKHRoaXMubWF4IC0gdGhpcy5taW4pIC8gdGhpcy5zdGVwICsgMSk7XG4gICAgfVxufVxuXG4vLyBhIHBhcmFtZXRlciByZXByZXNlbnRpbmcgZGlzdGluY3Qgc3RhdGVzXG5leHBvcnQgY2xhc3MgRW51bVBhcmFtZXRlciB7XG4gICAgcHJpdmF0ZSBjb25zdHJ1Y3RvcihwdWJsaWMgcDogUGFyYW1ldGVyLCBwdWJsaWMgdmFsdWVzOiBzdHJpbmdbXSkge31cblxuICAgIHN0YXRpYyBuZXc8VD4obmFtZTogc3RyaW5nLCBzdGF0ZTogbnVtYmVyLCBkZXNjcmlwdGlvbnM6IHN0cmluZ1tdKSB7XG4gICAgICAgIHJldHVybiBuZXcgRW51bVBhcmFtZXRlcihcbiAgICAgICAgICAgIG5ldyBQYXJhbWV0ZXIobmFtZSwgc3RhdGUsIDAsIGRlc2NyaXB0aW9ucy5sZW5ndGggLSAxLCAxKSxcbiAgICAgICAgICAgIGRlc2NyaXB0aW9ucyxcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBnZXROYW1lKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiB0aGlzLnZhbHVlc1t0aGlzLmdldCgpXTtcbiAgICB9XG5cbiAgICAvLyBwYXNzdGhyb3VnaHNcblxuICAgIGdldCgpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy5wLmdldCgpO1xuICAgIH1cblxuICAgIHNldChzdGF0ZTogbnVtYmVyKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnAuc2V0KHN0YXRlKTtcbiAgICB9XG5cbiAgICBnZXROUGVybXV0YXRpb25zKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wLmdldE5QZXJtdXRhdGlvbnMoKTtcbiAgICB9XG59XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/system/ui.ts\n");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		if(__webpack_module_cache__[moduleId]) {
/******/ 			return __webpack_module_cache__[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => Object.prototype.hasOwnProperty.call(obj, prop)
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	// startup
/******/ 	// Load entry module
/******/ 	__webpack_require__("./demo/index.ts");
/******/ 	// This entry module used 'exports' so it can't be inlined
/******/ })()
;